<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<link rel="stylesheet" href="base.min.css"/>
<link rel="stylesheet" href="fancy.min.css"/>
<link rel="stylesheet" href="main.css"/>
<script src="compatibility.min.js"></script>
<script src="theViewer.min.js"></script>
<script>
try{
theViewer.defaultViewer = new theViewer.Viewer({});
}catch(e){}
</script>
<title></title>
</head>
<body>
<div id="sidebar">
<div id="outline">
</div>
</div>
<div id="page-container">
<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg1.png"/><div class="t m0 x1 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">PH<span class="_ _0"></span>P 7 Z<span class="_ _1"></span>end </div><div class="t m0 x1 h2 y2 ff1 fs0 fc0 sc0 ls0 ws0">C<span class="_ _2"></span>er<span class="_ _3"></span>tif<span class="_ _4"></span>ication </div><div class="t m0 x1 h2 y3 ff1 fs0 fc0 sc0 ls0 ws0">Study Guide</div><div class="t m0 x2 h3 y4 ff2 fs1 fc1 sc0 ls0 ws0">Ac<span class="_ _1"></span>e th<span class="_ _1"></span>e Z<span class="_ _1"></span>CE 2<span class="_ _1"></span>0<span class="_ _1"></span>1<span class="_ _5"></span>7<span class="_ _2"></span>-<span class="_ _1"></span>PH<span class="_ _1"></span>P E<span class="_ _0"></span>xa<span class="_ _1"></span>m</div><div class="t m0 x2 h3 y5 ff2 fs1 fc1 sc0 ls0 ws0">—</div><div class="t m0 x2 h3 y6 ff2 fs1 fc0 sc0 ls0 ws0">Andrew B<span class="_ _0"></span>eak</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2" class="pf w2 h4" data-page-no="2"><div class="pc pc2 w2 h4"><img class="bi x3 y7 w3 h5" alt="" src="bg2.png"/><div class="t m0 x4 h6 y8 ff3 fs2 fc2 sc0 ls0 ws0">PHP 7 Zend </div><div class="t m0 x5 h6 y9 ff3 fs2 fc2 sc0 ls0 ws0">Cer<span class="_ _6"></span>tiﬁcation Study </div><div class="t m0 x6 h6 ya ff3 fs2 fc2 sc0 ls0 ws0">Guide</div><div class="t m0 x7 h7 yb ff3 fs3 fc3 sc0 ls1 ws0">Ace the ZCE 2017-PHP Exam</div><div class="t m0 x3 h8 yc ff3 fs4 fc2 sc0 ls0 ws0">Andr<span class="_ _1"></span>ew Beak</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3" class="pf w2 h4" data-page-no="3"><div class="pc pc3 w2 h4"><div class="t m0 x8 h9 yd ff4 fs5 fc2 sc0 ls0 ws0">PHP 7 Zend Certification Study Guide</div><div class="t m0 x8 ha ye ff5 fs5 fc2 sc0 ls0 ws1">Andrew <span class="_ _7"></span>Beak <span class="_ _8"></span>   </div><div class="t m0 x8 ha yf ff5 fs5 fc2 sc0 ls0 ws0">Grafham, C<span class="_ _1"></span>ambridgeshire, Unit<span class="_ _1"></span>ed Kingdom <span class="_ _9"> </span> <span class="_ _a"> </span> </div><div class="t m0 x8 ha y10 ff5 fs5 fc2 sc0 ls0 ws0">ISBN<span class="_ _1"></span>-13 (pbk): 978-1-4842-3245-3 <span class="_ _b"> </span> <span class="_ _a"> </span>ISBN<span class="_ _1"></span>-13 (<span class="_ _1"></span>electronic<span class="_ _1"></span>): 978-1-4842-3246-0</div><div class="t m0 x8 ha y11 ff5 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0</div><div class="t m0 x8 ha y12 ff5 fs5 fc2 sc0 ls0 ws0">Library of Congress Contr<span class="_ _1"></span>ol Number: 2017960936</div><div class="t m0 x8 ha y13 ff5 fs5 fc2 sc0 ls0 ws0">Copyright © 2017 by Andr<span class="_ _1"></span>ew Beak</div><div class="t m0 x8 ha y14 ff5 fs5 fc2 sc0 ls0 ws0">This work is subject to copyright<span class="_ _1"></span>. All rights are reserved by the Publisher<span class="_ _2"></span>, whether the whole </div><div class="t m0 x8 ha y15 ff5 fs5 fc2 sc0 ls0 ws0">or part of the material is concerned, specifically the rights of translation, r<span class="_ _1"></span>eprinting, reuse of </div><div class="t m0 x8 ha y16 ff5 fs5 fc2 sc0 ls0 ws0">illustrations<span class="_ _1"></span>, recitation, broadc<span class="_ _1"></span>asting, repr<span class="_ _1"></span>oduction on microfilms or in any other physical </div><div class="t m0 x8 ha y17 ff5 fs5 fc2 sc0 ls0 ws0">way, and transmission or informa<span class="_ _1"></span>tion storage and retrieval, electr<span class="_ _1"></span>onic adaptation, computer </div><div class="t m0 x8 ha y18 ff5 fs5 fc2 sc0 ls0 ws0">software, or b<span class="_ _1"></span>y similar or dissimilar methodology now known or hereafter developed.</div><div class="t m0 x8 ha y19 ff5 fs5 fc2 sc0 ls2 ws0">Trademark<span class="_ _1"></span>ed names, logos, and im<span class="_ _1"></span>ages may appear in this book. Rather than use a tr<span class="_ _1"></span>ademark </div><div class="t m0 x8 ha y1a ff5 fs5 fc2 sc0 ls2 ws0">symbol with every occurrence of a trademarked name<span class="_ _1"></span>, logo, or im<span class="_ _1"></span>age we use the names, logos, </div><div class="t m0 x8 ha y1b ff5 fs5 fc2 sc0 ls2 ws0">and images only in an editorial fashion and to the benefit of the trademark o<span class="_ _1"></span>wner<span class="_ _2"></span>, w<span class="_ _0"></span>ith no </div><div class="t m0 x8 ha y1c ff5 fs5 fc2 sc0 ls2 ws0">intention of infringement of the tradem<span class="_ _1"></span>ark.</div><div class="t m0 x8 ha y1d ff5 fs5 fc2 sc0 ls2 ws0">The use in this publication of trade n<span class="_ _1"></span>ames, trademar<span class="_ _1"></span>ks, service marks, and similar terms<span class="_ _1"></span>, even if </div><div class="t m0 x8 ha y1e ff5 fs5 fc2 sc0 ls2 ws0">they are not identified as such<span class="_ _1"></span>, is not to be taken as an expression of opinion as to whether or not </div><div class="t m0 x8 ha y1f ff5 fs5 fc2 sc0 ls2 ws0">they are subject to proprietary rights.</div><div class="t m0 x8 ha y20 ff5 fs5 fc2 sc0 ls2 ws0">While the advice and information in this book are believed to be true and accurate a<span class="_ _1"></span>t the </div><div class="t m0 x8 ha y21 ff5 fs5 fc2 sc0 ls2 ws0">date of publication, neither the a<span class="_ _1"></span>uthors nor the editors nor the publisher can accept any legal </div><div class="t m0 x8 ha y22 ff5 fs5 fc2 sc0 ls2 ws0">responsibility for any errors or omis<span class="_ _1"></span>sions that may be made<span class="_ _1"></span>. The publisher makes no warran<span class="_ _1"></span>ty, </div><div class="t m0 x8 ha y23 ff5 fs5 fc2 sc0 ls2 ws0">express or implied, with respect to the m<span class="_ _1"></span>aterial contained herein.</div><div class="t m0 x8 ha y24 ff5 fs5 fc2 sc0 ls2 ws0">Cover image b<span class="_ _1"></span>y Freepik (<span class="ff6 fc4 ls3 ws2">www.freepik.com</span><span class="ls0">)</span></div><div class="t m0 x3 ha y25 ff5 fs5 fc2 sc0 ls0 ws0">Mana<span class="_ _1"></span>ging Director: Welmoed Spahr</div><div class="t m0 x3 ha y26 ff5 fs5 fc2 sc0 ls0 ws0">Editorial Director: T<span class="_ _1"></span>odd Green</div><div class="t m0 x3 ha y27 ff5 fs5 fc2 sc0 ls0 ws0">Acquisitions Editor: Nikhil Karkal</div><div class="t m0 x3 ha y28 ff5 fs5 fc2 sc0 ls0 ws0">Development Editor: James Mar<span class="_ _1"></span>kham</div><div class="t m0 x3 ha y29 ff5 fs5 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>echnical Reviewer<span class="_ _0"></span>: Nico Loubser</div><div class="t m0 x3 ha y2a ff5 fs5 fc2 sc0 ls0 ws0">Coordinatin<span class="_ _1"></span>g Editor<span class="_ _0"></span>: Prachi M<span class="_ _1"></span>ehta</div><div class="t m0 x3 ha y2b ff5 fs5 fc2 sc0 ls0 ws0">Copy Editor: Kezia Endsley</div><div class="t m0 x8 ha y2c ff5 fs5 fc2 sc0 ls3 ws0">Distributed to the book trade worldwide by Springer Science+Business M<span class="_ _1"></span>edia New Y<span class="_ _2"></span>ork, <span class="ls0"> </span></div><div class="t m0 x8 ha y2d ff5 fs5 fc2 sc0 ls0 ws0">233<span class="_ _0"></span> S<span class="_ _1"></span>pring Street, 6th Floor<span class="_ _2"></span>, N<span class="_ _1"></span>ew Y<span class="_ _1"></span>ork, NY 10013. Phone 1-800-<span class="_ _1"></span>SPRINGER, fax (201) 348-4505, </div><div class="t m0 x8 ha y2e ff5 fs5 fc2 sc0 ls3 ws2">e-mail <span class="ff6 fc4">orders-ny@springer-sbm.com</span><span class="ws0">, or visit </span><span class="ff6 fc4">www.springeronline.com</span><span class="ws0">. Apress M<span class="_ _1"></span>edia, </span></div><div class="t m0 x8 ha y2f ff5 fs5 fc2 sc0 ls3 ws0">LLC is a California LLC and the sole member (<span class="_ _1"></span>owner) is Springer Science + Business Media </div><div class="t m0 x8 ha y30 ff5 fs5 fc2 sc0 ls3 ws0">Finance I<span class="_ _1"></span>nc (SSBM Finance Inc<span class="_ _1"></span>). SSBM F<span class="_ _1"></span>inance Inc is a <span class="ff7 ls4 ws3">Delaware</span> corporation.</div><div class="t m0 x8 ha y31 ff5 fs5 fc2 sc0 ls3 ws0">For information on tr<span class="_ _1"></span>anslations, please e-mail <span class="ff6 fc4 ws2">rights@apress.com</span>, or visit<span class="_ _1"></span> <span class="ls0"> </span></div><div class="t m0 x8 ha y32 ff6 fs5 fc4 sc0 ls3 ws2">http://www.apress.com/rights-permissions<span class="ff5 fc2 ls0 ws0">. </span></div><div class="t m0 x8 ha y33 ff5 fs5 fc2 sc0 ls3 ws0">Apres<span class="_ _1"></span>s titles may be purch<span class="_ _1"></span>ased in bulk for academic, corporate, or pr<span class="_ _1"></span>omotional use. eBook </div><div class="t m0 x8 ha y34 ff5 fs5 fc2 sc0 ls3 ws0">versions and licenses are also a<span class="_ _1"></span>vailable for most titles. F<span class="_ _1"></span>or more information, r<span class="_ _1"></span>eference our </div><div class="t m0 x8 ha y35 ff5 fs5 fc2 sc0 ls3 ws0">Print and eBook Bulk Sales  web page at <span class="ff6 fc4 ws2">http://www.apress.com/bulk-sales</span><span class="ls0">.</span></div><div class="t m0 x8 ha y36 ff5 fs5 fc2 sc0 ls3 ws0">Any source code or other supplementary material r<span class="_ _1"></span>eferenced by the author in this <span class="ls0"> </span></div><div class="t m0 x8 ha y37 ff5 fs5 fc2 sc0 ls3 ws0">book is available to r<span class="_ _1"></span>eaders on GitH<span class="_ _1"></span>ub via the book&apos;s product page, located a<span class="_ _1"></span>t <span class="ls0"> </span></div><div class="t m0 x8 ha y38 ff6 fs5 fc4 sc0 ls3 ws2">www.apress.com/978-1-4842-3245-3<span class="ff5 fc2 ws0">. For mor<span class="_ _1"></span>e detailed information, please visit <span class="ls0"> </span></span></div><div class="t m0 x8 ha y39 ff6 fs5 fc4 sc0 ls3 ws2">http://www.apress.com/source-code<span class="ff5 fc2 ls0 ws0">.</span></div><div class="t m0 x8 ha y3a ff5 fs5 fc2 sc0 ls0 ws0">Printed on acid-free paper</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:562.741000px;width:156.340000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.freepik.com"><div class="d m1" style="border-style:none;position:absolute;left:126.411000px;bottom:333.707000px;width:65.025000px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="mailto:orders-ny@springer-sbm.com"><div class="d m1" style="border-style:none;position:absolute;left:65.602600px;bottom:221.707000px;width:112.710400px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.springeronline.com"><div class="d m1" style="border-style:none;position:absolute;left:209.201000px;bottom:221.707000px;width:95.370000px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="mailto:rights@apress.com"><div class="d m1" style="border-style:none;position:absolute;left:211.155000px;bottom:185.707000px;width:73.695000px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.apress.com/rights-permissions"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:175.707000px;width:173.400000px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.apress.com/bulk-sales"><div class="d m1" style="border-style:none;position:absolute;left:188.052000px;bottom:139.707000px;width:138.720000px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.apress.com/978-1-4842-3245-3"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:103.707000px;width:138.720000px;height:9.520000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.apress.com/source-code"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:93.706800px;width:143.055000px;height:9.520200px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4" class="pf w2 h4" data-page-no="4"><div class="pc pc4 w2 h4"><div class="t m0 x9 hb y3b ff8 fs6 fc2 sc0 ls5 ws0">For D<span class="_ _1"></span>uckems, Beastly, and B<span class="_ _1"></span>ratface</div><div class="t m0 xa hb y3c ff8 fs6 fc2 sc0 ls5 ws0">for whom I’<span class="_ _2"></span>d change the world if I had the source code</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5" class="pf w2 h4" data-page-no="5"><div class="pc pc5 w2 h4"><img class="bi x0 y3d w4 hc" alt="" src="bg5.png"/><div class="t m0 xb hd y3e ff5 fs6 fc2 sc0 ls0 ws0">v</div><div class="t m0 x3 he y3f ff9 fs7 fc2 sc0 ls0 ws0">Contents</div><div class="t m0 x3 hf y40 ffa fs8 fc4 sc0 ls0 ws0">About the Author<span class="ws4"> ���������������������������������������������������������������������������� </span>xix</div><div class="t m0 x3 hf y41 ffa fs8 fc4 sc0 ls0 ws0">About the T<span class="_ _2"></span>echnical Reviewer<span class="ws5"> ��������������������������������������������������������<span class="_ _4"> </span></span>xxi </div><div class="t m0 x3 hf y42 ffa fs8 fc4 sc0 ls0 ws0">Introduction<span class="ws6"> ����������������������������������������������������������������������������������<span class="_ _4"> </span></span>xxiii </div><div class="t m0 xc hf y43 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 1: PHP Basics<span class="ws7"> ��������������������������������������������������������������������<span class="_ _3"> </span></span>1</span></span></div><div class="t m0 xc hf y44 ffc fs8 fc4 sc0 ls0 ws0">Introduction<span class="ws8"> ���������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>1</div><div class="t m0 xc hf y45 ffc fs8 fc4 sc0 ls0 ws0">Basic Language Features<span class="ws9"> ������������������������������������������������������������������������<span class="_ _c"> </span></span>1</div><div class="t m0 xc hf y46 ffc fs8 fc4 sc0 ls0 ws0">Inserting PHP into <span class="_ _1"></span>W<span class="_ _1"></span>eb Pages<span class="wsa"> �����������������������������������������������������������������<span class="_ _c"> </span></span>1</div><div class="t m0 xc hf y47 ffc fs8 fc4 sc0 ls0 ws0">Language Constructs<span class="wsb"> ������������������������������������������������������������������������������<span class="_ _c"> </span></span>3</div><div class="t m0 xc hf y48 ffc fs8 fc4 sc0 ls0 ws0">Comments<span class="wsc"> �����������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>5</div><div class="t m0 xc hf y49 ffc fs8 fc4 sc0 ls0 ws0">Representing Numbers<span class="wsd"> ����������������������������������������������������������������������������<span class="_ _c"> </span></span>5</div><div class="t m0 xc hf y4a ffc fs8 fc4 sc0 ls0 ws0">Variables<span class="wse"> ��������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>6</div><div class="t m0 xd h10 y4b ffc fs6 fc4 sc0 ls0 wsf">Variable T<span class="_ _2"></span>ypes<span class="ws10"> �����������������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">6</span></span></div><div class="t m0 xd h10 y4c ffc fs6 fc4 sc0 ls0 wsf">Naming Variables<span class="ws11"> ����������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">10</span></span></div><div class="t m0 xd h10 y4d ffc fs6 fc4 sc0 ls0 ws0">Checking If a <span class="_ _1"></span>Variable Has Been Set<span class="ws12"> <span class="_ _1"></span>�����������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">11</span></span></div><div class="t m0 xc hf y4e ffc fs8 fc4 sc0 ls0 ws0">Constants<span class="ws13"> ���������������������������������������������������������������������������������������������� </span>12</div><div class="t m0 xc hf y4f ffc fs8 fc4 sc0 ls0 ws0">Superglobals<span class="ws14"> �����������������������������������������������������������������������������������������<span class="_ _c"> </span></span>13</div><div class="t m0 xc hf y50 ffc fs8 fc4 sc0 ls0 ws0">Magic Constants<span class="ws15"> ������������������������������������������������������������������������������������<span class="_ _c"> </span></span>14</div><div class="t m0 xc hf y51 ffc fs8 fc4 sc0 ls0 ws0">Operators<span class="ws16"> �����������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>15</div><div class="t m0 xd h10 y52 ffc fs6 fc4 sc0 ls0 ws0">Arithmetic<span class="ws17"> ��������������������������������������������������������������������������������������������������������������� </span>15</div><div class="t m0 xd h10 y53 ffc fs6 fc4 sc0 ls0 ws0">Logic Operators<span class="ws18"> ������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>16</div><a class="l" href="#pf17" data-dest-detail='[23,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:394.640000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf17" data-dest-detail='[23,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:374.636000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf17" data-dest-detail='[23,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:354.632000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf19" data-dest-detail='[25,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:334.628000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:314.624000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:294.620000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.104000px;bottom:274.616000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:257.064000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20" data-dest-detail='[32,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:239.064000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:221.064000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf22" data-dest-detail='[34,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:200.632000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf23" data-dest-detail='[35,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:180.628000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:160.624000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:140.620000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:123.064000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:105.064000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12" data-dest-detail='[18,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:56.072100px;bottom:487.451000px;width:344.181900px;height:12.109000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf13" data-dest-detail='[19,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:57.708500px;bottom:465.197000px;width:345.163500px;height:12.109000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf14" data-dest-detail='[20,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:56.944900px;bottom:442.615000px;width:343.964100px;height:13.091000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf17" data-dest-detail='[23,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:66.763000px;bottom:414.469000px;width:335.128000px;height:12.437000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6" class="pf w2 h4" data-page-no="6"><div class="pc pc6 w2 h4"><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 ls6 ws19">vi</div><div class="t m0 xe h10 y56 ffc fs6 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>ernar<span class="_ _0"></span>y Operator<span class="ws1a"> �����������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>16</div><div class="t m0 xe h10 y57 ffc fs6 fc4 sc0 ls0 ws0">Null Coalescing Operator<span class="ws1b"> ���������������������������������������������������������������������������������������� </span>17</div><div class="t m0 xe h10 y58 ffc fs6 fc4 sc0 ls0 ws0">Spaceship<span class="ws1c"> ��������������������������������������������������������������������������������������������������������������� </span>18</div><div class="t m0 xe h10 y59 ffc fs6 fc4 sc0 ls0 ws0">Bitwise<span class="ws1d"> ��������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>18</div><div class="t m0 xe h10 y5a ffc fs6 fc4 sc0 ls0 ws0">Bit Shifting<span class="ws1e"> ��������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>19</div><div class="t m0 xe h10 y5b ffc fs6 fc4 sc0 ls0 ws0">Bitwise NO<span class="_ _1"></span>T<span class="ws1f"> ������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>20</div><div class="t m0 xe h10 y5c ffc fs6 fc4 sc0 ls0 ws0">Assignment Operators<span class="ws20"> �������������������������������������������������������������������������������������������� </span>21</div><div class="t m0 xe h10 y5d ffc fs6 fc4 sc0 ls0 ws0">Reference Operator<span class="ws21"> ������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>22</div><div class="t m0 xe h10 y5e ffc fs6 fc4 sc0 ls0 ws0">Comparison Operators<span class="ws22"> ��������������������������������������������������������������������������������������������<span class="_ _d"></span></span>22</div><div class="t m0 xe h10 y5f ffc fs6 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>wo More Operators<span class="ws23"> �����������������������������������������������������������������������������������������������<span class="_ _d"></span></span>23</div><div class="t m0 xf hf y60 ffc fs8 fc4 sc0 ls0 ws0">Control Structures<span class="ws24"> ���������������������������������������������������������������������������������<span class="_ _c"> </span></span>23</div><div class="t m0 xe h10 y61 ffc fs6 fc4 sc0 ls0 ws0">Conditional Structures<span class="ws25"> �������������������������������������������������������������������������������������������� </span>24</div><div class="t m0 xe h10 y62 ffc fs6 fc4 sc0 ls0 ws0">Loops<span class="ws26"> ���������������������������������������������������������������������������������������������������������������������� </span>25</div><div class="t m0 xe h10 y63 ffc fs6 fc4 sc0 ls0 ws0">Breaking Out of Loops<span class="ws27"> ��������������������������������������������������������������������������������������������<span class="_ _d"></span></span>26</div><div class="t m0 xe h10 y64 ffc fs6 fc4 sc0 ls0 ws0">Namespaces<span class="ws28"> ����������������������������������������������������������������������������������������������������������� </span>26</div><div class="t m0 xe h10 y65 ffc fs6 fc4 sc0 ls0 ws0">Fully Qualiﬁed Namespace Names<span class="ws29"> ������������������������������������������������������������������������� </span>27</div><div class="t m0 xf hf y66 ffc fs8 fc4 sc0 ls0 ws0">Conﬁguration<span class="ws2a"> �����������������������������������������������������������������������������������������<span class="_ _c"> </span></span>28</div><div class="t m0 xe h10 y67 ffc fs6 fc4 sc0 ls0 ws0">Where Settings May Be Set or Changed<span class="ws2b"> �����������������������������������������������������������������<span class="_ _d"></span></span>28</div><div class="t m0 xe h10 y68 ffc fs6 fc4 sc0 ls0 ws0">Php�ini<span class="ws2c"> ���������������������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>29</div><div class="t m0 xe h10 y69 ffc fs6 fc4 sc0 ls0 ws0">User INI Files<span class="ws2d"> �����������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>29</div><div class="t m0 xe h10 y6a ffc fs6 fc4 sc0 ls0 ws0">Apache <span class="_ _1"></span>Version of INI Files<span class="ws1f"> �������������������������������������������������������������������������������������<span class="_ _d"></span></span>29</div><div class="t m0 xf hf y6b ffc fs8 fc4 sc0 ls0 ws0">Performance<span class="ws2e"> ������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>30</div><div class="t m0 xe h10 y6c ffc fs6 fc4 sc0 ls0 ws0">Memory Management<span class="ws2f"> ��������������������������������������������������������������������������������������������<span class="_ _3"> </span></span>30</div><div class="t m0 xe h10 y6d ffc fs6 fc4 sc0 ls0 ws0">Symbols <span class="_ _1"></span>Are Pointed to zval Containers<span class="ws30"> �����������������������������������������������������������������<span class="_ _d"></span></span>31</div><div class="t m0 xe h10 y6e ffc fs6 fc4 sc0 ls0 ws0">Arrays and Objects<span class="ws31"> �������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>31</div><div class="t m0 xe h10 y6f ffc fs6 fc4 sc0 ls0 ws0">Memory Leaks in Arr<span class="_ _1"></span>ays and Objects<span class="ws32"> ��������������������������������������������������������������������� </span>32</div><div class="t m0 xe h10 y70 ffc fs6 fc4 sc0 ls0 ws0">Garbage Collection<span class="ws33"> �������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>32</div><div class="t m0 xe h10 y71 ffc fs6 fc4 sc0 ls0 ws0">The Opcode Cache<span class="ws34"> ��������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>32</div><div class="t m0 xe h10 y72 ffc fs6 fc4 sc0 ls0 ws0">Extensions<span class="ws35"> ��������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>33</div><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:588.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27" data-dest-detail='[39,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:570.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf28" data-dest-detail='[40,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:552.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf28" data-dest-detail='[40,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:534.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf29" data-dest-detail='[41,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:516.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2a" data-dest-detail='[42,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:498.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2b" data-dest-detail='[43,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:480.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:462.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:444.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:426.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:405.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2e" data-dest-detail='[46,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:388.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2f" data-dest-detail='[47,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:370.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:352.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:334.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:316.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:295.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:278.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:242.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:224.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:203.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:186.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:168.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:150.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:132.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:114.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:96.144800px;width:317.990000px;height:11.670200px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf37" data-dest-detail='[55,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:78.144800px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:63.818100px;bottom:259.669000px;width:321.053900px;height:11.782000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7" class="pf w2 h4" data-page-no="7"><div class="pc pc7 w2 h4"><div class="t m0 x10 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x11 hd y55 ff5 fs6 fc2 sc0 ls7 ws36">vii</div><div class="t m0 xc hf y73 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 2: Functions<span class="ws37"> ��������������������������������������������������������������������<span class="_ _3"> </span></span>39</span></span></div><div class="t m0 xc hf y74 ffc fs8 fc4 sc0 ls0 ws0">Arguments<span class="ws38"> ���������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>39</div><div class="t m0 xd h10 y75 ffc fs6 fc4 sc0 ls0 wsf">Argument T<span class="_ _2"></span>ype <span class="_ _0"></span>Declarations<span class="ws39"> �����������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">39</span></span></div><div class="t m0 xd h10 y76 ffc fs6 fc4 sc0 ls0 wsf">Optional Arguments<span class="ws3a"> ������������������������������������������������������������������������������������������������ <span class="ws0">42</span></span></div><div class="t m0 xd h10 y77 ffc fs6 fc4 sc0 ls0 ws0">Overloading Functions<span class="ws3b"> ��������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>43</div><div class="t m0 xd h10 y78 ffc fs6 fc4 sc0 ls0 ws0">Variadics<span class="ws3c"> ����������������������������������������������������������������������������������������������������������������� </span>44</div><div class="t m0 xc hf y79 ffc fs8 fc4 sc0 ls0 ws0">References<span class="ws3d"> �������������������������������������������������������������������������������������������� </span>44</div><div class="t m0 xc hf y7a ffc fs8 fc4 sc0 ls0 ws0">Variable Functions<span class="ws3e"> ���������������������������������������������������������������������������������<span class="_ _c"> </span></span>45</div><div class="t m0 xc hf y7b ffc fs8 fc4 sc0 ls0 ws0">Returns<span class="ws3e"> ��������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>46</div><div class="t m0 xd h10 y7c ffc fs6 fc4 sc0 ls0 wsf">Return T<span class="_ _2"></span>ype <span class="_ _0"></span>Declarations<span class="ws3f"> ����������������������������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">46</span></span></div><div class="t m0 xd h10 y7d ffc fs6 fc4 sc0 ls0 wsf">Return Void<span class="ws40"> �������������������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">47</span></span></div><div class="t m0 xd h10 y7e ffc fs6 fc4 sc0 ls0 ws0">Return by Reference<span class="ws41"> �����������������������������������������������������������������������������������������������<span class="_ _d"></span></span>47</div><div class="t m0 xc hf y7f ffc fs8 fc4 sc0 ls0 ws0">Variable Scope in Functions<span class="ws42"> ������������������������������������������������������������������<span class="_ _c"> </span></span>48</div><div class="t m0 xc hf y80 ffc fs8 fc4 sc0 ls0 ws0">Lambda and Closure<span class="ws43"> �����������������������������������������������������������������������������<span class="_ _c"> </span></span>48</div><div class="t m0 xd h10 y81 ffc fs6 fc4 sc0 ls0 ws0">Early and Late Binding<span class="ws44"> ��������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>49</div><div class="t m0 xd h10 y82 ffc fs6 fc4 sc0 ls0 ws0">Binding Closures to Scopes<span class="ws45"> ������������������������������������������������������������������������������������ </span>50</div><div class="t m0 xd h10 y83 ffc fs6 fc4 sc0 ls0 ws0">Self-Executing Closures<span class="ws33"> �����������������������������������������������������������������������������������������<span class="_ _d"></span></span>51</div><div class="t m0 xc hf y84 ffc fs8 fc4 sc0 ls0 ws0">Callables<span class="ws46"> ������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>51</div><div class="t m0 xc hf y85 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 3: Strings and P<span class="_ _1"></span>atterns<span class="ws24"> ���������������������������������������������������<span class="_ _3"> </span></span>57</span></span></div><div class="t m0 xc hf y86 ffc fs8 fc4 sc0 ls0 ws0">Declaring Strings<span class="ws47"> �����������������������������������������������������������������������������������<span class="_ _c"> </span></span>57</div><div class="t m0 xd h10 y87 ffc fs6 fc4 sc0 ls0 wsf">Embedding Variables<span class="ws48"> ����������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">57</span></span></div><div class="t m0 xd h10 y88 ffc fs6 fc4 sc0 ls0 ws0">Control Characters<span class="ws49"> ��������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>59</div><div class="t m0 xd h10 y89 ffc fs6 fc4 sc0 ls0 ws0">Heredoc and Nowdoc<span class="ws4a"> ���������������������������������������������������������������������������������������������<span class="_ _d"></span></span>60</div><div class="t m0 xc hf y8a ffc fs8 fc4 sc0 ls0 ws0">Referencing Characters in Strings<span class="ws18"> ��������������������������������������������������������<span class="_ _c"> </span></span>61</div><div class="t m0 xc hf y8b ffc fs8 fc4 sc0 ls0 ws0">PHP and Multibyte Strings<span class="ws4b"> ���������������������������������������������������������������������<span class="_ _c"> </span></span>61</div><div class="t m0 xd h10 y8c ffc fs6 fc4 sc0 ls0 ws0">Unicode<span class="ws4c"> �������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>62</div><div class="t m0 xd h10 y8d ffc fs6 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>elling Clients How a String Is Encoded<span class="ws4d"> �����������������������������������������������������������������<span class="_ _d"> </span></span>62</div><div class="t m0 xd h10 y8e ffc fs6 fc4 sc0 ls0 ws0">Changing Between Encoding Schemes<span class="ws4e"> ������������������������������������������������������������������ </span>62</div><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.103800px;bottom:565.839000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:548.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:530.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf41" data-dest-detail='[65,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:512.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:494.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:473.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:453.839000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf44" data-dest-detail='[68,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:433.835000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf44" data-dest-detail='[68,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:416.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf45" data-dest-detail='[69,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:398.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf45" data-dest-detail='[69,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:380.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:359.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:339.839000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:322.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf48" data-dest-detail='[72,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:304.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:286.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:265.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4e" data-dest-detail='[78,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.112000px;bottom:223.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4e" data-dest-detail='[78,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:206.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:188.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf51" data-dest-detail='[81,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:170.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:149.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:129.839000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:112.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:94.275300px;width:317.990000px;height:11.669700px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:76.275300px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3d" data-dest-detail='[61,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:67.635800px;bottom:586.942000px;width:332.946200px;height:12.764000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4e" data-dest-detail='[78,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:67.199400px;bottom:244.288000px;width:332.727600px;height:13.091000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8" class="pf w2 h4" data-page-no="8"><div class="pc pc8 w2 h4"><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 ls7 ws36">viii</div><div class="t m0 xe h10 y56 ffc fs6 fc4 sc0 ls0 ws0">Practical Example<span class="ws4f"> ��������������������������������������������������������������������������������������������������� </span>63</div><div class="t m0 xe h10 y57 ffc fs6 fc4 sc0 ls0 ws0">Matching Strings<span class="ws18"> ����������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>64</div><div class="t m0 xf hf y8f ffc fs8 fc4 sc0 ls0 ws0">Extracting Strings<span class="ws50"> ����������������������������������������������������������������������������������<span class="_ _c"> </span></span>65</div><div class="t m0 xf hf y90 ffc fs8 fc4 sc0 ls0 ws0">Searching Strings<span class="ws51"> ����������������������������������������������������������������������������������<span class="_ _c"> </span></span>66</div><div class="t m0 xe h10 y91 ffc fs6 fc4 sc0 ls0 wsf">Useful Tips<span class="ws52"> ��������������������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">67</span></span></div><div class="t m0 xe h10 y92 ffc fs6 fc4 sc0 ls0 ws0">Quick Overview of Search Functions<span class="ws22"> ����������������������������������������������������������������������<span class="_ _d"> </span></span>68</div><div class="t m0 xe h10 y93 ffc fs6 fc4 sc0 ls0 ws0">Replacing Strings<span class="ws53"> ���������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>68</div><div class="t m0 xf hf y94 ffc fs8 fc4 sc0 ls0 ws0">Formatting Strings<span class="ws54"> ��������������������������������������������������������������������������������<span class="_ _c"> </span></span>69</div><div class="t m0 xf hf y95 ffc fs8 fc4 sc0 ls0 ws0">Formatting Numbers<span class="ws55"> ����������������������������������������������������������������������������� </span>71</div><div class="t m0 xf hf y96 ffc fs8 fc4 sc0 ls0 ws0">String Patterns:<span class="_ _1"></span> Regular Expressions<span class="ws7"> ����������������������������������������������������<span class="_ _c"> </span></span>72</div><div class="t m0 xe h10 y97 ffc fs6 fc4 sc0 ls0 ws0">Delimiters<span class="ws35"> ���������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>72</div><div class="t m0 xe h10 y98 ffc fs6 fc4 sc0 ls0 ws0">Meta-Characters<span class="ws56"> �����������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>72</div><div class="t m0 xe h10 y99 ffc fs6 fc4 sc0 ls0 wsf">Generic <span class="_ _0"></span>Character T<span class="_ _2"></span>ypes<span class="ws57"> �����������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">73</span></span></div><div class="t m0 xe h10 y9a ffc fs6 fc4 sc0 ls0 ws0">Boundaries<span class="ws58"> �������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>74</div><div class="t m0 xe h10 y9b ffc fs6 fc4 sc0 ls0 ws0">Character Classes<span class="ws10"> ���������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>74</div><div class="t m0 xe h10 y9c ffc fs6 fc4 sc0 ls0 ws0">Matching More <span class="_ _1"></span>Than Once<span class="ws59"> ��������������������������������������������������������������������������������������<span class="_ _d"></span></span>74</div><div class="t m0 xe h10 y9d ffc fs6 fc4 sc0 ls0 ws0">Capturing Groups<span class="ws39"> ����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>75</div><div class="t m0 xe h10 y9e ffc fs6 fc4 sc0 ls0 ws0">Greed and Laziness<span class="ws4d"> ������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>76</div><div class="t m0 xe h10 y9f ffc fs6 fc4 sc0 ls0 wsf">Getting All <span class="_ _0"></span>Matches<span class="ws5a"> �������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">76</span></span></div><div class="t m0 xe h10 ya0 ffc fs6 fc4 sc0 ls0 ws0">Naming Groups<span class="ws5b"> ������������������������������������������������������������������������������������������������������� </span>77</div><div class="t m0 xe h10 ya1 ffc fs6 fc4 sc0 ls0 ws0">Pattern Modiﬁers<span class="ws1c"> ����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>78</div><div class="t m0 xf hf ya2 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 4: Arr<span class="_ _1"></span>ays<span class="ws43"> �������������������������������������������������������������������������<span class="_ _3"> </span></span>83</span></span></div><div class="t m0 xf hf ya3 ffc fs8 fc4 sc0 ls0 ws0">Declaring and Referencing <span class="_ _1"></span>Arrays<span class="ws5c"> ���������������������������������������������������������<span class="_ _c"> </span></span>83</div><div class="t m0 xf hf ya4 ffc fs8 fc4 sc0 ls0 ws5d">Functions That <span class="_ _0"></span>Create <span class="_ _0"></span>an Array<span class="ws5e"> �������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">84</span></span></div><div class="t m0 xf hf ya5 ffc fs8 fc4 sc0 ls0 ws0">Array Operators<span class="ws5f"> �������������������������������������������������������������������������������������<span class="_ _c"> </span></span>86</div><div class="t m0 xf hf ya6 ffc fs8 fc4 sc0 ls0 ws0">Proper <span class="_ _e"></span>ties of PHP <span class="_ _1"></span>Array Keys<span class="ws60"> ���������������������������������������������������������������� </span>87</div><div class="t m0 xe h10 ya7 ffc fs6 fc4 sc0 ls0 wsf">Filling <span class="_ _0"></span>Up Arrays<span class="ws61"> ������������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">88</span></span></div><div class="t m0 xe h10 ya8 ffc fs6 fc4 sc0 ls0 ws0">Push,<span class="_ _1"></span> Pop,<span class="_ _2"></span> Shift, and Unshift (Oh My!)<span class="ws62"> ��������������������������������������������������������������������<span class="_ _d"></span></span>90</div><a class="l" href="#pf54" data-dest-detail='[84,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:588.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf55" data-dest-detail='[85,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:570.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:549.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf57" data-dest-detail='[87,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:529.709000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf58" data-dest-detail='[88,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:512.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:494.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:476.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:455.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5c" data-dest-detail='[92,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:435.709000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:415.705000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:398.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:380.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5e" data-dest-detail='[94,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:362.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:344.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:326.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:308.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf60" data-dest-detail='[96,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:290.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:272.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:254.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf62" data-dest-detail='[98,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:236.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf63" data-dest-detail='[99,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:218.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:175.709000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf68" data-dest-detail='[104,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:155.705000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:135.701000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6b" data-dest-detail='[107,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:115.697000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6c" data-dest-detail='[108,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:98.144800px;width:317.990000px;height:11.670200px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:49.199400px;bottom:196.506000px;width:334.036600px;height:12.436000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:63.381300px;bottom:79.015000px;width:319.200700px;height:12.109100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9" class="pf w2 h4" data-page-no="9"><div class="pc pc9 w2 h4"><div class="t m0 x10 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x12 hd y55 ff5 fs6 fc2 sc0 ls8 ws63">ix</div><div class="t m0 xc hf ya9 ffc fs8 fc4 sc0 ls0 ws5d">Comparing Arrays<span class="ws64"> ����������������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">90</span></span></div><div class="t m0 xd h10 yaa ffc fs6 fc4 sc0 ls0 ws0">array_diff()<span class="ws65"> ��������������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>91</div><div class="t m0 xd h10 yab ffc fs6 fc4 sc0 ls0 ws0">array_intersect()<span class="ws66"> ����������������������������������������������������������������������������������������������������� </span>92</div><div class="t m0 xd h10 yac ffc fs6 fc4 sc0 ls0 ws0">User<span class="_ _1"></span>-Deﬁned Matching Functions<span class="ws19"> ��������������������������������������������������������������������������<span class="_ _d"></span></span>92</div><div class="t m0 xd h10 yad ffc fs6 fc4 sc0 ls0 ws0">Quick List of Comparison Functions<span class="ws67"> ����������������������������������������������������������������������� </span>94</div><div class="t m0 xc hf yae ffc fs8 fc4 sc0 ls0 ws5d">Combining Arrays<span class="ws68"> ����������������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">94</span></span></div><div class="t m0 xc hf yaf ffc fs8 fc4 sc0 ls0 ws5d">Splitting Arrays<span class="ws69"> ��������������������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">96</span></span></div><div class="t m0 xc hf yb0 ffc fs8 fc4 sc0 ls0 ws5d">Destructuring Arrays<span class="ws6a"> �����������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">98</span></span></div><div class="t m0 xc hf yb1 ffc fs8 fc4 sc0 ls0 ws5d">Calculating <span class="_ _0"></span>with Arrays<span class="ws23"> �������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">99</span></span></div><div class="t m0 xc hf yb2 ffc fs8 fc4 sc0 ls0 ws5d">Iterating Through Arrays<span class="ws64"> ������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">99</span></span></div><div class="t m0 xd h10 yb3 ffc fs6 fc4 sc0 ls0 wsf">Looping Through Arrays<span class="ws39"> ������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">99</span></span></div><div class="t m0 xd h10 yb4 ffc fs6 fc4 sc0 ls0 wsf">Using Array <span class="_ _0"></span>Cursors<span class="ws6b"> ���������������������������������������������������������������������������������������������� <span class="ws0">101</span></span></div><div class="t m0 xd h10 yb5 ffc fs6 fc4 sc0 ls0 wsf">Walking Through Arrays<span class="ws38"> ����������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">102</span></span></div><div class="t m0 xc hf yb6 ffc fs8 fc4 sc0 ls0 ws5d">Sorting Arrays<span class="ws6c"> ��������������������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">102</span></span></div><div class="t m0 xd h10 yb7 ffc fs6 fc4 sc0 ls0 ws0">Natural Order Sorting<span class="ws6d"> ��������������������������������������������������������������������������������������������<span class="_ _d"></span></span>103</div><div class="t m0 xc hf yb8 ffc fs8 fc4 sc0 ls0 ws0">Standard PHP Library (SPL):<span class="_ _1"></span> <span class="_ _1"></span>ArrayObject Class<span class="ws57"> �����������������������������������<span class="_ _c"> </span></span>104</div><div class="t m0 xc hf yb9 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 5: Object-Oriented PHP<span class="ws6e"> �������������������������������������������������<span class="_ _3"> </span></span>111</span></span></div><div class="t m0 xc hf yba ffc fs8 fc4 sc0 ls0 ws0">Declaring Classes and Instantiating Objects<span class="ws6f"> ���������������������������������������<span class="_ _c"> </span></span>111</div><div class="t m0 xc hf ybb ffc fs8 fc4 sc0 ls0 ws0">Autoloading Classes<span class="ws70"> ����������������������������������������������������������������������������<span class="_ _c"> </span></span>112</div><div class="t m0 xc hf ybc ffc fs8 fc4 sc0 ls0 ws0">Visibility or <span class="_ _1"></span>Access Modiﬁers<span class="ws71"> ��������������������������������������������������������������<span class="_ _c"> </span></span>113</div><div class="t m0 xc hf ybd ffc fs8 fc4 sc0 ls0 ws0">Instance Properties and Methods<span class="ws72"> ��������������������������������������������������������<span class="_ _c"> </span></span>114</div><div class="t m0 xd h10 ybe ffc fs6 fc4 sc0 ls0 ws0">Properties<span class="ws73"> �������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>114</div><div class="t m0 xd h10 ybf ffc fs6 fc4 sc0 ls0 ws0">Methods<span class="ws74"> ����������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>114</div><div class="t m0 xc hf yc0 ffc fs8 fc4 sc0 ls0 ws0">Static Methods and Properties<span class="ws75"> ������������������������������������������������������������<span class="_ _c"> </span></span>115</div><div class="t m0 xd h10 yc1 ffc fs6 fc4 sc0 ls0 ws0">Static Properties<span class="ws76"> ��������������������������������������������������������������������������������������������������� </span>116</div><div class="t m0 xc hf yc2 ffc fs8 fc4 sc0 ls0 ws0">Working with Objects<span class="ws77"> �������������������������������������������������������������������������� </span>117</div><div class="t m0 xd h10 yc3 ffc fs6 fc4 sc0 ls0 ws0">Copying Objects<span class="ws78"> ����������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>117</div><div class="t m0 xd h10 yc4 ffc fs6 fc4 sc0 ls0 ws0">Serializing Objects<span class="ws22"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>117</div><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:586.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf70" data-dest-detail='[112,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:532.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:514.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:494.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf74" data-dest-detail='[116,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:474.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf76" data-dest-detail='[118,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:454.137000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf77" data-dest-detail='[119,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:434.133000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf77" data-dest-detail='[119,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:414.129000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf77" data-dest-detail='[119,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:396.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:378.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7a" data-dest-detail='[122,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:360.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7a" data-dest-detail='[122,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:340.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7b" data-dest-detail='[123,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:322.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf82" data-dest-detail='[130,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.112000px;bottom:260.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf83" data-dest-detail='[131,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.112000px;bottom:240.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf84" data-dest-detail='[132,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.112000px;bottom:220.137000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf85" data-dest-detail='[133,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.112000px;bottom:200.133000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf85" data-dest-detail='[133,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:182.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf85" data-dest-detail='[133,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:164.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf86" data-dest-detail='[134,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:144.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf87" data-dest-detail='[135,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:126.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf88" data-dest-detail='[136,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:106.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf88" data-dest-detail='[136,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:88.576900px;width:317.990000px;height:11.670100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf88" data-dest-detail='[136,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:70.576900px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6f" data-dest-detail='[111,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:81.272100px;bottom:569.269000px;width:318.981900px;height:9.818000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf70" data-dest-detail='[112,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:79.854600px;bottom:551.596000px;width:320.727400px;height:8.728000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7c" data-dest-detail='[124,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:67.418300px;bottom:303.087000px;width:332.945700px;height:12.218000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf82" data-dest-detail='[130,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:67.418300px;bottom:280.614000px;width:332.291700px;height:12.218000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa" class="pf w2 h4" data-page-no="a"><div class="pc pca w2 h4"><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 ls0 ws0">x</div><div class="t m0 xe h10 y56 ffc fs6 fc4 sc0 ls0 ws0">Casting Between <span class="_ _1"></span>Arrays and Objects<span class="ws79"> ��������������������������������������������������������������������<span class="_ _d"></span></span>119</div><div class="t m0 xe h10 y57 ffc fs6 fc4 sc0 ls0 ws0">Casting Objects to String<span class="ws7a"> �������������������������������������������������������������������������������������� </span>120</div><div class="t m0 xe h10 y58 ffc fs6 fc4 sc0 ls0 wsf">Class Aliases<span class="ws10"> ���������������������������������������������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">121</span></span></div><div class="t m0 xf hf yc5 ffc fs8 fc4 sc0 ls0 ws0">Constructors and Destructors<span class="ws7b"> �������������������������������������������������������������<span class="_ _c"> </span></span>121</div><div class="t m0 xe h10 yc6 ffc fs6 fc4 sc0 ls0 ws0">Constructor Precedence<span class="ws7c"> ���������������������������������������������������������������������������������������<span class="_ _d"></span></span>122</div><div class="t m0 xe h10 yc7 ffc fs6 fc4 sc0 ls0 ws0">Constructor Parameters����������������������������������������������������������������������������������������<span class="_ _d"></span>122</div><div class="t m0 xf hf y93 ffc fs8 fc4 sc0 ls0 ws0">Inheritance<span class="ws7d"> ������������������������������������������������������������������������������������������ </span>123</div><div class="t m0 xe h10 yc8 ffc fs6 fc4 sc0 ls0 ws0">The ﬁnal Keyword<span class="ws65"> �������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>124</div><div class="t m0 xe h10 yc9 ffc fs6 fc4 sc0 ls0 ws0">Overriding<span class="ws17"> ������������������������������������������������������������������������������������������������������������� </span>125</div><div class="t m0 xf hf yca ffc fs8 fc4 sc0 ls0 ws0">Interfaces<span class="ws7d"> �������������������������������������������������������������������������������������������� </span>126</div><div class="t m0 xf hf ycb ffc fs8 fc4 sc0 ls0 ws0">Abstract Classes<span class="ws7e"> ����������������������������������������������������������������������������������<span class="_ _c"> </span></span>127</div><div class="t m0 xf hf ycc ffc fs8 fc4 sc0 ls0 ws0">Anonymous Classes<span class="ws7f"> ���������������������������������������������������������������������������� </span>128</div><div class="t m0 xf hf ycd ffc fs8 fc4 sc0 ls0 ws0">Reﬂection<span class="ws80"> ��������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>129</div><div class="t m0 xf hf yce ffc fs8 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>ype Hinting<span class="ws81"> �����������������������������������������������������������������������������������������<span class="_ _c"> </span></span>129</div><div class="t m0 xf hf ycf ffc fs8 fc4 sc0 ls0 ws0">Class Constants<span class="ws3e"> �����������������������������������������������������������������������������������<span class="_ _c"> </span></span>131</div><div class="t m0 xf hf yd0 ffc fs8 fc4 sc0 ls0 ws0">Late Static Binding<span class="ws82"> ������������������������������������������������������������������������������<span class="_ _c"> </span></span>131</div><div class="t m0 xe h10 yd1 ffc fs6 fc4 sc0 ls0 ws0">Forwarding calls<span class="ws83"> ��������������������������������������������������������������������������������������������������� </span>131</div><div class="t m0 xf hf yd2 ffc fs8 fc4 sc0 ls0 ws0">Magic (__*) Methods<span class="ws84"> ���������������������������������������������������������������������������<span class="_ _c"> </span></span>133</div><div class="t m0 xe h10 yd3 ffc fs6 fc4 sc0 ls0 ws0">__get and __set<span class="ws85"> ���������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>133</div><div class="t m0 xe h10 yd4 ffc fs6 fc4 sc0 ls0 ws0">__isset and __unset<span class="ws86"> ���������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>134</div><div class="t m0 xe h10 yd5 ffc fs6 fc4 sc0 ls0 ws0">__call and __callStatic<span class="ws87"> �����������������������������������������������������������������������������������������<span class="_ _d"> </span></span>134</div><div class="t m0 xe h10 yd6 ffc fs6 fc4 sc0 ls0 ws0">__invoke<span class="ws3b"> ��������������������������������������������������������������������������������������������������������������� </span>135</div><div class="t m0 xe h10 yd7 ffc fs6 fc4 sc0 ls0 ws0">__debugInfo<span class="ws88"> ���������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>135</div><div class="t m0 xe h10 yd8 ffc fs6 fc4 sc0 ls0 ws0">More Magic Functions<span class="ws89"> ������������������������������������������������������������������������������������������ </span>136</div><div class="t m0 xf hf yd9 ffc fs8 fc4 sc0 ls0 ws0">Standard PHP Library (SPL)<span class="ws8a"> �����������������������������������������������������������������<span class="_ _c"> </span></span>136</div><div class="t m0 xe h10 yda ffc fs6 fc4 sc0 ls0 ws0">Data Structures<span class="ws8b"> �����������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>136</div><div class="t m0 xe h10 ya7 ffc fs6 fc4 sc0 ls0 ws0">Iterators<span class="ws30"> ����������������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>136</div><div class="t m0 xe h10 ya8 ffc fs6 fc4 sc0 ls0 ws0">Exceptions<span class="ws8c"> ������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>137</div><a class="l" href="#pf8a" data-dest-detail='[138,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:588.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8b" data-dest-detail='[139,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:570.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:552.146000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:531.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8d" data-dest-detail='[141,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:514.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8d" data-dest-detail='[141,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:496.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8e" data-dest-detail='[142,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:475.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8f" data-dest-detail='[143,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:458.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf90" data-dest-detail='[144,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:440.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf91" data-dest-detail='[145,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:419.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf92" data-dest-detail='[146,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:399.709000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf93" data-dest-detail='[147,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:379.705000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:359.701000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:339.697000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:319.693000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:299.689000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:282.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:154.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:116.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:98.144800px;width:317.990000px;height:11.670200px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9c" data-dest-detail='[156,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:80.144800px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:49.091000px;bottom:262.723000px;width:334.255000px;height:11.346000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:60.000100px;bottom:245.051000px;width:322.909900px;height:9.600000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf99" data-dest-detail='[153,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:61.091000px;bottom:226.287000px;width:322.691000px;height:10.909000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf99" data-dest-detail='[153,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:61.091000px;bottom:208.614000px;width:321.819000px;height:10.473000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9a" data-dest-detail='[154,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:61.963700px;bottom:191.160000px;width:319.418300px;height:9.818000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9a" data-dest-detail='[154,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:62.181900px;bottom:172.614000px;width:320.946100px;height:10.691000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:48.654600px;bottom:133.341000px;width:333.818400px;height:12.655000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb" class="pf w2 h4" data-page-no="b"><div class="pc pcb w2 h4"><div class="t m0 x10 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x12 hd y55 ff5 fs6 fc2 sc0 ls9 ws8d">xi</div><div class="t m0 xd h10 y56 ffc fs6 fc4 sc0 ls0 ws0">File Handling<span class="ws3f"> ���������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>138</div><div class="t m0 xd h10 y57 ffc fs6 fc4 sc0 ls0 ws0">ArrayObject<span class="ws8e"> �����������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>138</div><div class="t m0 xd h10 y58 ffc fs6 fc4 sc0 ls0 ws0">Observer Patter<span class="_ _0"></span>n<span class="ws8f"> ��������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>138</div><div class="t m0 xc hf yc5 ffc fs8 fc4 sc0 ls0 ws0">Generators<span class="ws90"> �������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>138</div><div class="t m0 xd h10 yc6 ffc fs6 fc4 sc0 ls0 ws0">Yield Keywor<span class="_ _1"></span>d<span class="ws45"> �������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>139</div><div class="t m0 xd h10 yc7 ffc fs6 fc4 sc0 ls0 ws0">Yielding with Keys<span class="ws91"> ������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>139</div><div class="t m0 xd h10 ydb ffc fs6 fc4 sc0 ls0 ws0">Yielding NULL<span class="ws8b"> ��������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>140</div><div class="t m0 xd h10 ydc ffc fs6 fc4 sc0 ls0 ws0">Yielding b<span class="_ _1"></span>y Reference<span class="ws45"> �������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>140</div><div class="t m0 xd h10 ydd ffc fs6 fc4 sc0 ls0 ws0">Returning from a Generator<span class="ws92"> ����������������������������������������������������������������������������������<span class="_ _d"> </span></span>140</div><div class="t m0 xd h10 yde ffc fs6 fc4 sc0 ls0 ws0">Generator Delegation<span class="ws39"> ��������������������������������������������������������������������������������������������<span class="_ _d"></span></span>141</div><div class="t m0 xc hf ydf ffc fs8 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>raits<span class="ws93"> ����������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>141</div><div class="t m0 xd h10 ye0 ffc fs6 fc4 sc0 ls0 ws0">Declaring and Using <span class="_ _1"></span>T<span class="_ _2"></span>raits<span class="ws94"> ������������������������������������������������������������������������������������<span class="_ _d"> </span></span>142</div><div class="t m0 xd h10 ye1 ffc fs6 fc4 sc0 ls0 wsf">Namespacing T<span class="_ _2"></span>raits<span class="ws95"> ����������������������������������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">142</span></span></div><div class="t m0 xd h10 ye2 ffc fs6 fc4 sc0 ls0 ws0">Inheritance and Precedence<span class="ws86"> ���������������������������������������������������������������������������������<span class="_ _d"></span></span>142</div><div class="t m0 xd h10 ye3 ffc fs6 fc4 sc0 ls0 ws0">Conﬂict Resolution<span class="ws96"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>143</div><div class="t m0 xd h10 ye4 ffc fs6 fc4 sc0 ls0 ws0">Visibility<span class="ws97"> ����������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>144</div><div class="t m0 xc hf ye5 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 6: Security<span class="ws98"> ���������������������������������������������������������������������<span class="_ _3"> </span></span>149</span></span></div><div class="t m0 xc hf ye6 ffc fs8 fc4 sc0 ls0 ws0">Conﬁguration<span class="ws2a"> ���������������������������������������������������������������������������������������<span class="_ _c"> </span></span>149</div><div class="t m0 xd h10 y9f ffc fs6 fc4 sc0 ls0 wsf">Errors <span class="_ _0"></span>and Warnings<span class="ws32"> ���������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">150</span></span></div><div class="t m0 xd h10 ya0 ffc fs6 fc4 sc0 ls0 ws0">Disabling Functions and Classes<span class="ws28"> �������������������������������������������������������������������������� </span>151</div><div class="t m0 xd h10 ya1 ffc fs6 fc4 sc0 ls0 ws0">PHP as an <span class="_ _1"></span>Apache Module<span class="ws94"> ������������������������������������������������������������������������������������ </span>151</div><div class="t m0 xd h10 ye7 ffc fs6 fc4 sc0 ls0 ws0">PHP as a CGI Binary<span class="ws57"> ����������������������������������������������������������������������������������������������<span class="_ _3"> </span></span>151</div><div class="t m0 xd h10 ye8 ffc fs6 fc4 sc0 ls0 ws0">Running PHP-FPM<span class="wsf"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>153</div><div class="t m0 xc hf ye9 ffc fs8 fc4 sc0 ls0 ws0">Session Security<span class="ws99"> ����������������������������������������������������������������������������������<span class="_ _c"> </span></span>154</div><div class="t m0 xd h10 yea ffc fs6 fc4 sc0 ls0 ws0">Session Hijacking<span class="ws9a"> �������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>154</div><div class="t m0 xd h10 yeb ffc fs6 fc4 sc0 ls0 ws0">Session Fixation<span class="ws9b"> ���������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>156</div><div class="t m0 xd h10 yec ffc fs6 fc4 sc0 ls0 ws0">Improving Session Security<span class="ws9c"> ���������������������������������������������������������������������������������� </span>156</div><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.596200px;bottom:588.146000px;width:317.989800px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.596200px;bottom:570.146000px;width:317.989800px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.596200px;bottom:552.146000px;width:317.989800px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:531.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9e" data-dest-detail='[158,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:514.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9e" data-dest-detail='[158,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:496.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9f" data-dest-detail='[159,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:478.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9f" data-dest-detail='[159,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:460.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9f" data-dest-detail='[159,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:442.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa0" data-dest-detail='[160,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:424.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa0" data-dest-detail='[160,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:403.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa1" data-dest-detail='[161,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:386.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa1" data-dest-detail='[161,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:368.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa1" data-dest-detail='[161,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:350.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa2" data-dest-detail='[162,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:332.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa3" data-dest-detail='[163,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:314.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa7" data-dest-detail='[167,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.103800px;bottom:271.709000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa8" data-dest-detail='[168,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:254.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:236.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:218.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:200.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfab" data-dest-detail='[171,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:182.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfac" data-dest-detail='[172,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:161.713000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfac" data-dest-detail='[172,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:144.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:126.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:108.145000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa7" data-dest-detail='[167,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:68.072800px;bottom:292.396000px;width:332.946200px;height:11.564000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc" class="pf w2 h4" data-page-no="c"><div class="pc pcc w2 h4"><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 ls7 ws36">xii</div><div class="t m0 xf hf ya9 ffc fs8 fc4 sc0 ls0 ws0">Cross-Site Scripting<span class="ws9d"> ���������������������������������������������������������������������������� </span>156</div><div class="t m0 xe h10 yaa ffc fs6 fc4 sc0 ls0 wsf">Mitigating <span class="_ _0"></span>XSS Attacks<span class="ws9e"> �����������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">157</span></span></div><div class="t m0 xf hf yed ffc fs8 fc4 sc0 ls0 ws0">Cross-Site Request Forgeries<span class="ws9f"> ��������������������������������������������������������������<span class="_ _c"> </span></span>158</div><div class="t m0 xf hf yee ffc fs8 fc4 sc0 ls0 ws0">SQL Injection<span class="wsa0"> ��������������������������������������������������������������������������������������� </span>158</div><div class="t m0 xe h10 yef ffc fs6 fc4 sc0 ls0 ws0">Prepared Statements<span class="wsa1"> ��������������������������������������������������������������������������������������������<span class="_ _d"></span></span>158</div><div class="t m0 xe h10 yf0 ffc fs6 fc4 sc0 ls0 ws0">Escaping<span class="wsa2"> ��������������������������������������������������������������������������������������������������������������� </span>160</div><div class="t m0 xe h10 yf1 ffc fs6 fc4 sc0 ls0 ws0">General Principles<span class="ws8b"> �������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>160</div><div class="t m0 xf hf yf2 ffc fs8 fc4 sc0 ls0 ws0">Remote Code Injection<span class="ws9d"> ������������������������������������������������������������������������ </span>160</div><div class="t m0 xe h10 yf3 ffc fs6 fc4 sc0 ls0 ws0">Functions <span class="_ _1"></span>That Evaluate Strings as Code<span class="ws21"> �������������������������������������������������������������<span class="_ _d"></span></span>160</div><div class="t m0 xe h10 yf4 ffc fs6 fc4 sc0 ls0 ws0">Gaming include and require<span class="ws88"> ���������������������������������������������������������������������������������<span class="_ _d"></span></span>161</div><div class="t m0 xf hf yf5 ffc fs8 fc4 sc0 ls0 ws0">Email Injection<span class="wsa3"> �������������������������������������������������������������������������������������<span class="_ _c"> </span></span>162</div><div class="t m0 xf hf yf6 ffc fs8 fc4 sc0 ls0 ws0">Filter Input<span class="wsa4"> �������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>162</div><div class="t m0 xf hf yf7 ffc fs8 fc4 sc0 ls0 ws0">Escape Output<span class="wsa5"> �������������������������������������������������������������������������������������<span class="_ _c"> </span></span>163</div><div class="t m0 xe h10 yb6 ffc fs6 fc4 sc0 ls0 ws0">Avoid Log Poisoning<span class="ws33"> ���������������������������������������������������������������������������������������������<span class="_ _d"></span></span>164</div><div class="t m0 xf hf yf8 ffc fs8 fc4 sc0 ls0 ws0">Encryption and Hashing Algorithms<span class="ws24"> ���������������������������������������������������� </span>165</div><div class="t m0 xe h10 yb8 ffc fs6 fc4 sc0 ls0 ws0">Encryption in PHP<span class="wsa6"> ������������������������������������������������������������������������������������������������� </span>166</div><div class="t m0 xe h10 yf9 ffc fs6 fc4 sc0 ls0 ws0">Hash Functions<span class="ws29"> ����������������������������������������������������������������������������������������������������� </span>166</div><div class="t m0 xe h10 yfa ffc fs6 fc4 sc0 ls0 ws0">Secure Random Strings and Integers<span class="wsa7"> �������������������������������������������������������������������<span class="_ _d"></span></span>166</div><div class="t m0 xe h10 yfb ffc fs6 fc4 sc0 ls0 ws0">Salting Passwords<span class="wsa2"> ������������������������������������������������������������������������������������������������ </span>167</div><div class="t m0 xe h10 yfc ffc fs6 fc4 sc0 ls0 ws0">Checking a Password<span class="ws7d"> �������������������������������������������������������������������������������������������<span class="_ _d"></span></span>167</div><div class="t m0 xe h10 yfd ffc fs6 fc4 sc0 ls0 ws0">A Quick Note on Error Messages<span class="wsa8"> �������������������������������������������������������������������������� </span>168</div><div class="t m0 xf hf yfe ffc fs8 fc4 sc0 ls0 ws0">File Uploads<span class="ws8b"> �����������������������������������������������������������������������������������������<span class="_ _c"> </span></span>168</div><div class="t m0 xf hf yff ffc fs8 fc4 sc0 ls0 ws0">Database Storage<span class="wsa9"> ��������������������������������������������������������������������������������<span class="_ _c"> </span></span>169</div><div class="t m0 xf hf y100 ffc fs8 fc4 sc0 ls0 ws0">Avoid Publishing <span class="_ _2"></span>Y<span class="_ _1"></span>our Passwor<span class="_ _1"></span>d Online<span class="wsaa"> ���������������������������������������������� </span>169</div><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:586.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfaf" data-dest-detail='[175,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:568.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:548.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:528.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:510.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:492.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:474.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:454.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:436.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb3" data-dest-detail='[179,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:418.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb4" data-dest-detail='[180,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:398.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb4" data-dest-detail='[180,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:378.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb5" data-dest-detail='[181,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:358.137000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb6" data-dest-detail='[182,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:340.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb7" data-dest-detail='[183,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:320.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb8" data-dest-detail='[184,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:302.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb8" data-dest-detail='[184,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:284.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb8" data-dest-detail='[184,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:266.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb9" data-dest-detail='[185,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:248.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb9" data-dest-detail='[185,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:230.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfba" data-dest-detail='[186,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:212.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfba" data-dest-detail='[186,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:192.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbb" data-dest-detail='[187,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:172.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbb" data-dest-detail='[187,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:152.137000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd" class="pf w2 h4" data-page-no="d"><div class="pc pcd w2 h4"><div class="t m0 x10 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x13 hd y55 ff5 fs6 fc2 sc0 ls7 ws36">xiii</div><div class="t m0 xc hf y73 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 7: Data Formats and T<span class="_ _2"></span>ypes<span class="wsab"> ��������������������������������������������<span class="_ _3"> </span></span>173</span></span></div><div class="t m0 xc hf y74 ffc fs8 fc4 sc0 ls0 ws0">XML<span class="ws9d"> ����������������������������������������������������������������������������������������������������� </span>173</div><div class="t m0 xd h10 y75 ffc fs6 fc4 sc0 ls0 ws0">The Basics of XML<span class="wsac"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>173</div><div class="t m0 xd h10 y76 ffc fs6 fc4 sc0 ls0 wsf">Well-Formed <span class="_ _0"></span>and V<span class="_ _1"></span>alid<span class="ws79"> ������������������������������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">174</span></span></div><div class="t m0 xd h10 y77 ffc fs6 fc4 sc0 ls0 ws0">XML Processing Instructions<span class="wsad"> ��������������������������������������������������������������������������������<span class="_ _d"> </span></span>175</div><div class="t m0 xd h10 y78 ffc fs6 fc4 sc0 ls0 ws0">XML <span class="_ _1"></span>T<span class="_ _2"></span>ransformations with PHP XSL<span class="wsae"> ���������������������������������������������������������������������<span class="_ _d"> </span></span>175</div><div class="t m0 xd h10 y101 ffc fs6 fc4 sc0 ls0 ws0">Parsing XML in PHP<span class="wsaf"> ����������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>177</div><div class="t m0 xd h10 y102 ffc fs6 fc4 sc0 ls0 ws0">DOM<span class="wsb0"> ����������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>179</div><div class="t m0 xd h10 y103 ffc fs6 fc4 sc0 ls0 ws0">SimpleXML<span class="ws6d"> ������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>182</div><div class="t m0 xc hf y104 ffc fs8 fc4 sc0 ls0 ws0">SOAP<span class="wsb1"> ����������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>184</div><div class="t m0 xd h10 y105 ffc fs6 fc4 sc0 ls0 ws0">What SOAP Does<span class="wsb2"> ���������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>184</div><div class="t m0 xd h10 y106 ffc fs6 fc4 sc0 ls0 ws0">Using a SOAP Service<span class="wsb3"> ������������������������������������������������������������������������������������������� </span>184</div><div class="t m0 xd h10 y107 ffc fs6 fc4 sc0 ls0 ws0">Offering a SOAP Service<span class="wsb4"> ���������������������������������������������������������������������������������������<span class="_ _d"> </span></span>185</div><div class="t m0 xc hf y108 ffc fs8 fc4 sc0 ls0 ws5d">REST Web Ser<span class="_ _0"></span>vices<span class="wsb5"> �����������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">186</span></span></div><div class="t m0 xd h10 y109 ffc fs6 fc4 sc0 ls0 ws0">Application and Resource States<span class="ws74"> ��������������������������������������������������������������������������<span class="_ _d"></span></span>186</div><div class="t m0 xd h10 y10a ffc fs6 fc4 sc0 ls0 wsf">REST Verbs<span class="ws88"> �����������������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">187</span></span></div><div class="t m0 xd h10 y10b ffc fs6 fc4 sc0 ls0 ws0">HA<span class="_ _1"></span>TEO<span class="_ _1"></span>AS<span class="ws92"> ���������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>187</div><div class="t m0 xd h10 y10c ffc fs6 fc4 sc0 ls0 ws0">Request Headers<span class="ws9e"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>188</div><div class="t m0 xd h10 y10d ffc fs6 fc4 sc0 ls0 ws0">Response Headers and Codes<span class="ws66"> ������������������������������������������������������������������������������ </span>188</div><div class="t m0 xd h10 y10e ffc fs6 fc4 sc0 ls0 ws0">Sending Requests<span class="wsb6"> �������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>189</div><div class="t m0 xc hf y10f ffc fs8 fc4 sc0 ls0 ws0">JSON����������������������������������������������������������������������������������������������������<span class="_ _c"> </span>189</div><div class="t m0 xc hf y110 ffc fs8 fc4 sc0 ls0 ws5d">Date <span class="_ _0"></span>and Time<span class="wsb7"> �������������������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">190</span></span></div><div class="t m0 xd h10 y111 ffc fs6 fc4 sc0 ls0 ws0">Formatting Dates<span class="ws1c"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>191</div><div class="t m0 xd h10 y112 ffc fs6 fc4 sc0 ls0 ws0">Date Calculations<span class="ws38"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>193</div><div class="t m0 xd h10 y113 ffc fs6 fc4 sc0 ls0 ws0">Manual Date Calculations<span class="ws8e"> �������������������������������������������������������������������������������������<span class="_ _d"> </span></span>194</div><div class="t m0 xd h10 y114 ffc fs6 fc4 sc0 ls0 ws0">Comparing Dates<span class="ws20"> �������������������������������������������������������������������������������������������������� </span>194</div><a class="l" href="#pfbe" data-dest-detail='[190,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.103800px;bottom:565.839000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbe" data-dest-detail='[190,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:548.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbf" data-dest-detail='[191,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:530.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:512.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:494.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc2" data-dest-detail='[194,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:476.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc4" data-dest-detail='[196,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:458.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc7" data-dest-detail='[199,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:440.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:419.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:402.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:384.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfca" data-dest-detail='[202,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:366.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcb" data-dest-detail='[203,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:345.843000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcb" data-dest-detail='[203,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:328.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcc" data-dest-detail='[204,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:310.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcc" data-dest-detail='[204,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:292.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:274.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:256.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:238.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:217.843000px;width:332.484000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcf" data-dest-detail='[207,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.088000px;bottom:197.839000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd0" data-dest-detail='[208,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:180.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd2" data-dest-detail='[210,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:162.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd3" data-dest-detail='[211,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:144.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd3" data-dest-detail='[211,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:126.275000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbe" data-dest-detail='[190,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:67.418300px;bottom:585.415000px;width:334.691700px;height:12.872000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe" class="pf w2 h4" data-page-no="e"><div class="pc pce w2 h4"><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 lsa ws58">x<span class="_ _0"></span>iv</div><div class="t m0 xf hf ya9 ffc fs8 fc4 sc0 ls0 ws0">PHP SPL Data Structures<span class="wsb8"> ���������������������������������������������������������������������<span class="_ _c"> </span></span>195</div><div class="t m0 xe h10 y115 ffc fs6 fc4 sc0 ls0 ws0">Interfaces Related to Data Structures<span class="wsb9"> ������������������������������������������������������������������<span class="_ _d"></span></span>195</div><div class="t m0 xe h10 y116 ffc fs6 fc4 sc0 ls0 ws0">Lists<span class="wsb3"> ���������������������������������������������������������������������������������������������������������������������� </span>197</div><div class="t m0 xe h10 y117 ffc fs6 fc4 sc0 ls0 ws0">Heaps<span class="wsba"> ��������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>198</div><div class="t m0 xe h10 y118 ffc fs6 fc4 sc0 ls0 ws0">Arrays<span class="wsbb"> �������������������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>200</div><div class="t m0 xe h10 y119 ffc fs6 fc4 sc0 ls0 ws0">Maps<span class="wsbc"> ���������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>200</div><div class="t m0 xe h10 y11a ffc fs6 fc4 sc0 ls0 ws0">Summary of SPL Data Structures<span class="ws1c"> �������������������������������������������������������������������������<span class="_ _d"> </span></span>200</div><div class="t m0 xf hf y11b ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 8: Input-Output<span class="wsbd"> ��������������������������������������������������������������<span class="_ _3"> </span></span>205</span></span></div><div class="t m0 xf hf y11c ffc fs8 fc4 sc0 ls0 ws0">Files<span class="wsbe"> �����������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>205</div><div class="t m0 xe h10 y11d ffc fs6 fc4 sc0 ls0 ws0">Opening Files<span class="ws41"> ��������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>205</div><div class="t m0 xe h10 y11e ffc fs6 fc4 sc0 ls0 ws0">File Modes<span class="ws8c"> ������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>205</div><div class="t m0 xe h10 y11f ffc fs6 fc4 sc0 ls0 ws0">File Mode Flags<span class="wsbf"> ����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>206</div><div class="t m0 xe h10 y120 ffc fs6 fc4 sc0 ls0 ws0">Reading Files<span class="ws66"> �������������������������������������������������������������������������������������������������������� </span>207</div><div class="t m0 xe h10 y121 ffc fs6 fc4 sc0 ls0 ws0">Writing to Files<span class="wsc0"> ������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>207</div><div class="t m0 xf hf y122 ffc fs8 fc4 sc0 ls0 ws0">File System Functions<span class="wsc1"> �������������������������������������������������������������������������<span class="_ _c"> </span></span>208</div><div class="t m0 xe h10 y123 ffc fs6 fc4 sc0 ls0 ws0">Directories<span class="wsc2"> ������������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>208</div><div class="t m0 xe h10 y124 ffc fs6 fc4 sc0 ls0 ws0">File Information<span class="wsc3"> ����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>209</div><div class="t m0 xe h10 y125 ffc fs6 fc4 sc0 ls0 ws0">Managing Files<span class="wsc4"> �����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>210</div><div class="t m0 xe h10 y126 ffc fs6 fc4 sc0 ls0 ws0">Determining the <span class="_ _1"></span>T<span class="_ _2"></span>ype of a File System Object<span class="wsc5"> ������������������������������������������������������<span class="_ _f"> </span></span>210</div><div class="t m0 xe h10 y127 ffc fs6 fc4 sc0 ls0 ws0">Magic File Constants<span class="ws40"> ��������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>211</div><div class="t m0 xf hf y128 ffc fs8 fc4 sc0 ls0 ws0">Streams<span class="ws92"> �����������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>211</div><div class="t m0 xe h10 y129 ffc fs6 fc4 sc0 ls0 wsf">Stream Wrappers<span class="wsc6"> ��������������������������������������������������������������������������������������������������<span class="_ _d"></span><span class="ws0">211</span></span></div><div class="t m0 xe h10 y12a ffc fs6 fc4 sc0 ls0 ws0">Filters<span class="wsba"> ��������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>212</div><div class="t m0 xe h10 y12b ffc fs6 fc4 sc0 ls0 ws0">Stream Contexts<span class="wsc7"> ���������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>213</div><div class="t m0 xf hf y12c ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 9: W<span class="_ _1"></span>eb Features<span class="wsc8"> ������������������������������������������������������������<span class="_ _3"> </span></span>217</span></span></div><div class="t m0 xf hf y12d ffc fs8 fc4 sc0 ls0 ws5d">Request T<span class="_ _2"></span>ypes<span class="wsc9"> ������������������������������������������������������������������������������������� <span class="ws0">217</span></span></div><div class="t m0 xf hf y12e ffc fs8 fc4 sc0 ls0 ws0">Request Data<span class="wsa9"> ���������������������������������������������������������������������������������������<span class="_ _c"> </span></span>218</div><div class="t m0 xe h10 y12f ffc fs6 fc4 sc0 ls0 ws0">The Request Superglobal��������������������������������������������������������������������������������������<span class="_ _d"></span>218</div><div class="t m0 xe h10 y130 ffc fs6 fc4 sc0 ls0 ws0">POST<span class="wsca"> ��������������������������������������������������������������������������������������������������������������������� </span>219</div><div class="t m0 xe h10 y131 ffc fs6 fc4 sc0 ls0 ws0">GET<span class="wsae"> �����������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>220</div><div class="t m0 xe h10 y132 ffc fs6 fc4 sc0 ls0 ws0">PUT<span class="wsb7"> �����������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>222</div><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:586.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:569.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:552.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd7" data-dest-detail='[215,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:535.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:518.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:501.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:484.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfde" data-dest-detail='[222,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:444.449000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfde" data-dest-detail='[222,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:428.177000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfde" data-dest-detail='[222,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:411.477000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfdf" data-dest-detail='[223,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:394.777000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe0" data-dest-detail='[224,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:378.077000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe0" data-dest-detail='[224,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:361.377000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe1" data-dest-detail='[225,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:342.245000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe1" data-dest-detail='[225,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:325.977000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe2" data-dest-detail='[226,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:309.277000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe3" data-dest-detail='[227,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:292.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe3" data-dest-detail='[227,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:275.877000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:259.177000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:240.045000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:223.777000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe5" data-dest-detail='[229,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:207.077000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe6" data-dest-detail='[230,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:190.377000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfea" data-dest-detail='[234,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:149.949000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:130.953000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:114.377000px;width:318.000000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfec" data-dest-detail='[236,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.790000px;bottom:97.376800px;width:317.990000px;height:11.670200px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfed" data-dest-detail='[237,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.790000px;bottom:80.376800px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.790000px;bottom:62.376800px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfde" data-dest-detail='[222,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:49.745500px;bottom:463.451000px;width:333.164500px;height:12.436000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfea" data-dest-detail='[234,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:49.527300px;bottom:169.996000px;width:334.909700px;height:12.218000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff" class="pf w2 h4" data-page-no="f"><div class="pc pcf w2 h4"><div class="t m0 x10 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x14 hd y55 ff5 fs6 fc2 sc0 lsb wscb">xv</div><div class="t m0 xc hf ya9 ffc fs8 fc4 sc0 ls0 ws0">Sessions<span class="wsa4"> ����������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>222</div><div class="t m0 xd h10 yaa ffc fs6 fc4 sc0 ls0 ws0">Starting a Session<span class="ws33"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>223</div><div class="t m0 xd h10 yab ffc fs6 fc4 sc0 ls0 ws0">Session Identiﬁer and Session <span class="_ _1"></span>Variables<span class="ws87"> ��������������������������������������������������������������<span class="_ _d"></span></span>223</div><div class="t m0 xd h10 yac ffc fs6 fc4 sc0 ls0 ws0">Ending a Session<span class="ws62"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>223</div><div class="t m0 xd h10 yad ffc fs6 fc4 sc0 ls0 ws0">Session Handlers<span class="ws22"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>224</div><div class="t m0 xc hf yae ffc fs8 fc4 sc0 ls0 ws0">File Uploads<span class="ws8b"> �����������������������������������������������������������������������������������������<span class="_ _c"> </span></span>224</div><div class="t m0 xd h10 y133 ffc fs6 fc4 sc0 ls0 ws0">Limiting the Size of Uploads<span class="ws7a"> ��������������������������������������������������������������������������������� </span>224</div><div class="t m0 xd h10 y134 ffc fs6 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>emporary Files<span class="ws67"> ���������������������������������������������������������������������������������������������������� </span>225</div><div class="t m0 xc hf y135 ffc fs8 fc4 sc0 ls0 ws0">Forms<span class="wscc"> ��������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>225</div><div class="t m0 xd h10 y136 ffc fs6 fc4 sc0 ls0 ws0">Form Elements<span class="wscd"> �����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>225</div><div class="t m0 xd h10 y137 ffc fs6 fc4 sc0 ls0 ws0">Arrays in HTML Forms<span class="wsb4"> ������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>226</div><div class="t m0 xd h10 y138 ffc fs6 fc4 sc0 ls0 ws0">Selecting Multiple Items from a List<span class="ws49"> ���������������������������������������������������������������������<span class="_ _d"> </span></span>227</div><div class="t m0 xc hf y139 ffc fs8 fc4 sc0 ls0 ws0">Cookies<span class="wsce"> ������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>227</div><div class="t m0 xd h10 y13a ffc fs6 fc4 sc0 ls0 ws0">Setting Cookies<span class="wscf"> �����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>227</div><div class="t m0 xd h10 y13b ffc fs6 fc4 sc0 ls0 ws0">Retrieving Cookies<span class="wsb2"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>228</div><div class="t m0 xc hf y13c ffc fs8 fc4 sc0 ls0 ws0">HTTP Headers<span class="wsd0"> ��������������������������������������������������������������������������������������<span class="_ _c"> </span></span>228</div><div class="t m0 xd h10 y13d ffc fs6 fc4 sc0 ls0 ws0">Sending Headers<span class="ws91"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>229</div><div class="t m0 xd h10 y13e ffc fs6 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>racking Headers<span class="ws65"> ��������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>230</div><div class="t m0 xc hf y13f ffc fs8 fc4 sc0 ls0 ws5d">HTTP Authentication<span class="ws70"> ����������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">230</span></span></div><div class="t m0 xc hf y140 ffc fs8 fc4 sc0 ls0 ws0">HTTP Status Codes<span class="ws70"> ������������������������������������������������������������������������������<span class="_ _c"> </span></span>231</div><div class="t m0 xc hf y141 ffc fs8 fc4 sc0 ls0 ws0">Output Control Functions<span class="wsd1"> ���������������������������������������������������������������������<span class="_ _c"> </span></span>232</div><div class="t m0 xc hf y142 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 10: Databases and SQL<span class="ws7b"> �������������������������������������������������<span class="_ _3"> </span></span>235</span></span></div><div class="t m0 xc hf y143 ffc fs8 fc4 sc0 ls0 ws0">Database Basics<span class="ws3e"> ����������������������������������������������������������������������������������<span class="_ _c"> </span></span>235</div><div class="t m0 xd h10 y144 ffc fs6 fc4 sc0 ls0 ws0">Keys<span class="wsb0"> ����������������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>235</div><div class="t m0 xd h10 y145 ffc fs6 fc4 sc0 ls0 ws0">Indexes<span class="ws1f"> �����������������������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>236</div><div class="t m0 xd h10 y146 ffc fs6 fc4 sc0 ls0 ws0">Relationships<span class="wsd2"> �������������������������������������������������������������������������������������������������������� </span>236</div><div class="t m0 xd h10 y147 ffc fs6 fc4 sc0 ls0 wsf">SQL <span class="_ _0"></span>Data T<span class="_ _2"></span>ypes<span class="wsd3"> �����������������������������������������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">237</span></span></div><div class="t m0 xd h10 y148 ffc fs6 fc4 sc0 ls0 wsf">Numeric T<span class="_ _2"></span>ypes<span class="ws3a"> ������������������������������������������������������������������������������������������������������ <span class="ws0">237</span></span></div><div class="t m0 xd h10 y149 ffc fs6 fc4 sc0 ls0 wsf">Character T<span class="_ _2"></span>ypes<span class="ws4e"> ���������������������������������������������������������������������������������������������������� <span class="ws0">238</span></span></div><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:586.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:568.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:550.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:532.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:514.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:494.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:476.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff2" data-dest-detail='[242,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:458.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff2" data-dest-detail='[242,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:438.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff2" data-dest-detail='[242,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:420.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff3" data-dest-detail='[243,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:402.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff4" data-dest-detail='[244,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:384.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff4" data-dest-detail='[244,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:364.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff4" data-dest-detail='[244,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:346.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff5" data-dest-detail='[245,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:328.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff5" data-dest-detail='[245,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:308.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff6" data-dest-detail='[246,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:290.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff7" data-dest-detail='[247,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:272.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff7" data-dest-detail='[247,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:252.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff8" data-dest-detail='[248,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:232.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff9" data-dest-detail='[249,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:212.137000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffc" data-dest-detail='[252,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.112000px;bottom:170.137000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffc" data-dest-detail='[252,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:152.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffd" data-dest-detail='[253,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:134.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffd" data-dest-detail='[253,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:116.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:98.576900px;width:317.990000px;height:11.670100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:80.576900px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:62.576900px;width:317.990000px;height:11.669800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffc" data-dest-detail='[252,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:68.291000px;bottom:190.069000px;width:335.128000px;height:13.309000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10" class="pf w2 h4" data-page-no="10"><div class="pc pc10 w2 h4"><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 ls6 ws19">xvi</div><div class="t m0 xf hf ya9 ffc fs8 fc4 sc0 ls0 ws0">Working with SQL<span class="ws59"> ��������������������������������������������������������������������������������<span class="_ _c"> </span></span>238</div><div class="t m0 xe h10 yaa ffc fs6 fc4 sc0 ls0 ws0">Creating a Database and <span class="_ _1"></span>T<span class="_ _2"></span>able<span class="wsca"> ����������������������������������������������������������������������������� </span>238</div><div class="t m0 xe h10 yab ffc fs6 fc4 sc0 ls0 ws0">Dropping Database and <span class="_ _1"></span>T<span class="_ _2"></span>ables<span class="ws32"> ����������������������������������������������������������������������������� </span>239</div><div class="t m0 xe h10 yac ffc fs6 fc4 sc0 ls0 ws0">Retrieving Data<span class="ws83"> ����������������������������������������������������������������������������������������������������� </span>239</div><div class="t m0 xe h10 yad ffc fs6 fc4 sc0 ls0 ws0">Inserting New Data<span class="ws1b"> ����������������������������������������������������������������������������������������������� </span>239</div><div class="t m0 xe h10 y14a ffc fs6 fc4 sc0 ls0 ws0">Updating Data<span class="ws5b"> ������������������������������������������������������������������������������������������������������� </span>240</div><div class="t m0 xe h10 y14b ffc fs6 fc4 sc0 ls0 ws0">Aggregating Data<span class="wsd4"> ��������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>240</div><div class="t m0 xe h10 y14c ffc fs6 fc4 sc0 ls0 ws0">Grouping Data<span class="wsd5"> �������������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>240</div><div class="t m0 xf hf y14d ffc fs8 fc4 sc0 ls0 ws0">Joins<span class="wsbe"> ����������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>241</div><div class="t m0 xe h10 y14e ffc fs6 fc4 sc0 ls0 wsf">Join T<span class="_ _2"></span>ypes<span class="wsd6"> �������������������������������������������������������������������������������������������������������������<span class="_ _d"> </span><span class="ws0">241</span></span></div><div class="t m0 xf hf y137 ffc fs8 fc4 sc0 ls0 ws0">Prepared Statements<span class="ws58"> ��������������������������������������������������������������������������<span class="_ _c"> </span></span>242</div><div class="t m0 xf hf y14f ffc fs8 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>ransactions<span class="wsd7"> ����������������������������������������������������������������������������������������<span class="_ _c"> </span></span>243</div><div class="t m0 xf hf y150 ffc fs8 fc4 sc0 ls0 ws0">PHP Data Object (PDO)<span class="wsc8"> ������������������������������������������������������������������������ </span>243</div><div class="t m0 xe h10 y151 ffc fs6 fc4 sc0 ls0 ws0">Connecting to PDO<span class="wsd8"> ������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>244</div><div class="t m0 xe h10 y152 ffc fs6 fc4 sc0 ls0 ws0">T<span class="_ _2"></span>ransactions in PDO<span class="ws10"> ����������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>244</div><div class="t m0 xe h10 y13c ffc fs6 fc4 sc0 ls0 ws0">Fetching PDO Results<span class="ws27"> �������������������������������������������������������������������������������������������<span class="_ _d"></span></span>245</div><div class="t m0 xe h10 y13d ffc fs6 fc4 sc0 ls0 ws0">Prepared Statements in PDO<span class="wsaf"> ��������������������������������������������������������������������������������<span class="_ _d"></span></span>246</div><div class="t m0 xe h10 y13e ffc fs6 fc4 sc0 ls0 ws0">Repeated Calls to PDO Prepared Statements<span class="wsac"> �������������������������������������������������������<span class="_ _d"></span></span>247</div><div class="t m0 xf hf y153 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 11: Err<span class="_ _1"></span>or Handling<span class="wsd9"> ���������������������������������������������������������<span class="_ _c"> </span></span>249</span></span></div><div class="t m0 xf hf y154 ffc fs8 fc4 sc0 ls0 ws0">Throwables<span class="wsa3"> ������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>249</div><div class="t m0 xe h10 yfd ffc fs6 fc4 sc0 ls0 wsf">The Throwable Interface<span class="wsda"> ���������������������������������������������������������������������������������������<span class="_ _f"> </span><span class="ws0">249</span></span></div><div class="t m0 xf hf yfe ffc fs8 fc4 sc0 ls0 ws0">Errors<span class="wsd1"> ���������������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>250</div><div class="t m0 xe h10 y155 ffc fs6 fc4 sc0 ls0 ws0">Error Constants<span class="ws39"> �����������������������������������������������������������������������������������������������������<span class="_ _d"> </span></span>251</div><div class="t m0 xe h10 y156 ffc fs6 fc4 sc0 ls0 ws0">Using an Error<span class="_ _1"></span>-Handler Function<span class="wsdb"> ��������������������������������������������������������������������������<span class="_ _d"></span></span>252</div><div class="t m0 xe h10 y157 ffc fs6 fc4 sc0 ls0 ws0">Displaying or Suppressing Non-Fatal Error Messages<span class="ws73"> �����������������������������������������<span class="_ _d"></span></span>253</div><div class="t m0 xe h10 y158 ffc fs6 fc4 sc0 ls0 ws0">Error<span class="_ _1"></span>-Handling Functions<span class="wsdc"> ��������������������������������������������������������������������������������������<span class="_ _d"></span></span>253</div><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:586.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:568.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf100" data-dest-detail='[256,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:550.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf100" data-dest-detail='[256,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:532.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf100" data-dest-detail='[256,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:514.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf101" data-dest-detail='[257,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:496.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf101" data-dest-detail='[257,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:478.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf101" data-dest-detail='[257,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:460.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf102" data-dest-detail='[258,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:440.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf102" data-dest-detail='[258,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:422.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf103" data-dest-detail='[259,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:402.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf104" data-dest-detail='[260,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:382.141000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf105" data-dest-detail='[261,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:344.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf105" data-dest-detail='[261,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:326.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf106" data-dest-detail='[262,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:308.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf107" data-dest-detail='[263,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:290.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf108" data-dest-detail='[264,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:272.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.283800px;bottom:230.141000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:212.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10b" data-dest-detail='[267,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:49.280000px;bottom:192.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10c" data-dest-detail='[268,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:174.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10d" data-dest-detail='[269,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:156.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:138.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:63.780000px;bottom:120.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf104" data-dest-detail='[260,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:49.091000px;bottom:361.560000px;width:336.000000px;height:14.400000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:49.527300px;bottom:249.196000px;width:334.472700px;height:13.527000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11" class="pf w2 h4" data-page-no="11"><div class="pc pc11 w2 h4"><div class="t m0 x10 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> CONTENTS</span></div><div class="t m0 x15 hd y55 ff5 fs6 fc2 sc0 ls7 ws36">xv<span class="_ _0"></span>ii</div><div class="t m0 xc hf ya9 ffc fs8 fc4 sc0 ls0 ws0">Exceptions<span class="ws69"> �������������������������������������������������������������������������������������������<span class="_ _c"> </span></span>254</div><div class="t m0 xd h10 yaa ffc fs6 fc4 sc0 ls0 ws0">Extending Exception Classes<span class="wsd6"> ��������������������������������������������������������������������������������<span class="_ _d"> </span></span>255</div><div class="t m0 xd h10 yab ffc fs6 fc4 sc0 ls0 ws0">The Exception Hierarchy<span class="ws22"> ��������������������������������������������������������������������������������������� </span>256</div><div class="t m0 xc hf y159 ffc fs8 fc4 sc0 ls0 ws0">Handling Exceptions<span class="wsdd"> ����������������������������������������������������������������������������<span class="_ _c"> </span></span>257</div><div class="t m0 xd h10 y15a ffc fs6 fc4 sc0 ls0 ws0">Catching Exceptions<span class="ws95"> ���������������������������������������������������������������������������������������������<span class="_ _d"></span></span>258</div><div class="t m0 xd h10 yae ffc fs6 fc4 sc0 ls0 ws0">The ﬁnally Block<span class="wsad"> ���������������������������������������������������������������������������������������������������<span class="_ _d"></span></span>259</div><div class="t m0 xd h10 y133 ffc fs6 fc4 sc0 ls0 ws0">Setting the Default Exception Handler<span class="ws44"> ������������������������������������������������������������������<span class="_ _d"> </span></span>260</div><div class="t m0 xc hf yf2 ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Chapter 12: Exer<span class="_ _1"></span>cises<span class="wsde"> �����������������������������������������������������������������<span class="_ _c"> </span></span>263</span></span></div><div class="t m0 xc hf y15b ffa fs8 fc4 sc0 ls0 ws0"> <span class="_ _8"></span><span class="ffb fc3">■<span class="_ _0"></span><span class="ffa fc4">Appendix: Quiz Answ<span class="_ _1"></span>ers<span class="wsdf"> �������������������������������������������������������������<span class="_ _c"> </span></span>281</span></span></div><div class="t m0 xc hf y15c ffc fs8 fc4 sc0 ls0 ws0">Chapter 1:<span class="_ _1"></span> PHP Basics<span class="wse0"> �������������������������������������������������������������������������<span class="_ _c"> </span></span>281</div><div class="t m0 xc hf y15d ffc fs8 fc4 sc0 ls0 ws0">Chapter 2:<span class="_ _1"></span> Functions<span class="wse1"> ��������������������������������������������������������������������������� </span>282</div><div class="t m0 xc hf y15e ffc fs8 fc4 sc0 ls0 ws0">Chapter 3:<span class="_ _1"></span> Strings and Patterns<span class="ws77"> ���������������������������������������������������������� </span>282</div><div class="t m0 xc hf y15f ffc fs8 fc4 sc0 ls0 ws5d">Chapter <span class="_ _0"></span>4:<span class="_ _1"></span> Arrays<span class="wse2"> ���������������������������������������������������������������������������������<span class="_ _c"> </span><span class="ws0">283</span></span></div><div class="t m0 xc hf y160 ffc fs8 fc4 sc0 ls0 ws0">Chapter 5:<span class="_ _1"></span> Object-Oriented PHP<span class="ws60"> ���������������������������������������������������������� </span>283</div><div class="t m0 xc hf y161 ffc fs8 fc4 sc0 ls0 ws0">Chapter 6:<span class="_ _1"></span> Security<span class="ws3e"> ������������������������������������������������������������������������������<span class="_ _c"> </span></span>284</div><div class="t m0 xc hf y162 ffc fs8 fc4 sc0 ls0 ws0">Chapter 7:<span class="_ _1"></span> Data Structures<span class="wse0"> ������������������������������������������������������������������<span class="_ _c"> </span></span>285</div><div class="t m0 xc hf y163 ffc fs8 fc4 sc0 ls0 ws0">Chapter 8:<span class="_ _1"></span> Input-Output<span class="wsb8"> �����������������������������������������������������������������������<span class="_ _c"> </span></span>285</div><div class="t m0 xc hf y164 ffc fs8 fc4 sc0 ls0 ws0">Chapter 9:<span class="_ _1"></span> <span class="_ _1"></span>W<span class="_ _1"></span>eb Features<span class="wse3"> ���������������������������������������������������������������������<span class="_ _c"> </span></span>286</div><div class="t m0 xc hf y165 ffc fs8 fc4 sc0 ls0 ws0">Chapter 10:<span class="_ _1"></span> Databases and SQL<span class="wse4"> ����������������������������������������������������������<span class="_ _c"> </span></span>286</div><div class="t m0 xc hf y166 ffc fs8 fc4 sc0 ls0 ws0">Chapter 11:<span class="_ _1"></span> Error Handling<span class="ws7"> ������������������������������������������������������������������<span class="_ _c"> </span></span>286</div><div class="t m0 xc hf y167 ffc fs8 fc4 sc0 ls0 ws0">Chapter 12:<span class="_ _1"></span> Exercises<span class="ws7e"> ��������������������������������������������������������������������������<span class="_ _c"> </span></span>287</div><div class="t m0 x3 hf y168 ffa fs8 fc4 sc0 ls0 ws0">Index<span class="wse5"> ����������������������������������������������������������������������������������������������<span class="_ _10"> </span></span>289</div><a class="l" href="#pf10f" data-dest-detail='[271,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:586.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf110" data-dest-detail='[272,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:568.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf111" data-dest-detail='[273,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:550.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf112" data-dest-detail='[274,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.100000px;bottom:530.145000px;width:332.496000px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf113" data-dest-detail='[275,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:512.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf114" data-dest-detail='[276,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:494.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf115" data-dest-detail='[277,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.600000px;bottom:476.577000px;width:317.990000px;height:11.670000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12a" data-dest-detail='[298,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:412.145000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12b" data-dest-detail='[299,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:392.141000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12b" data-dest-detail='[299,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:372.137000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12c" data-dest-detail='[300,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:352.133000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12c" data-dest-detail='[300,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:332.129000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12d" data-dest-detail='[301,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:312.125000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12e" data-dest-detail='[302,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:292.121000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12e" data-dest-detail='[302,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:272.117000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12f" data-dest-detail='[303,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:252.113000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12f" data-dest-detail='[303,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:232.109000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12f" data-dest-detail='[303,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:212.105000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf130" data-dest-detail='[304,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:67.115800px;bottom:192.101000px;width:332.496200px;height:14.004000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf132" data-dest-detail='[306,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:57.623800px;bottom:163.937000px;width:341.988200px;height:14.460000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf118" data-dest-detail='[280,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:68.291000px;bottom:454.942000px;width:331.637000px;height:12.218000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12a" data-dest-detail='[298,"Fit"]'><div class="d m1" style="border-style:none;position:absolute;left:68.072800px;bottom:429.414000px;width:331.637200px;height:15.273000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12" class="pf w2 h4" data-page-no="12"><div class="pc pc12 w2 h4"><img class="bi x0 y3d w4 hc" alt="" src="bg12.png"/><div class="t m0 x16 hd y3e ff5 fs6 fc2 sc0 ls8 ws63">xix</div><div class="t m0 x3 he y3f ff9 fs7 fc2 sc0 ls0 ws62">About <span class="_ _d"></span>the Author</div><div class="t m0 x3 h12 y169 ff7 fsa fc2 sc0 ls0 ws0">Andrew Beak<span class="ff5"> is a software architect res<span class="_ _1"></span>ponsible for the cloud platform of an Internet </span></div><div class="t m0 x3 h12 y16a ff5 fsa fc2 sc0 ls0 wse6">television company. He is a Z<span class="_ _1"></span>CE and has over six years of pr<span class="_ _1"></span>ofessional experience working </div><div class="t m0 x3 h12 y16b ff5 fsa fc2 sc0 ls0 ws0">in PHP<span class="_ _11"></span>. He has been the technical lead for teams in South Africa and the United Kin<span class="_ _1"></span>gdom. </div><div class="t m0 x3 h12 y16c ff5 fsa fc2 sc0 ls0 ws0">His enjoymen<span class="_ _1"></span>t for writing coupled with his interest in empowering staff inspir<span class="_ _1"></span>ed him to </div><div class="t m0 x3 h12 y16d ff5 fsa fc2 sc0 ls0 ws0">write this book. He has also written a book on scaling PHP and published a series of video </div><div class="t m0 x3 h12 y16e ff5 fsa fc2 sc0 ls0 ws0">courses focused on the Zend examinations.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf13" class="pf w2 h4" data-page-no="13"><div class="pc pc13 w2 h4"><img class="bi x0 y16f w4 h13" alt="" src="bg13.png"/><div class="t m0 x13 hd y3e ff5 fs6 fc2 sc0 ls9 ws8d">xxi</div><div class="t m0 x3 he y3f ff9 fs7 fc2 sc0 ls0 ws0">About the T<span class="_ _5"></span>echnical </div><div class="t m0 x3 he y170 ff9 fs7 fc2 sc0 ls0 ws0">Reviewer</div><div class="t m0 x3 h12 y171 ff7 fsa fc2 sc0 ls0 ws0">Nico Loubs<span class="_ _0"></span>er<span class="ff5"> is the lead softwar<span class="_ _1"></span>e developer and team lead in a company that specializes </span></div><div class="t m0 x3 h12 y172 ff5 fsa fc2 sc0 ls0 ws0">in the payment industry, with a degree in information systems<span class="_ _1"></span>. He has been working in </div><div class="t m0 x3 h12 y173 ff5 fsa fc2 sc0 ls0 ws0">PHP since PHP 3.8, as well as working in numer<span class="_ _1"></span>ous industries, and is a serious PHP 7 </div><div class="t m0 x3 h12 y174 ff5 fsa fc2 sc0 ls0 ws0">enthusiast.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf14" class="pf w2 h4" data-page-no="14"><div class="pc pc14 w2 h4"><img class="bi x0 y175 w4 h14" alt="" src="bg14.png"/><div class="t m0 x17 hd y3e ff5 fs6 fc2 sc0 ls7 ws36">x<span class="_ _0"></span>xiii</div><div class="t m0 x3 he y3f ff9 fs7 fc2 sc0 ls0 ws0">Introduction</div><div class="t m0 x3 h12 y169 ff5 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>elcome to what I hope is an accessible r<span class="_ _1"></span>eference that helps you quic<span class="_ _1"></span>kly find and learn </div><div class="t m0 x3 h12 y176 ff5 fsa fc2 sc0 ls0 ws0">relevant facts a<span class="_ _1"></span>bout the PHP language. I<span class="_ _1"></span>’m writing it with the following readers in mind:</div><div class="t m0 x18 h12 y177 ffe fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff5">Intermediate PHP pr<span class="_ _1"></span>ogrammers with two or three years of </span></div><div class="t m0 x19 h12 y178 ff5 fsa fc2 sc0 ls0 ws0">experience who are hoping to sit for the Zend 2017 certification </div><div class="t m0 x19 h12 y179 ff5 fsa fc2 sc0 ls0 ws0">exams in the PHP 7.1 language.</div><div class="t m0 x18 h12 y17a ffe fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff5">Programmers who ar<span class="_ _1"></span>e proficient in another lang<span class="_ _1"></span>uage but want a </span></div><div class="t m0 x19 h12 y17b ff5 fsa fc2 sc0 ls0 ws0">quick refer<span class="_ _1"></span>ence book to dive into PHP<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y17c ff5 fsa fc2 sc0 ls0 ws0">This book is specifically not an introduction to pr<span class="_ _1"></span>ogramming and no attempt is m<span class="_ _1"></span>ade </div><div class="t m0 x3 h12 y17d ff5 fsa fc2 sc0 ls0 ws0">to introduce basic topics suc<span class="_ _1"></span>h as what a variable is. I<span class="_ _1"></span>t is purely a r<span class="_ _1"></span>eference to learn the </div><div class="t m0 x3 h12 y17e ff5 fsa fc2 sc0 ls0 ws0">idiosyncrasies of PHP and serve as a guide toward certifying.</div><div class="t m0 x1a h12 y17f ff5 fsa fc2 sc0 ls0 ws0">Additionally, it does not intend to r<span class="_ _1"></span>eplace the PHP manual but r<span class="_ _1"></span>ather to focus the </div><div class="t m0 x3 h12 y180 ff5 fsa fc2 sc0 ls0 ws0">reader’<span class="_ _2"></span>s attention on aspects of PHP relevant to the Zend certification exams<span class="_ _1"></span>. T<span class="_ _2"></span>o that end, </div><div class="t m0 x3 h12 y181 ff5 fsa fc2 sc0 ls0 ws0">I make liberal use of footnotes linking to m<span class="_ _1"></span>anual pages and other refer<span class="_ _1"></span>ence pages.</div><div class="t m0 x1a h12 y182 ff5 fsa fc2 sc0 ls0 ws0">This guide cannot possibly co<span class="_ _1"></span>ver the full depth of the PHP manual,</div><div class="t m0 x1b h15 y183 ff5 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x1c h12 y184 ff5 fsa fc2 sc0 ls0 ws0"> and you cannot </div><div class="t m0 x3 h12 y185 ff5 fsa fc2 sc0 ls0 ws0">consider yourself prepar<span class="_ _1"></span>ed until you ha<span class="_ _1"></span>ve worked through the m<span class="_ _1"></span>anual pages. I<span class="_ _1"></span>t is </div><div class="t m0 x3 h12 y186 ff5 fsa fc2 sc0 ls0 ws0">essential to follow the footnote links<span class="_ _1"></span>, read the page, and even follo<span class="_ _1"></span>w some links through </div><div class="t m0 x3 h12 y187 ff5 fsa fc2 sc0 ls0 ws0">the PHP manual r<span class="_ _1"></span>elated to the topic.</div><div class="t m0 x1a h12 y188 ff5 fsa fc2 sc0 lsc ws0">This book focuses on PHP 7.1 and in order to keep focused on the exam syllabus<span class="_ _1"></span> </div><div class="t m0 x3 h12 y189 ff5 fsa fc2 sc0 lsc ws0">does not attempt to exhaustiv<span class="_ _1"></span>ely explain what featur<span class="_ _1"></span>es are av<span class="_ _1"></span>ailable in which version </div><div class="t m0 x3 h12 y18a ff5 fsa fc2 sc0 lsc ws0">of PHP<span class="_ _11"></span>. Y<span class="_ _2"></span>ou can assume that if a featur<span class="_ _1"></span>e is referenced in this book then it is a<span class="_ _1"></span>vailable in </div><div class="t m0 x3 h12 y18b ff5 fsa fc2 sc0 lsc ws0">PHP 7.1.</div><div class="t m0 x1a h12 y18c ff5 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou won’t nee<span class="_ _0"></span>d to know when a fe<span class="_ _1"></span>ature was intr<span class="_ _1"></span>oduced into PHP<span class="_ _11"></span>, but you will need </div><div class="t m0 x3 h12 y18d ff5 fsa fc2 sc0 ls0 ws0">to know what fea<span class="_ _1"></span>tures are depr<span class="_ _1"></span>ecated in PHP 7.1. I&apos;ve tried to keep that in mind when </div><div class="t m0 x3 h12 y18e ff5 fsa fc2 sc0 ls0 ws0">giving information about the a<span class="_ _1"></span>vailability of a featur<span class="_ _1"></span>e.</div><div class="t m0 x1a h12 y18f ff5 fsa fc2 sc0 ls0 ws0">Wherever possible<span class="_ _1"></span>, I&apos;ll flag where something has chan<span class="_ _1"></span>ged from PHP 5.6, especially </div><div class="t m0 x3 h12 y190 ff5 fsa fc2 sc0 ls0 ws0">where it is not back<span class="_ _1"></span>ward compa<span class="_ _1"></span>tible.</div><div class="t m0 x1a h12 y191 ff5 fsa fc2 sc0 ls0 ws0">This book tries to avoid ha<span class="_ _1"></span>ving an opinion about coding standar<span class="_ _1"></span>ds such as PSR2, but </div><div class="t m0 x3 h12 y192 ff5 fsa fc2 sc0 ls0 ws0">it is strongly r<span class="_ _1"></span>ecommended that a practicing developer learn these in par<span class="_ _1"></span>allel. Y<span class="_ _1"></span>ou won’t </div><div class="t m0 x3 h12 y193 ff5 fsa fc2 sc0 ls0 ws0">be asked about them on the exam and so I won&apos;t teach them here<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y194 ff5 fsa fc2 sc0 ls0 ws0">Some paragraphs in this book ar<span class="_ _1"></span>e marked up with symbols<span class="_ _1"></span>, as explained next.</div><div class="t m0 x3 h16 y195 fff fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h17 y196 ff6 fs5 fc4 sc0 ls0 ws0">https://php.net/</div><a class="l" href="#pf14" data-dest-detail='[20,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:329.914000px;bottom:333.864000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/"><div class="d m1" style="border-style:none;position:absolute;left:60.162700px;bottom:73.828300px;width:68.000300px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf15" class="pf w2 h4" data-page-no="15"><div class="pc pc15 w2 h4"><img class="bi x8 y197 w3 h18" alt="" src="bg15.png"/><div class="t m0 x8 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> INTRODUCTION</span></div><div class="t m0 x8 hd y55 ff5 fs6 fc2 sc0 lsa ws58">x<span class="_ _0"></span>x<span class="_ _0"></span>iv</div><div class="t m0 x1e h10 y198 ffd fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ffb">■<span class="_ _c"> </span><span class="ff10 fc2">Caution<span class="ffd"> <span class="_ _14"> </span>These paragraphs dra<span class="_ _0"></span>w your attention to something that might be  </span></span></span></div><div class="t m0 x8 h10 y199 ffd fs6 fc2 sc0 ls0 ws0">counter<span class="_ _1"></span>-intuitive or a part of PHP weirdness.</div><div class="t m0 x1e h10 y19a ffd fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ffb">■<span class="_ _c"> </span><span class="ff10 fc2">Note<span class="ffd"> <span class="_ _14"> </span>These paragraphs deser<span class="_ _0"></span>ve special attention.</span></span></span></div><div class="t m0 x1e h10 y19b ffd fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ffb">■<span class="_ _c"> </span><span class="ff10 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ffd fc2"> <span class="_ _14"> </span>These paragraphs draw your a<span class="_ _0"></span>ttention to potential exam questions.</span></span></div><div class="t m0 x8 h19 y19c ffc fsd fc2 sc0 ls0 ws0">The Zend Certification Syllabus</div><div class="t m0 x8 h12 y19d ff5 fsa fc2 sc0 ls0 ws0">Zend certification is one of the few industry certifications that is widely recognized as </div><div class="t m0 x8 h12 y19e ff5 fsa fc2 sc0 ls0 ws0">an established benchmark for pr<span class="_ _1"></span>oficiency in PHP<span class="_ _11"></span>. Part of why this certification is so well </div><div class="t m0 x8 h12 y19f ff5 fsa fc2 sc0 ls0 ws0">respected is that it is not easy t<span class="_ _1"></span>o attain. T<span class="_ _2"></span>o pass your exam, you need to ha<span class="_ _1"></span>ve an in-depth </div><div class="t m0 x8 h12 y1a0 ff5 fsa fc2 sc0 ls0 ws0">knowledge of a wide area of topics in PHP pr<span class="_ _1"></span>ogramming.</div><div class="t m0 x3 h12 y1a1 ff5 fsa fc2 sc0 ls0 ws0">This book aims to highlight the topics tha<span class="_ _1"></span>t are important in the certification </div><div class="t m0 x8 h12 y1a2 ff5 fsa fc2 sc0 ls0 ws0">examination. I’<span class="_ _1"></span>ve included a bunch of quizzes that tes<span class="_ _1"></span>t the topics, and if you notice </div><div class="t m0 x8 h12 y1a3 ff5 fsa fc2 sc0 ls0 ws0">any gaps in your kno<span class="_ _1"></span>wledge, you should mak<span class="_ _1"></span>e sure to go carefully thr<span class="_ _1"></span>ough the relevan<span class="_ _1"></span>t </div><div class="t m0 x8 h12 y1a4 ff5 fsa fc2 sc0 ls0 ws0">sections in the manual.</div><div class="t m0 x3 h12 y1a5 ff5 fsa fc2 sc0 ls0 ws0">The actual exam consists of about 70 questions dr<span class="_ _1"></span>awn from a pool. Questions will </div><div class="t m0 x8 h12 y1a6 ff5 fsa fc2 sc0 ls0 ws0">vary in difficulty and will sometimes require you to apply the principles from mor<span class="_ _1"></span>e than </div><div class="t m0 x8 h12 y1a7 ff5 fsa fc2 sc0 ls0 ws0">one area of the syllab<span class="_ _1"></span>us to solve them.</div><div class="t m0 x3 h12 y1a8 ff5 fsa fc2 sc0 lsc ws0">There ar<span class="_ _1"></span>e ten topics covered in the examin<span class="_ _1"></span>ation. Zend places varying amount of </div><div class="t m0 x8 h12 y1a9 ff5 fsa fc2 sc0 lsc ws0">importance to the topics in the exam. Y<span class="_ _2"></span>ou can find a list of exam topics on the Zend </div><div class="t m0 x8 h12 y1aa ff5 fsa fc2 sc0 lse wse8">web site.</div><div class="t m0 x3 h12 y1ab ff5 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou’ll notice that this guide has a chapter for each of the topics in the list<span class="_ _0"></span>:</div><div class="t m0 x8 h10 y1ac ff9 fs6 fc2 sc0 ls0 ws0">V<span class="_ _1"></span>ery Important<span class="_ _15"> </span>A<span class="_ _1"></span>verage Importance<span class="_ _16"> </span>Lower Importance</div><div class="t m0 x8 h12 y1ad ff5 fsa fc2 sc0 ls0 ws0">PHP basics<span class="_ _17"> </span>Functions<span class="_ _18"> </span>Databases and SQL</div><div class="t m0 x8 h12 y1ae ff5 fsa fc2 sc0 ls0 ws0">Object-Oriented PHP<span class="_ _19"> </span>W<span class="_ _1"></span>eb Fea<span class="_ _1"></span>tures<span class="_ _1a"> </span>Data F<span class="_ _1"></span>ormat and Types</div><div class="t m0 x8 h12 y1af ff5 fsa fc2 sc0 ls0 ws0">Security<span class="_ _1b"> </span>Strings<span class="_ _1c"> </span>Input<span class="_ _1"></span>-Output</div><div class="t m0 x1f h12 y1b0 ff5 fsa fc2 sc0 lsf wse9">Ar<span class="_ _0"></span>rays</div><div class="t m0 x1f h12 y1b1 ff5 fsa fc2 sc0 ls0 ws0">Error H<span class="_ _1"></span>andling</div><div class="t m0 x3 h12 y1b2 ff5 fsa fc2 sc0 ls0 wse6">The sections on PHP basics, object<span class="_ _1"></span>-oriented programming<span class="_ _1"></span>, and security are regarded </div><div class="t m0 x8 h12 y1b3 ff5 fsa fc2 sc0 ls0 ws0">as being the most important and are given the most weigh<span class="_ _1"></span>t in the exam.</div><div class="t m0 x3 h12 y1b4 ff5 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e a lot of tricky questions in the PHP Basics section, so don’t be fooled by </div><div class="t m0 x8 h12 y1b5 ff5 fsa fc2 sc0 ls0 ws0">the inclusion of the word “basics<span class="_ _1"></span>” in the topic title. I<span class="_ _1"></span>t’<span class="_ _1"></span>s one of the thr<span class="_ _1"></span>ee most important </div><div class="t m0 x8 h12 y1b6 ff5 fsa fc2 sc0 ls0 ws0">topics in the exam syllabus<span class="_ _1"></span>, so don’t skimp on the time you spend finding the gaps in your </div><div class="t m0 x8 h12 y1b7 ff5 fsa fc2 sc0 ls0 ws0">knowledge.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf16" class="pf w2 h4" data-page-no="16"><div class="pc pc16 w2 h4"><div class="t m0 x20 h11 y54 ffb fs9 fc5 sc0 ls0 ws0">■<span class="ffd fc2"> INTRODUCTION</span></div><div class="t m0 x21 hd y55 ff5 fs6 fc2 sc0 lsb wscb">xxv</div><div class="t m0 x1a h12 y1b8 ff5 fsa fc2 sc0 ls0 ws0">The sections on databases, da<span class="_ _1"></span>ta formats and types, and input<span class="_ _1"></span>-output ar<span class="_ _1"></span>e considered </div><div class="t m0 x3 h12 y1b9 ff5 fsa fc2 sc0 ls0 ws0">less important. Y<span class="_ _2"></span>ou’ll still need to know them, however<span class="_ _2"></span>, as exam questions will often rely </div><div class="t m0 x3 h12 y1ba ff5 fsa fc2 sc0 ls0 ws0">on a broad knowledge of PHP and m<span class="_ _1"></span>ay require y<span class="_ _1"></span>ou to apply knowledge from differ<span class="_ _1"></span>ent </div><div class="t m0 x3 h12 y1bb ff5 fsa fc2 sc0 ls0 ws0">topics.</div><div class="t m0 x1a h12 y1bc ff5 fsa fc2 sc0 ls0 ws0">The exam has a mixtur<span class="_ _1"></span>e of multiple choice and free text questions<span class="_ _1"></span>. Y<span class="_ _2"></span>ou’ll be required </div><div class="t m0 x3 h12 y1bd ff5 fsa fc2 sc0 ls0 ws0">to code short snippets to answer some questions.</div><div class="t m0 x1a h12 y1be ff5 fsa fc2 sc0 ls0 ws0">Although you won’t be requir<span class="_ _1"></span>ed to have an encyclopedic knowledge of the PHP </div><div class="t m0 x3 h12 y1bf ff5 fsa fc2 sc0 ls0 ws0">manual, you will be asked questions about function par<span class="_ _1"></span>ameters, wha<span class="_ _1"></span>t function to use in a </div><div class="t m0 x3 h12 y1c0 ff5 fsa fc2 sc0 ls0 ws0">particular situation, common classes, ex<span class="_ _1"></span>ceptions, and other elements of PHP<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y1c1 ff5 fsa fc2 sc0 ls0 ws0">Unless they note otherwis<span class="_ _0"></span>e<span class="_ _1"></span>, all questions assume that you ar<span class="_ _1"></span>e working with PHP 7.1  </div><div class="t m0 x3 h12 y1c2 ff5 fsa fc2 sc0 ls0 ws0">that has been configur<span class="_ _1"></span>ed with the recommended settings. Y<span class="_ _2"></span>ou can assume that err<span class="_ _1"></span>or </div><div class="t m0 x3 h12 y1c3 ff5 fsa fc2 sc0 ls0 ws0">display is set on and that err<span class="_ _1"></span>or reporting is set to <span class="ff6">E_ALL</span>.</div><div class="t m0 x1a h12 y1c4 ff5 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can mark questions for review and come back to them la<span class="_ _1"></span>ter<span class="_ _2"></span>. Don&apos;t spend more </div><div class="t m0 x3 h12 y1c5 ff5 fsa fc2 sc0 ls0 ws0">time than is allocated to a question; Th<span class="_ _1"></span>at just makes the following questions mor<span class="_ _1"></span>e </div><div class="t m0 x3 h12 y1c6 ff5 fsa fc2 sc0 ls0 ws0">difficult because you ha<span class="_ _1"></span>ve less time!</div><div class="t m0 x1a h12 y1c7 ff5 fsa fc2 sc0 ls0 ws0">Finally, ther<span class="_ _1"></span>e is no negative mar<span class="_ _1"></span>king in the exam. Y<span class="_ _2"></span>ou won’t be penalized for an </div><div class="t m0 x3 h12 y1c8 ff5 fsa fc2 sc0 ls0 ws0">incorrect answer<span class="_ _2"></span>, so taking a guess works in your fa<span class="_ _1"></span>vor<span class="_ _2"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf17" class="pf w2 h4" data-page-no="17"><div class="pc pc17 w2 h4"><img class="bi x0 y1c9 w4 h1a" alt="" src="bg17.png"/><div class="t m0 xb hd y3e ff11 fs6 fc2 sc0 ls0 ws0">1</div><div class="t m0 x3 h1b y1ca ff12 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff12 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff13">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff12 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_1</div><div class="t m0 x3 h1c y1cd ff14 fse fc2 sc0 ls0 ws0">CHAPTER 1</div><div class="t m0 x3 h1d y1ce ff15 fs7 fc2 sc0 ls0 ws0">PHP<span class="_ _1"></span> Basics</div><div class="t m0 x3 h19 y1cf ff16 fsd fc2 sc0 ls0 ws0">Introduction</div><div class="t m0 x3 h12 y1d0 ff11 fsa fc2 sc0 ls0 ws0">This chapter focuses on the nitty gritty details of PHP as a language<span class="_ _1"></span>. This is a big chapter </div><div class="t m0 x3 h12 y1d1 ff11 fsa fc2 sc0 ls0 ws0">and it covers one of the most important aspects of the exam<span class="_ _1"></span>. The best advice that I can </div><div class="t m0 x3 h12 y1d2 ff11 fsa fc2 sc0 ls0 ws0">give is not to skim over it<span class="_ _1"></span>. There are a lot of places wher<span class="_ _1"></span>e PHP has some peculiarities and </div><div class="t m0 x3 h12 y1d3 ff11 fsa fc2 sc0 ls0 ws0">even with a few years of experience you might not ha<span class="_ _1"></span>ve encountered them all.</div><div class="t m0 x3 h19 y1d4 ff16 fsd fc2 sc0 ls0 ws0">Basic Language Features</div><div class="t m0 x3 h12 y1d5 ff11 fsa fc2 sc0 ls0 ws0">All statements in PHP must be termina<span class="_ _1"></span>ted with a semicolon. An exception to this is if the </div><div class="t m0 x3 h12 y1d6 ff11 fsa fc2 sc0 ls0 ws0">statement ha<span class="_ _1"></span>ppens to be the last statement before a closing tag<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1d7 ff11 fsa fc2 sc0 ls0 ws0">Whitespace has no semantic meaning in PHP<span class="_ _11"></span>. T<span class="_ _1"></span>here is no need to line code up<span class="_ _1"></span>, but </div><div class="t m0 x3 h12 y1d8 ff11 fsa fc2 sc0 ls0 ws0">most coding standards enfor<span class="_ _1"></span>ce this to impro<span class="_ _1"></span>ve code readability. Whitespace ma<span class="_ _1"></span>y not </div><div class="t m0 x3 h12 y1d9 ff11 fsa fc2 sc0 ls0 ws0">appear in the middle of function names, v<span class="_ _1"></span>ariable names, or keywords<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1da ff11 fsa fc2 sc0 ls0 ws0">M<span class="_ _1"></span>ultiple statements are allowed on a single line<span class="_ _1"></span>.</div><div class="t m0 x1a h1e y1db ff11 fsa fc2 sc0 ls0 ws0">Code blocks are denoted by the br<span class="_ _1"></span>ace symbols <span class="ff17">{ }</span>.</div><div class="t m0 x1a h12 y1dc ff11 fsa fc2 sc0 ls0 ws0">PHP language construct and function names ar<span class="_ _1"></span>e not case-sensitive, b<span class="_ _1"></span>ut variable and </div><div class="t m0 x3 h12 y1dd ff11 fsa fc2 sc0 ls0 ws0">constant names ar<span class="_ _1"></span>e.</div><div class="t m0 x3 h1e y1de ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1df ff17 fsa fc2 sc0 ls0 ws0">ECHO &quot;Hello World&quot;; // works</div><div class="t m0 x3 h1e y1e0 ff17 fsa fc2 sc0 ls0 ws0">$variable = &quot;Hello World&quot;;</div><div class="t m0 x3 h1e y1e1 ff17 fsa fc2 sc0 ls0 ws0">echo $VARIABLE; // won&apos;t work</div><div class="t m0 x3 h19 y1e2 ff16 fsd fc2 sc0 ls0 ws0">Inserting PHP into <span class="_ _2"></span>Web Pages</div><div class="t m0 x3 h12 y1e3 ff11 fsa fc2 sc0 ls0 ws0">Although PHP is a general scripting language and can be used for other purposes<span class="_ _1"></span>, it is </div><div class="t m0 x3 h12 y1e4 ff11 fsa fc2 sc0 ls0 ws0">most commonly deployed as a server<span class="_ _1"></span>-side scripting language used for building  </div><div class="t m0 x3 h12 y1e5 ff11 fsa fc2 sc0 ls0 ws0">web pages.</div><div class="t m0 x1a h12 y1e6 ff11 fsa fc2 sc0 ls0 ws0">The PHP parser does not parse anything that is not included in the tags th<span class="_ _1"></span>at indicate </div><div class="t m0 x3 h12 y1e7 ff11 fsa fc2 sc0 ls0 ws0">PHP script. Content outside of PHP tags is sim<span class="_ _1"></span>ply output without inspection. This allows </div><div class="t m0 x3 h12 y1e8 ff11 fsa fc2 sc0 ls0 ws0">PHP to be embedded in HTML<span class="_ _0"></span>.</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_1"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf18" class="pf w2 h4" data-page-no="18"><div class="pc pc18 w2 h4"><img class="bi x8 y1e9 w3 h1f" alt="" src="bg18.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls0 ws0">2</div><div class="t m0 x3 h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several ways to delimit PHP script, but only the first two in this table ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">commonly used:</div><div class="t m0 x8 h20 y1ea ff15 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ype<span class="_ _1d"> </span>Open<span class="_ _1e"> </span>Close<span class="_ _1f"> </span>Note</div><div class="t m0 x8 h1e y1eb ff11 fsa fc2 sc0 ls0 ws0">Standard<span class="_ _20"> </span><span class="ff17">&lt;?php<span class="_ _21"> </span>?&gt;</span></div><div class="t m0 x8 h1e y1ec ff11 fsa fc2 sc0 ls10 wsea">Echo<span class="_ _22"> </span><span class="ff17 ls0 ws0">&lt;?=<span class="_ _23"> </span>?&gt;</span></div><div class="t m0 x8 h1e y1ed ff11 fsa fc2 sc0 ls0 ws0">Short<span class="_ _24"> </span><span class="ff17">&lt;?<span class="_ _25"> </span>?&gt;<span class="_ _26"> </span></span>Deprecated</div><div class="t m0 x8 h1e y1ee ff11 fsa fc2 sc0 ls0 ws0">Script<span class="_ _27"> </span><span class="ff17">&lt;script language=&quot;php&quot;&gt;<span class="_ _28"> </span>&lt;/script&gt;<span class="_ _a"> </span></span>Do not use</div><div class="t m0 x8 h1e y1ef ff11 fsa fc2 sc0 ls11 wse8">ASP<span class="_ _29"> </span><span class="ff17 ls0 ws0">&lt;%<span class="_ _25"> </span>%&gt;<span class="_ _26"> </span><span class="ff11">Deprecated</span></span></div><div class="t m0 x3 h1e y1f0 ff11 fsa fc2 sc0 ls0 ws0">The <span class="ff17">echo</span> tag allows you to easily echo a PHP v<span class="_ _1"></span>ariable and the shortened tag makes </div><div class="t m0 x8 h12 y1f1 ff11 fsa fc2 sc0 ls0 ws0">your HTML document easier to r<span class="_ _1"></span>ead. It is commonly used in templates wher<span class="_ _1"></span>e you want to </div><div class="t m0 x8 h12 y1f2 ff11 fsa fc2 sc0 ls0 ws0">output several values in<span class="_ _1"></span>to various positions on a page. Using the short syntax k<span class="_ _1"></span>eeps your </div><div class="t m0 x8 h12 y1f3 ff11 fsa fc2 sc0 ls0 ws0">template code much nea<span class="_ _1"></span>ter<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y1f4 ff11 fsa fc2 sc0 ls0 ws0">Its usage is easiest to under<span class="_ _1"></span>stand when it’<span class="_ _1"></span>s shown along with the equivalent in </div><div class="t m0 x8 h12 y1f5 ff11 fsa fc2 sc0 ls0 ws0">standard opening codes<span class="_ _1"></span>. The following two tags are identic<span class="_ _1"></span>al:</div><div class="t m0 x8 h1e y1f6 ff17 fsa fc2 sc0 ls0 ws0">&lt;?= $variable ?&gt;</div><div class="t m0 x8 h1e y1f7 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php echo $variable ?&gt;</div><div class="t m0 x1e h10 y1f8 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18 wsf"> <span class="_ _2a"> </span> The <span class="_ _0"></span></span><span class="ff17 fsa">echo</span><span class="ff18"> statement is the last statement before a closing tag and so it does not </span></span></span></div><div class="t m0 x8 h10 y1f9 ff18 fs6 fc2 sc0 ls0 ws0">need a semicolon to terminate it.</div><div class="t m0 x3 h12 y1fa ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use PHP logic betwe<span class="_ _0"></span>en opening and closin<span class="_ _1"></span>g tags, as in this example:</div><div class="t m0 x8 h1e y1fb ff17 fsa fc2 sc0 ls0 ws0">Balance:</div><div class="t m0 x8 h1e y1fc ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1fd ff17 fsa fc2 sc0 ls0 ws0">if ($bankBalance &gt; 0): ?&gt;</div><div class="t m0 x8 h1e y1fe ff17 fsa fc2 sc0 ls0 ws0">&lt;p class=&quot;black&quot;&gt;</div><div class="t m0 x8 h1e y1ff ff17 fsa fc2 sc0 ls0 ws0">&lt;?php else: ?&gt;</div><div class="t m0 x8 h1e y200 ff17 fsa fc2 sc0 ls0 ws0">&lt;p class=&quot;red&quot;&gt;</div><div class="t m0 x8 h1e y201 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php endif; ?&gt;</div><div class="t m0 x8 h1e y202 ff17 fsa fc2 sc0 ls0 ws0">&lt;?= $bankBalance?&gt;</div><div class="t m0 x8 h1e y203 ff17 fsa fc2 sc0 ls0 ws0">&lt;/p&gt;</div><div class="t m0 x3 h12 y204 ff11 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s step thro<span class="_ _1"></span>ugh the code:</div><div class="t m0 x8 h1e y205 ff16 fsa fc2 sc0 ls0 wseb"> 1. <span class="_ _2b"></span><span class="ff11 ws0">The PHP parser will output <span class="ff17">Balance:</span> without evaluating it </span></div><div class="t m0 x18 h12 y206 ff11 fsa fc2 sc0 ls0 ws0">because it is not in the PHP tags.</div><div class="t m0 x8 h12 y207 ff16 fsa fc2 sc0 ls0 wseb"> 2. <span class="_ _2b"></span><span class="ff11 ls12 ws0">The PHP tag then checks if the balance is greater th<span class="_ _1"></span>an zero and </span></div><div class="t m0 x18 h1e y208 ff11 fsa fc2 sc0 ls12 ws0">terminates. T<span class="_ _1"></span>he <span class="ff17">&lt;p class=&quot;black&quot;&gt;</span> tag is only output if that </div><div class="t m0 x18 h1e y209 ff11 fsa fc2 sc0 ls12 ws0">condition is <span class="ff17 wsec">true</span>; otherw<span class="_ _0"></span>ise<span class="_ _1"></span>, the <span class="ff17">&lt;p class=&quot;red&quot;&gt;</span> tag is output.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf19" class="pf w2 h4" data-page-no="19"><div class="pc pc19 w2 h4"><img class="bi x3 y20a w5 h21" alt="" src="bg19.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 xb hd y55 ff11 fs6 fc2 sc0 ls0 ws0">3</div><div class="t m0 x3 h1e y20b ff16 fsa fc2 sc0 ls0 wseb"> 3. <span class="_ _2b"></span><span class="ff11 ws0">W<span class="_ _1"></span>e use the <span class="ff17">echo</span> tag syntax to output the <span class="ff17">$bankBalance</span> </span></div><div class="t m0 x19 h12 y20c ff11 fsa fc2 sc0 ls0 ws0">variable.</div><div class="t m0 x3 h12 y20d ff16 fsa fc2 sc0 ls0 wseb"> 4. <span class="_ _2b"></span><span class="ff11 ws0">Finally, the closin<span class="_ _1"></span>g paragraph tag is o<span class="_ _1"></span>utput without being </span></div><div class="t m0 x19 h12 y20e ff11 fsa fc2 sc0 ls0 ws0">parsed because the PHP script has been closed.</div><div class="t m0 x23 h10 y20f ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> <span class="_ _1"></span>This approach will also work using the curly brace syntax of an <span class="ff17 fsa">if</span> statement.</span></span></span></div><div class="t m0 x1a h1e y210 ff11 fsa fc2 sc0 ls0 ws0">It is quite common in PHP pr<span class="_ _1"></span>ograms to omit the closing tag <span class="ff17">?&gt;</span> in a file<span class="_ _1"></span>. This is </div><div class="t m0 x3 h12 y211 ff11 fsa fc2 sc0 ls0 ws0">acceptable to the parser and is a useful way to pr<span class="_ _1"></span>event problems with newline charact<span class="_ _1"></span>ers </div><div class="t m0 x3 h12 y212 ff11 fsa fc2 sc0 ls0 ws0">appearing after the closing tag.</div><div class="t m0 x1a h12 y213 ff11 fsa fc2 sc0 ls0 ws0">These newline characters ar<span class="_ _1"></span>e sent as output by the PHP interpr<span class="_ _1"></span>eter and could </div><div class="t m0 x3 h12 y214 ff11 fsa fc2 sc0 ls0 ws0">interfere with the HTTP headers or cause other unintended side-effects. B<span class="_ _1"></span>y not closing </div><div class="t m0 x3 h12 y215 ff11 fsa fc2 sc0 ls0 ws0">the script in a PHP file, you pr<span class="_ _1"></span>event the chance of newline characters bein<span class="_ _1"></span>g sent.</div><div class="t m0 x23 h10 y216 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff18 fc2"> <span class="_ _2c"> </span> It is a common coding standard to require that the closing tag is omitted in </span></span></div><div class="t m0 x3 h10 y217 ff18 fs6 fc2 sc0 ls0 ws0">included files,<span class="_ _2"></span> but this is not a PHP requirement.</div><div class="t m0 x3 h19 y218 ff16 fsd fc2 sc0 ls0 ws0">Language Constructs</div><div class="t m0 x3 h12 y219 ff11 fsa fc2 sc0 ls0 ws0">Language constructs are differ<span class="_ _1"></span>ent from functions in tha<span class="_ _1"></span>t they are baked right into the </div><div class="t m0 x3 h12 y21a ff11 fsa fc2 sc0 ls10 wsea">language.</div><div class="t m0 x1a h12 y21b ff11 fsa fc2 sc0 ls0 ws0">Language constructs can be understood directly b<span class="_ _1"></span>y the parser and do not need to </div><div class="t m0 x3 h12 y21c ff11 fsa fc2 sc0 ls0 ws0">be broken down. F<span class="_ _1"></span>unctions, on the other hand, ar<span class="_ _1"></span>e mapped and simplified to a set of </div><div class="t m0 x3 h12 y21d ff11 fsa fc2 sc0 ls0 ws0">language constructs before they ar<span class="_ _1"></span>e parsed.</div><div class="t m0 x1a h12 y21e ff11 fsa fc2 sc0 ls0 ws0">Language constructs are not functions<span class="_ _1"></span>, and so cannot be used as a callback function. </div><div class="t m0 x3 h12 y21f ff11 fsa fc2 sc0 ls0 ws0">They follow rules that ar<span class="_ _1"></span>e different from functions when it comes to p<span class="_ _1"></span>arameters and the </div><div class="t m0 x3 h12 y220 ff11 fsa fc2 sc0 ls0 ws0">use of parentheses<span class="_ _1"></span>.</div><div class="t m0 x1a h1e y221 ff11 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, <span class="ff17">echo</span> doesn’t always need paren<span class="_ _1"></span>theses when you call it and, if you call it </div><div class="t m0 x3 h12 y222 ff11 fsa fc2 sc0 ls0 ws0">with more than one argumen<span class="_ _1"></span>t, then you can’t use paren<span class="_ _1"></span>theses.</div><div class="t m0 x3 h1e y223 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y224 ff17 fsa fc2 sc0 ls0 ws0">// one parameter, no brackets</div><div class="t m0 x3 h1e y225 ff17 fsa fc2 sc0 ls0 ws0">echo &quot;hello\r\n&quot;;</div><div class="t m0 x3 h1e y226 ff17 fsa fc2 sc0 ls0 ws0">// two parameters, brackets (syntax error)</div><div class="t m0 x3 h1e y227 ff17 fsa fc2 sc0 ls0 ws0">//echo(&apos;hello&apos;, &apos;world&apos;);</div><div class="t m0 x3 h1e y228 ff17 fsa fc2 sc0 ls0 ws0">// two parameters, no brackets</div><div class="t m0 x3 h1e y229 ff17 fsa fc2 sc0 ls0 ws0">echo &apos;hello&apos;, &apos;world&apos;;</div><div class="t m0 x1a h1e y22a ff11 fsa fc2 sc0 ls0 ws0">Furthermore<span class="_ _1"></span>, <span class="ff17">echo</span> does not return a value<span class="_ _1"></span>, whereas every function will always return </div><div class="t m0 x3 h12 y22b ff11 fsa fc2 sc0 ls0 ws0">a value (<span class="_ _1"></span>or null).</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1a" class="pf w2 h4" data-page-no="1a"><div class="pc pc1a w2 h4"><img class="bi x8 y175 w3 h22" alt="" src="bg1a.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls0 ws0">4</div><div class="t m0 x3 h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual page on reserved keywords</div><div class="t m0 x24 h15 y22c ff11 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x25 h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0"> has a complete list, but her<span class="_ _1"></span>e are some </div><div class="t m0 x8 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">of the constructs that you should be familiar with:</div><div class="t m0 x8 h20 y1ea ff15 fs6 fc2 sc0 ls0 ws0">Construct<span class="_ _2d"> </span>Used For</div><div class="t m0 x8 h1e y1eb ff17 fsa fc2 sc0 ls0 ws0">assert<span class="_ _2e"> </span><span class="ff11">Debug command to test a condition and do something if it is  </span></div><div class="t m0 x4 h12 y22d ff11 fsa fc2 sc0 ls0 ws0">not true.</div><div class="t m0 x8 h1e y22e ff17 fsa fc2 sc0 ls0 ws0">echo<span class="_ _2f"> </span><span class="ff11">Outputting a value to stdo<span class="_ _1"></span>ut.</span></div><div class="t m0 x8 h1e y22f ff17 fsa fc2 sc0 ls0 ws0">print<span class="_ _26"> </span><span class="ff11">Outputting a value to s<span class="_ _1"></span>tdout.</span></div><div class="t m0 x8 h1e y230 ff17 fsa fc2 sc0 ls0 ws0">exit<span class="_ _2f"> </span><span class="ff11">Optionally outputting a messa<span class="_ _1"></span>ge and terminating the program<span class="_ _1"></span>.</span></div><div class="t m0 x8 h1e y231 ff17 fsa fc2 sc0 ls0 ws0">die<span class="_ _30"> </span><span class="ff11">This is an alias for exit.</span></div><div class="t m0 x8 h1e y232 ff17 fsa fc2 sc0 ls0 ws0">return<span class="_ _2e"> </span><span class="ff11">T<span class="_ _2"></span>erminates a function and returns contr<span class="_ _1"></span>ol to the calling scope, or </span></div><div class="t m0 x4 h12 y233 ff11 fsa fc2 sc0 ls0 ws0">if called in the global scope, terminates the pr<span class="_ _1"></span>ogram.</div><div class="t m0 x8 h1e y234 ff17 fsa fc2 sc0 ls0 ws0">include<span class="_ _31"> </span><span class="ff11">Includes a file and evaluates it<span class="_ _1"></span>. PHP will issue a warning if the </span></div><div class="t m0 x4 h12 y235 ff11 fsa fc2 sc0 ls0 ws0">file is not found or cannot be read.</div><div class="t m0 x8 h1e y236 ff17 fsa fc2 sc0 ls0 ws0">include_once<span class="_ _a"> </span><span class="ff11">If you specify </span>include_once<span class="ff11"> then PHP will make sure tha<span class="_ _1"></span>t it </span></div><div class="t m0 x4 h12 y237 ff11 fsa fc2 sc0 ls0 ws0">includes the file only once.</div><div class="t m0 x8 h1e y238 ff17 fsa fc2 sc0 ls0 ws0">require<span class="_ _31"> </span><span class="ff11">PHP will include a file and evaluate it. If the file is not found or </span></div><div class="t m0 x4 h12 y239 ff11 fsa fc2 sc0 ls0 ws0">cannot be read, then a fatal err<span class="_ _1"></span>or will be generated.</div><div class="t m0 x8 h1e y23a ff17 fsa fc2 sc0 ls0 ws0">require_once<span class="_ _a"> </span><span class="ff11">As for </span>include_once<span class="ff11">, but a fatal error will be generated instead of </span></div><div class="t m0 x4 h12 y23b ff11 fsa fc2 sc0 ls0 ws0">a warning.</div><div class="t m0 x8 h1e y23c ff17 fsa fc2 sc0 ls0 ws0">eval<span class="_ _2f"> </span><span class="ff11">The argument is evalua<span class="_ _1"></span>ted as PHP and affects the calling scope.</span></div><div class="t m0 x8 h1e y23d ff17 fsa fc2 sc0 ls0 ws0">empty<span class="_ _26"> </span><span class="ff11">Returns a Boolean value depending on whether the variable </span></div><div class="t m0 x4 h12 y23e ff11 fsa fc2 sc0 ls0 ws0">is empty or not. Empty variables include n<span class="_ _1"></span>ull variables, empty </div><div class="t m0 x4 h12 y23f ff11 fsa fc2 sc0 ls0 ws0">strings, arra<span class="_ _1"></span>ys with no elements, numeric values of 0, a string </div><div class="t m0 x4 h1e y240 ff11 fsa fc2 sc0 ls0 ws0">value of <span class="ff17">0</span>, and Boolean values of <span class="ff17">false</span>.</div><div class="t m0 x8 h1e y241 ff17 fsa fc2 sc0 ls0 ws0">isset<span class="_ _26"> </span><span class="ff11">Returns </span>true<span class="ff11"> if the variable has been set and </span>false<span class="ff11"> otherwise.</span></div><div class="t m0 x8 h1e y242 ff17 fsa fc2 sc0 ls0 ws0">unset<span class="_ _26"> </span><span class="ff11">Clears a variable.</span></div><div class="t m0 x8 h1e y243 ff17 fsa fc2 sc0 ls0 ws0">list<span class="_ _2f"> </span><span class="ff11">Assigns multiple variables at one time fr<span class="_ _1"></span>om an array.</span></div><div class="t m0 x3 h12 y244 ff11 fsa fc2 sc0 ls0 ws0">One possible tricky exam question that might come up is in understandin<span class="_ _1"></span>g the small </div><div class="t m0 x8 h1e y245 ff11 fsa fc2 sc0 ls0 ws0">difference between <span class="ff17">print</span> and <span class="ff17">echo</span>. The <span class="ff17">echo</span> construct does not return a value<span class="_ _1"></span>, not even </div><div class="t m0 x8 h1e y246 ff11 fsa fc2 sc0 ls0 ws0">null, and so is not suitable for use inside an expression. T<span class="_ _1"></span>he <span class="ff17">print</span> construct will however </div><div class="t m0 x8 h12 y247 ff11 fsa fc2 sc0 ls0 ws0">return a value<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y248 ff11 fsa fc2 sc0 ls0 ws0">The reason not to use <span class="ff17">include_once()</span> and <span class="ff17">require_once()</span> all the time is a </div><div class="t m0 x8 h12 y249 ff11 fsa fc2 sc0 ls0 ws0">performance issue. PHP trac<span class="_ _1"></span>ks a list of files that has been included to support the </div><div class="t m0 x8 h12 y24a ff11 fsa fc2 sc0 ls0 ws0">functionality of these functions. This r<span class="_ _1"></span>equires memory so these functions are rather used </div><div class="t m0 x8 h1e y24b ff11 fsa fc2 sc0 ls0 ws0">when they are necessary and not in favor of <span class="ff17">include</span> or <span class="ff17">require</span>.</div><div class="t m0 x8 h16 y24c ff1b fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x26 h23 y24d ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/reserved.php</div><a class="l" href="#pf1a" data-dest-detail='[26,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:228.625000px;bottom:589.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/reserved.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.828300px;width:161.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1b" class="pf w2 h4" data-page-no="1b"><div class="pc pc1b w2 h4"><img class="bi x3 y175 w5 h24" alt="" src="bg1b.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 xb hd y55 ff11 fs6 fc2 sc0 ls0 ws0">5</div><div class="t m0 x3 h19 y24e ff16 fsd fc2 sc0 ls0 ws0">Comments</div><div class="t m0 x3 h12 y24f ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e three styles to mark commen<span class="_ _1"></span>ts<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y250 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y251 ff17 fsa fc2 sc0 ls0 ws0"># Perl style comments</div><div class="t m0 x3 h1e y252 ff17 fsa fc2 sc0 ls0 ws0">// C style comments</div><div class="t m0 x3 h1e y253 ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y254 ff17 fsa fc2 sc0 ls0 ws0">   Multiline comment</div><div class="t m0 x3 h1e y255 ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h12 y256 ff11 fsa fc2 sc0 ls0 ws0">API documentation can additionally conform to extern<span class="_ _1"></span>al standards such as those </div><div class="t m0 x3 h12 y257 ff11 fsa fc2 sc0 ls0 ws0">used by the PHPDocumentor project.</div><div class="t m0 x27 h15 y258 ff11 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x28 h12 y259 ff11 fsa fc2 sc0 ls0 ws0"> This tool examines your API style comments and </div><div class="t m0 x3 h12 y25a ff11 fsa fc2 sc0 ls0 ws0">automaticall<span class="_ _1"></span>y creates documentation for y<span class="_ _1"></span>ou.</div><div class="t m0 x1a h12 y25b ff11 fsa fc2 sc0 ls0 ws0">API documentation looks very similar to multiline comments:</div><div class="t m0 x3 h1e y25c ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y25d ff17 fsa fc2 sc0 ls0 ws0">/**</div><div class="t m0 x3 h1e y25e ff17 fsa fc2 sc0 ls0 ws0">        API documentation has two asterisks, this is not a PHP</div><div class="t m0 x3 h1e y25f ff17 fsa fc2 sc0 ls0 ws0">        syntax distinction, but is just a convention.</div><div class="t m0 x3 h1e y260 ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h19 y261 ff16 fsd fc2 sc0 ls0 ws0">Representing Numbers</div><div class="t m0 x3 h12 y262 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e four ways in which an integer ma<span class="_ _1"></span>y be expressed in a PHP script<span class="_ _0"></span>:</div><div class="t m0 x3 h20 y263 ff15 fs6 fc2 sc0 ls0 ws0">Notation<span class="_ _32"> </span>Example<span class="_ _1d"> </span>Note</div><div class="t m0 x3 h1e y264 ff11 fsa fc2 sc0 ls0 ws0">Decimal<span class="_ _33"> </span><span class="ff17">1234</span></div><div class="t m0 x3 h1e y265 ff11 fsa fc2 sc0 ls0 ws0">Binary<span class="_ _2d"> </span><span class="ff17">0b10011010010<span class="_ _34"> </span></span>Identified by le<span class="_ _1"></span>ading <span class="ff17">0b</span> or <span class="ff17">0B</span></div><div class="t m0 x3 h1e y266 ff11 fsa fc2 sc0 ls0 ws0">Octal<span class="_ _35"> </span><span class="ff17">02322<span class="_ _36"> </span></span>Identified by le<span class="_ _1"></span>ading <span class="ff17">0</span></div><div class="t m0 x3 h1e y267 ff11 fsa fc2 sc0 ls0 ws0">Hexadecimal<span class="_ _37"> </span><span class="ff17">0x4D2<span class="_ _36"> </span></span>Identified by le<span class="_ _1"></span>ading <span class="ff17">0x</span> or <span class="ff17">0X</span></div><div class="t m0 x1a h12 y268 ff11 fsa fc2 sc0 ls0 ws0">Floating point n<span class="_ _1"></span>umbers (c<span class="_ _1"></span>alled doubles in some other languages) can be expressed </div><div class="t m0 x3 h12 y269 ff11 fsa fc2 sc0 ls0 ws0">either in standard decimal forma<span class="_ _1"></span>t or in exponential format.</div><div class="t m0 x3 h20 y26a ff15 fs6 fc2 sc0 ls0 ws0">Form<span class="_ _38"> </span>Example</div><div class="t m0 x3 h1e y26b ff11 fsa fc2 sc0 ls0 ws0">Decimal<span class="_ _39"> </span><span class="ff17">123.456</span></div><div class="t m0 x3 h1e y26c ff11 fsa fc2 sc0 ls0 ws0">Exponential<span class="_ _25"> </span><span class="ff17">0.123456e3 or 0.123456E3</span></div><div class="t m0 x3 h16 y26d ff1b fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h23 y26e ff17 fs5 fc4 sc0 ls0 ws0">https://www.phpdoc.org/</div><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:200.779000px;bottom:458.765000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.phpdoc.org/"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.828300px;width:97.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1c" class="pf w2 h4" data-page-no="1c"><div class="pc pc1c w2 h4"><img class="bi x8 y26f w3 h25" alt="" src="bg1c.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls0 ws0">6</div><div class="t m0 x1e h10 y198 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> <span class="_ _1"></span>The letter <span class="_ _1"></span>“e”<span class="_ _1"></span> in the exponential form is case-insensitive,<span class="_ _1"></span> as are the other letters </span></span></span></div><div class="t m0 x8 h10 y199 ff18 fs6 fc2 sc0 ls0 ws0">used in the integer formats.</div><div class="t m0 x8 h19 y270 ff16 fsd fc2 sc0 ls0 ws0">V<span class="_ _1"></span>ariables</div><div class="t m0 x8 h12 y271 ff11 fsa fc2 sc0 ls0 ws0">In this section, I’m going to be focusing on how PHP h<span class="_ _1"></span>andles variables. I’m ass<span class="_ _1"></span>uming that </div><div class="t m0 x8 h12 y272 ff11 fsa fc2 sc0 ls0 ws0">you’v<span class="_ _1"></span>e had enough experience with PHP that I don’t need to explain what variables ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y273 ff11 fsa fc2 sc0 ls0 ws0">or how to use them. W<span class="_ _1"></span>e’ll be lookin<span class="_ _1"></span>g at the various types of variables PHP offers, how to </div><div class="t m0 x8 h12 y274 ff11 fsa fc2 sc0 ls0 ws0">change the type of a variable, and ho<span class="_ _1"></span>w to check if a variable is set or not.</div><div class="t m0 x8 h26 y275 ff11 fse fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ariable T<span class="_ _1"></span>ypes</div><div class="t m0 x8 h12 y276 ff11 fsa fc2 sc0 ls0 ws0">PHP is a loosely typed language. I<span class="_ _1"></span>t is important not to think that PHP variables don’t ha<span class="_ _1"></span>ve </div><div class="t m0 x8 h12 y277 ff11 fsa fc2 sc0 ls0 ws0">a type. They most definitely do<span class="_ _1"></span>, it’<span class="_ _2"></span>s just that they may chan<span class="_ _1"></span>ge type during runtime and </div><div class="t m0 x8 h12 y278 ff11 fsa fc2 sc0 ls0 ws0">don’t need their type to be declared explicitly when initialized.</div><div class="t m0 x3 h12 y279 ff11 fsa fc2 sc0 ls0 ws0">PHP will implicitly cast the variable to the data type r<span class="_ _1"></span>equired for an operation. F<span class="_ _1"></span>or </div><div class="t m0 x8 h1e y27a ff11 fsa fc2 sc0 ls0 ws0">example, if an oper<span class="_ _1"></span>ation requires a n<span class="_ _1"></span>umber<span class="_ _2"></span>, such as the addition (<span class="ff17">+</span>) operation, then PHP </div><div class="t m0 x8 h12 y27b ff11 fsa fc2 sc0 ls0 ws0">will convert the operands into a numeric format<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y27c ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou’ll be introduced to type juggling in the “<span class="_ _1"></span>Casting V<span class="_ _2"></span>ariables” section and you’ll </div><div class="t m0 x8 h12 y27d ff11 fsa fc2 sc0 ls0 ws0">need to know the rules PHP follows when changing a variable type<span class="_ _1"></span>. For now, y<span class="_ _1"></span>ou just </div><div class="t m0 x8 h12 y27e ff11 fsa fc2 sc0 ls0 ws0">need to know that PHP variables h<span class="_ _1"></span>ave a type, th<span class="_ _1"></span>at type can change, and although y<span class="_ _1"></span>ou can </div><div class="t m0 x8 h12 y27f ff11 fsa fc2 sc0 ls0 ws0">explicitly change the type PHP does this implicitly for you.</div><div class="t m0 x3 h12 y280 ff11 fsa fc2 sc0 ls0 ws0">PHP has three ca<span class="_ _1"></span>tegories of variable—scalars, com<span class="_ _1"></span>posite, and resour<span class="_ _1"></span>ces. A scalar </div><div class="t m0 x8 h12 y281 ff11 fsa fc2 sc0 ls0 ws0">variable is one that can only hold one v<span class="_ _1"></span>alue at a time. Composite variables can con<span class="_ _1"></span>tain </div><div class="t m0 x8 h12 y282 ff11 fsa fc2 sc0 ls0 ws0">several values at a time<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y283 ff11 fsa fc2 sc0 ls0 ws0">A resour<span class="_ _1"></span>ce variable points to something not native to PHP like a h<span class="_ _1"></span>andle provided by </div><div class="t m0 x8 h12 y284 ff11 fsa fc2 sc0 ls0 ws0">the OS to a file or a database connection. These variables cannot be cast.</div><div class="t m0 x3 h12 y285 ff11 fsa fc2 sc0 ls0 ws0">Finally, PHP h<span class="_ _1"></span>as the null type, which is used for variables that h<span class="_ _1"></span>ave not had a value </div><div class="t m0 x8 h12 y286 ff11 fsa fc2 sc0 ls0 ws0">set to them. Y<span class="_ _2"></span>ou can also assign the null value to a variable, b<span class="_ _1"></span>ut you cannot cast to a null </div><div class="t m0 x8 h12 y287 ff11 fsa fc2 sc0 ls0 ws0">type in PHP 7.1.</div><div class="t m0 x8 h1c y288 ff16 fse fc2 sc0 ls0 wsed">Scalar T<span class="_ _11"></span>ypes</div><div class="t m0 x8 h12 y289 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e four scalar types<span class="_ _0"></span>:</div><div class="t m0 x8 h20 y28a ff15 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ype<span class="_ _15"> </span>Alias<span class="_ _3a"> </span>Contains</div><div class="t m0 x8 h1e y28b ff11 fsa fc2 sc0 ls0 ws0">Boolean<span class="_ _33"> </span><span class="ff17">bool<span class="_ _3b"> </span>True</span> or <span class="ff17">False</span></div><div class="t m0 x8 h1e y28c ff11 fsa fc2 sc0 ls13 wsee">Integer<span class="_ _3c"> </span><span class="ff17 ls0 ws0">int<span class="_ _3d"> </span><span class="ff11">A signed numeric integer</span></span></div><div class="t m0 x8 h12 y28d ff11 fsa fc2 sc0 ls14 wsef">Float<span class="_ _3e"> </span><span class="ls0 ws0">A signed numeric double or float data</span></div><div class="t m0 x8 h12 y28e ff11 fsa fc2 sc0 ls0 ws0">String<span class="_ _3f"> </span>An order<span class="_ _1"></span>ed collection of binar<span class="_ _0"></span>y data</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1d" class="pf w2 h4" data-page-no="1d"><div class="pc pc1d w2 h4"><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 xb hd y55 ff11 fs6 fc2 sc0 ls0 ws0">7</div><div class="t m0 x1a h1e y1b8 ff11 fsa fc2 sc0 ls0 ws0">Some types have aliases<span class="_ _1"></span>. For example<span class="_ _1"></span>, consider this code that shows tha<span class="_ _1"></span>t <span class="ff17">bool</span> is an </div><div class="t m0 x3 h1e y1b9 ff11 fsa fc2 sc0 ls0 ws0">alias for <span class="ff17">boolean</span>:</div><div class="t m0 x3 h1e y1bb ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1bc ff17 fsa fc2 sc0 ls0 ws0">$a = (boolean)true;</div><div class="t m0 x3 h1e y1bd ff17 fsa fc2 sc0 ls0 ws0">$b = (bool)true;</div><div class="t m0 x3 h1e y1be ff17 fsa fc2 sc0 ls0 ws0">var_dump($a === $b);  // bool(true)</div><div class="t m0 x1a h12 y1c0 ff11 fsa fc2 sc0 ls0 ws0">Strings in PHP are not sim<span class="_ _1"></span>ply a list of characters<span class="_ _1"></span>. Internally PHP strings contain </div><div class="t m0 x3 h12 y1c1 ff11 fsa fc2 sc0 ls0 ws0">information about their length and ar<span class="_ _1"></span>e not null terminated. This means that they m<span class="_ _1"></span>ay </div><div class="t m0 x3 h12 y1c2 ff11 fsa fc2 sc0 ls0 ws0">contain binary information such as an image file that h<span class="_ _1"></span>as been read from disk. I<span class="_ _1"></span>n other </div><div class="t m0 x3 h12 y1c3 ff11 fsa fc2 sc0 ls0 ws0">words<span class="_ _1"></span>, PHP strings are binary safe.</div><div class="t m0 x3 h1c y28f ff16 fse fc2 sc0 ls0 wsed">Composite T<span class="_ _11"></span>ypes</div><div class="t m0 x3 h12 y290 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two composite types<span class="_ _0"></span>: arrays and objects<span class="_ _1"></span>. Each of these has its own section in </div><div class="t m0 x3 h12 y291 ff11 fsa fc2 sc0 ls0 ws0">this book.</div><div class="t m0 x3 h1c y292 ff16 fse fc2 sc0 ls0 wsed">Casting V<span class="_ _1"></span>ariables</div><div class="t m0 x3 h12 y293 ff11 fsa fc2 sc0 ls0 ws0">This is a very important section of understanding PHP and even very exp<span class="_ _0"></span>erienced </div><div class="t m0 x3 h12 y294 ff11 fsa fc2 sc0 ls0 ws0">developers may not be a<span class="_ _1"></span>ware of some of the rules that PHP uses to cast variables<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y295 ff11 fsa fc2 sc0 ls0 ws0">PHP implicitly casts variables to the type r<span class="_ _1"></span>equired to perform an operation.</div><div class="t m0 x1a h12 y296 ff11 fsa fc2 sc0 ls0 ws0">It is also possible to explicitly cast v<span class="_ _1"></span>ariables using one of two options<span class="_ _0"></span>:</div><div class="t m0 x7 h12 y297 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Use a casting opera<span class="_ _1"></span>tor</span></div><div class="t m0 x7 h12 y298 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Use a PHP function</span></div><div class="t m0 x1a h12 y299 ff11 fsa fc2 sc0 ls0 ws0">Casting opera<span class="_ _1"></span>tors are used by putting the n<span class="_ _1"></span>ame of the data type you want to cast in<span class="_ _1"></span>to </div><div class="t m0 x3 h12 y29a ff11 fsa fc2 sc0 ls0 ws0">brackets befor<span class="_ _1"></span>e the variable name. F<span class="_ _1"></span>or example:</div><div class="t m0 x3 h1e y29b ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y29c ff17 fsa fc2 sc0 ls0 ws0">$a = &apos;123&apos;;        // $a is a string</div><div class="t m0 x3 h1e y29d ff17 fsa fc2 sc0 ls0 ws0">$a = (int)$a;      // $a is now an integer</div><div class="t m0 x3 h1e y29e ff17 fsa fc2 sc0 ls0 ws0">$a = (bool)$a;     // $a is now Boolean and is true</div><div class="t m0 x1a h12 y29f ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can cast a variable to null, as in the following example<span class="_ _1"></span>, but this behavior is </div><div class="t m0 x3 h12 y2a0 ff11 fsa fc2 sc0 ls0 ws0">deprecated in PHP 7.2 so you sho<span class="_ _1"></span>uldn’t do it even though PHP 7.1 supports it.</div><div class="t m0 x3 h1e y2a1 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2a2 ff17 fsa fc2 sc0 ls0 ws0">$a = &quot;Hello World&quot;;</div><div class="t m0 x3 h1e y2a3 ff17 fsa fc2 sc0 ls0 ws0">$a = (unset)$a; // Deprecated in PHP 7.2</div><div class="t m0 x3 h1e y2a4 ff17 fsa fc2 sc0 ls0 ws0">var_dump($a);   // NULL</div><div class="t m0 x1a h12 y2a5 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e also PHP functions that will convert a variable to a data type<span class="_ _1"></span>. These are </div><div class="t m0 x3 h1e y2a6 ff11 fsa fc2 sc0 ls0 ws0">named in a way tha<span class="_ _1"></span>t is self-documenting: <span class="ff17">floatval</span>, <span class="ff17">intval</span>, <span class="ff17">strval</span>, and <span class="ff17">boolval</span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1e" class="pf w2 h4" data-page-no="1e"><div class="pc pc1e w2 h4"><img class="bi x8 y2a7 w6 h27" alt="" src="bg1e.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls0 ws0">8</div><div class="t m0 x3 h1e y2a8 ff11 fsa fc2 sc0 ls0 ws0">Additionally, the <span class="ff17">intdiv</span> function will potentially cast a do<span class="_ _1"></span>uble to an integer when it </div><div class="t m0 x8 h12 y2a9 ff11 fsa fc2 sc0 ls0 ws0">returns the integer r<span class="_ _1"></span>esult of dividing two integers.</div><div class="t m0 x3 h1e y2aa ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can also call the <span class="ff17">settype</span> function on a variable that takes the desired da<span class="_ _1"></span>ta type </div><div class="t m0 x8 h12 y2ab ff11 fsa fc2 sc0 ls0 ws0">as a second argument.</div><div class="t m0 x3 h12 y2ac ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e some rules that need to be remembered r<span class="_ _1"></span>egarding how v<span class="_ _1"></span>ariables are cast </div><div class="t m0 x8 h12 y2ad ff11 fsa fc2 sc0 ls0 ws0">in PHP<span class="_ _11"></span>. Y<span class="_ _2"></span>ou should read the manual page on type juggling</div><div class="t m0 x29 h15 y2ae ff11 fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x2a h12 y2af ff11 fsa fc2 sc0 ls0 ws0"> carefully, beca<span class="_ _1"></span>use there are </div><div class="t m0 x8 h12 y2b0 ff11 fsa fc2 sc0 ls0 ws0">many trips and traps in type jugglin<span class="_ _1"></span>g. Also make sure tha<span class="_ _1"></span>t you read the pages linked to </div><div class="t m0 x8 h12 y2b1 ff11 fsa fc2 sc0 ls0 ws0">from the type juggling pa<span class="_ _1"></span>ge.</div><div class="t m0 x3 h12 y2b2 ff11 fsa fc2 sc0 ls0 ws0">Instead of exhaustiv<span class="_ _1"></span>ely listing the rules, I’ll focus on some of the rules that ma<span class="_ _1"></span>y be </div><div class="t m0 x8 h12 y2b3 ff11 fsa fc2 sc0 ls0 ws0">counter<span class="_ _1"></span>-intuitive or ar<span class="_ _1"></span>e commonly mistaken.</div><div class="t m0 x3 h12 y2b4 ff11 fsa fc2 sc0 ls0 ws0">Casting fr<span class="_ _1"></span>om float to integer does not round the value up or do<span class="_ _1"></span>wn, but rather </div><div class="t m0 x8 h12 y2b5 ff11 fsa fc2 sc0 ls0 ws0">truncates the decimal portion.</div><div class="t m0 x8 h1e y2b6 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y2b7 ff17 fsa fc2 sc0 ls0 ws0">$a = 1234.56;</div><div class="t m0 x8 h1e y2b8 ff17 fsa fc2 sc0 ls0 ws0">echo (int)$a;    // 1234 (not 1235)</div><div class="t m0 x8 h1e y2b9 ff17 fsa fc2 sc0 ls0 ws0">$a = -1234.56</div><div class="t m0 x8 h1e y2ba ff17 fsa fc2 sc0 ls0 ws0">echo (int)$a;    // -1234</div><div class="t m0 x3 h12 y2bb ff11 fsa fc2 sc0 ls0 ws0">Some general rules for casting to Boolean are tha<span class="_ _1"></span>t<span class="_ _0"></span>:</div><div class="t m0 x2b h1e y2bc ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Empty arrays and strings ar<span class="_ _1"></span>e cast to <span class="ff17">false</span>.</span></div><div class="t m0 x2b h1e y2bd ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Strings always evalua<span class="_ _1"></span>te to Boolean <span class="ff17">true</span> unless they have a value </span></div><div class="t m0 x18 h12 y2be ff11 fsa fc2 sc0 ls0 ws0">that’<span class="_ _2"></span>s considered “<span class="_ _2"></span>empty” by PHP<span class="_ _11"></span>.</div><div class="t m0 x2b h1e y2bf ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Strings containing num<span class="_ _1"></span>bers evaluate to <span class="ff17">true</span> if the number is </span></div><div class="t m0 x18 h1e y2c0 ff11 fsa fc2 sc0 ls0 ws0">not zero<span class="_ _1"></span>. Recall tha<span class="_ _1"></span>t such strings return <span class="ff17">false</span> when the <span class="ff17">empty()</span> </div><div class="t m0 x18 h12 y2c1 ff11 fsa fc2 sc0 ls0 ws0">function is called on them.</div><div class="t m0 x2b h1e y2c2 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Any integer (<span class="_ _1"></span>or float) that is non-<span class="_ _1"></span>zero is <span class="ff17">true</span>, so negative </span></div><div class="t m0 x18 h1e y2c3 ff11 fsa fc2 sc0 ls0 ws0">numbers are <span class="ff17">true</span>.</div><div class="t m0 x3 h1e y2c4 ff11 fsa fc2 sc0 ls0 ws0">Objects can have the m<span class="_ _1"></span>agic method <span class="ff17">__toString()</span> defined on them. This can be </div><div class="t m0 x8 h12 y2c5 ff11 fsa fc2 sc0 ls0 ws0">overloaded if you w<span class="_ _1"></span>ant to have a cust<span class="_ _1"></span>om way to cast your object to string. W<span class="_ _1"></span>e look at this </div><div class="t m0 x8 h12 y2c6 ff11 fsa fc2 sc0 ls0 ws0">in the section on “C<span class="_ _1"></span>asting Objects to String”<span class="_ _40"></span>.</div><div class="t m0 x3 h12 y2c7 ff11 fsa fc2 sc0 ls0 ws0">Converting a string to a number r<span class="_ _1"></span>esults in 0 unless the string begins with valid </div><div class="t m0 x8 h12 y2c8 ff11 fsa fc2 sc0 ls0 ws0">numeric data (see the PHP Man<span class="_ _1"></span>ual</div><div class="t m0 x2c h15 y2c9 ff11 fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x2d h12 y2ca ff11 fsa fc2 sc0 ls0 ws0"> for more detail). By defa<span class="_ _1"></span>ult, the variable type of </div><div class="t m0 x8 h12 y2cb ff11 fsa fc2 sc0 ls0 ws0">the cast number will be integer<span class="_ _2"></span>, unless an exponent or decimal point is enco<span class="_ _1"></span>untered, in </div><div class="t m0 x8 h12 y2cc ff11 fsa fc2 sc0 ls0 ws0">which case it will be a float.</div><div class="t m0 x8 h16 y2cd ff1b fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h23 y2ce ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.types.type-juggling.php</div><div class="t m0 x8 h16 y2cf ff1b fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x26 h23 y2d0 ff17 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/language.types.string.php#language.types.</div><div class="t m0 x8 h23 y2d1 ff17 fs5 fc4 sc0 ls0 ws0">string.conversion</div><a class="l" href="#pf1e" data-dest-detail='[30,"XYZ",39,105,null]'><div class="d m1" style="border-style:none;position:absolute;left:260.403000px;bottom:534.181000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1e" data-dest-detail='[30,"XYZ",39,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:173.428000px;bottom:207.181000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.types.type-juggling.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:92.764200px;width:246.500200px;height:11.168800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/language.types.string.php#language.types.string.conversion"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:82.764200px;width:314.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/language.types.string.php#language.types.string.conversion"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:72.764200px;width:72.250000px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf1f" class="pf w2 h4" data-page-no="1f"><div class="pc pc1f w2 h4"><img class="bi x3 y175 w7 h27" alt="" src="bg1f.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 xb hd y55 ff11 fs6 fc2 sc0 ls0 ws0">9</div><div class="t m0 x1a h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple script that shows some string conversions:</div><div class="t m0 x3 h1e y2d2 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2d3 ff17 fsa fc2 sc0 ls0 ws0">$examples = [</div><div class="t m0 x3 h1e y2d4 ff17 fsa fc2 sc0 ls0 ws0">    &quot;12 o clock&quot;,</div><div class="t m0 x3 h1e y1bd ff17 fsa fc2 sc0 ls0 ws0">    &quot;Half past 12&quot;,</div><div class="t m0 x3 h1e y1be ff17 fsa fc2 sc0 ls0 ws0">    &quot;12.30&quot;,</div><div class="t m0 x3 h1e y2d5 ff17 fsa fc2 sc0 ls0 ws0">    &quot;7.2e2 minutes after midnight&quot;</div><div class="t m0 x3 h1e y2d6 ff17 fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x3 h1e y2d7 ff17 fsa fc2 sc0 ls0 ws0">foreach ($examples as $example) {</div><div class="t m0 x3 h1e y2d8 ff17 fsa fc2 sc0 ls0 ws0">    $result = 0 + $example;</div><div class="t m0 x3 h1e y2d9 ff17 fsa fc2 sc0 ls0 ws0">    var_dump($result);</div><div class="t m0 x3 h1e y2da ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y2db ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y2dc ff17 fsa fc2 sc0 ls0 ws0">This outputs:</div><div class="t m0 x3 h1e y2dd ff17 fsa fc2 sc0 ls0 ws0">    int(12)</div><div class="t m0 x3 h1e y2de ff17 fsa fc2 sc0 ls0 ws0">    int(0)</div><div class="t m0 x3 h1e y2df ff17 fsa fc2 sc0 ls0 ws0">    double(12.3)</div><div class="t m0 x3 h1e y2e0 ff17 fsa fc2 sc0 ls0 ws0">    double(720)</div><div class="t m0 x3 h1e y2e1 ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h1c y2e2 ff16 fse fc2 sc0 ls0 ws0">Floats and Integers</div><div class="t m0 x3 h12 y2e3 ff11 fsa fc2 sc0 ls0 ws0">Be very careful when casting between floats and integers<span class="_ _1"></span>. The PHP Manual</div><div class="t m0 x2e h15 y2e4 ff11 fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x2f h12 y2e3 ff11 fsa fc2 sc0 ls0 ws0"> has a very </div><div class="t m0 x3 h12 y2e5 ff11 fsa fc2 sc0 ls0 ws0">good example of how internal implemen<span class="_ _1"></span>tation details of numeric types can hav<span class="_ _1"></span>e counter<span class="_ _1"></span>-</div><div class="t m0 x3 h12 y2e6 ff11 fsa fc2 sc0 ls0 ws0">intuitive r<span class="_ _1"></span>esults<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y2e7 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2e8 ff17 fsa fc2 sc0 ls0 ws0">echo (int) ( (0.1+0.7) * 10 ); // 7</div><div class="t m0 x3 h1e y2e9 ff17 fsa fc2 sc0 ls0 ws0">echo (int) ( (0.1+0.5) * 10);  // 6</div><div class="t m0 x1a h1e y2ea ff11 fsa fc2 sc0 ls0 ws0">One would expect the first example to display <span class="ff17">8</span>, but in fact the internal floa<span class="_ _1"></span>ting-point </div><div class="t m0 x3 h1e y2eb ff11 fsa fc2 sc0 ls0 ws0">repr<span class="_ _1"></span>esentation is just slightly less th<span class="_ _1"></span>an <span class="ff17">8</span>.</div><div class="t m0 x1a h12 y2ec ff11 fsa fc2 sc0 ls0 ws0">When PHP converts a floating point n<span class="_ _1"></span>umber to integer it rounds tow<span class="_ _1"></span>ard zero<span class="_ _1"></span>, so it </div><div class="t m0 x3 h12 y2ed ff11 fsa fc2 sc0 ls0 ws0">becomes 7.</div><div class="t m0 x1a h12 y2ee ff11 fsa fc2 sc0 ls0 wsf0">The reason behind this is tha<span class="_ _1"></span>t some numbers are ra<span class="_ _1"></span>tional in base 10 but are irration<span class="_ _1"></span>al </div><div class="t m0 x3 h12 y2ef ff11 fsa fc2 sc0 ls0 ws0">in base 2. Although 0.7 can be expressed as a ra<span class="_ _1"></span>tional number in base 10, when expressed </div><div class="t m0 x3 h12 y2f0 ff11 fsa fc2 sc0 ls0 ws0">in base 2 it is irrational. Because ther<span class="_ _1"></span>e are a limited number of bits a<span class="_ _1"></span>vailable to store the </div><div class="t m0 x3 h12 y2f1 ff11 fsa fc2 sc0 ls0 ws0">number<span class="_ _2"></span>, it is inevitable that some loss of pr<span class="_ _1"></span>ecision will occur<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y2f2 ff11 fsa fc2 sc0 ls0 ws0">PHP integers are alwa<span class="_ _1"></span>ys signed. The range of values tha<span class="_ _1"></span>t an integer can take will </div><div class="t m0 x3 h12 y2f3 ff11 fsa fc2 sc0 ls0 ws0">depend on the system PHP is running on.</div><div class="t m0 x3 h16 y2f4 ff1b fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x1d h23 y2f5 ff17 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/language.types.integer.php</div><a class="l" href="#pf1f" data-dest-detail='[31,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.275000px;bottom:307.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/language.types.integer.php"><div class="d m1" style="border-style:none;position:absolute;left:60.067800px;bottom:73.828300px;width:250.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf20" class="pf w2 h4" data-page-no="20"><div class="pc pc20 w2 h4"><img class="bi x8 y175 w3 h28" alt="" src="bg20.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls15 wsf1">10</div><div class="t m0 x3 h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can determine the size of an integer in bytes at runtime by querying the constant </div><div class="t m0 x8 h1e y1b9 ff17 fsa fc2 sc0 ls0 ws0">PHP_INT_SIZE<span class="ff11">. The constants </span>PHP_INT_MAX<span class="ff11"> and </span>PHP_INT_MIN<span class="ff11"> will give you the maximum </span></div><div class="t m0 x8 h12 y2d2 ff11 fsa fc2 sc0 ls0 ws0">and minimum values that c<span class="_ _1"></span>an be stored in an integer<span class="_ _2"></span>, respectively. Ther<span class="_ _1"></span>e are similar </div><div class="t m0 x8 h12 y2d3 ff11 fsa fc2 sc0 ls0 ws0">constants for other numeric types. They ar<span class="_ _1"></span>e listed in the PHP Manual pa<span class="_ _1"></span>ge on reserved </div><div class="t m0 x8 h12 y2d4 ff11 fsa fc2 sc0 ls0 ws0">constants.</div><div class="t m0 x30 h15 y2f6 ff11 fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x1e h10 y2f7 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Caution<span class="ff18"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou should not rely on floats precision up to the last digit.</span></span></span></div><div class="t m0 x3 h12 y2f8 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should avoid testing floats dir<span class="_ _1"></span>ectly for equality and rather test if they are the </div><div class="t m0 x8 h12 y2f9 ff11 fsa fc2 sc0 ls0 ws0">same up to a given degree of pr<span class="_ _1"></span>ecision, as in this example:</div><div class="t m0 x8 h1e y2fa ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y2fb ff17 fsa fc2 sc0 ls0 ws0">$pi = 3.14159625;</div><div class="t m0 x8 h1e y2fc ff17 fsa fc2 sc0 ls0 ws0">$indiana = 3.2;</div><div class="t m0 x8 h1e y2fd ff17 fsa fc2 sc0 ls0 ws0">$epsilon = 0.00001; // degree of error</div><div class="t m0 x8 h1e y2fe ff17 fsa fc2 sc0 ls0 ws0">if(abs($pi - $indiana) &lt; $epsilon) {</div><div class="t m0 x8 h1e y2ff ff17 fsa fc2 sc0 ls0 ws0">    echo &quot;Those values look the same to me&quot;;</div><div class="t m0 x8 h1e y300 ff17 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x8 h1e y301 ff17 fsa fc2 sc0 ls0 ws0">    echo &quot;Those values are different&quot;;</div><div class="t m0 x8 h1e y302 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y303 ff11 fsa fc2 sc0 ls0 ws0">This code is checking if the values ar<span class="_ _1"></span>e the same to five degrees of precision. This </div><div class="t m0 x8 h1e y304 ff11 fsa fc2 sc0 ls0 ws0">script will output <span class="ff17">Those values are different</span> because the difference is grea<span class="_ _1"></span>ter than </div><div class="t m0 x8 h12 y305 ff11 fsa fc2 sc0 ls0 ws0">the degree of error tha<span class="_ _1"></span>t we defined.</div><div class="t m0 x8 h26 y306 ff11 fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>aming V<span class="_ _11"></span>ar<span class="_ _0"></span>iables</div><div class="t m0 x8 h1e y307 ff11 fsa fc2 sc0 ls0 ws0">PHP variables begin with the dollar symbol <span class="ff17">$</span> and PHP variable names adhere t<span class="_ _1"></span>o the </div><div class="t m0 x8 h12 y308 ff11 fsa fc2 sc0 ls0 ws0">following rules<span class="_ _0"></span>:</div><div class="t m0 x2b h12 y309 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Names ar<span class="_ _1"></span>e case sensitive</span></div><div class="t m0 x2b h12 y30a ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Names m<span class="_ _1"></span>ay contain letters<span class="_ _1"></span>, numbers, and the underscor<span class="_ _1"></span>e </span></div><div class="t m0 x18 h12 y30b ff11 fsa fc2 sc0 ls0 ws0">character</div><div class="t m0 x2b h12 y30c ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Names m<span class="_ _1"></span>ay not begin with a number</span></div><div class="t m0 x3 h12 y30d ff11 fsa fc2 sc0 ls0 ws0">Coding conventions differ on the use of camelC<span class="_ _1"></span>ase, StudlyC<span class="_ _1"></span>ase, or snake_case<span class="_ _1"></span>, but </div><div class="t m0 x8 h12 y30e ff11 fsa fc2 sc0 ls0 ws0">all of these formats are valid PHP v<span class="_ _1"></span>ariable name formats.</div><div class="t m0 x8 h16 y2f4 ff1b fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h23 y2f5 ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/reserved.constants.php</div><a class="l" href="#pf20" data-dest-detail='[32,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:78.839700px;bottom:545.325000px;width:2.623500px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/reserved.constants.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.828300px;width:204.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf21" class="pf w2 h4" data-page-no="21"><div class="pc pc21 w2 h4"><img class="bi x3 y30f w5 h29" alt="" src="bg21.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls16 wsf2">11</div><div class="t m0 x1a h12 y310 ff11 fsa fc2 sc0 ls0 ws0">PHP also allows for variable variable names<span class="_ _1"></span>. This is best illustrated b<span class="_ _1"></span>y example:</div><div class="t m0 x3 h1e y311 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y312 ff17 fsa fc2 sc0 ls0 ws0">$a = &apos;foo&apos;;</div><div class="t m0 x3 h1e y313 ff17 fsa fc2 sc0 ls0 ws0">$$a = &apos;bar&apos;; // $a is &apos;foo&apos;, so variable $foo is set</div><div class="t m0 x3 h1e y314 ff17 fsa fc2 sc0 ls0 ws0">echo $foo;   // bar</div><div class="t m0 x1a h12 y315 ff11 fsa fc2 sc0 ls0 ws0">PHP 7 will always evaluate access strictly left to right<span class="_ _1"></span>. Older versions had a </div><div class="t m0 x3 h12 y316 ff11 fsa fc2 sc0 ls0 ws0">complicated set of rules to determine how it would evaluate this sort of syntax. Happily, </div><div class="t m0 x3 h12 y317 ff11 fsa fc2 sc0 ls0 ws0">PHP 7 is simpler and consistent and I won’t worry about explaining older versions.</div><div class="t m0 x1a h12 y318 ff11 fsa fc2 sc0 lsd ws0">Here is a mor<span class="_ _1"></span>e complicated example tha<span class="_ _1"></span>t illustrates how PHP evalua<span class="_ _1"></span>tes from left to right<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y319 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y31a ff17 fsa fc2 sc0 ls0 ws0">$a = &apos;foo&apos;;</div><div class="t m0 x3 h1e y31b ff17 fsa fc2 sc0 ls0 ws0">$$a[&apos;bar&apos;] = &apos;Murky code&apos;;</div><div class="t m0 x3 h1e y31c ff17 fsa fc2 sc0 ls0 ws0">// this assert passes</div><div class="t m0 x3 h1e y31d ff17 fsa fc2 sc0 ls0 ws0">assert($$a[&apos;bar&apos;] === $foo[&apos;bar&apos;]);</div><div class="t m0 x3 h1e y31e ff17 fsa fc2 sc0 ls0 ws0">var_dump($foo);</div><div class="t m0 x3 h1e y31f ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y320 ff17 fsa fc2 sc0 ls0 ws0">    array(1) {</div><div class="t m0 x3 h1e y321 ff17 fsa fc2 sc0 ls0 ws0">      [&quot;bar&quot;]=&gt;</div><div class="t m0 x3 h1e y322 ff17 fsa fc2 sc0 ls0 ws0">      array(1) {</div><div class="t m0 x3 h1e y323 ff17 fsa fc2 sc0 ls0 ws0">        [&quot;baz&quot;]=&gt;</div><div class="t m0 x3 h1e y324 ff17 fsa fc2 sc0 ls0 ws0">        string(10) &quot;Murky code&quot;</div><div class="t m0 x3 h1e y325 ff17 fsa fc2 sc0 ls0 ws0">      }</div><div class="t m0 x3 h1e y326 ff17 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h1e y327 ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h12 y328 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several cav<span class="_ _1"></span>eats to using variable variable names<span class="_ _1"></span>. They could impact on </div><div class="t m0 x3 h12 y329 ff11 fsa fc2 sc0 ls0 ws0">your code security and can also make your code a little mur<span class="_ _1"></span>ky to read.</div><div class="t m0 x3 h26 y32a ff11 fse fc2 sc0 ls0 ws0">Checking If a V<span class="_ _11"></span>ariable Has Been Set</div><div class="t m0 x3 h1e y32b ff11 fsa fc2 sc0 ls0 ws0">The command <span class="ff17">isset()</span> will return <span class="ff17">true</span> if a variable h<span class="_ _1"></span>as been set and <span class="ff17">false</span> other<span class="_ _0"></span>wise.  </div><div class="t m0 x3 h12 y32c ff11 fsa fc2 sc0 ls0 ws0">It is pr<span class="_ _1"></span>eferable to use this function instead of checking if the variable is n<span class="_ _1"></span>ull because it </div><div class="t m0 x3 h12 y32d ff11 fsa fc2 sc0 ls0 ws0">won’t cause PHP to generate a warnin<span class="_ _1"></span>g.</div><div class="t m0 x1a h1e y32e ff11 fsa fc2 sc0 ls0 ws0">The command <span class="ff17">empty()</span> will return <span class="ff17">true</span> if a variable is not set and will not genera<span class="_ _1"></span>te a </div><div class="t m0 x3 h12 y32f ff11 fsa fc2 sc0 ls0 ws0">warning. This is not a bulletpr<span class="_ _1"></span>oof way to test if a variable is set.</div><div class="t m0 x23 h10 y330 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> Remember that the string <span class="_ _1"></span>“<span class="ff17 fsa">0</span>”<span class="_ _1"></span> is considered empty<span class="_ _1"></span>,<span class="_ _1"></span> but is actually set.</span></span></span></div><div class="t m0 x1a h12 y331 ff11 fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iables become unset when they become out of scope and you can use the </div><div class="t m0 x3 h1e y332 ff11 fsa fc2 sc0 ls0 ws0">command <span class="ff17">unset()</span> to manually clear a v<span class="_ _1"></span>ariable. W<span class="_ _1"></span>e’ll see later in the book tha<span class="_ _1"></span>t the </div><div class="t m0 x3 h12 y333 ff11 fsa fc2 sc0 ls0 ws0">garbage collector is responsible for fr<span class="_ _1"></span>eeing up the memory allocated to variables that </div><div class="t m0 x3 h12 y334 ff11 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e been unset.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf22" class="pf w2 h4" data-page-no="22"><div class="pc pc22 w2 h4"><img class="bi x8 y335 w6 h27" alt="" src="bg22.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls17 wsf3">12</div><div class="t m0 x8 h19 y24e ff16 fsd fc2 sc0 ls0 ws0">Constants</div><div class="t m0 x8 h12 y24f ff11 fsa fc2 sc0 ls0 ws0">Constants</div><div class="t m0 x30 h15 y336 ff11 fsb fc4 sc0 ls0 ws0">7</div><div class="t m0 xd h12 y24f ff11 fsa fc2 sc0 ls0 ws0"> are similar to variables but ar<span class="_ _1"></span>e immutable. T<span class="_ _1"></span>hey have the same namin<span class="_ _1"></span>g rules </div><div class="t m0 x8 h12 y337 ff11 fsa fc2 sc0 ls0 ws0">as variables, but b<span class="_ _1"></span>y convention will ha<span class="_ _1"></span>ve uppercase names<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y338 ff11 fsa fc2 sc0 ls0 ws0">They can be defined using the <span class="ff17">define</span></div><div class="t m0 x27 h15 y339 ff11 fsb fc4 sc0 ls0 ws0">8</div><div class="t m0 x28 h12 y33a ff11 fsa fc2 sc0 ls0 ws0"> function as shown:</div><div class="t m0 x8 h1e y33b ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y33c ff17 fsa fc2 sc0 ls0 ws0">define(&apos;PI&apos;, 3.142);</div><div class="t m0 x8 h1e y33d ff17 fsa fc2 sc0 ls0 ws0">echo PI;</div><div class="t m0 x8 h1e y33e ff17 fsa fc2 sc0 ls0 ws0">define(&apos;UNITS&apos;, [&apos;MILES_CONVERSION&apos; =&gt; 1.6, &apos;INCHES_CONVERSION&apos; =&gt; &apos;2.54&apos;]);</div><div class="t m0 x8 h1e y33f ff17 fsa fc2 sc0 ls0 ws0">echo &quot;5km in miles is &quot; . 5 * UNITS[&apos;MILES_CONVERSION&apos;];</div><div class="t m0 x8 h1e y340 ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h1e y341 ff17 fsa fc2 sc0 ls0 ws0">  3.1425km in miles is 8</div><div class="t m0 x8 h1e y342 ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h12 y343 ff11 fsa fc2 sc0 ls0 ws0">The third par<span class="_ _1"></span>ameter of define is optional and indicates whether the constant name is </div><div class="t m0 x8 h12 y344 ff11 fsa fc2 sc0 ls0 ws0">case sensitive or not.</div><div class="t m0 x3 h1e y345 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can also use the <span class="ff17">const</span> keyword to define constants. Constants c<span class="_ _1"></span>an only contain </div><div class="t m0 x8 h12 y346 ff11 fsa fc2 sc0 ls0 ws0">arrays or scalar values and not r<span class="_ _1"></span>esources or objects.</div><div class="t m0 x8 h1e y347 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y348 ff17 fsa fc2 sc0 ls0 ws0">const UNITS = [&apos;MILES_CONVERSION&apos; =&gt; 1.6,</div><div class="t m0 x8 h1e y349 ff17 fsa fc2 sc0 ls0 ws0">               &apos;INCHES_CONVERSION&apos; =&gt; &apos;2.54&apos;];</div><div class="t m0 x8 h1e y34a ff17 fsa fc2 sc0 ls0 ws0">echo &quot;5km in miles is &quot; . 5 * UNITS[&apos;MILES_CONVERSION&apos;];</div><div class="t m0 x8 h1e y34b ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h1e y34c ff17 fsa fc2 sc0 ls0 ws0">  5km in miles is 8</div><div class="t m0 x8 h1e y34d ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h1e y34e ff11 fsa fc2 sc0 ls0 ws0">Only the <span class="ff17">const</span> keyword can be used to create a n<span class="_ _1"></span>amespaced constant, as in this </div><div class="t m0 x8 h1e y34f ff11 fsa fc2 sc0 ls0 ws0">example where we cr<span class="_ _1"></span>eate constants in the <span class="ff17">&quot;Foo&quot;</span> namespace and then try to reference </div><div class="t m0 x8 h1e y350 ff11 fsa fc2 sc0 ls0 ws0">them in the <span class="ff17">&quot;Bar&quot;</span> namespace.</div><div class="t m0 x8 h1e y351 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y352 ff17 fsa fc2 sc0 ls0 ws0">namespace Foo;</div><div class="t m0 x8 h1e y353 ff17 fsa fc2 sc0 ls0 ws0">const AVOCADO = 6.02214086;</div><div class="t m0 x8 h1e y354 ff17 fsa fc2 sc0 ls0 ws0">// using define() will generate a warning</div><div class="t m0 x8 h1e y355 ff17 fsa fc2 sc0 ls0 ws0">define(MOLE, &apos;hill&apos;);</div><div class="t m0 x8 h1e y356 ff17 fsa fc2 sc0 ls0 ws0">namespace Bar;</div><div class="t m0 x8 h1e y357 ff17 fsa fc2 sc0 ls0 ws0">echo \Foo\AVOCADO;</div><div class="t m0 x8 h1e y358 ff17 fsa fc2 sc0 ls0 ws0">// referencing the constant we tried to define() results in a fatal error</div><div class="t m0 x8 h1e y359 ff17 fsa fc2 sc0 ls0 ws0">echo \Foo\MOLE;</div><div class="t m0 x8 h16 y35a ff1b fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x26 h23 y35b ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.constants.syntax.php</div><div class="t m0 x8 h16 y35c ff1b fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x26 h23 y35d ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.define.php</div><a class="l" href="#pf22" data-dest-detail='[34,"XYZ",39,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:78.425800px;bottom:564.765000px;width:2.623500px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf22" data-dest-detail='[34,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:201.112000px;bottom:542.729000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.constants.syntax.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:83.074400px;width:233.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.define.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.074400px;width:191.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf23" class="pf w2 h4" data-page-no="23"><div class="pc pc23 w2 h4"><img class="bi x3 y335 w5 h2a" alt="" src="bg23.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls18 wsf4">13</div><div class="t m0 x1a h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou cannot assign a variable to a constant.</div><div class="t m0 x1a h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use static scalar values to define a constant, like this:</div><div class="t m0 x3 h1e y2d3 ff17 fsa fc2 sc0 ls0 ws0">const STORAGE_PATH = __DIR__ . &apos;/storage&apos;;</div><div class="t m0 x23 h10 y35e ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> Note the use of the <span class="_ _1"></span>“magic”<span class="_ _1"></span> constant <span class="ff17 fsa">__DIR__</span> that is set by PHP a<span class="_ _0"></span>t runtime and </span></span></span></div><div class="t m0 x3 h10 y35f ff18 fs6 fc2 sc0 ls0 ws0">contains the path that the script resides in on the file system. <span class="_ _1"></span>These constants are discussed </div><div class="t m0 x3 h10 y360 ff18 fs6 fc2 sc0 ls0 ws0">in the section <span class="_ _1"></span>“Magic Constants”.</div><div class="t m0 x1a h1e y361 ff11 fsa fc2 sc0 ls0 ws0">The <span class="ff17">constant()</span> function</div><div class="t m0 x31 h15 y362 ff11 fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x2c h12 y361 ff11 fsa fc2 sc0 ls0 ws0"> is used to retrieve the value of a constant.</div><div class="t m0 x3 h1e y363 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y364 ff17 fsa fc2 sc0 ls0 ws0">const MILES_CONVERSION = 1.6;</div><div class="t m0 x3 h1e y365 ff17 fsa fc2 sc0 ls0 ws0">echo &apos;There are &apos; . constant(&apos;MILES_CONVERSION&apos;) . &apos; miles in a kilometer&apos;;</div><div class="t m0 x3 h1e y366 ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y367 ff17 fsa fc2 sc0 ls0 ws0">  There are 1.6 miles in a kilometer</div><div class="t m0 x3 h1e y368 ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h19 y369 ff16 fsd fc2 sc0 ls0 ws0">Superglobals</div><div class="t m0 x3 h12 y36a ff11 fsa fc2 sc0 ls0 ws0">PHP has several superglobals</div><div class="t m0 x32 h15 y36b ff11 fsb fc4 sc0 ls0 ws0">10</div><div class="t m0 x33 h12 y36a ff11 fsa fc2 sc0 ls0 ws0"> that ar<span class="_ _1"></span>e available autom<span class="_ _1"></span>atically to the script. Superglobals </div><div class="t m0 x3 h12 y36c ff11 fsa fc2 sc0 ls0 ws0">are a<span class="_ _1"></span>vailable in every scope.</div><div class="t m0 x1a h12 y36d ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can alter the values of superglobals, but it’<span class="_ _2"></span>s generally suggested to rather assi<span class="_ _1"></span>gn </div><div class="t m0 x3 h12 y36e ff11 fsa fc2 sc0 ls0 ws0">a locally scoped variable to the superglobal and modify that. Y<span class="_ _2"></span>ou need to know what each </div><div class="t m0 x3 h12 y36f ff11 fsa fc2 sc0 ls0 ws0">of the superglobals stores<span class="_ _1"></span>.</div><div class="t m0 x3 h20 y370 ff15 fs6 fc2 sc0 ls0 ws0">Suberglobal<span class="_ _41"> </span>Stores</div><div class="t m0 x3 h1e y371 ff17 fsa fc2 sc0 ls0 ws0">$GLOBALS<span class="_ _22"> </span><span class="ff11">An array of variables that exist in the global scope.</span></div><div class="t m0 x3 h1e y372 ff17 fsa fc2 sc0 ls0 ws0">$_SERVER<span class="_ _22"> </span><span class="ff11">An array of information about paths<span class="_ _1"></span>, headers, and other </span></div><div class="t m0 x34 h12 y373 ff11 fsa fc2 sc0 ls0 ws0">information relevan<span class="_ _1"></span>t to the ser<span class="_ _0"></span>ver en<span class="_ _1"></span>vironment.</div><div class="t m0 x3 h1e y374 ff17 fsa fc2 sc0 ls0 ws0">$_GET<span class="_ _42"> </span><span class="ff11">V<span class="_ _2"></span>ar<span class="_ _0"></span>iables sent in a <span class="ff17">GET</span> r<span class="_ _1"></span>equest.</span></div><div class="t m0 x3 h1e y375 ff17 fsa fc2 sc0 ls0 ws0">$_POST<span class="_ _15"> </span><span class="ff11">V<span class="_ _2"></span>ariables sent in a <span class="ff17">POST</span> request.</span></div><div class="t m0 x3 h1e y376 ff17 fsa fc2 sc0 ls0 ws0">$_FILES<span class="_ _43"> </span><span class="ff11">An associative array of files th<span class="_ _1"></span>at were uploaded as part of a <span class="ff17">POST</span> </span></div><div class="t m0 x34 h12 y377 ff11 fsa fc2 sc0 ls0 ws0">request.</div><div class="t m0 x3 h1e y378 ff17 fsa fc2 sc0 ls0 ws0">$_COOKIE<span class="_ _22"> </span><span class="ff11">An associative array of variables passed to the current script via </span></div><div class="t m0 x34 h12 y379 ff11 fsa fc2 sc0 ls0 ws0">HTTP cookies.</div><div class="t m0 x3 h16 y37a ff1b fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x1d h23 y37b ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.constant.php</div><div class="t m0 x3 h16 y37c ff1b fsc fc2 sc0 ls0 ws0">10</div><div class="t m0 x35 h23 y37d ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.variables.superglobals.php</div><div class="t m0 x36 h12 y37e ff11 fsa fc2 sc0 ls0 ws0">(<span class="ff1d">continued</span>)</div><a class="l" href="#pf23" data-dest-detail='[35,"XYZ",57,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:171.764000px;bottom:463.289000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf23" data-dest-detail='[35,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:169.586000px;bottom:331.325000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.constant.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:83.074400px;width:199.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.variables.superglobals.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:73.074400px;width:259.250500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf24" class="pf w2 h4" data-page-no="24"><div class="pc pc24 w2 h4"><img class="bi x8 y37f w3 h2b" alt="" src="bg24.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls19 wsf5">14</div><div class="t m0 x8 h20 y380 ff15 fs6 fc2 sc0 ls0 ws0">Suberglobal<span class="_ _41"> </span>Stores</div><div class="t m0 x8 h1e y381 ff17 fsa fc2 sc0 ls0 ws0">$_SESSION<span class="_ _33"> </span><span class="ff11">An asso<span class="_ _0"></span>cia<span class="_ _1"></span>tive array containing session variables a<span class="_ _1"></span>vailable to the </span></div><div class="t m0 x37 h12 y382 ff11 fsa fc2 sc0 ls0 ws0">current script.</div><div class="t m0 x8 h1e y383 ff17 fsa fc2 sc0 ls0 ws0">$_REQUEST<span class="_ _33"> </span>POST<span class="ff11">, </span>GET<span class="ff11">, and </span>COOKIE<span class="ff11"> request variables.</span></div><div class="t m0 x8 h1e y384 ff17 fsa fc2 sc0 ls0 ws0">$_ENV<span class="_ _42"> </span><span class="ff11">An associative array of variables pas<span class="_ _1"></span>sed to the current script via </span></div><div class="t m0 x37 h12 y385 ff11 fsa fc2 sc0 ls0 ws0">the environmen<span class="_ _1"></span>t method.</div><div class="t m0 x3 h1e y386 ff11 fsa fc2 sc0 ls0 ws0">The <span class="ff17">$_SERVER</span> superglobal has man<span class="_ _1"></span>y keys, and you should be familiar with them.  </div><div class="t m0 x8 h12 y387 ff11 fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual</div><div class="t m0 x19 h15 y388 ff11 fsb fc4 sc0 ls0 ws0">11</div><div class="t m0 xa h12 y389 ff11 fsa fc2 sc0 ls0 ws0"> has a list of them and you should m<span class="_ _1"></span>ake sure that y<span class="_ _1"></span>ou’ve r<span class="_ _1"></span>ead the </div><div class="t m0 x8 h12 y38a ff11 fsa fc2 sc0 ls0 ws0">manual page and understood all of the keys<span class="_ _1"></span>.</div><div class="t m0 x1e h10 y38b ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff18 fc2"> <span class="_ _2c"> </span> Note that the <span class="ff17 fsa">$_SERVER[&apos;argv&apos;]</span> contains arguments sent to the script,<span class="_ _1"></span> which is </span></span></div><div class="t m0 x8 h10 y38c ff18 fs6 fc2 sc0 ls0 ws0">distinct from <span class="ff17 fsa">$_ENV</span>.<span class="_ _1"></span> Knowledge of this level of detail is required for the certification exam.</div><div class="t m0 x8 h19 y38d ff16 fsd fc2 sc0 ls0 ws0">Magic Constants</div><div class="t m0 x8 h12 y38e ff11 fsa fc2 sc0 ls0 ws0">Magic constan<span class="_ _1"></span>ts are those which PHP pro<span class="_ _1"></span>vides automatically to every running script. </div><div class="t m0 x8 h12 y38f ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e quite a lot of reserved constants</div><div class="t m0 x38 h15 y390 ff11 fsb fc4 sc0 ls0 ws0">12</div><div class="t m0 x39 h12 y391 ff11 fsa fc2 sc0 ls0 ws0"> and you will need to know the error </div><div class="t m0 x8 h12 y392 ff11 fsa fc2 sc0 ls0 ws0">constants, as well as the commonly used pr<span class="_ _1"></span>edefined constants.</div><div class="t m0 x3a h15 y393 ff11 fsb fc4 sc0 ls0 ws0">13</div><div class="t m0 x8 h20 y394 ff15 fs6 fc2 sc0 ls0 ws0">Constant<span class="_ _3c"> </span>Contains</div><div class="t m0 x8 h1e y395 ff17 fsa fc2 sc0 ls0 ws0">__LINE__<span class="_ _44"> </span><span class="ff11">The current line num<span class="_ _1"></span>ber of the PHP script being executed</span></div><div class="t m0 x8 h1e y396 ff17 fsa fc2 sc0 ls0 ws0">__FILE__<span class="_ _44"> </span><span class="ff11">The fully resolved (including symlinks) n<span class="_ _1"></span>ame and path of the file </span></div><div class="t m0 x3b h12 y397 ff11 fsa fc2 sc0 ls0 ws0">being executed</div><div class="t m0 x8 h1e y398 ff17 fsa fc2 sc0 ls0 ws0">__CLASS__<span class="_ _32"> </span><span class="ff11">The name of the class being executed</span></div><div class="t m0 x8 h1e y399 ff17 fsa fc2 sc0 ls0 ws0">__METHOD__<span class="_ _45"> </span><span class="ff11">The name of the class method being executed</span></div><div class="t m0 x8 h1e y39a ff17 fsa fc2 sc0 ls0 ws0">__FUNCTION__<span class="_ _46"> </span><span class="ff11">The name of the function being executed</span></div><div class="t m0 x8 h1e y39b ff17 fsa fc2 sc0 ls0 ws0">__TRAIT__<span class="_ _32"> </span><span class="ff11">The namespace and name of the tr<span class="_ _1"></span>ait that the code is running in</span></div><div class="t m0 x8 h1e y39c ff17 fsa fc2 sc0 ls0 ws0">__NAMESPACE__<span class="_ _34"> </span><span class="ff11">The current namespace</span></div><div class="t m0 x1e h10 y39d ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> <span class="_ _1"></span>The value of these magic constants changes depending on where you use it.</span></span></span></div><div class="t m0 x8 h16 y39e ff1b fsc fc2 sc0 ls1a wsf6">11</div><div class="t m0 x3c h23 y39f ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/reserved.variables.server.php</div><div class="t m0 x8 h16 y3a0 ff1b fsc fc2 sc0 ls0 ws0">12</div><div class="t m0 x3c h23 y3a1 ff17 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/reserved.constants.php</div><div class="t m0 x8 h16 y3a2 ff1b fsc fc2 sc0 ls0 ws0">13</div><div class="t m0 x3c h23 y3a3 ff17 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/language.constants.predefined.php</div><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",39,105,null]'><div class="d m1" style="border-style:none;position:absolute;left:105.119000px;bottom:474.777000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",39,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:199.230000px;bottom:336.277000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:279.329000px;bottom:325.277000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/reserved.variables.server.php"><div class="d m1" style="border-style:none;position:absolute;left:44.552200px;bottom:93.009400px;width:233.749800px;height:11.168600px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/reserved.constants.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:83.009400px;width:233.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/language.constants.predefined.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:73.009400px;width:280.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf25" class="pf w2 h4" data-page-no="25"><div class="pc pc25 w2 h4"><img class="bi x3 y3a4 w5 h2c" alt="" src="bg25.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls1b wsf7">15</div><div class="t m0 x3 h19 y24e ff16 fsd fc2 sc0 ls0 ws0">Operators</div><div class="t m0 x3 h26 y24f ff11 fse fc2 sc0 ls0 ws0">Arithmetic</div><div class="t m0 x3 h12 y3a5 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should recognize the arithmetic functions<span class="_ _0"></span>:</div><div class="t m0 x3 h20 y3a6 ff15 fs6 fc2 sc0 ls0 ws0">Operation<span class="_ _47"> </span>Example<span class="_ _48"> </span>Description</div><div class="t m0 x3 h12 y3a7 ff11 fsa fc2 sc0 ls0 ws0">Addition<span class="_ _35"> </span>1 + 2.3</div><div class="t m0 x3 h12 y3a8 ff11 fsa fc2 sc0 ls0 ws0">Subtraction<span class="_ _49"> </span>4 – 5</div><div class="t m0 x3 h12 y3a9 ff11 fsa fc2 sc0 ls0 ws0">Division<span class="_ _15"> </span>6 / 7</div><div class="t m0 x3 h12 y3aa ff11 fsa fc2 sc0 ls0 ws0">M<span class="_ _1"></span>ultiplication<span class="_ _a"> </span>8 * 9</div><div class="t m0 x3 h12 y3ab ff11 fsa fc2 sc0 ls0 ws0">Modulus<span class="_ _4a"> </span>10 % 11<span class="_ _4b"> </span>Gives the remainder of dividin<span class="_ _1"></span>g 10 by 11</div><div class="t m0 x3 h12 y3ac ff11 fsa fc2 sc0 ls14 wsef">Power<span class="_ _4c"> </span><span class="ls0 ws0">12 ** 13<span class="_ _4b"> </span>Raises 12 to the power of 13</span></div><div class="t m0 x1a h12 y3ad ff11 fsa fc2 sc0 ls0 ws0">These arithmetic operators take two arguments and so ar<span class="_ _1"></span>e called <span class="ff1d ls10 wsea">binar<span class="_ _0"></span>y</span>.</div><div class="t m0 x1a h12 y3ae ff11 fsa fc2 sc0 ls0 ws0">The unary operators following take only one argumen<span class="_ _1"></span>t and their placement before or </div><div class="t m0 x3 h12 y3af ff11 fsa fc2 sc0 ls0 ws0">after the variable changes how they work. T<span class="_ _1"></span>here are two unary operators in PHP<span class="_ _11"></span>, namely </div><div class="t m0 x3 h12 y3b0 ff11 fsa fc2 sc0 ls0 ws0">prefix and postfix. They are named for whether the opera<span class="_ _1"></span>tor appears before or after the </div><div class="t m0 x3 h12 y3b1 ff11 fsa fc2 sc0 ls0 ws0">variable that it affects<span class="_ _1"></span>.</div><div class="t m0 x7 h12 y3b2 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">If the operator appears befor<span class="_ _1"></span>e the variable (prefix), then the </span></div><div class="t m0 x19 h12 y3b3 ff11 fsa fc2 sc0 ls0 ws0">interpreter will first evalua<span class="_ _1"></span>te it and then return the changed </div><div class="t m0 x19 h12 y3b4 ff11 fsa fc2 sc0 ls0 ws0">variable.</div><div class="t m0 x7 h12 y3b5 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">If the operator appears after the variable (postfix), then the </span></div><div class="t m0 x19 h12 y3b6 ff11 fsa fc2 sc0 ls0 ws0">interpreter will r<span class="_ _1"></span>eturn the variable as it was before the statemen<span class="_ _1"></span>t </div><div class="t m0 x19 h12 y3b7 ff11 fsa fc2 sc0 ls0 ws0">executed and then increment the variable<span class="_ _1"></span>.</div><div class="t m0 x1a h1e y3b8 ff11 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s show their effects on a variable <span class="ff17">$a</span> tha<span class="_ _1"></span>t we initialize to 1 and then operate on:</div><div class="t m0 x3 h20 y3b9 ff15 fs6 fc2 sc0 ls0 ws0">Command<span class="_ _4d"> </span>Output<span class="_ _28"> </span>V<span class="_ _1"></span>alue of <span class="ff1e fsa">$a</span><span class="ws36"> Afterwards<span class="_ _4e"> </span></span>Description</div><div class="t m0 x3 h1e y3ba ff17 fsa fc2 sc0 ls0 ws0">$a = 1;<span class="_ _21"> </span>1</div><div class="t m0 x3 h1e y3bb ff17 fsa fc2 sc0 ls0 ws0">echo $a++;<span class="_ _4f"> </span>1<span class="_ _1f"> </span>2<span class="_ _50"> </span><span class="ff11">Postfix</span></div><div class="t m0 x3 h1e y3bc ff17 fsa fc2 sc0 ls0 ws0">echo ++$a;<span class="_ _4f"> </span>3<span class="_ _1f"> </span>3<span class="_ _50"> </span><span class="ff11">Prefix</span></div><div class="t m0 x3 h1e y3bd ff17 fsa fc2 sc0 ls0 ws0">echo $a--;<span class="_ _4f"> </span>3<span class="_ _1f"> </span>2<span class="_ _50"> </span><span class="ff11">Postfix</span></div><div class="t m0 x3 h1e y3be ff17 fsa fc2 sc0 ls0 ws0">echo --$a;<span class="_ _4f"> </span>1<span class="_ _1f"> </span>1<span class="_ _50"> </span><span class="ff11">Prefix</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf26" class="pf w2 h4" data-page-no="26"><div class="pc pc26 w2 h4"><img class="bi x8 y175 w3 h2d" alt="" src="bg26.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls1c wsf8">16</div><div class="t m0 x8 h26 y3bf ff11 fse fc2 sc0 ls0 ws0">Logic Operators</div><div class="t m0 x8 h12 y3c0 ff11 fsa fc2 sc0 ls0 ws0">PHP uses both symbol and word form logic operators<span class="_ _1"></span>. The symbol form operators ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y3c1 ff11 fsa fc2 sc0 ls0 ws0">C-based.</div><div class="t m0 x8 h20 y3c2 ff15 fs6 fc2 sc0 ls0 ws0">Operator<span class="_ _48"> </span>Example<span class="_ _51"> </span>T<span class="_ _1"></span>rue When</div><div class="t m0 x8 h1e y3c3 ff17 fsa fc2 sc0 ls0 ws0">and<span class="_ _42"> </span>$a and $b<span class="_ _52"> </span><span class="ff11">Both </span>$a<span class="ff11"> and </span>$b<span class="ff11"> evaluate </span>true</div><div class="t m0 x8 h1e y3c4 ff17 fsa fc2 sc0 ls0 ws0">and<span class="_ _42"> </span>$a &amp;&amp; $b</div><div class="t m0 x8 h1e y3c5 ff17 fsa fc2 sc0 ls0 ws0">or<span class="_ _53"> </span>$a or $b<span class="_ _3a"> </span><span class="ff11">Either </span>$a<span class="ff11"> or </span>$b<span class="ff11"> evaluate </span>true</div><div class="t m0 x8 h1e y3c6 ff17 fsa fc2 sc0 ls0 ws0">or<span class="_ _53"> </span>$a || $b</div><div class="t m0 x8 h1e y3c7 ff17 fsa fc2 sc0 ls0 ws0">xor<span class="_ _42"> </span>$a xor $b<span class="_ _52"> </span><span class="ff11">One of (but not both) </span>$a<span class="ff11"> or </span>$b<span class="ff11"> is True</span></div><div class="t m0 x8 h1e y3c8 ff17 fsa fc2 sc0 ls0 ws0">xor<span class="_ _42"> </span>$a ^ $b</div><div class="t m0 x8 h1e y3c9 ff17 fsa fc2 sc0 ls0 ws0">not<span class="_ _42"> </span>!$a<span class="_ _54"> </span>$a<span class="ff11"> is not </span>true<span class="ff11"> (</span>false<span class="ff11">)</span></div><div class="t m0 x3 h1e y3ca ff11 fsa fc2 sc0 ls0 ws0">It is best pr<span class="_ _1"></span>actice not to mix the word form (e<span class="_ _1"></span>.g., <span class="ff17">and</span>) and the symbol (<span class="_ _1"></span>e.g., <span class="ff17">&amp;&amp;</span>) in the </div><div class="t m0 x8 h12 y3cb ff11 fsa fc2 sc0 ls0 ws0">same comparison, as the operators ha<span class="_ _1"></span>ve different pr<span class="_ _1"></span>ecedence. It’<span class="_ _2"></span>s safest to stick to using </div><div class="t m0 x8 h12 y3cc ff11 fsa fc2 sc0 ls0 ws0">the symbol form exclusively.</div><div class="t m0 x3 h12 y3cd ff11 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we see that operator precedence</div><div class="t m0 x3d h15 y3ce ff11 fsb fc4 sc0 ls0 ws0">14</div><div class="t m0 x3e h1e y3cf ff11 fsa fc2 sc0 ls0 ws0"> results in the variables <span class="ff17">$truth</span> </div><div class="t m0 x8 h1e y3d0 ff11 fsa fc2 sc0 ls0 ws0">and <span class="ff17">$pravda</span> not being the same even though we’r<span class="_ _1"></span>e performing the “<span class="_ _1"></span>same” logical </div><div class="t m0 x8 h12 y3d1 ff11 fsa fc2 sc0 ls0 ws0">operator to derive them.</div><div class="t m0 x3 h1e y3d2 ff11 fsa fc2 sc0 ls0 ws0">This happens because the logical oper<span class="_ _1"></span>ators <span class="ff17">and</span> and <span class="ff17">or</span> have lo<span class="_ _1"></span>wer priority than the </div><div class="t m0 x8 h1e y3d3 ff11 fsa fc2 sc0 ls0 ws0">equality operator <span class="ff17">=</span>.</div><div class="t m0 x8 h1e y3d4 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y3d5 ff17 fsa fc2 sc0 ls0 ws0">$a = true;</div><div class="t m0 x8 h1e y3d6 ff17 fsa fc2 sc0 ls0 ws0">$b = false;</div><div class="t m0 x8 h1e y3d7 ff17 fsa fc2 sc0 ls0 ws0">$truth = $a and $b;  // true</div><div class="t m0 x8 h1e y3d8 ff17 fsa fc2 sc0 ls0 ws0">$pravda = $a &amp;&amp; $b;  // false</div><div class="t m0 x8 h1e y3d9 ff17 fsa fc2 sc0 ls0 ws0">assert($truth === $pravda);</div><div class="t m0 x8 h1e y3da ff17 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h1e y3db ff17 fsa fc2 sc0 ls0 ws0">    Warning: assert(): assert($truth === $pravda) failed</div><div class="t m0 x8 h1e y3dc ff17 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x8 h26 y3dd ff11 fse fc2 sc0 ls0 ws0">T<span class="_ _11"></span>ernar<span class="_ _0"></span>y Oper<span class="_ _1"></span>ator</div><div class="t m0 x8 h12 y3de ff11 fsa fc2 sc0 ls0 ws0">PHP implements the ternary operator in the same format as other C<span class="_ _1"></span>-ancestor languages. </div><div class="t m0 x8 h12 y3df ff11 fsa fc2 sc0 ls0 ws0">The general format is as follows:</div><div class="t m0 x8 h1e y3e0 ff17 fsa fc2 sc0 ls0 ws0">condition ? expression1 : expression2;</div><div class="t m0 x3 h1e y3e1 ff11 fsa fc2 sc0 ls0 ws0">If <span class="ff17">condition</span> is true, then <span class="ff17">expression1</span> will be evaluated; otherwise <span class="ff17">expression2</span> is </div><div class="t m0 x8 h12 y3e2 ff11 fsa fc2 sc0 ls0 ws0">evaluated.</div><div class="t m0 x8 h16 y26d ff1b fsc fc2 sc0 ls0 ws0">14</div><div class="t m0 x3c h23 y26e ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.operators.precedence.php</div><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:244.401000px;bottom:363.899000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.operators.precedence.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:73.828300px;width:250.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf27" class="pf w2 h4" data-page-no="27"><div class="pc pc27 w2 h4"><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls1d wsf9">17</div><div class="t m0 x1a h1e y2a8 ff11 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple that checks the condition of <span class="ff17">isset($a)</span> and assigns the string </div><div class="t m0 x3 h1e y3e3 ff11 fsa fc2 sc0 ls0 ws0">value <span class="ff17">&apos;true&apos;</span> or <span class="ff17">&apos;false&apos;</span><span class="ls11 wse8"> to </span><span class="ff17">$b</span> accordingly.</div><div class="t m0 x3 h1e y2ab ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2ac ff17 fsa fc2 sc0 ls0 ws0">$a = &apos;foo&apos;;</div><div class="t m0 x3 h1e y3e4 ff17 fsa fc2 sc0 ls0 ws0">$b = (isset($a)) ? &apos;true&apos; : &apos;false&apos;;</div><div class="t m0 x3 h1e y3e5 ff17 fsa fc2 sc0 ls0 ws0">echo $b;    // true</div><div class="t m0 x1a h1e y3e6 ff11 fsa fc2 sc0 ls0 ws0">The syntax abo<span class="_ _1"></span>ve is identical to the following <span class="ff17">if</span> statement<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y3e7 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y3e8 ff17 fsa fc2 sc0 ls0 ws0">$a = &apos;foo&apos;;</div><div class="t m0 x3 h1e y3e9 ff17 fsa fc2 sc0 ls0 ws0">if (isset($a)) {</div><div class="t m0 x3 h1e y3ea ff17 fsa fc2 sc0 ls0 ws0">  $b = &apos;true&apos;;</div><div class="t m0 x3 h1e y3eb ff17 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x3 h1e y3ec ff17 fsa fc2 sc0 ls0 ws0">  $b = &apos;false&apos;;</div><div class="t m0 x3 h1e y3ed ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y3ee ff17 fsa fc2 sc0 ls0 ws0">echo $b;    // true</div><div class="t m0 x1a h12 y3ef ff11 fsa fc2 sc0 ls0 ws0">If the true value is omitted in the ternary operator<span class="_ _2"></span>, then the statement is evaluat<span class="_ _1"></span>ed as </div><div class="t m0 x3 h12 y3f0 ff11 fsa fc2 sc0 ls0 ws0">the expression, as follows:</div><div class="t m0 x3 h1e y3f1 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y3f2 ff17 fsa fc2 sc0 ls0 ws0">$a = true;</div><div class="t m0 x3 h1e y3f3 ff17 fsa fc2 sc0 ls0 ws0">$b = $a ?: &apos;foo&apos;;</div><div class="t m0 x3 h1e y3f4 ff17 fsa fc2 sc0 ls0 ws0">echo $b;   // 1</div><div class="t m0 x1a h12 y3f5 ff11 fsa fc2 sc0 ls0 ws0">This shortened version of the ternary operator is not suitable for testing if a variable </div><div class="t m0 x3 h12 y3f6 ff11 fsa fc2 sc0 ls0 ws0">exists, as the interpr<span class="_ _1"></span>eter will throw a warning in this case<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y3f7 ff11 fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>ull Coalescing Opera<span class="_ _1"></span>tor</div><div class="t m0 x3 h12 y3f8 ff11 fsa fc2 sc0 ls0 ws0">The null coalescing opera<span class="_ _1"></span>tor is just a special case of the ternary operator<span class="_ _2"></span>. It allows yo<span class="_ _1"></span>u to </div><div class="t m0 x3 h1e y3f9 ff11 fsa fc2 sc0 ls0 ws0">neaten up the syntax used when you’r<span class="_ _1"></span>e using <span class="ff17">isset</span> to assign a default value to a variable<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y3fa ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y3fb ff17 fsa fc2 sc0 ls0 ws0">// Long form ternary syntax</div><div class="t m0 x3 h1e y3fc ff17 fsa fc2 sc0 ls0 ws0">$sortDirection = (isset($_GET[&apos;sort_dir&apos;])) ? $_GET[&apos;sort_dir&apos;] : &apos;ASC&apos;;</div><div class="t m0 x3 h1e y3fd ff17 fsa fc2 sc0 ls0 ws0">// Equivalent syntax using the null coalescing operator</div><div class="t m0 x3 h1e y3fe ff17 fsa fc2 sc0 ls0 ws0">$sortDirection = $_GET[&apos;sort_dir&apos;] ?? &apos;ASC&apos;;</div><div class="t m0 x3 h1e y3ff ff17 fsa fc2 sc0 ls0 ws0">// The null-coalesce operator can be chained</div><div class="t m0 x3 h1e y400 ff17 fsa fc2 sc0 ls0 ws0">$sortDirection = $_GET[&apos;sort_dir&apos;] ?? $defaultSortDir ?? &apos;ASC&apos;;</div><div class="t m0 x3 h1e y401 ff17 fsa fc2 sc0 ls0 ws0">// The Elvis operator raises E_NOTICE if the GET variable is not set</div><div class="t m0 x3 h1e y402 ff17 fsa fc2 sc0 ls0 ws0">$sortDirection = $_GET[&apos;sort_dir&apos;] ?: &apos;ASC&apos;;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf28" class="pf w2 h4" data-page-no="28"><div class="pc pc28 w2 h4"><img class="bi x8 y403 w3 h2e" alt="" src="bg28.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls1e wsfa">18</div><div class="t m0 x3 h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">It is pr<span class="_ _1"></span>eferable to use the null-coalescing opera<span class="_ _1"></span>tor over Elvis because the  </div><div class="t m0 x8 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">null-coalescing operator doesn’t r<span class="_ _1"></span>aise a notice error if the variable is not set.</div><div class="t m0 x8 h26 y404 ff11 fse fc2 sc0 ls0 ws0">Spaceship</div><div class="t m0 x8 h12 y405 ff11 fsa fc2 sc0 ls0 ws0">The spaceship operator is used to compar<span class="_ _1"></span>e two different values and is particularly useful </div><div class="t m0 x8 h12 y406 ff11 fsa fc2 sc0 ls0 ws0">for writing callbacks for the sorting functions that we’ll be looking a<span class="_ _1"></span>t later<span class="_ _2"></span>.</div><div class="t m0 x3 h1e y407 ff11 fsa fc2 sc0 ls0 ws0">It r<span class="_ _1"></span>eturns <span class="ff17">-1</span>, <span class="ff17">0</span>, or <span class="ff17">1</span> when the left operand is respectively less th<span class="_ _1"></span>an, equal to, or </div><div class="t m0 x8 h12 y408 ff11 fsa fc2 sc0 ls0 ws0">greater th<span class="_ _1"></span>an the right.</div><div class="t m0 x8 h20 y409 ff15 fs6 fc2 sc0 ls0 ws0">Operation<span class="_ _55"> </span>V<span class="_ _1"></span>alue</div><div class="t m0 x8 h1e y40a ff17 fsa fc2 sc0 ls0 ws0">1 &lt;=&gt; 0<span class="_ _56"> </span>1</div><div class="t m0 x8 h1e y40b ff17 fsa fc2 sc0 ls0 ws0">1 &lt;=&gt; 1<span class="_ _56"> </span>0</div><div class="t m0 x8 h1e y40c ff17 fsa fc2 sc0 ls0 ws0">1 &lt;=&gt; 2<span class="_ _57"> </span>-1</div><div class="t m0 x8 h1e y40d ff17 fsa fc2 sc0 ls0 ws0">&apos;apples&apos; &lt;=&gt; &apos;Bananas&apos;<span class="_ _29"> </span>1</div><div class="t m0 x8 h1e y40e ff17 fsa fc2 sc0 ls0 ws0">&apos;Apples&apos; &lt;=&gt; &apos;bananas&apos;<span class="_ _44"> </span>-1</div><div class="t m0 x3 h12 y40f ff11 fsa fc2 sc0 ls0 ws0">The spaceship operator uses the standar<span class="_ _1"></span>d PHP comparison rules.</div><div class="t m0 x3 h12 y410 ff11 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’ll see why ther<span class="_ _1"></span>e is this surprising difference in the string comparison in the </div><div class="t m0 x8 h12 y411 ff11 fsa fc2 sc0 ls0 ws0">section on “Strings<span class="_ _1"></span>” later<span class="_ _11"></span>.</div><div class="t m0 x8 h26 y412 ff11 fse fc2 sc0 ls0 ws0">Bitwise</div><div class="t m0 x8 h12 y413 ff11 fsa fc2 sc0 ls14 ws0">Bitwise operators work on the bits of in<span class="_ _1"></span>tegers represented in binary form. Using them on a </div><div class="t m0 x8 h12 y414 ff11 fsa fc2 sc0 ls14 ws0">different variable type will ca<span class="_ _1"></span>use PHP to cast the variable to integer before opera<span class="_ _1"></span>ting on it.</div><div class="t m0 x3 h12 y415 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e three standard logical bitwise opera<span class="_ _1"></span>tors<span class="_ _0"></span>:</div><div class="t m0 x8 h20 y416 ff15 fs6 fc2 sc0 ls0 ws0">Operator<span class="_ _58"> </span>Operation<span class="_ _59"> </span>Description</div><div class="t m0 x8 h1e y417 ff17 fsa fc2 sc0 ls0 ws0">&amp;<span class="_ _1f"> </span><span class="ff11">Bitwise </span>AND<span class="_ _37"> </span><span class="ff11">The r<span class="_ _1"></span>esult will have a bit set if both of the operands bits </span></div><div class="t m0 x3f h12 y418 ff11 fsa fc2 sc0 ls0 ws0">were set</div><div class="t m0 x8 h1e y419 ff17 fsa fc2 sc0 ls0 ws0">|<span class="_ _1f"> </span><span class="ff11">Bitwise </span>OR<span class="_ _59"> </span><span class="ff11">If one or both of the operands hav<span class="_ _1"></span>e a bit set then the </span></div><div class="t m0 x3f h12 y41a ff11 fsa fc2 sc0 ls0 ws0">result will ha<span class="_ _1"></span>ve that bit set</div><div class="t m0 x8 h1e y41b ff17 fsa fc2 sc0 ls0 ws0">^<span class="_ _1f"> </span><span class="ff11">Bitwise </span>XOR<span class="_ _37"> </span><span class="ff11">If one and only one of the operands (not both) has the </span></div><div class="t m0 x3f h12 y41c ff11 fsa fc2 sc0 ls0 ws0">bit set then the result will ha<span class="_ _1"></span>ve the bit set.</div><div class="t m0 x3 h12 y41d ff11 fsa fc2 sc0 ls0 ws0">The result of a bitwise operator will be the value th<span class="_ _1"></span>at has its bits set according to </div><div class="t m0 x8 h12 y41e ff11 fsa fc2 sc0 ls0 ws0">these rules. In other words<span class="_ _1"></span>, the bit in each position of the operands is evaluated ag<span class="_ _1"></span>ainst </div><div class="t m0 x8 h12 y41f ff11 fsa fc2 sc0 ls0 ws0">the corresponding bit in the same position of the other operand.</div><div class="t m0 x3 h12 y420 ff11 fsa fc2 sc0 ls0 ws0">It’<span class="_ _2"></span>s easier to consider the binary representations of num<span class="_ _1"></span>bers when using these </div><div class="t m0 x8 h12 y421 ff11 fsa fc2 sc0 ls0 ws0">operators<span class="_ _1"></span>. Y<span class="_ _1"></span>ou c<span class="_ _1"></span>an calculate the binary representa<span class="_ _1"></span>tion of the result by comparing bits </div><div class="t m0 x8 h12 y422 ff11 fsa fc2 sc0 ls0 ws0">(from right to left) and then con<span class="_ _1"></span>verting to decimal when you’re done<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf29" class="pf w2 h4" data-page-no="29"><div class="pc pc29 w2 h4"><img class="bi x3 y423 w5 h2f" alt="" src="bg29.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls1b wsf7">19</div><div class="t m0 x1a h1e y2a8 ff11 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at <span class="ff17">50 &amp; 25</span> as an example<span class="_ _1"></span>. I’ve p<span class="_ _1"></span>ut the binary representations in comments </div><div class="t m0 x3 h1e y3e3 ff11 fsa fc2 sc0 ls0 ws0">in the three ro<span class="_ _1"></span>ws. Y<span class="_ _2"></span>ou can see that I calculated the binary repr<span class="_ _1"></span>esentation of <span class="ff17">$c</span><span class="lsf wse9"> by </span></div><div class="t m0 x3 h1e y424 ff11 fsa fc2 sc0 ls0 ws0">checking whether the bit in that position is set in <span class="ff17">$a</span> and in <span class="ff17">$b</span>. In this c<span class="_ _1"></span>ase, only one such </div><div class="t m0 x3 h12 y2ab ff11 fsa fc2 sc0 ls0 ws0">bit is true in both positions.</div><div class="t m0 x3 h1e y3e4 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y3e5 ff17 fsa fc2 sc0 ls0 ws0">$a = 50;        // 0b110010</div><div class="t m0 x3 h1e y425 ff17 fsa fc2 sc0 ls0 ws0">$b = 25;        // 0b011001</div><div class="t m0 x3 h1e y3e6 ff17 fsa fc2 sc0 ls0 ws0">$c = 50 &amp; 25;   // 0b010000</div><div class="t m0 x3 h1e y426 ff17 fsa fc2 sc0 ls0 ws0">echo $c;        // 16</div><div class="t m0 x1a h12 y3e8 ff11 fsa fc2 sc0 ls0 ws0">Here is a ta<span class="_ _1"></span>bular format that migh<span class="_ _1"></span>t make it easier to follow. I’m placing the bits </div><div class="t m0 x3 h12 y3e9 ff11 fsa fc2 sc0 ls0 ws0">from each num<span class="_ _1"></span>ber in columns. The ro<span class="_ _1"></span>w marked “<span class="_ _2"></span>operation” shows the comparison that </div><div class="t m0 x3 h12 y3ea ff11 fsa fc2 sc0 ls0 ws0">happens—for every position the bits from the two values ha<span class="_ _1"></span>ve the logical “<span class="_ _2"></span>and” operator </div><div class="t m0 x3 h12 y3eb ff11 fsa fc2 sc0 ls0 ws0">applied to them.</div><div class="t m0 x3 h20 y427 ff15 fs6 fc2 sc0 ls0 ws0">V<span class="_ _1"></span>alue/Operator<span class="_ _5a"> </span>Bits in Each Position</div><div class="t m0 x3 h12 y428 ff11 fsa fc2 sc0 ls0 ws0">50<span class="_ _5b"> </span>1<span class="_ _44"> </span>1<span class="_ _33"> </span>0<span class="_ _5c"> </span>0<span class="_ _5d"> </span>1<span class="_ _5d"> </span>0</div><div class="t m0 x3 h12 y429 ff11 fsa fc2 sc0 ls0 ws0">25<span class="_ _5b"> </span>0<span class="_ _44"> </span>1<span class="_ _33"> </span>1<span class="_ _5c"> </span>0<span class="_ _5d"> </span>0<span class="_ _5d"> </span>1</div><div class="t m0 x3 h12 y42a ff11 fsa fc2 sc0 ls0 ws0">Operation<span class="_ _32"> </span>1 and 0<span class="_ _34"> </span>1 and 1<span class="_ _5e"> </span>0 and 1<span class="_ _5f"> </span>0 and 0<span class="_ _12"> </span>1 and 0<span class="_ _12"> </span>0 and 1</div><div class="t m0 x3 h12 y42b ff11 fsa fc2 sc0 ls0 ws0">Result<span class="_ _60"> </span>0<span class="_ _44"> </span>1<span class="_ _33"> </span>0<span class="_ _5c"> </span>0<span class="_ _5d"> </span>0<span class="_ _5d"> </span>0</div><div class="t m0 x1a h12 y42c ff11 fsa fc2 sc0 ls0 ws0">When we echo out the result. PHP gives us the in<span class="_ _1"></span>teger value and you can quickly </div><div class="t m0 x3 h12 y42d ff11 fsa fc2 sc0 ls0 ws0">confirm that the binary representa<span class="_ _1"></span>tion you evaluated matches it<span class="_ _1"></span>, because 2 raised to the </div><div class="t m0 x3 h12 y42e ff11 fsa fc2 sc0 ls0 ws0">power of 4 is 16.</div><div class="t m0 x3 h26 y42f ff11 fse fc2 sc0 ls0 ws0">Bit Shiftin<span class="_ _1"></span>g</div><div class="t m0 x3 h12 y430 ff11 fsa fc2 sc0 ls0 ws0">PHP also has operators to shift bits left and right<span class="_ _1"></span>. The effect of these operators is to shift </div><div class="t m0 x3 h12 y431 ff11 fsa fc2 sc0 ls0 ws0">the bit pattern of the value either left or right while inserting bits set to 0 in the newly </div><div class="t m0 x3 h12 y432 ff11 fsa fc2 sc0 ls0 ws0">created empty spaces<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y433 ff11 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o understand how these operators work, pictur<span class="_ _1"></span>e your number r<span class="_ _1"></span>epresented in binary </div><div class="t m0 x3 h12 y434 ff11 fsa fc2 sc0 ls0 ws0">form and then all the 1s and 0s being stepped to the left or right.</div><div class="t m0 x1a h12 y435 ff11 fsa fc2 sc0 ls0 ws0">The following table shows shifting bits<span class="_ _1"></span>, one to the right and one to the left.</div><div class="t m0 x3 h20 y436 ff15 fs6 fc2 sc0 ls0 ws0">Operation<span class="_ _3c"> </span>Operation<span class="_ _3c"> </span>Result in Binary<span class="_ _5a"> </span>Result in Decimal</div><div class="t m0 x3 h12 y437 ff11 fsa fc2 sc0 ls0 ws0">50<span class="_ _61"> </span>00110010</div><div class="t m0 x3 h12 y438 ff11 fsa fc2 sc0 ls0 ws0">50 &gt;&gt; 1<span class="_ _62"> </span>Shift Right<span class="_ _4d"> </span>00011001<span class="_ _2d"> </span>25</div><div class="t m0 x3 h12 y439 ff11 fsa fc2 sc0 ls0 ws0">50 &lt;&lt; 1<span class="_ _62"> </span>Shift Left<span class="_ _29"> </span>01100100<span class="_ _2d"> </span>100</div><div class="t m0 x1a h12 y43a ff11 fsa fc2 sc0 ls0 ws0">I’<span class="_ _1"></span>ve included enough leading zeroes in the binary forms to make it easier to see the </div><div class="t m0 x3 h12 y43b ff11 fsa fc2 sc0 ls0 ws0">pattern of what’<span class="_ _2"></span>s happening.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2a" class="pf w2 h4" data-page-no="2a"><div class="pc pc2a w2 h4"><img class="bi x8 y175 w3 h30" alt="" src="bg2a.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 lsa ws58">20</div><div class="t m0 x3 h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can see that when we shifted to the right, the right<span class="_ _1"></span>-hand bit was “lost”<span class="_ _e"></span>. When we </div><div class="t m0 x8 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">shift left, we insert new bits that are set to 0 on the right<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y2d2 ff11 fsa fc2 sc0 ls0 ws0">It’<span class="_ _2"></span>s important to be cautious when using bitwise operations to perform calculations<span class="_ _1"></span>, </div><div class="t m0 x8 h12 y2d3 ff11 fsa fc2 sc0 ls0 ws0">as the integer overflow size m<span class="_ _1"></span>ay vary between the different environmen<span class="_ _1"></span>ts that PHP is </div><div class="t m0 x8 h12 y2d4 ff11 fsa fc2 sc0 ls0 ws0">deployed on.</div><div class="t m0 x3 h12 y1bd ff11 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, although a 64-bit system will ha<span class="_ _1"></span>ve the same result for both operations<span class="_ _1"></span>, </div><div class="t m0 x8 h12 y1be ff11 fsa fc2 sc0 ls0 ws0">on a 32-bit integer system they will not<span class="_ _0"></span>:</div><div class="t m0 x8 h1e y2d6 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y2d7 ff17 fsa fc2 sc0 ls0 ws0">$x = 1;</div><div class="t m0 x8 h1e y2d8 ff17 fsa fc2 sc0 ls0 ws0">echo $x &lt;&lt; 32;</div><div class="t m0 x8 h1e y2d9 ff17 fsa fc2 sc0 ls0 ws0">echo $x * pow(2, 32);</div><div class="t m0 x3 h12 y43c ff11 fsa fc2 sc0 ls0 ws0">The first line will echo 0 as shifting left 32 bits will fill the 32-bit integer with 0 bits. </div><div class="t m0 x8 h12 y2db ff11 fsa fc2 sc0 ls0 ws0">The second line will use the maths library and output the correct value of 2 raised to the </div><div class="t m0 x8 h12 y2dc ff11 fsa fc2 sc0 ls0 ws0">power of 32.</div><div class="t m0 x1e h10 y43d ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff18 fc2"> <span class="_ _2c"> </span> If you want to experiment with binary operators, you’ll find the <span class="ff17 fsa">base_convert()</span> </span></span></div><div class="t m0 x8 h10 y43e ff18 fs6 fc2 sc0 ls0 ws0">function extremely useful.<span class="_ _1"></span> For example,<span class="_ _2"></span> to output the binar<span class="_ _0"></span>y representation of the decimal </div><div class="t m0 x8 h10 y43f ff18 fs6 fc2 sc0 ls0 ws0">number <span class="ff17 fsa">50</span>,<span class="_ _1"></span> you could <span class="ff17 fsa">echo base_convert(50, 10, 2) . PHP_EOL;</span>.</div><div class="t m0 x8 h26 y440 ff11 fse fc2 sc0 ls0 ws0">Bitwise NOT</div><div class="t m0 x8 h12 y441 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou won’t nee<span class="_ _0"></span>d to know the details of the m<span class="_ _1"></span>athematics behind this opera<span class="_ _1"></span>tor<span class="_ _2"></span>, so don’t </div><div class="t m0 x8 h12 y442 ff11 fsa fc2 sc0 ls0 ws0">spend too much time worrying about the details. If you understand the effect it has on the </div><div class="t m0 x8 h12 y443 ff11 fsa fc2 sc0 ls0 ws0">bits, you sho<span class="_ _1"></span>uld be ready to answer questions about it.</div><div class="t m0 x3 h1e y444 ff11 fsa fc2 sc0 ls0 ws0">PHP uses the <span class="ff17">~</span> (tilde) symbol for bitwise NOT<span class="_ _2"></span>. The effect of this operator is to flip the </div><div class="t m0 x8 h12 y445 ff11 fsa fc2 sc0 ls0 ws0">bits in a value—if a bit is set it becomes unset, and if it were not set it becomes set.</div><div class="t m0 x3 h12 y446 ff11 fsa fc2 sc0 ls0 ws0">This is best understood by example:</div><div class="t m0 x40 h20 y447 ff15 fs6 fc2 sc0 ls0 ws0">Bits</div><div class="t m0 x8 h12 y448 ff11 fsa fc2 sc0 ls0 ws0">50<span class="_ _63"> </span>1<span class="_ _32"> </span>1<span class="_ _64"> </span>0<span class="_ _64"> </span>0<span class="_ _65"> </span>1<span class="_ _65"> </span>0</div><div class="t m0 x8 h12 y449 ff11 fsa fc2 sc0 ls0 ws0">~ (NOT)<span class="_ _24"> </span>0<span class="_ _32"> </span>0<span class="_ _64"> </span>1<span class="_ _65"> </span>1<span class="_ _64"> </span>0<span class="_ _65"> </span>1</div><div class="t m0 x3 h12 y44a ff11 fsa fc2 sc0 ls0 ws0">The value (in decimal) of the r<span class="_ _1"></span>esult is -51.</div><div class="t m0 x3 h12 y44b ff11 fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>ust for enrichment purposes, you could r<span class="_ _1"></span>ead up on Wikipedia about two<span class="_ _1"></span>’<span class="_ _2"></span>s </div><div class="t m0 x8 h12 y44c ff11 fsa fc2 sc0 ls0 ws0">complement.</div><div class="t m0 x41 h15 y44d ff11 fsb fc4 sc0 ls0 ws0">15</div><div class="t m0 x42 h12 y44e ff11 fsa fc2 sc0 ls0 ws0"> It is chiefly used to get to a binary repr<span class="_ _1"></span>esentation of a negative number<span class="_ _11"></span>.</div><div class="t m0 x8 h16 y2f4 ff1b fsc fc2 sc0 ls0 ws0">15</div><div class="t m0 x3c h23 y2f5 ff17 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Two%27s_complement</div><a class="l" href="#pf2a" data-dest-detail='[42,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:90.989600px;bottom:135.075000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Two&apos;s_complement"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:73.828300px;width:204.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2b" class="pf w2 h4" data-page-no="2b"><div class="pc pc2b w2 h4"><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls1f wsfb">21</div><div class="t m0 x3 h26 y3bf ff11 fse fc2 sc0 ls0 ws0">Assignment Oper<span class="_ _1"></span>ators</div><div class="t m0 x3 h1e y3c0 ff11 fsa fc2 sc0 ls0 ws0">PHP uses the <span class="ff17">=</span> symbol as an assignment opera<span class="_ _1"></span>tor<span class="_ _2"></span>. The following line sets the value of  </div><div class="t m0 x3 h1e y44f ff17 fsa fc2 sc0 ls0 ws0">$a<span class="ff11 ls11 wse8"> to </span>123<span class="ff11">.</span></div><div class="t m0 x3 h1e y450 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y451 ff17 fsa fc2 sc0 ls0 ws0">$a = 123;</div><div class="t m0 x1a h12 y452 ff11 fsa fc2 sc0 ls0 ws0">The assignment opera<span class="_ _1"></span>tor can be combined with just about all the binary and </div><div class="t m0 x3 h12 y453 ff11 fsa fc2 sc0 ls0 ws0">arithmetic operators<span class="_ _1"></span>. This syntax serves as a shor<span class="_ _0"></span>tcut th<span class="_ _1"></span>at is best shown by pro<span class="_ _1"></span>viding an </div><div class="t m0 x3 h12 y454 ff11 fsa fc2 sc0 ls0 ws0">example of equivalent statemen<span class="_ _1"></span>ts<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y455 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y456 ff17 fsa fc2 sc0 ls0 ws0">$a += 345;    // equivalent to $a = $a + 345;</div><div class="t m0 x3 h1e y457 ff17 fsa fc2 sc0 ls0 ws0">$a .= &apos;foo&apos;;  // equivalent to $a = $a . &apos;foo&apos;;</div><div class="t m0 x1a h12 y458 ff11 fsa fc2 sc0 ls0 ws0">The result of any as<span class="_ _1"></span>signment expression is the value of the variable follo<span class="_ _1"></span>wing the </div><div class="t m0 x3 h12 y459 ff11 fsa fc2 sc0 ls0 ws0">assignment.</div><div class="t m0 x1a h1e y45a ff11 fsa fc2 sc0 ls0 ws0">A fairly common typing error is to mistakenly forget the second <span class="ff17">=</span> symbol in an </div><div class="t m0 x3 h12 y45b ff11 fsa fc2 sc0 ls0 ws0">equality check. Consider the following example where we<span class="_ _1"></span>’re using the assignmen<span class="_ _1"></span>t </div><div class="t m0 x3 h1e y45c ff11 fsa fc2 sc0 ls0 ws0">operator in the <span class="ff17">if</span> statemen<span class="_ _1"></span>t where we intended to use the equality operator<span class="_ _11"></span>.</div><div class="t m0 x3 h1e y45d ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y45e ff17 fsa fc2 sc0 ls0 ws0">$foo = &quot;hello&quot;;</div><div class="t m0 x3 h1e y45f ff17 fsa fc2 sc0 ls0 ws0">if ($foo = &quot;world&quot;) {</div><div class="t m0 x3 h1e y460 ff17 fsa fc2 sc0 ls0 ws0">  echo &quot;matches&quot;;</div><div class="t m0 x3 h1e y461 ff17 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x3 h1e y462 ff17 fsa fc2 sc0 ls0 ws0">  echo &quot;does not match&quot;;</div><div class="t m0 x3 h1e y463 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h1e y464 ff11 fsa fc2 sc0 ls0 ws0">Had this been an equality opera<span class="_ _1"></span>tor<span class="_ _2"></span>, the <span class="ff17">if</span> statement would be false and the script </div><div class="t m0 x3 h12 y465 ff11 fsa fc2 sc0 ls0 ws0">would output “<span class="_ _2"></span>does not match<span class="_ _1"></span>”<span class="_ _e"></span>. However<span class="_ _11"></span>, because we’re assigning the string “world” to </div><div class="t m0 x3 h1e y466 ff11 fsa fc2 sc0 ls0 ws0">the variable <span class="ff17">$foo</span>, the result is the value “world<span class="_ _1"></span>”<span class="_ _e"></span>, which when cast to Boolean is <span class="ff17">true</span>  </div><div class="t m0 x3 h12 y467 ff11 fsa fc2 sc0 ls0 ws0">(see “C<span class="_ _1"></span>asting V<span class="_ _2"></span>ar<span class="_ _0"></span>iables<span class="_ _1"></span>”).</div><div class="t m0 x1a h12 y468 ff11 fsa fc2 sc0 ls20 ws0">Some coding conventions use wha<span class="_ _1"></span>t is called the “<span class="_ _0"></span>Y<span class="_ _2"></span>oda Condition” to assist with </div><div class="t m0 x3 h12 y469 ff11 fsa fc2 sc0 ls20 ws0">this error<span class="_ _2"></span>. It uses the fact tha<span class="_ _1"></span>t PHP will not let you change the value of a constant. If<span class="_ _1"></span> </div><div class="t m0 x3 h12 y46a ff11 fsa fc2 sc0 ls20 ws0">you always place the constan<span class="_ _1"></span>t on the left of an equality comparison, you’ll be warned </div><div class="t m0 x3 h12 y46b ff11 fsa fc2 sc0 ls20 ws0">if you mistype the operator<span class="_ _11"></span>. Whether the cost of code readability is worth it is a matter </div><div class="t m0 x3 h12 y46c ff11 fsa fc2 sc0 ls20 ws0">of personal style.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2c" class="pf w2 h4" data-page-no="2c"><div class="pc pc2c w2 h4"><img class="bi x8 y46d w3 h31" alt="" src="bg2c.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls21 wsfc">22</div><div class="t m0 x8 h26 y3bf ff11 fse fc2 sc0 ls0 ws0">Refer<span class="_ _1"></span>ence Operator</div><div class="t m0 x8 h12 y3c0 ff11 fsa fc2 sc0 ls0 ws0">By default, PHP assi<span class="_ _1"></span>gns all scalar variables by value.</div><div class="t m0 x3 h12 y44f ff11 fsa fc2 sc0 ls0 ws0">PHP has optimizations to mak<span class="_ _1"></span>e assignment by value faster than ass<span class="_ _1"></span>igning by </div><div class="t m0 x8 h12 y46e ff11 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence (see the section on “Memor<span class="_ _0"></span>y M<span class="_ _1"></span>anagement”), but if you want to as<span class="_ _1"></span>sign by </div><div class="t m0 x8 h1e y450 ff11 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence, you can use the <span class="ff17">&amp;</span> opera<span class="_ _1"></span>tor as follows<span class="_ _0"></span>:</div><div class="t m0 x8 h1e y46f ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y452 ff17 fsa fc2 sc0 ls0 ws0">$a = 1;</div><div class="t m0 x8 h1e y453 ff17 fsa fc2 sc0 ls0 ws0">$b = &amp;$a;  // assign by reference</div><div class="t m0 x8 h1e y454 ff17 fsa fc2 sc0 ls0 ws0">$b += 5;</div><div class="t m0 x8 h1e y470 ff17 fsa fc2 sc0 ls0 ws0">echo $a;  // 6</div><div class="t m0 x3 h12 y456 ff11 fsa fc2 sc0 ls0 ws0">PHP always assigns objects b<span class="_ _1"></span>y reference; if you try to explicitly crea<span class="_ _1"></span>te it by refer<span class="_ _1"></span>ence, </div><div class="t m0 x8 h12 y457 ff11 fsa fc2 sc0 ls0 ws0">PHP will generate a parse error<span class="_ _11"></span>.</div><div class="t m0 x8 h1e y458 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y459 ff17 fsa fc2 sc0 ls0 ws0">class MyClass {}</div><div class="t m0 x8 h1e y45a ff17 fsa fc2 sc0 ls0 ws0">// Parse error: syntax error, unexpected &apos;new&apos;</div><div class="t m0 x8 h1e y45b ff17 fsa fc2 sc0 ls0 ws0">$a = &amp;new MyClass;</div><div class="t m0 x8 h26 y471 ff11 fse fc2 sc0 ls0 ws0">Comparison Operators</div><div class="t m0 x8 h12 y472 ff11 fsa fc2 sc0 ls0 ws0">PHP uses the following comparison operators:</div><div class="t m0 x8 h20 y473 ff15 fs6 fc2 sc0 ls0 ws0">Operator<span class="_ _66"> </span>Description</div><div class="t m0 x8 h1e y474 ff17 fsa fc2 sc0 ls0 ws0">&gt;<span class="_ _31"> </span><span class="ff11">Greater th<span class="_ _1"></span>an</span></div><div class="t m0 x8 h1e y475 ff17 fsa fc2 sc0 ls0 ws0">&gt;=<span class="_ _1f"> </span><span class="ff11">Gr<span class="_ _1"></span>eater than or equal to</span></div><div class="t m0 x8 h1e y476 ff17 fsa fc2 sc0 ls0 ws0">&lt;<span class="_ _31"> </span><span class="ff11">Less than</span></div><div class="t m0 x8 h1e y477 ff17 fsa fc2 sc0 ls0 ws0">&lt;=<span class="_ _1f"> </span><span class="ff11">Less than or equal to</span></div><div class="t m0 x8 h1e y478 ff17 fsa fc2 sc0 ls0 ws0">&lt;&gt;<span class="_ _1f"> </span><span class="ff11">N<span class="_ _1"></span>ot equal</span></div><div class="t m0 x8 h1e y479 ff17 fsa fc2 sc0 ls0 ws0">==<span class="_ _1f"> </span><span class="ff11">Equiv<span class="_ _1"></span>alence; values are equivalent if cast to the s<span class="_ _1"></span>ame variable type</span></div><div class="t m0 x8 h1e y47a ff17 fsa fc2 sc0 ls0 ws0">===<span class="_ _67"> </span><span class="ff11">Identity; values m<span class="_ _1"></span>ust be of the same data type and have the s<span class="_ _1"></span>ame value</span></div><div class="t m0 x8 h1e y47b ff17 fsa fc2 sc0 ls0 ws0">!=<span class="_ _1f"> </span><span class="ff11">N<span class="_ _1"></span>ot equivalent</span></div><div class="t m0 x8 h1e y47c ff17 fsa fc2 sc0 ls0 ws0">!==<span class="_ _67"> </span><span class="ff11">Not identic<span class="_ _1"></span>al</span></div><div class="t m0 x3 h12 y47d ff11 fsa fc2 sc0 ls0 ws0">It is important to understand the differ<span class="_ _1"></span>ence between an equivalent comparison and </div><div class="t m0 x8 h12 y47e ff11 fsa fc2 sc0 ls0 ws0">an identity comparison:</div><div class="t m0 x2b h12 y47f ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Operands are equivalen<span class="_ _1"></span>t if they can be cast to a common data </span></div><div class="t m0 x18 h12 y480 ff11 fsa fc2 sc0 ls0 ws0">type and have the s<span class="_ _1"></span>ame value.</div><div class="t m0 x2b h12 y481 ff1c fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff11">Operands are iden<span class="_ _1"></span>tical if they share the same data type and h<span class="_ _1"></span>ave </span></div><div class="t m0 x18 h12 y482 ff11 fsa fc2 sc0 ls0 ws0">the same value.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2d" class="pf w2 h4" data-page-no="2d"><div class="pc pc2d w2 h4"><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x11 hd y55 ff11 fs6 fc2 sc0 ls5 ws33">23</div><div class="t m0 x1a h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">Arrays ar<span class="_ _1"></span>e equivalent if they have the same k<span class="_ _1"></span>ey and value pairs. They are iden<span class="_ _1"></span>tical </div><div class="t m0 x3 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">if they have the same k<span class="_ _1"></span>ey and value pairs, in the same or<span class="_ _1"></span>der<span class="_ _2"></span>, and the key-v<span class="_ _1"></span>alue are of the </div><div class="t m0 x3 h12 y1ba ff11 fsa fc2 sc0 ls0 ws0">same type.</div><div class="t m0 x1a h12 y1bb ff11 fsa fc2 sc0 ls0 ws0">When using comparison operators on arra<span class="_ _1"></span>ys, the count of their keys is used to </div><div class="t m0 x3 h12 y1bc ff11 fsa fc2 sc0 ls0 ws0">determine which is greater or lesser<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y1bd ff11 fsa fc2 sc0 ls0 ws0">When compared to a scalar variable<span class="_ _1"></span>, both an object and an array will be considered </div><div class="t m0 x3 h12 y1be ff11 fsa fc2 sc0 ls0 ws0">greater th<span class="_ _1"></span>an the scalar<span class="_ _2"></span>.</div><div class="t m0 x3 h1e y1c0 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1c1 ff17 fsa fc2 sc0 ls0 ws0">$a = [1];</div><div class="t m0 x3 h1e y1c2 ff17 fsa fc2 sc0 ls0 ws0">$b = 100;</div><div class="t m0 x3 h1e y1c3 ff17 fsa fc2 sc0 ls0 ws0">echo $a &lt;=&gt; $b; // 1</div><div class="t m0 x1a h12 y1c5 ff11 fsa fc2 sc0 ls0 ws0">Be careful when using comparison opera<span class="_ _1"></span>tors on strings, or when using them on </div><div class="t m0 x3 h12 y1c6 ff11 fsa fc2 sc0 ls0 ws0">mismatching variable types<span class="_ _1"></span>. See the section on “Casting V<span class="_ _2"></span>ariables” for mor<span class="_ _1"></span>e information.</div><div class="t m0 x3 h26 y483 ff11 fse fc2 sc0 ls0 ws0">T<span class="_ _1"></span>wo Mor<span class="_ _1"></span>e Operators</div><div class="t m0 x3 h12 y484 ff11 fsa fc2 sc0 ls0 ws0">PHP pro<span class="_ _1"></span>vides an operator to suppress err<span class="_ _1"></span>or messages. This will work only if the libr<span class="_ _1"></span>ar<span class="_ _0"></span>y </div><div class="t m0 x3 h12 y485 ff11 fsa fc2 sc0 ls0 ws0">that the function is based on uses PHP standard err<span class="_ _1"></span>or reporting.</div><div class="t m0 x3 h1e y486 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y487 ff17 fsa fc2 sc0 ls0 ws0">// Error messages will be suppressed</div><div class="t m0 x3 h1e y488 ff17 fsa fc2 sc0 ls0 ws0">$dbConnection = @mysqli_connect(...);</div><div class="t m0 x1a h1e y489 ff11 fsa fc2 sc0 ls0 ws0">It’<span class="_ _2"></span>s bad practice to suppress PHP err<span class="_ _1"></span>ors with the <span class="ff17">@</span> operator<span class="_ _2"></span>. It is better to use </div><div class="t m0 x3 h12 y48a ff11 fsa fc2 sc0 ls0 ws0">PHP settings to suppress err<span class="_ _1"></span>ors in your production envir<span class="_ _1"></span>onment and to allow your </div><div class="t m0 x3 h12 y48b ff11 fsa fc2 sc0 ls0 ws0">development envir<span class="_ _1"></span>onment to display errors<span class="_ _1"></span>. Ha<span class="_ _1"></span>ving code that fails silently without </div><div class="t m0 x3 h12 y48c ff11 fsa fc2 sc0 ls0 ws0">producing an error m<span class="_ _1"></span>akes debugging much mor<span class="_ _1"></span>e difficult than it needs to be.</div><div class="t m0 x1a h12 y48d ff11 fsa fc2 sc0 ls0 ws0">The last operator we will discuss is the back<span class="_ _1"></span>tick operator<span class="_ _2"></span>. It is not commonly used </div><div class="t m0 x3 h1e y48e ff11 fsa fc2 sc0 ls0 ws0">and is equivalent to calling the <span class="ff17">shell_exec()</span> command. I<span class="_ _1"></span>n the following example, the </div><div class="t m0 x3 h1e y48f ff11 fsa fc2 sc0 ls0 ws0">variable <span class="ff17">$a</span> will contain the name of the user running the PHP interpr<span class="_ _1"></span>eter<span class="_ _2"></span>.</div><div class="t m0 x3 h1e y490 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y491 ff17 fsa fc2 sc0 ls0 ws0">// This is the equivalent of echo shell_exec(&apos;whoami&apos;);</div><div class="t m0 x3 h1e y492 ff17 fsa fc2 sc0 ls0 ws0">echo `whoami`;</div><div class="t m0 x1a h1e y493 ff11 fsa fc2 sc0 ls0 ws0">In a web envir<span class="_ _1"></span>onment this will probably be <span class="ff17">www-data</span>. This is the defa<span class="_ _1"></span>ult for Nginx </div><div class="t m0 x3 h12 y494 ff11 fsa fc2 sc0 ls0 ws0">and Apache<span class="_ _1"></span>, but from the command line will be the name of the user who is logged in.</div><div class="t m0 x3 h19 y495 ff16 fsd fc2 sc0 ls0 ws0">Control Structures</div><div class="t m0 x3 h12 y496 ff11 fsa fc2 sc0 ls0 ws0">Control structur<span class="_ _1"></span>es allow you to analyze variables and then choose a dir<span class="_ _1"></span>ection for your </div><div class="t m0 x3 h12 y497 ff11 fsa fc2 sc0 ls0 ws0">program to flo<span class="_ _1"></span>w in. In this section, we’re going to be looking a<span class="_ _1"></span>t several different sorts of </div><div class="t m0 x3 h12 y498 ff11 fsa fc2 sc0 ls0 ws0">control structur<span class="_ _1"></span>es and how they’re implemented in PHP<span class="_ _11"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2e" class="pf w2 h4" data-page-no="2e"><div class="pc pc2e w2 h4"><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls5 ws33">24</div><div class="t m0 x8 h26 y3bf ff11 fse fc2 sc0 ls0 ws0">Conditional S<span class="_ _1"></span>tructures</div><div class="t m0 x8 h1e y3c0 ff11 fsa fc2 sc0 ls0 ws0">PHP supports <span class="ff17">if</span>, <span class="ff17">else</span>, <span class="ff17">elseif</span>, <span class="ff17">switch</span>, and ternary conditional structures.</div><div class="t m0 x3 h1e y44f ff17 fsa fc2 sc0 ls0 ws0">If<span class="ff11"> structures look like this:</span></div><div class="t m0 x8 h1e y450 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y451 ff17 fsa fc2 sc0 ls0 ws0">if (condition) {</div><div class="t m0 x8 h1e y46f ff17 fsa fc2 sc0 ls0 ws0">  // statements to execute</div><div class="t m0 x8 h1e y452 ff17 fsa fc2 sc0 ls0 ws0">} elseif (second condition) {</div><div class="t m0 x8 h1e y453 ff17 fsa fc2 sc0 ls0 ws0">  // statements to execute</div><div class="t m0 x8 h1e y454 ff17 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x8 h1e y470 ff17 fsa fc2 sc0 ls0 ws0">  // statements to execute</div><div class="t m0 x8 h1e y455 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y457 ff11 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the space between <span class="ff17">else</span> and <span class="ff17">if</span> in the <span class="ff17">elseif</span> is optional.</div><div class="t m0 x3 h1e y499 ff17 fsa fc2 sc0 ls0 ws0">If<span class="ff11"> statements ma<span class="_ _1"></span>y be nested.</span></div><div class="t m0 x3 h1e y458 ff11 fsa fc2 sc0 ls0 ws0">The <span class="ff17">switch</span> statement looks like this:</div><div class="t m0 x8 h1e y45a ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y45b ff17 fsa fc2 sc0 ls0 ws0">switch ($value) {</div><div class="t m0 x8 h1e y45c ff17 fsa fc2 sc0 ls0 ws0">  case &apos;10&apos; :</div><div class="t m0 x8 h1e y49a ff17 fsa fc2 sc0 ls0 ws0">    // statements to execute</div><div class="t m0 x8 h1e y45d ff17 fsa fc2 sc0 ls0 ws0">    break;</div><div class="t m0 x8 h1e y45e ff17 fsa fc2 sc0 ls0 ws0">  case &apos;20&apos;  :</div><div class="t m0 x8 h1e y45f ff17 fsa fc2 sc0 ls0 ws0">    // statements to execute</div><div class="t m0 x8 h1e y460 ff17 fsa fc2 sc0 ls0 ws0">    break;</div><div class="t m0 x8 h1e y461 ff17 fsa fc2 sc0 ls0 ws0">  case &apos;30&apos;  :</div><div class="t m0 x8 h1e y462 ff17 fsa fc2 sc0 ls0 ws0">    // statements to execute</div><div class="t m0 x8 h1e y463 ff17 fsa fc2 sc0 ls0 ws0">    break;</div><div class="t m0 x8 h1e y49b ff17 fsa fc2 sc0 ls0 ws0">  default:</div><div class="t m0 x8 h1e y464 ff17 fsa fc2 sc0 ls0 ws0">    // statements to execute</div><div class="t m0 x8 h1e y465 ff17 fsa fc2 sc0 ls0 ws0">    break;</div><div class="t m0 x8 h1e y466 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y468 ff11 fsa fc2 sc0 ls0 ws0">Once a <span class="ff17">case</span> matches the value, the s<span class="_ _1"></span>tatements in the code block will be executed </div><div class="t m0 x8 h1e y469 ff11 fsa fc2 sc0 ls0 ws0">until it reaches a <span class="ff17">break</span> comm<span class="_ _1"></span>and.</div><div class="t m0 x3 h1e y46a ff11 fsa fc2 sc0 ls0 ws0">If you omit the <span class="ff17">break</span> command, then all the following sta<span class="_ _1"></span>tements in the <span class="ff17">switch</span> will </div><div class="t m0 x8 h1e y46b ff11 fsa fc2 sc0 ls0 ws0">be executed until a break is hit even if the <span class="ff17">case</span> does not m<span class="_ _1"></span>atch the value. This can be </div><div class="t m0 x8 h12 y46c ff11 fsa fc2 sc0 ls0 ws0">useful in some circumstances, b<span class="_ _1"></span>ut can also produce unintended outcomes if you for<span class="_ _1"></span>get to </div><div class="t m0 x8 h1e y49c ff11 fsa fc2 sc0 ls0 ws0">use the <span class="ff17">break</span> statement.</div><div class="t m0 x3 h12 y49d ff11 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o illustrate, consider this exam<span class="_ _1"></span>ple:</div><div class="t m0 x8 h1e y49e ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y49f ff17 fsa fc2 sc0 ls0 ws0">$value = 10;</div><div class="t m0 x8 h1e y4a0 ff17 fsa fc2 sc0 ls0 ws0">switch ($value) {</div><div class="t m0 x8 h1e y4a1 ff17 fsa fc2 sc0 ls0 ws0">    case &apos;10&apos; :</div><div class="t m0 x8 h1e y4a2 ff17 fsa fc2 sc0 ls0 ws0">        echo &quot;Value is 10&quot;;</div><div class="t m0 x8 h1e y4a3 ff17 fsa fc2 sc0 ls0 ws0">        // no break statement</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2f" class="pf w2 h4" data-page-no="2f"><div class="pc pc2f w2 h4"><img class="bi x3 y4a4 w5 h29" alt="" src="bg2f.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x11 hd y55 ff11 fs6 fc2 sc0 ls22 wsfd">25</div><div class="t m0 x3 h1e y2a8 ff17 fsa fc2 sc0 ls0 ws0">    case &apos;20&apos;  :</div><div class="t m0 x3 h1e y3e3 ff17 fsa fc2 sc0 ls0 ws0">        echo &quot;Value is 20&quot;;</div><div class="t m0 x3 h1e y424 ff17 fsa fc2 sc0 ls0 ws0">        break;</div><div class="t m0 x3 h1e y2ab ff17 fsa fc2 sc0 ls0 ws0">    case &apos;30&apos;  :</div><div class="t m0 x3 h1e y2ac ff17 fsa fc2 sc0 ls0 ws0">        echo &quot;Value is 30&quot;;</div><div class="t m0 x3 h1e y3e4 ff17 fsa fc2 sc0 ls0 ws0">        break;</div><div class="t m0 x3 h1e y3e5 ff17 fsa fc2 sc0 ls0 ws0">    default:</div><div class="t m0 x3 h1e y425 ff17 fsa fc2 sc0 ls0 ws0">        echo &quot;Value is not 10,20, or 30&quot;;</div><div class="t m0 x3 h1e y3e6 ff17 fsa fc2 sc0 ls0 ws0">        break;</div><div class="t m0 x3 h1e y426 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y3e7 ff17 fsa fc2 sc0 ls0 ws0">// Value is 10Value is 20</div><div class="t m0 x23 h10 y4a5 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> If you include <span class="ff17 fsa">case</span> statements after the default <span class="ff17 fsa">case</span>,<span class="_ _1"></span> they will not be checked.</span></span></span></div><div class="t m0 x3 h26 y4a6 ff11 fse fc2 sc0 ls0 ws0">Loops</div><div class="t m0 x3 h1e y4a7 ff11 fsa fc2 sc0 ls0 ws0">PHP’<span class="_ _2"></span>s most basic loop is the <span class="ff17">while</span> loop. It h<span class="_ _1"></span>as two forms, as shown:</div><div class="t m0 x3 h1e y4a8 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y4a9 ff17 fsa fc2 sc0 ls0 ws0">while (expression) {</div><div class="t m0 x3 h1e y4aa ff17 fsa fc2 sc0 ls0 ws0">  // statements to execute</div><div class="t m0 x3 h1e y4ab ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y4ac ff17 fsa fc2 sc0 ls0 ws0">do {</div><div class="t m0 x3 h1e y4ad ff17 fsa fc2 sc0 ls0 ws0">  // statements to execute</div><div class="t m0 x3 h1e y4ae ff17 fsa fc2 sc0 ls0 ws0">} while (expression)</div><div class="t m0 x1a h12 y4af ff11 fsa fc2 sc0 ls0 ws0">The difference between them is that in the first form<span class="_ _1"></span>, the expression is evaluated at </div><div class="t m0 x3 h12 y4b0 ff11 fsa fc2 sc0 ls0 ws0">the beginning of the loop and in the second form, it’<span class="_ _1"></span>s evaluat<span class="_ _1"></span>ed at the end.</div><div class="t m0 x1a h1e y4b1 ff11 fsa fc2 sc0 ls0 ws0">This means that if the expr<span class="_ _1"></span>ession is false, the <span class="ff17">while</span> loop will not run at all in the first </div><div class="t m0 x3 h12 y4b2 ff11 fsa fc2 sc0 ls0 ws0">case but it will run at least once in the second case.</div><div class="t m0 x1a h1e y4b3 ff11 fsa fc2 sc0 ls0 ws0">The <span class="ff17">for</span> loop syntax shows the C r<span class="_ _1"></span>oots of PHP and looks like this<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y4b4 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y4b5 ff17 fsa fc2 sc0 ls0 ws0">for ($i = 0; $i &lt; 10; $i++) {</div><div class="t m0 x3 h1e y4b6 ff17 fsa fc2 sc0 ls0 ws0">  // do something</div><div class="t m0 x3 h1e y4b7 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 y4b8 ff11 fsa fc2 sc0 ls0 ws0">As with C, the first statement is executed to initialize the loop<span class="_ _1"></span>. The second condition </div><div class="t m0 x3 h12 y4b9 ff11 fsa fc2 sc0 ls0 ws0">is evaluated at the beginning of each loop<span class="_ _1"></span>, and the last statemen<span class="_ _1"></span>t is executed at the end of </div><div class="t m0 x3 h1e y4ba ff11 fsa fc2 sc0 ls0 ws0">each loop<span class="_ _1"></span>. The loop will continue to run until the condition evaluates as <span class="ff17">false</span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf30" class="pf w2 h4" data-page-no="30"><div class="pc pc30 w2 h4"><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls23 wsfe">26</div><div class="t m0 x3 h1e y1b8 ff11 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o iterate over an arr<span class="_ _1"></span>ay, you can use <span class="ff17">foreach</span>, as follows:</div><div class="t m0 x8 h1e y1ba ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1bb ff17 fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x8 h1e y1bc ff17 fsa fc2 sc0 ls0 ws0">  &apos;a&apos; =&gt; &apos;one&apos;,</div><div class="t m0 x8 h1e y1bd ff17 fsa fc2 sc0 ls0 ws0">  &apos;b&apos; =&gt; &apos;two&apos;,</div><div class="t m0 x8 h1e y1be ff17 fsa fc2 sc0 ls0 ws0">  &apos;c&apos; =&gt; &apos;three&apos;</div><div class="t m0 x8 h1e y1bf ff17 fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x8 h1e y1c1 ff17 fsa fc2 sc0 ls0 ws0">foreach ($arr as $value) {</div><div class="t m0 x8 h1e y1c2 ff17 fsa fc2 sc0 ls0 ws0">    echo $value;   // one, two, three</div><div class="t m0 x8 h1e y1c3 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h1e y1c5 ff17 fsa fc2 sc0 ls0 ws0">foreach ($arr as $key =&gt; $value) {</div><div class="t m0 x8 h1e y1c6 ff17 fsa fc2 sc0 ls0 ws0">    echo $key;    // a, b, c</div><div class="t m0 x8 h1e y1c7 ff17 fsa fc2 sc0 ls0 ws0">    echo $value;  // one, two, three</div><div class="t m0 x8 h1e y1c8 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h26 y4bb ff11 fse fc2 sc0 ls0 ws0">Breakin<span class="_ _1"></span>g Out of Loops</div><div class="t m0 x8 h1e y4bc ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two ways to stop an iteration of a loop in PHP<span class="_ _2"></span>—<span class="ff17">break</span> and <span class="ff17">continue</span>.</div><div class="t m0 x3 h1e y4bd ff11 fsa fc2 sc0 ls0 ws0">Using <span class="ff17">continue</span> has the effect of stopping the curr<span class="_ _1"></span>ent iteration and allowing the loop </div><div class="t m0 x8 h12 y4be ff11 fsa fc2 sc0 ls0 ws0">to process the next evalua<span class="_ _1"></span>tion condition. This allows you to let any further itera<span class="_ _1"></span>tions to </div><div class="t m0 x8 h12 y4bf ff11 fsa fc2 sc0 ls0 ws0">occur<span class="_ _2"></span>.</div><div class="t m0 x3 h1e y4c0 ff11 fsa fc2 sc0 ls0 ws0">Using <span class="ff17">break</span> has the effect of stopping the en<span class="_ _1"></span>tire loop and no further iterations will </div><div class="t m0 x8 h12 y4c1 ff11 fsa fc2 sc0 ls0 ws0">occur<span class="_ _2"></span>.</div><div class="t m0 x3 h1e y4c2 ff11 fsa fc2 sc0 ls0 ws0">The <span class="ff17">break</span> statement takes an option<span class="_ _1"></span>al integer value that can be used to bre<span class="_ _1"></span>ak out of </div><div class="t m0 x8 h1e y4c3 ff11 fsa fc2 sc0 ls0 ws0">multiple levels of a nested loop<span class="_ _1"></span>. If no value is specified, it defaults to <span class="ff17">1</span>.</div><div class="t m0 x8 h26 y4c4 ff11 fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>amespaces</div><div class="t m0 x8 h12 y4c5 ff11 fsa fc2 sc0 ls0 ws0">Names<span class="_ _1"></span>paces help you avoid namin<span class="_ _1"></span>g collisions between libraries or other shared code. </div><div class="t m0 x8 h12 y4c6 ff11 fsa fc2 sc0 ls0 ws0">A namespace will encapsulate the items inside it so th<span class="_ _1"></span>at they don’t conflict with items </div><div class="t m0 x8 h12 y4c7 ff11 fsa fc2 sc0 ls0 ws0">declared elsewhere<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y4c8 ff11 fsa fc2 sc0 ls0 ws0">They can be used to avoid o<span class="_ _1"></span>verly descriptive names for classes, to sub-divide a </div><div class="t m0 x8 h12 y4c9 ff11 fsa fc2 sc0 ls0 ws0">library into sections, or to limit the applicability of constan<span class="_ _1"></span>ts to one section of code.</div><div class="t m0 x3 h12 y4ca ff11 fsa fc2 sc0 ls0 ws0">Classes encapsulate code into instan<span class="_ _1"></span>tiable units. N<span class="_ _1"></span>amespaces group functions<span class="_ _1"></span>, </div><div class="t m0 x8 h12 y4cb ff11 fsa fc2 sc0 ls0 ws0">classes, and constants in<span class="_ _1"></span>to spaces where their name is unique<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y4cc ff11 fsa fc2 sc0 ls0 ws0">The namespace declara<span class="_ _1"></span>tion must occur straight after the opening <span class="ff17">&lt;?php</span> ta<span class="_ _1"></span>g and no </div><div class="t m0 x8 h12 y4cd ff11 fsa fc2 sc0 ls0 ws0">other statements ma<span class="_ _1"></span>y precede it.</div><div class="t m0 x3 h1e y4ce ff11 fsa fc2 sc0 ls0 ws0">Names<span class="_ _1"></span>paces affect constants, but you m<span class="_ _1"></span>ust declare them with the <span class="ff17">const</span> keyword </div><div class="t m0 x8 h1e y4cf ff11 fsa fc2 sc0 ls0 ws0">and not with <span class="ff17">define()</span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf31" class="pf w2 h4" data-page-no="31"><div class="pc pc31 w2 h4"><img class="bi x3 y4d0 w5 h32" alt="" src="bg31.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x11 hd y55 ff11 fs6 fc2 sc0 ls24 wsff">27</div><div class="t m0 x1a h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">It is possible to ha<span class="_ _1"></span>ve two namespaces in a file<span class="_ _1"></span>, but most coding standards will </div><div class="t m0 x3 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">strongly discour<span class="_ _1"></span>age this. T<span class="_ _2"></span>o accomplish this, yo<span class="_ _1"></span>u wrap the code for the namespace in </div><div class="t m0 x3 h12 y1ba ff11 fsa fc2 sc0 ls0 ws0">braces<span class="_ _1"></span>, as in this example:</div><div class="t m0 x3 h1e y1bc ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1bd ff17 fsa fc2 sc0 ls0 ws0">namespace A {</div><div class="t m0 x3 h1e y1be ff17 fsa fc2 sc0 ls0 ws0">  // this is in namespace A</div><div class="t m0 x3 h1e y1bf ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y1c0 ff17 fsa fc2 sc0 ls0 ws0">namespace B {</div><div class="t m0 x3 h1e y1c1 ff17 fsa fc2 sc0 ls0 ws0">  // this is in namespace B</div><div class="t m0 x3 h1e y1c2 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y1c3 ff17 fsa fc2 sc0 ls0 ws0">namespace {</div><div class="t m0 x3 h1e y1c4 ff17 fsa fc2 sc0 ls0 ws0">  // this is in the global namespace</div><div class="t m0 x3 h1e y1c5 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x23 h10 y4d1 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18"> <span class="_ _2c"> </span> <span class="_ _1"></span>This usage is not standard practice; in most cases a namespace declaration does </span></span></span></div><div class="t m0 x3 h10 y4d2 ff18 fs6 fc2 sc0 ls0 ws0">not include the braces and all the statements in a file exist in only one namespace.</div><div class="t m0 x3 h26 y4d3 ff11 fse fc2 sc0 ls0 ws0">F<span class="_ _1"></span>ully Qualified N<span class="_ _1"></span>amespace N<span class="_ _1"></span>ames</div><div class="t m0 x3 h12 y4d4 ff11 fsa fc2 sc0 ls14 ws0">If you are wor<span class="_ _1"></span>king in a namespace, then the interpr<span class="_ _1"></span>eter will assume that names ar<span class="_ _1"></span>e relative </div><div class="t m0 x3 h12 y4d5 ff11 fsa fc2 sc0 ls14 ws0">to the current namespace<span class="_ _1"></span>. Consider this class as a basis for the following examples:</div><div class="t m0 x3 h1e y4d6 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y4d7 ff17 fsa fc2 sc0 ls0 ws0">namespace MyApp\Helpers;</div><div class="t m0 x3 h1e y4d8 ff17 fsa fc2 sc0 ls0 ws0">class Formatters</div><div class="t m0 x3 h1e y4d9 ff17 fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h1e y4da ff17 fsa fc2 sc0 ls0 ws0">    public static function asCurrency($val) {</div><div class="t m0 x3 h1e y4db ff17 fsa fc2 sc0 ls0 ws0">        // statement</div><div class="t m0 x3 h1e y4dc ff17 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h1e y4dd ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 y4de ff11 fsa fc2 sc0 ls0 ws0">If we want to use this class from another n<span class="_ _1"></span>amespace, we need to pro<span class="_ _1"></span>vide a fully </div><div class="t m0 x3 h12 y4df ff11 fsa fc2 sc0 ls0 ws0">qualified namespace, as in this example:</div><div class="t m0 x3 h1e y4e0 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y4e1 ff17 fsa fc2 sc0 ls0 ws0">// this file is in a different namespace</div><div class="t m0 x3 h1e y4e2 ff17 fsa fc2 sc0 ls0 ws0">namespace MyApp\Lib;</div><div class="t m0 x3 h1e y4e3 ff17 fsa fc2 sc0 ls0 ws0">// we must specify the full path to the namespace that the class is in</div><div class="t m0 x3 h1e y4e4 ff17 fsa fc2 sc0 ls0 ws0">echo MyApp\Helpers\Formatters::asCurrency(10);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf32" class="pf w2 h4" data-page-no="32"><div class="pc pc32 w2 h4"><img class="bi x8 y4e5 w6 h27" alt="" src="bg32.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls5 ws33">28</div><div class="t m0 x3 h1e y2a8 ff11 fsa fc2 sc0 ls0 ws0">Alternatively, you m<span class="_ _1"></span>ay use the <span class="ff17">use</span> statement to import a namespace so tha<span class="_ _1"></span>t you </div><div class="t m0 x8 h12 y2a9 ff11 fsa fc2 sc0 ls0 ws0">don’t hav<span class="_ _1"></span>e to use the long format all the time:</div><div class="t m0 x8 h1e y2ab ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y2ac ff17 fsa fc2 sc0 ls0 ws0">// this file is in a different namespace</div><div class="t m0 x8 h1e y2ad ff17 fsa fc2 sc0 ls0 ws0">namespace MyApp\Lib;</div><div class="t m0 x8 h1e y425 ff17 fsa fc2 sc0 ls0 ws0">// the &quot;use&quot; keyword imports the namespace</div><div class="t m0 x8 h1e y4e6 ff17 fsa fc2 sc0 ls0 ws0">use MyApp\Helpers\Formatters;</div><div class="t m0 x8 h1e y4e7 ff17 fsa fc2 sc0 ls0 ws0">// we no longer have to provide a full reference</div><div class="t m0 x8 h1e y4e8 ff17 fsa fc2 sc0 ls0 ws0">echo Formatters::asCurrency(10);</div><div class="t m0 x3 h12 y4e9 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou may precede a name with a backslash to indica<span class="_ _1"></span>te that you intend to use the </div><div class="t m0 x8 h12 y4ea ff11 fsa fc2 sc0 ls0 ws0">global namespace, as in this exam<span class="_ _1"></span>ple:</div><div class="t m0 x8 h1e y4eb ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y4ec ff17 fsa fc2 sc0 ls0 ws0">namespace MyApp;</div><div class="t m0 x8 h1e y4ed ff17 fsa fc2 sc0 ls0 ws0">throw new \Exception(&apos;Global namespace&apos;);</div><div class="t m0 x3 h12 y4ee ff11 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, if we had not indicated the global scope with the backslash, the </div><div class="t m0 x8 h1e y4ef ff11 fsa fc2 sc0 ls0 ws0">interpreter would look for a class c<span class="_ _1"></span>alled <span class="ff17">Exception</span> within the <span class="ff17">MyApp</span> namespace.</div><div class="t m0 x8 h19 y4f0 ff16 fsd fc2 sc0 ls0 ws0">Configuration</div><div class="t m0 x8 h12 y4f1 ff11 fsa fc2 sc0 ls0 ws0">I can highly recommend th<span class="_ _1"></span>at you do some practical work to config<span class="_ _1"></span>ure PHP<span class="_ _11"></span>. Y<span class="_ _2"></span>ou can set </div><div class="t m0 x8 h12 y4f2 ff11 fsa fc2 sc0 ls0 ws0">up a virtual machine on your computer</div><div class="t m0 x43 h15 y4f3 ff11 fsb fc4 sc0 ls0 ws0">16</div><div class="t m0 x44 h12 y4f4 ff11 fsa fc2 sc0 ls0 ws0"> and install Linux</div><div class="t m0 x29 h15 y4f3 ff11 fsb fc4 sc0 ls0 ws0">17</div><div class="t m0 x45 h12 y4f4 ff11 fsa fc2 sc0 ls0 ws0"> on it, which will give you </div><div class="t m0 x8 h12 y4f5 ff11 fsa fc2 sc0 ls0 ws0">hands-on experience.</div><div class="t m0 x3 h12 y4f6 ff11 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several Windows and M<span class="_ _1"></span>ac packages that offer an all-in-one confi<span class="_ _1"></span>guration </div><div class="t m0 x8 h12 y4f7 ff11 fsa fc2 sc0 ls0 ws0">for PHP<span class="_ _11"></span>, but you should mak<span class="_ _1"></span>e sure that you find the confi<span class="_ _1"></span>g files and go through them.</div><div class="t m0 x8 h26 y4f8 ff11 fse fc2 sc0 ls0 ws0">Where Settings M<span class="_ _1"></span>a<span class="_ _1"></span>y Be Set or Changed</div><div class="t m0 x8 h12 y4f9 ff11 fsa fc2 sc0 ls0 ws0">PHP offers a flexible configuration str<span class="_ _1"></span>ategy whereby base config<span class="_ _1"></span>uration settings may be </div><div class="t m0 x8 h12 y4fa ff11 fsa fc2 sc0 ls0 ws0">overridden by user configur<span class="_ _1"></span>ation files and even at runtime by PHP itself.</div><div class="t m0 x3 h12 y4fb ff11 fsa fc2 sc0 ls0 ws0">It’<span class="_ _2"></span>s best to refer to the manual for this<span class="_ _1"></span>. Duplicating it her<span class="_ _1"></span>e will only result in stale </div><div class="t m0 x8 h12 y4fc ff11 fsa fc2 sc0 ls0 ws0">information. Refer to the following links:</div><div class="t m0 x18 h1e y4fd ff17 fsa fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/configuration.</div><div class="t m0 x18 h1e y4fe ff17 fsa fc4 sc0 ls0 ws0">changes.modes.php</div><div class="t m0 x18 h1e y4ff ff17 fsa fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/ini.list.php</div><div class="t m0 x8 h16 y500 ff1b fsc fc2 sc0 ls0 ws0">16</div><div class="t m0 x3c h23 y501 ff17 fs5 fc4 sc0 ls25 ws100">http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html</div><div class="t m0 x8 h16 y502 ff1b fsc fc2 sc0 ls0 ws0">17</div><div class="t m0 x3c h23 y503 ff17 fs5 fc4 sc0 ls0 ws0">https://www.ubuntu.com/download/server</div><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",39,96,null]'><div class="d m1" style="border-style:none;position:absolute;left:189.637000px;bottom:292.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:260.709000px;bottom:292.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/configuration.changes.modes.php"><div class="d m1" style="border-style:none;position:absolute;left:86.580000px;bottom:158.145000px;width:211.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/configuration.changes.modes.php"><div class="d m1" style="border-style:none;position:absolute;left:86.580000px;bottom:147.145000px;width:76.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/ini.list.php"><div class="d m1" style="border-style:none;position:absolute;left:86.580000px;bottom:130.145000px;width:202.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:83.911000px;width:333.285500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.ubuntu.com/download/server"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:73.911000px;width:161.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf33" class="pf w2 h4" data-page-no="33"><div class="pc pc33 w2 h4"><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x11 hd y55 ff11 fs6 fc2 sc0 ls26 ws8f">29</div><div class="t m0 x3 h26 y3bf ff11 fse fc2 sc0 ls0 ws0">Php<span class="_ _2"></span>.ini</div><div class="t m0 x3 h12 y3c0 ff11 fsa fc2 sc0 ls0 ws0">The PHP<span class="_ _11"></span>.ini file defines the configura<span class="_ _1"></span>tion for each PHP environment<span class="_ _1"></span>. An environment </div><div class="t m0 x3 h12 y44f ff11 fsa fc2 sc0 ls0 ws0">here r<span class="_ _1"></span>efers to how PHP is run—for example by command shell, as an FPM pr<span class="_ _1"></span>ocess, or </div><div class="t m0 x3 h12 y46e ff11 fsa fc2 sc0 ls0 ws0">within Apache2 as a module.</div><div class="t m0 x1a h12 y450 ff11 fsa fc2 sc0 ls0 ws0">Each envir<span class="_ _1"></span>onment will have a dir<span class="_ _1"></span>ector<span class="_ _0"></span>y off the main confi<span class="_ _1"></span>guration directory, which is </div><div class="t m0 x3 h1e y451 ff17 fsa fc2 sc0 ls0 ws0">/etc/php/7.0/<span class="ff11"> by default on Ubun<span class="_ _1"></span>tu.</span></div><div class="t m0 x1a h1e y46f ff11 fsa fc2 sc0 ls0 ws0">Windows machines use the r<span class="_ _1"></span>egistry to store the location of the <span class="ff17">php.ini</span>. The  </div><div class="t m0 x3 h12 y452 ff11 fsa fc2 sc0 ls0 ws0">actual key name varies between versions of PHP<span class="_ _11"></span>, but will follow a pattern similar to this: </div><div class="t m0 x3 h1e y453 ff17 fsa fc2 sc0 ls0 ws0">HKEY_LOCAL_MACHINE\SOFTWARE\PHP<span class="ff11">. If a Windows machine is un<span class="_ _1"></span>able to find it in the </span></div><div class="t m0 x3 h12 y454 ff11 fsa fc2 sc0 ls0 ws0">location specified by the Registry, it will fall back to looking for the file in a number of </div><div class="t m0 x3 h12 y470 ff11 fsa fc2 sc0 ls0 ws0">default locations<span class="_ _1"></span>, including the Windows system dir<span class="_ _1"></span>ectory.</div><div class="t m0 x1a h1e y455 ff11 fsa fc2 sc0 ls0 ws0">In addition to the <span class="ff17">php.ini</span> file, it is possible to s<span class="_ _1"></span>pecify a directory that PHP will scan </div><div class="t m0 x3 h1e y456 ff11 fsa fc2 sc0 ls0 ws0">for additional configura<span class="_ _1"></span>tion files. Y<span class="_ _2"></span>ou can use the <span class="ff17">php_ini_scanned_files()</span> function to </div><div class="t m0 x3 h12 y457 ff11 fsa fc2 sc0 ls0 ws0">obtain a list of the files that were inc<span class="_ _1"></span>luded, as well as the order of inclusion.</div><div class="t m0 x1a h1e y499 ff11 fsa fc2 sc0 ls0 ws0">The config file is read whenever the server (<span class="ff17">apache</span>) or process (<span class="ff17">fpm/cli</span>) starts<span class="_ _1"></span>. This </div><div class="t m0 x3 h12 y458 ff11 fsa fc2 sc0 ls0 ws0">means that if you m<span class="_ _1"></span>ake a change to the PHP configura<span class="_ _1"></span>tion, you will need to reload your </div><div class="t m0 x3 h1e y459 ff11 fsa fc2 sc0 ls0 ws0">Apache2 server or restart the <span class="ff17">fpm</span> service. In contrast<span class="_ _1"></span>, changes to the CLI configuration </div><div class="t m0 x3 h12 y45a ff11 fsa fc2 sc0 ls0 ws0">will take effect the next time you run PHP from the shell.</div><div class="t m0 x1a h12 y45b ff11 fsa fc2 sc0 ls0 ws0">It is possible to use OS envir<span class="_ _1"></span>onment variables in your PHP<span class="_ _11"></span>.ini file<span class="_ _1"></span>, using syntax  </div><div class="t m0 x3 h12 y45c ff11 fsa fc2 sc0 ls0 ws0">like this:</div><div class="t m0 x3 h1e y45d ff17 fsa fc2 sc0 ls0 ws0">; PHP_MEMORY_LIMIT is taken from environment</div><div class="t m0 x3 h1e y45e ff17 fsa fc2 sc0 ls0 ws0">memory_limit = ${PHP_MEMORY_LIMIT}</div><div class="t m0 x3 h26 y504 ff11 fse fc2 sc0 ls0 ws0">User INI F<span class="_ _1"></span>iles</div><div class="t m0 x3 h12 y505 ff11 fsa fc2 sc0 ls0 ws0">PHP checks these files when it is operating in F<span class="_ _2"></span>astCGI mode (PHP 5.3+). This is the case </div><div class="t m0 x3 h1e y506 ff11 fsa fc2 sc0 ls0 ws0">when you’re usin<span class="_ _1"></span>g the <span class="ff17">fpm</span> module, but not in CLI or Apache2.</div><div class="t m0 x1a h12 y507 ff11 fsa fc2 sc0 ls0 ws0">PHP will first check for these files in the directory that the script is running in and </div><div class="t m0 x3 h12 y508 ff11 fsa fc2 sc0 ls0 ws0">work back<span class="_ _1"></span>ward up to the document r<span class="_ _1"></span>oot. The document root is configur<span class="_ _1"></span>ed in your host </div><div class="t m0 x3 h1e y509 ff11 fsa fc2 sc0 ls0 ws0">file and is reflected in the <span class="ff17">$_SERVER[&apos;DOCUMENT_ROOT&apos;]</span> variable<span class="_ _1"></span>.</div><div class="t m0 x1a h1e y50a ff11 fsa fc2 sc0 ls0 ws0">These INI files will override the settings in <span class="ff17">php.ini</span>, but will only affect settings that </div><div class="t m0 x3 h1e y50b ff11 fsa fc2 sc0 ls0 ws0">are flagged as <span class="ff17">PHP_INI_PERDIR</span> or <span class="ff17">PHP_INI_USER</span>. Refer to the pr<span class="_ _1"></span>evious link for a list of </div><div class="t m0 x3 h12 y50c ff11 fsa fc2 sc0 ls0 ws0">settings and where they ma<span class="_ _1"></span>y be changed.</div><div class="t m0 x1a h12 y50d ff11 fsa fc2 sc0 ls0 ws0">The main configur<span class="_ _1"></span>ation file has two directives that pertain to user INI files<span class="_ _1"></span>. The first, </div><div class="t m0 x3 h1e y50e ff17 fsa fc2 sc0 ls0 ws0">user_ini_filename<span class="ff11">, governs the name of the file th<span class="_ _1"></span>at PHP looks for<span class="_ _2"></span>.</span></div><div class="t m0 x1a h1e y50f ff11 fsa fc2 sc0 ls0 ws0">The second, <span class="ff17">user_cache_ttl</span>, governs how often the user file is r<span class="_ _1"></span>ead from disk.</div><div class="t m0 x3 h26 y510 ff11 fse fc2 sc0 ls0 ws0">Apache V<span class="_ _11"></span>ersion of INI Files</div><div class="t m0 x3 h1e y511 ff11 fsa fc2 sc0 ls0 ws0">If you are usin<span class="_ _1"></span>g Apache, then you c<span class="_ _1"></span>an use <span class="ff17">.htaccess</span> to manage user INI settings. They </div><div class="t m0 x3 h1e y512 ff11 fsa fc2 sc0 ls0 ws0">are searc<span class="_ _1"></span>hed for in the same method as the <span class="ff17">fastcgi</span> files are.</div><div class="t m0 x1a h1e y513 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou must set the <span class="ff17">AllowOverride</span> setting in your <span class="ff17">vhost</span> config to <span class="ff17">true</span> in any </div><div class="t m0 x3 h1e y514 ff11 fsa fc2 sc0 ls0 ws0">directories that yo<span class="_ _1"></span>u want the <span class="ff17">.htaccess</span> file to be read.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf34" class="pf w2 h4" data-page-no="34"><div class="pc pc34 w2 h4"><img class="bi x8 y515 w3 h33" alt="" src="bg34.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 lsa ws58">30</div><div class="t m0 x8 h19 y24e ff16 fsd fc2 sc0 ls0 ws0">Performance</div><div class="t m0 x8 h12 y24f ff11 fsa fc2 sc0 ls0 ws0">A great deal of PHP performance issues r<span class="_ _1"></span>elate to the deployment en<span class="_ _1"></span>vironment, which is </div><div class="t m0 x8 h12 y337 ff11 fsa fc2 sc0 ls0 ws0">beyond the scope of this reference<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y338 ff11 fsa fc2 sc0 ls0 ws0">One potential deployment issue with performance worth mentioning in the context </div><div class="t m0 x8 h1e y516 ff11 fsa fc2 sc0 ls0 ws0">of the Zend examination is using the <span class="ff17">xdebug</span> extension in pr<span class="_ _1"></span>oduction. As the name </div><div class="t m0 x8 h12 y517 ff11 fsa fc2 sc0 ls0 ws0">suggests, this extension is for de<span class="_ _1"></span>bugging and should not be installed in production.</div><div class="t m0 x3 h12 y518 ff11 fsa fc2 sc0 ls0 ws0">Another deployment concern is in keeping y<span class="_ _1"></span>our PHP version up to date. PHP is </div><div class="t m0 x8 h12 y519 ff11 fsa fc2 sc0 ls0 ws0">constantly impr<span class="_ _1"></span>oving its performance and it’<span class="_ _1"></span>s a good idea to migr<span class="_ _1"></span>ate your code to keep up </div><div class="t m0 x8 h12 y51a ff11 fsa fc2 sc0 ls0 ws0">with new PHP versions.</div><div class="t m0 x1e h10 y51b ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff18 fc2"> <span class="_ _2c"> </span> Using the latest version of PHP is a good way to improve performance.<span class="_ _1"></span> PHP 7 is </span></span></div><div class="t m0 x8 h10 y51c ff18 fs6 fc2 sc0 ls0 ws0">about 30% (in my tests) faster than PHP 5 and some people claim it is even faster<span class="_ _11"></span>. PHP 7.2 </div><div class="t m0 x8 h10 y51d ff18 fs6 fc2 sc0 ls0 ws0">is faster than PHP 7.1.</div><div class="t m0 x3 h12 y51e ff11 fsa fc2 sc0 ls0 ws0">When considering performance for the Zend examination, we focus on memory </div><div class="t m0 x8 h12 y51f ff11 fsa fc2 sc0 ls0 ws0">management and the opcode cache<span class="_ _1"></span>.</div><div class="t m0 x8 h26 y520 ff11 fse fc2 sc0 ls0 ws0">Memory Man<span class="_ _1"></span>agement</div><div class="t m0 x8 h12 y521 ff11 fsa fc2 sc0 ls0 ws0">Optimizing memory perfor<span class="_ _0"></span>mance in PHP r<span class="_ _1"></span>equires some understanding of how the </div><div class="t m0 x8 h12 y522 ff11 fsa fc2 sc0 ls0 ws0">language’<span class="_ _2"></span>s internal data type r<span class="_ _1"></span>epresentation work<span class="_ _1"></span>s.</div><div class="t m0 x3 h1e y523 ff11 fsa fc2 sc0 ls0 ws0">PHP uses a container called a <span class="ff17">zval</span> to store v<span class="_ _1"></span>ariables. The <span class="ff17">zval</span> container contains </div><div class="t m0 x8 h12 y524 ff11 fsa fc2 sc0 ls0 ws0">four pieces of information:</div><div class="t m0 x8 h20 y525 ff15 fs6 fc2 sc0 ls0 ws0">Piece<span class="_ _68"> </span>Description</div><div class="t m0 x8 h1e y526 ff17 fsa fc2 sc0 ls0 ws0">Value<span class="_ _4f"> </span><span class="ff11">The value the v<span class="_ _1"></span>ariable is set to.</span></div><div class="t m0 x8 h1e y527 ff17 fsa fc2 sc0 ls0 ws0">Type<span class="_ _4b"> </span><span class="ff11">The data type of the variable<span class="_ _1"></span>.</span></div><div class="t m0 x8 h1e y528 ff17 fsa fc2 sc0 ls0 ws0">Is_ref<span class="_ _41"> </span><span class="ff11">A Boolean value indica<span class="_ _1"></span>ting whether this variable is part of a reference </span></div><div class="t m0 x46 h12 y529 ff11 fsa fc2 sc0 ls0 ws0">set. Remember that v<span class="_ _1"></span>ariables can be assigned by refer<span class="_ _1"></span>ence. This </div><div class="t m0 x46 h12 y52a ff11 fsa fc2 sc0 ls0 ws0">Boolean value helps PHP decide if a particular variable is a normal </div><div class="t m0 x46 h12 y52b ff11 fsa fc2 sc0 ls0 ws0">variable or if it is a refer<span class="_ _1"></span>ence to another variable.</div><div class="t m0 x8 h1e y52c ff17 fsa fc2 sc0 ls0 ws0">Refcount<span class="_ _66"> </span><span class="ff11">This is a counter that trac<span class="_ _1"></span>ks how many variable names point t<span class="_ _1"></span>o this </span></div><div class="t m0 x46 h1e y52d ff11 fsa fc2 sc0 ls0 ws0">particular <span class="ff17">zval</span> container<span class="_ _2"></span>. This <span class="ff17">refcount</span> is incremented when we </div><div class="t m0 x46 h12 y52e ff11 fsa fc2 sc0 ls0 ws0">declare a new variable to r<span class="_ _1"></span>eference this one.</div><div class="t m0 x3 h12 y52f ff11 fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iable n<span class="_ _1"></span>ames are referred to as sym<span class="_ _1"></span>bols and are stored in a symbol ta<span class="_ _1"></span>ble that is </div><div class="t m0 x8 h12 y530 ff11 fsa fc2 sc0 ls0 ws0">unique to the scope in which the variables occur<span class="_ _2"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf35" class="pf w2 h4" data-page-no="35"><div class="pc pc35 w2 h4"><img class="bi x3 y175 w7 h27" alt="" src="bg35.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls27 ws101">31</div><div class="t m0 x3 h26 y3bf ff11 fse fc2 sc0 ls0 ws0">Symbols Ar<span class="_ _1"></span>e Poin<span class="_ _1"></span>ted to zval Containers</div><div class="t m0 x3 h12 y3c0 ff11 fsa fc2 sc0 ls0 ws0">In the section on the refer<span class="_ _1"></span>ence operator<span class="_ _2"></span>, I mentioned that PHP h<span class="_ _1"></span>as optimizations for </div><div class="t m0 x3 h12 y3c1 ff11 fsa fc2 sc0 ls0 ws0">assigning by value<span class="_ _1"></span>. PHP accomplishes this by only copyin<span class="_ _1"></span>g the value to a new zval </div><div class="t m0 x3 h12 y531 ff11 fsa fc2 sc0 ls0 ws0">when it changes, and initi<span class="_ _1"></span>ally pointing the new symbol to the same zval container<span class="_ _11"></span>. This </div><div class="t m0 x3 h12 y450 ff11 fsa fc2 sc0 ls0 ws0">mechanism is called “<span class="_ _2"></span>copy on write”<span class="_ _e"></span>.</div><div class="t m0 x47 h15 y532 ff11 fsb fc4 sc0 ls0 ws0">18</div><div class="t m0 x1a h12 y533 ff11 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple to illustrate:</div><div class="t m0 x3 h1e y534 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y535 ff17 fsa fc2 sc0 ls0 ws0">$a = &quot;new string&quot;;</div><div class="t m0 x3 h1e y536 ff17 fsa fc2 sc0 ls0 ws0">$b =&amp; $a;</div><div class="t m0 x3 h1e y537 ff17 fsa fc2 sc0 ls0 ws0">// the variable b points to the variable a</div><div class="t m0 x3 h1e y538 ff17 fsa fc2 sc0 ls0 ws0">xdebug_debug_zval( &apos;a&apos; );</div><div class="t m0 x3 h1e y539 ff17 fsa fc2 sc0 ls0 ws0">xdebug_debug_zval( &apos;b&apos; );</div><div class="t m0 x3 h1e y53a ff17 fsa fc2 sc0 ls0 ws0">// change the string and see that the refcount is reset</div><div class="t m0 x3 h1e y53b ff17 fsa fc2 sc0 ls0 ws0">$b = &apos;changed string&apos;;</div><div class="t m0 x3 h1e y53c ff17 fsa fc2 sc0 ls0 ws0">xdebug_debug_zval( &apos;a&apos; );</div><div class="t m0 x3 h1e y53d ff17 fsa fc2 sc0 ls0 ws0">xdebug_debug_zval( &apos;b&apos; );</div><div class="t m0 x1a h12 y53e ff11 fsa fc2 sc0 ls0 ws0">The output of this script is as follows:</div><div class="t m0 x3 h1e y53f ff17 fsa fc2 sc0 ls0 ws0">a: (refcount=2, is_ref=0)=&apos;new string&apos;</div><div class="t m0 x3 h1e y540 ff17 fsa fc2 sc0 ls0 ws0">b: (refcount=2, is_ref=0)=&apos;new string&apos;</div><div class="t m0 x3 h1e y541 ff17 fsa fc2 sc0 ls0 ws0">a: (refcount=1, is_ref=0)=&apos;new string&apos;</div><div class="t m0 x3 h1e y542 ff17 fsa fc2 sc0 ls0 ws0">b: (refcount=1, is_ref=0)=&apos;changed string&apos;</div><div class="t m0 x1a h1e y543 ff11 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e can see that until we change the v<span class="_ _1"></span>alue of <span class="ff17">$b</span> it is referring to the same <span class="ff17">zval</span> </div><div class="t m0 x3 h1e y544 ff11 fsa fc2 sc0 ls0 ws0">container as <span class="ff17">$a</span>.</div><div class="t m0 x3 h26 y545 ff11 fse fc2 sc0 ls0 ws0">Arrays and Objects</div><div class="t m0 x3 h12 y546 ff11 fsa fc2 sc0 ls0 ws0">Arrays and objects use their own symbol table<span class="_ _1"></span>, separate from the scalar v<span class="_ _1"></span>ariables. They </div><div class="t m0 x3 h1e y547 ff11 fsa fc2 sc0 ls0 ws0">also use <span class="ff17">zval</span> containers, but cr<span class="_ _1"></span>eating an array or object will res<span class="_ _1"></span>ult in several containers </div><div class="t m0 x3 h12 y548 ff11 fsa fc2 sc0 ls0 ws0">being created.</div><div class="t m0 x1a h12 y549 ff11 fsa fc2 sc0 ls0 ws0">Consider this example:</div><div class="t m0 x3 h1e y54a ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y54b ff17 fsa fc2 sc0 ls0 ws0">$arr = [&apos;name&apos; =&gt; &apos;Bob&apos;, &apos;age&apos; =&gt; 23 ];</div><div class="t m0 x3 h1e y54c ff17 fsa fc2 sc0 ls0 ws0">xdebug_debug_zval( &apos;arr&apos; );</div><div class="t m0 x1a h12 y54d ff11 fsa fc2 sc0 ls0 ws0">The output from this script looks like this:</div><div class="t m0 x3 h1e y54e ff17 fsa fc2 sc0 ls0 ws0">arr: (refcount=1, is_ref=0)=array (</div><div class="t m0 x3 h1e y54f ff17 fsa fc2 sc0 ls0 ws0">        &apos;name&apos; =&gt; (refcount=1, is_ref=0)=&apos;Bob&apos;,</div><div class="t m0 x3 h1e y550 ff17 fsa fc2 sc0 ls0 ws0">        &apos;age&apos; =&gt; (refcount=1, is_ref=0)=23)</div><div class="t m0 x3 h16 y2f4 ff1b fsc fc2 sc0 ls0 ws0">18</div><div class="t m0 x35 h23 y2f5 ff17 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Copy-on-write</div><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:196.216000px;bottom:535.685000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Copy-on-write"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:73.828300px;width:182.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf36" class="pf w2 h4" data-page-no="36"><div class="pc pc36 w2 h4"><img class="bi x8 y551 w6 h27" alt="" src="bg36.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls28 ws102">32</div><div class="t m0 x3 h1e y2a8 ff11 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e can see that three <span class="ff17">zval</span> con<span class="_ _1"></span>tainers are crea<span class="_ _1"></span>ted, one for the array variable itself </div><div class="t m0 x8 h12 y2a9 ff11 fsa fc2 sc0 ls0 ws0">and one for each of its two values.</div><div class="t m0 x3 h12 y2aa ff11 fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>ust as for scalar variables, if we had a thir<span class="_ _1"></span>d member of the array with the same value </div><div class="t m0 x8 h1e y2ab ff11 fsa fc2 sc0 ls0 ws0">as another member then instead of crea<span class="_ _1"></span>ting a new <span class="ff17">zval</span> container PHP will increase the </div><div class="t m0 x8 h1e y2ac ff11 fsa fc2 sc0 ls0 ws0">refcount and poin<span class="_ _1"></span>t the duplicate symbol to the same <span class="ff17">zval</span>.</div><div class="t m0 x8 h26 y552 ff11 fse fc2 sc0 ls0 ws0">Memory L<span class="_ _0"></span>eaks in Arra<span class="_ _1"></span>ys and Objects</div><div class="t m0 x8 h12 y553 ff11 fsa fc2 sc0 ls0 ws0">Memory leaks can occur when a composite object includes a refer<span class="_ _1"></span>ence to itself as a </div><div class="t m0 x8 h12 y554 ff11 fsa fc2 sc0 ls0 ws0">member<span class="_ _2"></span>. This is more likely to occur in use-cases with objects because PHP alway<span class="_ _1"></span>s </div><div class="t m0 x8 h12 y555 ff11 fsa fc2 sc0 ls0 ws0">assigns objects by refer<span class="_ _1"></span>ence. Pos<span class="_ _1"></span>sibly, for example, in paren<span class="_ _1"></span>t-child r<span class="_ _1"></span>elationships such as </div><div class="t m0 x8 h12 y556 ff11 fsa fc2 sc0 ls0 ws0">might be found in an ORM model.</div><div class="t m0 x3 h12 y557 ff11 fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual has a series of diagrams explaining this on the refco<span class="_ _1"></span>unting basics </div><div class="t m0 x8 h12 y558 ff11 fsa fc2 sc0 ls12 wsec">pag<span class="_ _0"></span>e.</div><div class="t m0 x1d h15 y559 ff11 fsb fc4 sc0 ls0 ws0">19</div><div class="t m0 x23 h12 y55a ff11 fsa fc2 sc0 ls0 ws0"> The problem occurs when you unset a composite object th<span class="_ _1"></span>at has a refer<span class="_ _1"></span>ence to </div><div class="t m0 x8 h12 y55b ff11 fsa fc2 sc0 ls0 ws0">itself.</div><div class="t m0 x3 h1e y55c ff11 fsa fc2 sc0 ls0 ws0">In this event, the sym<span class="_ _1"></span>bol table is cleared of a refer<span class="_ _1"></span>ence to the <span class="ff17">zval</span> structure that w<span class="_ _1"></span>as </div><div class="t m0 x8 h12 y55d ff11 fsa fc2 sc0 ls0 ws0">used to contain the variable. PHP does not iter<span class="_ _1"></span>ate through the composite object because </div><div class="t m0 x8 h12 y55e ff11 fsa fc2 sc0 ls0 ws0">this would result in r<span class="_ _1"></span>ecursion as it follows links to itself. This means tha<span class="_ _1"></span>t the member in </div><div class="t m0 x8 h1e y55f ff11 fsa fc2 sc0 ls0 ws0">the variable that is a r<span class="_ _1"></span>eference to itself is not unset, and the <span class="ff17">zval</span> container is not mar<span class="_ _1"></span>ked </div><div class="t m0 x8 h1e y560 ff11 fsa fc2 sc0 ls0 ws0">as free. T<span class="_ _1"></span>here is no symbol pointing to this <span class="ff17">zval</span> container and so the user cannot fr<span class="_ _1"></span>ee the </div><div class="t m0 x8 h12 y561 ff11 fsa fc2 sc0 ls0 ws0">memory herself.</div><div class="t m0 x3 h12 y562 ff11 fsa fc2 sc0 ls0 ws0">PHP will clear up these references a<span class="_ _1"></span>t the end of the request. Remember tha<span class="_ _1"></span>t PHP is </div><div class="t m0 x8 h12 y563 ff11 fsa fc2 sc0 ls0 ws0">not intended to be a long-running language and is designed to be a text pr<span class="_ _1"></span>ocessor built </div><div class="t m0 x8 h12 y564 ff11 fsa fc2 sc0 ls0 ws0">for serving specific requests within the context of a web application.</div><div class="t m0 x8 h26 y565 ff11 fse fc2 sc0 ls0 ws0">Garbage Collection</div><div class="t m0 x8 h12 y566 ff11 fsa fc2 sc0 ls0 ws0">The garbage collector clears cir<span class="_ _1"></span>cular references<span class="_ _1"></span>, which are those where a com<span class="_ _1"></span>plex object </div><div class="t m0 x8 h12 y567 ff11 fsa fc2 sc0 ls0 ws0">contains a member that r<span class="_ _1"></span>efers to itself.</div><div class="t m0 x3 h12 y568 ff11 fsa fc2 sc0 ls0 ws0">PHP will initiate garbage collection when the root b<span class="_ _1"></span>uffer is full or when the function </div><div class="t m0 x8 h1e y569 ff17 fsa fc2 sc0 ls0 ws0">gc_collect_cycles()<span class="ff11"> is called.</span></div><div class="t m0 x3 h12 y56a ff11 fsa fc2 sc0 ls29 ws0">The garbage collector will only cause a slowdown when it actually needs to do </div><div class="t m0 x8 h12 y56b ff11 fsa fc2 sc0 ls29 ws0">something. In smaller scripts where ther<span class="_ _1"></span>e is no leakage it won’t cause a performance drop<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y56c ff11 fsa fc2 sc0 ls0 ws0">Garbage collection is likely to be of benefit in long-running scripts or those where a </div><div class="t m0 x8 h12 y56d ff11 fsa fc2 sc0 ls0 ws0">memory leak is repeatedly created, such as pr<span class="_ _1"></span>ocessing a very large amount of database </div><div class="t m0 x8 h12 y56e ff11 fsa fc2 sc0 ls0 ws0">records us<span class="_ _1"></span>ing ORM models that leak.</div><div class="t m0 x8 h26 y56f ff11 fse fc2 sc0 ls0 ws0">The Opcode Cache</div><div class="t m0 x8 h12 y570 ff11 fsa fc2 sc0 ls0 ws0">PHP is compiled into a sequence of intermediate instructions that ar<span class="_ _1"></span>e executed in order </div><div class="t m0 x8 h12 y571 ff11 fsa fc2 sc0 ls0 ws0">by the runtime engine<span class="_ _1"></span>. These instructions are called opcodes or bytecodes and this </div><div class="t m0 x8 h12 y572 ff11 fsa fc2 sc0 ls0 ws0">process occurs every time the script is run.</div><div class="t m0 x8 h16 y573 ff1b fsc fc2 sc0 ls0 ws0">19</div><div class="t m0 x3c h23 y574 ff17 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/features.gc.refcounting-basics.php</div><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",39,88,null]'><div class="d m1" style="border-style:none;position:absolute;left:60.281700px;bottom:439.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/features.gc.refcounting-basics.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:76.215000px;width:255.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf37" class="pf w2 h4" data-page-no="37"><div class="pc pc37 w2 h4"><img class="bi x3 y575 w5 h34" alt="" src="bg37.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x11 hd y55 ff11 fs6 fc2 sc0 lsa ws58">33</div><div class="t m0 x1a h12 y1b8 ff11 fsa fc2 sc0 ls0 ws0">The bytecode is interpr<span class="_ _1"></span>eted by the runtime engine; therefor<span class="_ _1"></span>e, PHP is both </div><div class="t m0 x3 h12 y1b9 ff11 fsa fc2 sc0 ls0 ws0">precompiled and interpr<span class="_ _1"></span>eted.</div><div class="t m0 x1a h12 y2d2 ff11 fsa fc2 sc0 ls0 ws0">An opcode cache stores the con<span class="_ _1"></span>verted instructions for a scr<span class="_ _0"></span>ipt. S<span class="_ _1"></span>ubsequent calls to </div><div class="t m0 x3 h12 y2d3 ff11 fsa fc2 sc0 ls0 ws0">the script do not require the script to be interpret<span class="_ _1"></span>ed prior to being run.</div><div class="t m0 x1a h12 y2d4 ff11 fsa fc2 sc0 ls0 ws0">In 2013, Zend contributed their optimization engine to PHP<span class="_ _11"></span>. Kno<span class="_ _1"></span>wn as <span class="ff1d ls11 wse8">op ca<span class="_ _0"></span>che</span>, it </div><div class="t m0 x3 h12 y1bd ff11 fsa fc2 sc0 ls0 ws0">is baked into distributions of PHP as of version 5.5 and is pr<span class="_ _1"></span>obably the most commonly </div><div class="t m0 x3 h12 y1be ff11 fsa fc2 sc0 ls0 ws0">used PHP opcode cache.</div><div class="t m0 x23 h10 y576 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2">Note<span class="ff18 ls2a"> <span class="_ _2c"> </span> O<span class="_ _0"></span>pcache is built into PHP 7.1 and is enabled by default in your <span class="ff17 fsa ls14 wsef">php.ini</span></span></span></span></div><div class="t m0 x36 h35 y577 ff18 fsf fc4 sc0 ls2b ws103">20</div><div class="t m0 x48 h10 y576 ff18 fs6 fc2 sc0 ls2a ws0"> settings.</div><div class="t m0 x1a h1e y578 ff11 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ake note of the setting <span class="ff17">opcache.revalidate_freq</span>. This determines the interval in </div><div class="t m0 x3 h12 y579 ff11 fsa fc2 sc0 ls0 ws0">seconds that PHP will scan for changes in the source file befor<span class="_ _1"></span>e recompiling it. Y<span class="_ _2"></span>ou can </div><div class="t m0 x3 h1e y57a ff11 fsa fc2 sc0 ls0 ws0">set it to <span class="ff17">0</span> to tell PHP to always scan for chan<span class="_ _1"></span>ges. PHP will not scan the file more than once </div><div class="t m0 x3 h12 y57b ff11 fsa fc2 sc0 ls0 ws0">per request.</div><div class="t m0 x1a h12 y57c ff11 fsa fc2 sc0 ls0 ws0">In addition to the cache built int<span class="_ _1"></span>o PHP<span class="_ _11"></span>, there are a num<span class="_ _1"></span>ber of third-party opcode </div><div class="t m0 x3 h12 y57d ff11 fsa fc2 sc0 ls0 ws0">caches av<span class="_ _1"></span>ailable (see Wikipedia</div><div class="t m0 x6 h15 y57e ff11 fsb fc4 sc0 ls0 ws0">21</div><div class="t m0 x49 h12 y57f ff11 fsa fc2 sc0 ls0 ws0"> if you’re in<span class="_ _1"></span>terested).</div><div class="t m0 x23 h10 y580 ff18 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff19">■<span class="_ _c"> </span><span class="ff1a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff18 fc2"> <span class="_ _2c"> </span> Using the opcode cache results in significant performance increases.</span></span></div><div class="t m0 x3 h26 y581 ff11 fse fc2 sc0 ls0 ws0">Extensions</div><div class="t m0 x3 h12 y582 ff11 fsa fc2 sc0 ls0 ws0">PHP extensions extend on the functionality offer<span class="_ _1"></span>ed by the core langua<span class="_ _1"></span>ge. A number </div><div class="t m0 x3 h12 y583 ff11 fsa fc2 sc0 ls0 ws0">of them are enabled b<span class="_ _1"></span>y default into standard r<span class="_ _1"></span>epository distributions of PHP<span class="_ _11"></span>. Other </div><div class="t m0 x3 h12 y584 ff11 fsa fc2 sc0 ls0 ws0">extensions need to be downloaded and installed manually.</div><div class="t m0 x1a h12 y585 ff11 fsa fc2 sc0 ls0 ws0">PECL is a repository for PHP extensions. I<span class="_ _1"></span>t provides an easy w<span class="_ _1"></span>ay to download and </div><div class="t m0 x3 h12 y586 ff11 fsa fc2 sc0 ls0 ws0">install extensions on Linux. Windows machines need to compile and install extensions </div><div class="t m0 x3 h12 y587 ff11 fsa fc2 sc0 ls0 ws0">manually, but usually they’r<span class="_ _1"></span>e distributed in a compiled form and you just need to edit </div><div class="t m0 x3 h12 y588 ff11 fsa fc2 sc0 ls0 ws0">your INI file to enable them<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y589 ff11 fsa fc2 sc0 ls0 ws0">PHP includes several extensions tha<span class="_ _1"></span>t cannot be removed fr<span class="_ _1"></span>om PHP with compilation </div><div class="t m0 x3 h12 y58a ff11 fsa fc2 sc0 ls0 ws0">flags. These ext<span class="_ _1"></span>ensions include core functionality such as r<span class="_ _1"></span>eflection, arrays, date and </div><div class="t m0 x3 h12 y58b ff11 fsa fc2 sc0 ls0 ws0">time, SPL, and math. Y<span class="_ _2"></span>ou should be able to rely on them being installed.</div><div class="t m0 x3 h1c y58c ff16 fse fc2 sc0 ls0 ws0">Installing an Extension</div><div class="t m0 x3 h1e y58d ff11 fsa fc2 sc0 ls0 ws0">Extensions are enabled thr<span class="_ _1"></span>ough the <span class="ff17">php.ini</span> file using the “<span class="_ _2"></span>extension” setting to specify </div><div class="t m0 x3 h1e y58e ff11 fsa fc2 sc0 ls0 ws0">the filename of the extension, like this for <span class="ff17">mcrypt</span>:</div><div class="t m0 x3 h1e y58f ff17 fsa fc2 sc0 ls0 ws0">extension=mcrypt.so;</div><div class="t m0 x3 h16 y590 ff1b fsc fc2 sc0 ls0 ws0">20</div><div class="t m0 x35 h23 y591 ff17 fs5 fc4 sc0 ls0 ws0">https://github.com/php/php-src/blob/master/php.ini-production#L1763</div><div class="t m0 x3 h16 y592 ff1b fsc fc2 sc0 ls0 ws0">21</div><div class="t m0 x35 h23 y593 ff17 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/List_of_PHP_accelerators</div><a class="l" href="#pf37" data-dest-detail='[55,"XYZ",57,99,null]'><div class="d m1" style="border-style:none;position:absolute;left:355.024000px;bottom:487.789000px;width:5.480000px;height:11.914000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf37" data-dest-detail='[55,"XYZ",57,89,null]'><div class="d m1" style="border-style:none;position:absolute;left:178.315000px;bottom:399.325000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://github.com/php/php-src/blob/master/php.ini-production#L1763"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:86.574400px;width:284.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/List_of_PHP_accelerators"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:76.574400px;width:229.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf38" class="pf w2 h4" data-page-no="38"><div class="pc pc38 w2 h4"><img class="bi x8 y594 w5 h36" alt="" src="bg38.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls5 ws33">34</div><div class="t m0 x3 h1e y1b8 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can set the extension directory with a s<span class="_ _0"></span>etting in y<span class="_ _1"></span>our <span class="ff17">php.ini</span> file like so:</div><div class="t m0 x8 h1e y2d2 ff17 fsa fc2 sc0 ls0 ws0">extension_dir = &quot;/usr/lib/php5/20121212/mcrypt.so&quot;</div><div class="t m0 x3 h12 y2d4 ff11 fsa fc2 sc0 ls0 ws0">Different syst<span class="_ _1"></span>ems may pro<span class="_ _1"></span>vide convenient wa<span class="_ _1"></span>ys of installing and enabling </div><div class="t m0 x8 h1e y1bd ff11 fsa fc2 sc0 ls0 ws0">extensions. PECL extens<span class="_ _1"></span>ions can be installed using the <span class="ff17">pecl</span> command-line utility.</div><div class="t m0 x8 h1c y595 ff16 fse fc2 sc0 ls0 ws0">Checking for Installed Extensions</div><div class="t m0 x8 h1e y596 ff11 fsa fc2 sc0 ls0 ws0">The extensions installed will display if you c<span class="_ _1"></span>all <span class="ff17">phpinfo()</span> or if you use the more specific </div><div class="t m0 x8 h1e y597 ff11 fsa fc2 sc0 ls0 ws0">command <span class="ff17">get_loaded_extensions()</span>.</div><div class="t m0 x3 h1e y598 ff11 fsa fc2 sc0 ls0 ws0">Running <span class="ff17">php –m</span> fr<span class="_ _1"></span>om the shell will show a list of extensions installed.</div><div class="t m0 x3 h1e y599 ff11 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can check if an extension is loaded by calling <span class="ff17">extension_loaded()</span>. This is </div><div class="t m0 x8 h12 y59a ff11 fsa fc2 sc0 ls0 ws0">recommended if you’r<span class="_ _1"></span>e using a function in an extension that is not loaded by defa<span class="_ _1"></span>ult. </div><div class="t m0 x8 h12 y59b ff11 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple from the PHP Man<span class="_ _1"></span>ual:</div><div class="t m0 x8 h1e y59c ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y59d ff17 fsa fc2 sc0 ls0 ws0">if (!extension_loaded(&apos;gd&apos;)) {</div><div class="t m0 x8 h1e y59e ff17 fsa fc2 sc0 ls0 ws0">    if (!dl(&apos;gd.so&apos;)) {</div><div class="t m0 x8 h1e y59f ff17 fsa fc2 sc0 ls0 ws0">        exit;</div><div class="t m0 x8 h1e y5a0 ff17 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h1e y5a1 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4a hf y5a2 ff14 fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">1</span> QUIZ</div><div class="t m0 x4b h10 y5a3 ff18 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Which of the following tags should you a<span class="_ _0"></span>void using to inc<span class="_ _1"></span>lude PHP in HTML?</div><div class="t m0 x4b h1e y5a4 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y5a5 ff17 fsa fc2 sc0 ls0 ws0">&lt;?</div><div class="t m0 x4b h1e y5a6 ff17 fsa fc2 sc0 ls0 ws0">&lt;?=</div><div class="t m0 x4b h10 y5a7 ff18 fs6 fc2 sc0 ls0 ws0">None of the above; these are all fine</div><div class="t m0 x4b h10 y5a8 ff18 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>Which of the following are NOT case sensitive in PHP? Choose all that a<span class="_ _0"></span>pply<span class="_ _2"></span>.</div><div class="t m0 x4b h10 y5a9 ff18 fs6 fc2 sc0 ls0 ws0">Variable names</div><div class="t m0 x4b h10 y5aa ff18 fs6 fc2 sc0 ls0 ws0">Class names</div><div class="t m0 x4b h10 y5ab ff18 fs6 fc2 sc0 ls0 ws0">Namespaces</div><div class="t m0 x4b h10 y5ac ff18 fs6 fc2 sc0 ls0 ws0">Function names</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_1"><div class="d m1" style="border-style:none;position:absolute;left:222.216000px;bottom:307.903000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf39" class="pf w2 h4" data-page-no="39"><div class="pc pc39 w2 h4"><img class="bi x5 y5ad w8 h37" alt="" src="bg39.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x11 hd y55 ff11 fs6 fc2 sc0 lsc ws104">35</div><div class="t m0 x5 h10 y5ae ff18 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x5 h1e y5af ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e y5b0 ff17 fsa fc2 sc0 ls0 ws0">$a = &quot;Hello&quot;;</div><div class="t m0 x5 h1e y5b1 ff17 fsa fc2 sc0 ls0 ws0">$B = &quot; world&quot;;</div><div class="t m0 x5 h1e y5b2 ff17 fsa fc2 sc0 ls0 ws0">ECHO $a . $b;</div><div class="t m0 x5 h10 y5b3 ff18 fs6 fc2 sc0 ls0 ws0">Nothing; it won’t run</div><div class="t m0 x5 h1e y5b4 ff17 fsa fc2 sc0 ls0 ws0">Hello world</div><div class="t m0 x5 h1e y5b5 ff17 fsa fc2 sc0 ls0 ws0">Hello</div><div class="t m0 x5 h10 y5b6 ff18 fs6 fc2 sc0 ls0 ws0">An error message because the variable<span class="ff11 fsa"> <span class="ff17">b</span> </span>is not defined</div><div class="t m0 x5 h10 y5b7 ff18 fs6 fc2 sc0 ls0 ws0">An error message and the word<span class="ff11 fsa"> <span class="ff17">&quot;Hello&quot;</span></span></div><div class="t m0 x5 h10 y5b8 ff18 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x5 h1e y5b9 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e y5ba ff17 fsa fc2 sc0 ls0 ws0">function A() {</div><div class="t m0 x5 h1e y5bb ff17 fsa fc2 sc0 ls0 ws0">    try {</div><div class="t m0 x5 h1e y5bc ff17 fsa fc2 sc0 ls0 ws0">        b();</div><div class="t m0 x5 h1e y5bd ff17 fsa fc2 sc0 ls0 ws0">    } catch (Exception $e) {</div><div class="t m0 x5 h1e y5be ff17 fsa fc2 sc0 ls0 ws0">        echo &quot;Exception caught in &quot; . __CLASS__;</div><div class="t m0 x5 h1e y5bf ff17 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x5 h1e y5c0 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h1e y5c1 ff17 fsa fc2 sc0 ls0 ws0">function B() {</div><div class="t m0 x5 h1e y5c2 ff17 fsa fc2 sc0 ls0 ws0">    C();</div><div class="t m0 x5 h1e y5c3 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h1e y5c4 ff17 fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x5 h1e y5c5 ff17 fsa fc2 sc0 ls0 ws0">    A();</div><div class="t m0 x5 h1e y5c6 ff17 fsa fc2 sc0 ls0 ws0">} catch (Error $e) {</div><div class="t m0 x5 h1e y5c7 ff17 fsa fc2 sc0 ls0 ws0">    echo &quot;Error caught in global scope: &quot; . $e-&gt;getMessage();</div><div class="t m0 x5 h1e y5c8 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h1e y5c9 ff17 fsa fc2 sc0 ls0 ws0">Exception caught in A</div><div class="t m0 x5 h1e y5ca ff17 fsa fc2 sc0 ls0 ws0">Error caught in global scope: Call to undefined function C()</div><div class="t m0 x5 h1e y5cb ff17 fsa fc2 sc0 ls0 ws0">Error caught in global scope: Call to undefined function b()</div><div class="t m0 x5 h10 y5cc ff18 fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3a" class="pf w2 h4" data-page-no="3a"><div class="pc pc3a w2 h4"><img class="bi x4b y5cd w9 h38" alt="" src="bg3a.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 lsc ws104">36</div><div class="t m0 x4b h10 y5ae ff18 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x4b h1e y5af ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y5b1 ff17 fsa fc2 sc0 ls0 ws0">function A() {</div><div class="t m0 x4b h1e y5b2 ff17 fsa fc2 sc0 ls0 ws0">    try {</div><div class="t m0 x4b h1e y5ce ff17 fsa fc2 sc0 ls0 ws0">        b();</div><div class="t m0 x4b h1e y5cf ff17 fsa fc2 sc0 ls0 ws0">    } catch (Exception $e) {</div><div class="t m0 x4b h1e y5d0 ff17 fsa fc2 sc0 ls0 ws0">        echo &quot;Exception caught in &quot; . __CLASS__;</div><div class="t m0 x4b h1e y5d1 ff17 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x4b h1e y5d2 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h1e y5d3 ff17 fsa fc2 sc0 ls0 ws0">function B() {</div><div class="t m0 x4b h1e y5d4 ff17 fsa fc2 sc0 ls0 ws0">    echo 5 / &quot;five&quot;;</div><div class="t m0 x4b h1e y5d5 ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h1e y5d6 ff17 fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x4b h1e y5d7 ff17 fsa fc2 sc0 ls0 ws0">    A();</div><div class="t m0 x4b h1e y5d8 ff17 fsa fc2 sc0 ls0 ws0">} catch (Error $e) {</div><div class="t m0 x4b h1e y5d9 ff17 fsa fc2 sc0 ls0 ws0">    echo &quot;Error caught in global scope: &quot; . $e-&gt;getMessage();</div><div class="t m0 x4b h1e y5da ff17 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h1e y5db ff17 fsa fc2 sc0 ls0 ws0">Exception caught in A</div><div class="t m0 x4b h1e y5dc ff17 fsa fc2 sc0 ls0 ws0">Error caught in global scope: Call to undefined function C()</div><div class="t m0 x4b h1e y5dd ff17 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x4b h1e y5de ff17 fsa fc2 sc0 ls0 ws0">Error caught in global scope: Call to undefined function b()</div><div class="t m0 x4b h10 y5df ff18 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x4b h10 y5e0 ff18 fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x4b h1e y5e1 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y5e2 ff17 fsa fc2 sc0 ls0 ws0">class MyException extends Exception {}</div><div class="t m0 x4b h1e y5e3 ff17 fsa fc2 sc0 ls0 ws0">class ChildException extends MyException {}</div><div class="t m0 x4b h1e y5e4 ff17 fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x4b h1e y5e5 ff17 fsa fc2 sc0 ls0 ws0">    throw new ChildException;</div><div class="t m0 x4b h1e y5e6 ff17 fsa fc2 sc0 ls0 ws0">} catch (Exception $e) {</div><div class="t m0 x4b h1e y5e7 ff17 fsa fc2 sc0 ls0 ws0">    echo &quot;Caught Exception: &quot; . get_class($e);</div><div class="t m0 x4b h1e y5e8 ff17 fsa fc2 sc0 ls0 ws0">} catch (MyException $e) {</div><div class="t m0 x4b h1e y5e9 ff17 fsa fc2 sc0 ls0 ws0">    echo &quot;Caught MyException&quot; . get_class($e);</div><div class="t m0 x4b h1e y5ea ff17 fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3b" class="pf w2 h4" data-page-no="3b"><div class="pc pc3b w2 h4"><img class="bi x5 y5eb wa h39" alt="" src="bg3b.png"/><div class="t m0 x22 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x14 hd y55 ff11 fs6 fc2 sc0 ls28 ws102">37</div><div class="t m0 x5 h1e y5ec ff17 fsa fc2 sc0 ls0 ws0">Caught Exception: ChildException</div><div class="t m0 x5 h1e y5ed ff17 fsa fc2 sc0 ls0 ws0">Caught MyException: ChildException</div><div class="t m0 x5 h1e y5ee ff17 fsa fc2 sc0 ls0 ws0">Caught MyException: MyException</div><div class="t m0 x5 h12 y5ef ff11 fsa fc2 sc0 ls0 ws0">Nothing</div><div class="t m0 x5 h10 y5f0 ff18 fs6 fc2 sc0 ls0 ws0">An error message related to an uncaught exception</div><div class="t m0 x5 h10 y5f1 ff18 fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> <span class="_ _1"></span>Which of the following settings can be configured at runtime using the  </div><div class="t m0 x5 h10 y5f2 ff17 fsa fc2 sc0 ls0 ws0">ini_set()<span class="ff18 fs6"> function?</span></div><div class="t m0 x5 h1e y5f3 ff17 fsa fc2 sc0 ls0 ws0">output_buffering</div><div class="t m0 x5 h1e y5f4 ff17 fsa fc2 sc0 ls0 ws0">memory_limit</div><div class="t m0 x5 h1e y5f5 ff17 fsa fc2 sc0 ls0 ws0">max_execution_time</div><div class="t m0 x5 h1e y5f6 ff17 fsa fc2 sc0 ls0 ws0">extension</div><div class="t m0 x5 h10 y5f7 ff18 fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of this script?</div><div class="t m0 x5 h1e y5f8 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e y5f9 ff17 fsa fc2 sc0 ls0 ws0">$a = &quot;apples&quot; &lt;=&gt; &quot;bananas&quot;;</div><div class="t m0 x5 h1e y5fa ff17 fsa fc2 sc0 ls0 ws0">$b = $a ?? $c ?? 10;</div><div class="t m0 x5 h1e y5fb ff17 fsa fc2 sc0 ls0 ws0">echo $b;</div><div class="t m0 x5 h1e y5fc ff17 fsa fc2 sc0 ls0 ws0">-1</div><div class="t m0 x5 h1e y5fd ff17 fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x5 h1e y5fe ff17 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x5 h1e y5ff ff17 fsa fc2 sc0 ls0 ws0">10</div><div class="t m0 x5 h1e y600 ff17 fsa fc2 sc0 ls0 ws0">apples</div><div class="t m0 x5 h10 y601 ff18 fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of this script?</div><div class="t m0 x5 h1e y602 ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e y603 ff17 fsa fc2 sc0 ls0 ws0">echo 10 &lt;=&gt; 10 &lt;&lt; 1;</div><div class="t m0 x5 h1e y604 ff17 fsa fc2 sc0 ls0 ws0">-1</div><div class="t m0 x5 h1e y605 ff17 fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x5 h1e y606 ff17 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x5 h1e y607 ff17 fsa fc2 sc0 ls0 ws0">10</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3c" class="pf w2 h4" data-page-no="3c"><div class="pc pc3c w2 h4"><img class="bi x8 y608 w3 h3a" alt="" src="bg3c.png"/><div class="t m0 x8 h11 y54 ff18 fs9 fc2 sc0 ls0 ws0">CHAPTER 1 <span class="ff19 fc5">■</span> PHP BASICS</div><div class="t m0 x8 hd y55 ff11 fs6 fc2 sc0 ls23 wsfe">38</div><div class="t m0 x4b h10 y609 ff18 fs6 fc2 sc0 ls0 ws0">Q10:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of this script?</div><div class="t m0 x4b h1e y5af ff17 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y5b0 ff17 fsa fc2 sc0 ls0 ws0">define(&apos;A&apos;, 1);</div><div class="t m0 x4b h1e y5b1 ff17 fsa fc2 sc0 ls0 ws0">const B = 2;</div><div class="t m0 x4b h1e y5b2 ff17 fsa fc2 sc0 ls0 ws0">define(&apos;C&apos;, [A * A, B * B]);</div><div class="t m0 x4b h1e y5ce ff17 fsa fc2 sc0 ls0 ws0">echo(C[1]);</div><div class="t m0 x4b h10 y60a ff18 fs6 fc2 sc0 ls0 ws0">This will generate an error because constants can only hold scalar values.</div><div class="t m0 x4b h10 y60b ff18 fs6 fc2 sc0 ls0 ws0">This will generate an error because you cannot use define() to declare an array </div><div class="t m0 x4b h10 y60c ff18 fs6 fc2 sc0 ls0 ws0">constant.</div><div class="t m0 x4b h10 y60d ff18 fs6 fc2 sc0 ls0 ws0">This will generate an error because you cannot use expressions or functions </div><div class="t m0 x4b h10 y60e ff18 fs6 fc2 sc0 ls0 ws0">when declaring a constant.</div><div class="t m0 x4b h1e y60f ff17 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x4b h1e y610 ff17 fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x4b h1e y611 ff17 fsa fc2 sc0 ls0 ws0">4</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3d" class="pf w2 h4" data-page-no="3d"><div class="pc pc3d w2 h4"><img class="bi x0 y1c9 w4 h1a" alt="" src="bg3d.png"/><div class="t m0 x11 hd y3e ff1f fs6 fc2 sc0 ls24 wsff">39</div><div class="t m0 x3 h1b y1ca ff20 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff20 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff21">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff20 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_2<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff22 fse fc2 sc0 ls0 ws0">CHAPTER 2</div><div class="t m0 x3 h3b y1ce ff23 fs7 fc2 sc0 ls0 ws0">Functions</div><div class="t m0 x3 h12 y612 ff1f fsa fc2 sc0 ls0 ws0">Functions ar<span class="_ _1"></span>e packages of code that can be used to execute a sequence of instructions. </div><div class="t m0 x3 h12 y613 ff1f fsa fc2 sc0 ls0 ws0">Any valid code can be used inside a function, including calls to other functions and </div><div class="t m0 x3 h12 y614 ff1f fsa fc2 sc0 ls11 wse8">classes.</div><div class="t m0 x1a h12 y615 ff1f fsa fc2 sc0 ls0 ws0">In PHP<span class="_ _11"></span>, function names ar<span class="_ _1"></span>e case insensitive and can be referenced befor<span class="_ _1"></span>e they are </div><div class="t m0 x3 h12 y616 ff1f fsa fc2 sc0 ls0 ws0">defined, unless they are defined in a conditional code block. F<span class="_ _1"></span>unctions can be built<span class="_ _1"></span>-</div><div class="t m0 x3 h12 y617 ff1f fsa fc2 sc0 ls0 ws0">in, pro<span class="_ _1"></span>vided by an extension, or user<span class="_ _1"></span>-defined. Functions ar<span class="_ _1"></span>e distinct from language </div><div class="t m0 x3 h12 y618 ff1f fsa fc2 sc0 ls0 ws0">constructs.</div><div class="t m0 x3 h19 y619 ff24 fsd fc2 sc0 ls0 ws0">Arguments</div><div class="t m0 x3 h12 y61a ff1f fsa fc2 sc0 lsd ws0">Arguments to a function, also known as <span class="ff25 wse7">parameters</span>, allow y<span class="_ _1"></span>ou to pass values into the function </div><div class="t m0 x3 h12 y61b ff1f fsa fc2 sc0 lsd ws0">scope. Arguments ar<span class="_ _1"></span>e passed as a comma-separ<span class="_ _1"></span>ated list and are evaluated left to right<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y61c ff1f fse fc2 sc0 ls0 ws0">Argument T<span class="_ _1"></span>ype Declarations</div><div class="t m0 x3 h12 y61d ff1f fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify what type of variable may be passed as an argument<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y61e ff1f fsa fc2 sc0 ls0 ws0">This is useful because PHP is a loosely typed language and if you specify exactly what </div><div class="t m0 x3 h12 y61f ff1f fsa fc2 sc0 ls0 ws0">sort of variable you expect, then your function is going to be more r<span class="_ _1"></span>eliable and your code </div><div class="t m0 x3 h12 y620 ff1f fsa fc2 sc0 ls0 ws0">easier to read. Another advan<span class="_ _1"></span>tage is that giving type hints helps your IDE to give y<span class="_ _1"></span>ou more </div><div class="t m0 x3 h12 y621 ff1f fsa fc2 sc0 ls0 ws0">meaningful hints<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y622 ff1f fsa fc2 sc0 ls0 ws0">If your function is called and the variable passed is the incorrect type, then P<span class="_ _1"></span>HP 7 </div><div class="t m0 x3 h3c y623 ff1f fsa fc2 sc0 ls0 ws0">will raise a <span class="ff26">TypeError</span> exception.</div><div class="t m0 x1a h12 y624 ff1f fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o specify the type of argument that you ar<span class="_ _1"></span>e expecting, you add the type name in </div><div class="t m0 x3 h12 y625 ff1f fsa fc2 sc0 ls0 ws0">front of the arg<span class="_ _1"></span>ument definition, like this<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y626 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y627 ff26 fsa fc2 sc0 ls0 ws0">// $itemName must be a string and $details must be an array</div><div class="t m0 x3 h3c y628 ff26 fsa fc2 sc0 ls0 ws0">function addToShoppingCart(string $itemName, array $details) {}</div><div class="t m0 x3 h3c y629 ff26 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c y62a ff26 fsa fc2 sc0 ls0 ws0">$paymentObject must be an object that either:</div><div class="t m0 x3 h3c y62b ff26 fsa fc2 sc0 ls0 ws0">implements the PaymentProviderInterface interface,</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_2"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3e" class="pf w2 h4" data-page-no="3e"><div class="pc pc3e w2 h4"><img class="bi x8 y62c w3 h3d" alt="" src="bg3e.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls5 ws33">40</div><div class="t m0 x8 h3c y2a8 ff26 fsa fc2 sc0 ls0 ws0">or is any child of a class that does</div><div class="t m0 x8 h3c y3e3 ff26 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x8 h3c y424 ff26 fsa fc2 sc0 ls0 ws0">function requestPayment(PaymentProviderInterface $paymentObject) {}</div><div class="t m0 x8 h3c y2ac ff26 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h3c y3e4 ff26 fsa fc2 sc0 ls0 ws0">$employee must be an object that is either:</div><div class="t m0 x8 h3c y3e5 ff26 fsa fc2 sc0 ls0 ws0">an instance of the Employee class,</div><div class="t m0 x8 h3c y425 ff26 fsa fc2 sc0 ls0 ws0">or is any child of a class that does</div><div class="t m0 x8 h3c y3e6 ff26 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x8 h3c y426 ff26 fsa fc2 sc0 ls0 ws0">function calculateWage(Employee $employee) {}</div><div class="t m0 x8 h3c y3e8 ff26 fsa fc2 sc0 ls0 ws0">// $callback must be a callable</div><div class="t m0 x8 h3c y3e9 ff26 fsa fc2 sc0 ls0 ws0">function performCalculation(callable $method) {}</div><div class="t m0 x3 h12 y3eb ff1f fsa fc2 sc0 ls0 ws0">In the previous exam<span class="_ _1"></span>ple, I&apos;ve shown that we can tell PHP to expect scalar v<span class="_ _1"></span>ariables, </div><div class="t m0 x8 h12 y3ec ff1f fsa fc2 sc0 ls0 ws0">composite variables (arrays and objects), and calla<span class="_ _1"></span>bles. W<span class="_ _1"></span>e discuss exactly what calla<span class="_ _1"></span>bles </div><div class="t m0 x8 h12 y3ed ff1f fsa fc2 sc0 ls0 ws0">are a little later in this c<span class="_ _1"></span>hapter<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y3ee ff1f fsa fc2 sc0 ls0 ws0">The following table summarizes wha<span class="_ _1"></span>t types can be declared.</div><div class="t m0 x8 h3e y62d ff23 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ype<span class="_ _69"> </span>Description</div><div class="t m0 x8 h12 y62e ff1f fsa fc2 sc0 ls0 ws0">Class name or Interface<span class="_ _6a"> </span>The parameter must be an instance of<span class="_ _1"></span>, or a child of, the </div><div class="t m0 x4c h12 y62f ff1f fsa fc2 sc0 ls0 ws0">specified class or interface.</div><div class="t m0 x8 h3c y630 ff26 fsa fc2 sc0 ls0 ws0">self<span class="_ _6b"> </span><span class="ff1f">The parameter must be an instance of the curr<span class="_ _1"></span>ent class.</span></div><div class="t m0 x8 h3c y631 ff26 fsa fc2 sc0 ls0 ws0">array</div><div class="t m0 x8 h3c y632 ff26 fsa fc2 sc0 ls0 ws0">bool</div><div class="t m0 x8 h3c y633 ff26 fsa fc2 sc0 ls0 ws0">float</div><div class="t m0 x8 h3c y634 ff26 fsa fc2 sc0 ls0 ws0">int</div><div class="t m0 x8 h3c y635 ff26 fsa fc2 sc0 ls0 ws0">string</div><div class="t m0 x8 h3c y636 ff26 fsa fc2 sc0 ls0 ws0">iterable<span class="_ _2f"> </span><span class="ff1f">The parameter must be either an array or an </span>instanceof<span class="ff1f"> </span></div><div class="t m0 x4c h12 y637 ff1f fsa fc2 sc0 ls0 ws0">tra<span class="_ _1"></span>versable.</div><div class="t m0 x8 h3c y638 ff26 fsa fc2 sc0 ls0 ws0">callable<span class="_ _2f"> </span><span class="ff1f">The parameter must be a valid callable<span class="_ _1"></span>.</span></div><div class="t m0 x1e h10 y639 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>When I say <span class="_ _1"></span>“ancestor”<span class="_ _1"></span> class,<span class="_ _2"></span> I’m referring to an<span class="_ _0"></span>y superc<span class="_ _1"></span>lass of your class:<span class="_ _1"></span> the </span></span></span></div><div class="t m0 x8 h10 y63a ff27 fs6 fc2 sc0 ls0 ws0">parent,<span class="_ _1"></span> the parent’<span class="_ _2"></span>s parent, and so on.<span class="_ _1"></span> Likewise,<span class="_ _1"></span> I’m using the word <span class="_ _1"></span>“child”<span class="_ _1"></span> to denote a child,<span class="_ _1"></span> </div><div class="t m0 x8 h10 y63b ff27 fs6 fc2 sc0 ls0 ws0">grandchild,<span class="_ _1"></span> great-grandchild,<span class="_ _1"></span> and so on.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3f" class="pf w2 h4" data-page-no="3f"><div class="pc pc3f w2 h4"><img class="bi x3 y63c w5 h29" alt="" src="bg3f.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x14 hd y55 ff1f fs6 fc2 sc0 ls1b wsf7">41</div><div class="t m0 x1a h3c y2a8 ff1f fsa fc2 sc0 ls14 ws0">Y<span class="_ _2"></span>ou cannot use type aliases. For example<span class="_ _1"></span>, you cannot use <span class="ff26 wsef">boolean</span> in place of <span class="ff26 wsef">bool</span> as a </div><div class="t m0 x3 h3c y3e3 ff1f fsa fc2 sc0 ls14 ws0">type declaration; if you do so<span class="_ _1"></span>, PHP will expect an instance of a class called <span class="ff26 wsef">boolean</span>, like this:</div><div class="t m0 x3 h3c y2ab ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y2ac ff26 fsa fc2 sc0 ls0 ws0">function A(boolean $a) {var_dump($a);}</div><div class="t m0 x3 h3c y3e4 ff26 fsa fc2 sc0 ls0 ws0">A(true);</div><div class="t m0 x3 h3c y3e5 ff26 fsa fc2 sc0 ls0 ws0">// Fatal error: Uncaught TypeError: Argument 1 passed to A() must be an </div><div class="t m0 x3 h3c y425 ff26 fsa fc2 sc0 ls0 ws0">instance of boolean, boolean given,</div><div class="t m0 x1a h12 y426 ff1f fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two ways that you c<span class="_ _1"></span>an enforce scalar type hinting: coer<span class="_ _1"></span>cive (default) and </div><div class="t m0 x3 h12 y3e7 ff1f fsa fc2 sc0 ls0 ws0">strict.</div><div class="t m0 x1a h3c y3e8 ff1f fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou configure the mode per file by placing a <span class="ff26">declare</span> dir<span class="_ _1"></span>ective at the top of the file. </div><div class="t m0 x3 h12 y3e9 ff1f fsa fc2 sc0 ls0 ws0">This will affect the way that PHP enfor<span class="_ _1"></span>ces the function arguments as well as the function </div><div class="t m0 x3 h12 y3ea ff1f fsa fc2 sc0 ls0 ws0">return type<span class="_ _1"></span>.</div><div class="t m0 x23 h10 y63d ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> Setting <span class="ff26 fsa">strict</span> mode is done per file.</span></span></span></div><div class="t m0 x1a h12 y63e ff1f fsa fc2 sc0 ls0 ws0">In coercive mode<span class="_ _1"></span>, PHP will automatically try to cast variables of the wron<span class="_ _1"></span>g type to </div><div class="t m0 x3 h12 y63f ff1f fsa fc2 sc0 ls0 ws0">the expected type.</div><div class="t m0 x1a h3c y640 ff1f fsa fc2 sc0 ls0 ws0">In the following example<span class="_ _1"></span>, the script outputs <span class="ff26">&quot;string&quot;</span> because PHP silently casts the </div><div class="t m0 x3 h12 y641 ff1f fsa fc2 sc0 ls0 ws0">integer we pass to a string.</div><div class="t m0 x3 h3c y642 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y643 ff26 fsa fc2 sc0 ls0 ws0">function sayHello(string $name) {</div><div class="t m0 x3 h3c y644 ff26 fsa fc2 sc0 ls0 ws0">    echo gettype($name);</div><div class="t m0 x3 h3c y645 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y646 ff26 fsa fc2 sc0 ls0 ws0">sayHello(100);  // string</div><div class="t m0 x1a h3c y647 ff1f fsa fc2 sc0 ls0 ws0">If, however<span class="_ _11"></span>, w<span class="_ _0"></span>e wer<span class="_ _1"></span>e to specify strict mode, then PHP will generate a <span class="ff26">TypeError</span>, as in </div><div class="t m0 x3 h12 y648 ff1f fsa fc2 sc0 ls0 ws0">this example:</div><div class="t m0 x3 h3c y649 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y64a ff26 fsa fc2 sc0 ls0 ws0">declare(strict_types=1);</div><div class="t m0 x3 h3c y64b ff26 fsa fc2 sc0 ls0 ws0">function sayHello(string $name) {</div><div class="t m0 x3 h3c y64c ff26 fsa fc2 sc0 ls0 ws0">    echo gettype($name);</div><div class="t m0 x3 h3c y64d ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y64e ff26 fsa fc2 sc0 ls0 ws0">sayHello(100);</div><div class="t m0 x3 h3c y64f ff26 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c y650 ff26 fsa fc2 sc0 ls0 ws0">Fatal error: Uncaught TypeError: Argument 1 passed to sayHello() must be of </div><div class="t m0 x3 h3c y651 ff26 fsa fc2 sc0 ls0 ws0">the type string, integer given,</div><div class="t m0 x3 h3c y652 ff26 fsa fc2 sc0 ls0 ws0">*/</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf40" class="pf w2 h4" data-page-no="40"><div class="pc pc40 w2 h4"><img class="bi x8 y653 w3 h3f" alt="" src="bg40.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls2c ws105">42</div><div class="t m0 x8 h1c y654 ff24 fse fc2 sc0 ls0 ws0">Alternate Null <span class="_ _1"></span>T<span class="_ _11"></span>ype Syntax</div><div class="t m0 x8 h12 y655 ff1f fsa fc2 sc0 ls0 ws0">PHP 7.1 introduced a new wa<span class="_ _1"></span>y to type hint variables that ma<span class="_ _1"></span>y be null. Y<span class="_ _2"></span>ou can prefix the </div><div class="t m0 x8 h12 y656 ff1f fsa fc2 sc0 ls0 ws0">type hint with a question mark to indica<span class="_ _1"></span>te that the variable may either be n<span class="_ _1"></span>ull or of the </div><div class="t m0 x8 h12 y657 ff1f fsa fc2 sc0 ls0 ws0">specified type. Her<span class="_ _1"></span>e&apos;s an example:</div><div class="t m0 x8 h3c y658 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y659 ff26 fsa fc2 sc0 ls0 ws0">function myFunc(?MyObject $myObj)</div><div class="t m0 x8 h3c y65a ff26 fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y65b ff26 fsa fc2 sc0 ls0 ws0">    echo &quot;hello world&quot;;</div><div class="t m0 x8 h3c y65c ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y65d ff26 fsa fc2 sc0 ls0 ws0">// this is allowed</div><div class="t m0 x8 h3c y65e ff26 fsa fc2 sc0 ls0 ws0">myFunc(null);</div><div class="t m0 x8 h3c y65f ff26 fsa fc2 sc0 ls0 ws0">// this produces a fatal error: Too few arguments</div><div class="t m0 x8 h3c y660 ff26 fsa fc2 sc0 ls0 ws0">myFunc();</div><div class="t m0 x1e h10 y661 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>The argument is not optional; you have to explicitly pass <span class="ff26 fsa">null</span> or an object of the </span></span></span></div><div class="t m0 x8 h10 y662 ff27 fs6 fc2 sc0 ls0 ws0">specified type.</div><div class="t m0 x8 h26 y663 ff1f fse fc2 sc0 ls0 ws0">Optional Argumen<span class="_ _1"></span>ts</div><div class="t m0 x8 h12 y664 ff1f fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify a default value for a parameter that h<span class="_ _1"></span>as the effect of making it optional.</div><div class="t m0 x1e h10 y665 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> PHP 7 will throw an <span class="ff26 fsa">ArgumentCountError</span></span></span></span></div><div class="t m0 x4e h35 y666 ff27 fsf fc4 sc0 ls0 ws0">1</div><div class="t m0 x4f h10 y665 ff27 fs6 fc2 sc0 ls0 ws0"> if you do not supply all the mandator<span class="_ _0"></span>y </div><div class="t m0 x8 h10 y667 ff27 fs6 fc2 sc0 ls0 ws0">parameters to a function.<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can only omit passing parameters that are optional.</div><div class="t m0 x3 h12 y668 ff1f fsa fc2 sc0 ls0 ws0">In the following example<span class="_ _1"></span>, if the user does not supply a message, the function </div><div class="t m0 x8 h3c y669 ff1f fsa fc2 sc0 ls0 ws0">assumes it will be <span class="ff26">world</span>.</div><div class="t m0 x8 h3c y66a ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y66b ff26 fsa fc2 sc0 ls0 ws0">function sayHi($message = &apos;world&apos;) {</div><div class="t m0 x8 h3c y66c ff26 fsa fc2 sc0 ls0 ws0">    echo &quot;Hello $message&quot;;</div><div class="t m0 x8 h3c y66d ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y66e ff26 fsa fc2 sc0 ls0 ws0">sayHi();</div><div class="t m0 x8 h40 y66f ff2a fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x26 h41 y670 ff2a fs5 fc2 sc0 ls0 ws0">W<span class="_ _2"></span>e deal with this sort of error in Chapter <span class="fc4 ls2d ws106">11<span class="_ _0"></span></span> on error handling.</div><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:235.978000px;bottom:282.865000px;width:2.798000px;height:11.914000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_11"><div class="d m1" style="border-style:none;position:absolute;left:183.926000px;bottom:71.980700px;width:8.185000px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf41" class="pf w2 h4" data-page-no="41"><div class="pc pc41 w2 h4"><img class="bi x3 y671 w5 h42" alt="" src="bg41.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x11 hd y55 ff1f fs6 fc2 sc0 lsc ws104">43</div><div class="t m0 x3 h26 y3bf ff1f fse fc2 sc0 ls0 ws0">Overloading F<span class="_ _1"></span>unctions</div><div class="t m0 x3 h12 y3c0 ff1f fsa fc2 sc0 ls0 ws0">In other progr<span class="_ _1"></span>amming languages, o<span class="_ _1"></span>verloading usually refers t<span class="_ _1"></span>o declaring multiple </div><div class="t m0 x3 h12 y44f ff1f fsa fc2 sc0 ls0 ws0">functions with the same name but with differing quantities and types of arguments<span class="_ _1"></span>. </div><div class="t m0 x3 h12 y46e ff1f fsa fc2 sc0 ls0 ws0">PHP views overloading as pr<span class="_ _1"></span>oviding the means to dynamic<span class="_ _1"></span>ally “<span class="_ _1"></span>cr<span class="_ _1"></span>eate” pr<span class="_ _1"></span>operties and </div><div class="t m0 x3 h12 y450 ff1f fsa fc2 sc0 ls0 ws0">methods.</div><div class="t m0 x1a h12 y451 ff1f fsa fc2 sc0 ls0 ws0">PHP will not let you redeclar<span class="_ _1"></span>e the same function name. Ho<span class="_ _1"></span>wever<span class="_ _2"></span>, PHP does let you </div><div class="t m0 x3 h12 y46f ff1f fsa fc2 sc0 ls0 ws0">call a function with different arg<span class="_ _1"></span>uments and offers you some functions to be able to </div><div class="t m0 x3 h12 y452 ff1f fsa fc2 sc0 ls0 ws0">access the arguments tha<span class="_ _1"></span>t a function was called with.</div><div class="t m0 x1a h12 y453 ff1f fsa fc2 sc0 ls0 ws0">Here ar<span class="_ _1"></span>e three of these functions:</div><div class="t m0 x3 h3e y672 ff23 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _6c"> </span>Returns</div><div class="t m0 x3 h3c y673 ff26 fsa fc2 sc0 ls0 ws0">func_num_args()<span class="_ _6d"> </span><span class="ff1f">How man<span class="_ _1"></span>y arguments were passed to the function</span></div><div class="t m0 x3 h3c y674 ff26 fsa fc2 sc0 ls0 ws0">func_get_arg($num)<span class="_ _6e"> </span><span class="ff1f">Par<span class="_ _1"></span>ameter number <span class="ff26">$num</span> (zero based)</span></div><div class="t m0 x3 h3c y675 ff26 fsa fc2 sc0 ls0 ws0">func_get_args()<span class="_ _6d"> </span><span class="ff1f">All parameters passed to the function as an array</span></div><div class="t m0 x1a h12 y676 ff1f fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple showing how a function can accept any number of par<span class="_ _1"></span>ameters of </div><div class="t m0 x3 h12 y677 ff1f fsa fc2 sc0 ls0 ws0">any sort, and how you can access them:</div><div class="t m0 x3 h3c y678 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y679 ff26 fsa fc2 sc0 ls0 ws0">function myFunc() {</div><div class="t m0 x3 h3c y67a ff26 fsa fc2 sc0 ls0 ws0">    foreach(func_get_args() as $arg =&gt; $value) {</div><div class="t m0 x3 h3c y67b ff26 fsa fc2 sc0 ls0 ws0">        echo &quot;$arg is $value&quot; . PHP_EOL;</div><div class="t m0 x3 h3c y67c ff26 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y67d ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y67e ff26 fsa fc2 sc0 ls0 ws0">myFunc(&apos;variable&apos;, 3, &apos;parameters&apos;);</div><div class="t m0 x3 h3c y67f ff26 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c y680 ff26 fsa fc2 sc0 ls0 ws0">0 is variable</div><div class="t m0 x3 h3c y681 ff26 fsa fc2 sc0 ls0 ws0">1 is 3</div><div class="t m0 x3 h3c y682 ff26 fsa fc2 sc0 ls0 ws0">2 is parameters</div><div class="t m0 x3 h3c y683 ff26 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h12 y684 ff1f fsa fc2 sc0 ls0 ws0">The following code illustrates an obscur<span class="_ _1"></span>e difference between PHP 7 and PHP 5:</div><div class="t m0 x3 h3c y685 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y686 ff26 fsa fc2 sc0 ls0 ws0">function myFunc($data) {</div><div class="t m0 x3 h3c y687 ff26 fsa fc2 sc0 ls0 ws0">    $data = &apos;Changed&apos;;</div><div class="t m0 x3 h3c y688 ff26 fsa fc2 sc0 ls0 ws0">    echo func_get_arg(0);</div><div class="t m0 x3 h3c y689 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h3c y68a ff1f fsa fc2 sc0 ls0 ws0">In PHP 5, this outputs <span class="ff26">Variable</span>, but in PHP 7, it outp<span class="_ _1"></span>uts <span class="ff26">Changed</span>. This shows that in </div><div class="t m0 x3 h12 y68b ff1f fsa fc2 sc0 ls0 ws0">PHP 7 if you change the value of an ar<span class="_ _1"></span>gument in a function, then the value returned b<span class="_ _1"></span>y </div><div class="t m0 x3 h3c y68c ff26 fsa fc2 sc0 ls0 ws0">func_get_arg()<span class="ff1f"> will be the new value and not the original value.</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf42" class="pf w2 h4" data-page-no="42"><div class="pc pc42 w2 h4"><img class="bi x8 y653 w6 h27" alt="" src="bg42.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls7 ws36">44</div><div class="t m0 x8 h26 y3bf ff1f fse fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ariadics</div><div class="t m0 x8 h12 y3c0 ff1f fsa fc2 sc0 ls0 ws0">PHP 5.6 introduced variadics tha<span class="_ _1"></span>t explicitly accept a variable number of parameters<span class="_ _1"></span>. </div><div class="t m0 x8 h3c y3c1 ff1f fsa fc2 sc0 ls0 ws0">By using the <span class="ff26">...</span> token in your ar<span class="_ _1"></span>gument list, you specify tha<span class="_ _1"></span>t the function will accept a </div><div class="t m0 x8 h12 y531 ff1f fsa fc2 sc0 ls0 ws0">variable number of parameter<span class="_ _1"></span>s.</div><div class="t m0 x3 h12 y450 ff1f fsa fc2 sc0 ls0 ws0">The variadic parameters ar<span class="_ _1"></span>e made availa<span class="_ _1"></span>ble in your function as an array.</div><div class="t m0 x3 h12 y451 ff1f fsa fc2 sc0 ls0 ws0">If you are mixing normal fixed par<span class="_ _1"></span>ameters with a variadic syntax, then the variadic </div><div class="t m0 x8 h12 y46f ff1f fsa fc2 sc0 ls0 ws0">parameter must be the last par<span class="_ _1"></span>ameter in the list of parameters<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y452 ff1f fsa fc2 sc0 ls0 ws0">The PHP manual</div><div class="t m0 x3b h15 y68d ff1f fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x50 h12 y68e ff1f fsa fc2 sc0 ls0 ws0"> has a very clear example that shows the inter<span class="_ _1"></span>action between </div><div class="t m0 x8 h12 y68f ff1f fsa fc2 sc0 ls0 ws0">compulsory, optional, and variadic parameters:</div><div class="t m0 x8 h3c y690 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y691 ff26 fsa fc2 sc0 ls0 ws0">function parameterTypeExample($required, $optional = null, </div><div class="t m0 x8 h3c y692 ff26 fsa fc2 sc0 ls0 ws0">...$variadicParams) {</div><div class="t m0 x8 h3c y693 ff26 fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>printf(&apos;Required: %d; Optional: %d; number of variadic parameters: </div><div class="t m0 x3 h3c y694 ff26 fsa fc2 sc0 ls0 ws0">%d&apos;.&quot;\n&quot;,</div><div class="t m0 x8 h3c y695 ff26 fsa fc2 sc0 ls0 ws0">        $required, $optional, count($variadicParams));</div><div class="t m0 x8 h3c y696 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y697 ff26 fsa fc2 sc0 ls0 ws0">f(1);</div><div class="t m0 x8 h3c y698 ff26 fsa fc2 sc0 ls0 ws0">f(1, 2);</div><div class="t m0 x8 h3c y699 ff26 fsa fc2 sc0 ls0 ws0">f(1, 2, 3);</div><div class="t m0 x8 h3c y69a ff26 fsa fc2 sc0 ls0 ws0">f(1, 2, 3, 4);</div><div class="t m0 x8 h3c y69b ff26 fsa fc2 sc0 ls0 ws0">f(1, 2, 3, 4, 5);</div><div class="t m0 x3 h12 y69c ff1f fsa fc2 sc0 ls0 ws0">This outputs:</div><div class="t m0 x8 h3c y69d ff26 fsa fc2 sc0 ls0 ws0">$req: 1; $opt: 0; number of params: 0</div><div class="t m0 x8 h3c y69e ff26 fsa fc2 sc0 ls0 ws0">$req: 1; $opt: 2; number of params: 0</div><div class="t m0 x8 h3c y69f ff26 fsa fc2 sc0 ls0 ws0">$req: 1; $opt: 2; number of params: 1</div><div class="t m0 x8 h3c y6a0 ff26 fsa fc2 sc0 ls0 ws0">$req: 1; $opt: 2; number of params: 2</div><div class="t m0 x8 h3c y6a1 ff26 fsa fc2 sc0 ls0 ws0">$req: 1; $opt: 2; number of params: 3</div><div class="t m0 x3 h3c y6a2 ff1f fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the variadic parameter is made a<span class="_ _1"></span>vailable as an ordinary array <span class="ff26">$params</span>.</div><div class="t m0 x8 h19 y6a3 ff24 fsd fc2 sc0 ls0 ws0">References</div><div class="t m0 x8 h12 y6a4 ff1f fsa fc2 sc0 ls0 ws0">By default, PHP passes arg<span class="_ _1"></span>uments to functions by value, b<span class="_ _1"></span>ut it is possible to pass them </div><div class="t m0 x8 h12 y6a5 ff1f fsa fc2 sc0 ls0 ws0">by refer<span class="_ _1"></span>ence. Y<span class="_ _2"></span>ou can do this by declaring the argument as a pass b<span class="_ _1"></span>y reference<span class="_ _1"></span>, as in this </div><div class="t m0 x8 h12 y6a6 ff1f fsa fc2 sc0 ls0 ws0">example:</div><div class="t m0 x8 h3c y6a7 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y6a8 ff26 fsa fc2 sc0 ls0 ws0">function addOne(&amp;$arg) {</div><div class="t m0 x8 h3c y6a9 ff26 fsa fc2 sc0 ls0 ws0">    $arg++;</div><div class="t m0 x8 h3c y6aa ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h40 y6ab ff2a fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x26 h43 y6ac ff26 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/migration56.new-features.php</div><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:123.020000px;bottom:502.685000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/migration56.new-features.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.018100px;width:259.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf43" class="pf w2 h4" data-page-no="43"><div class="pc pc43 w2 h4"><img class="bi x3 y3a4 w5 h32" alt="" src="bg43.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x11 hd y55 ff1f fs6 fc2 sc0 ls2e ws107">45</div><div class="t m0 x3 h3c y2a8 ff26 fsa fc2 sc0 ls0 ws0">$a = 0;</div><div class="t m0 x3 h3c y3e3 ff26 fsa fc2 sc0 ls0 ws0">addOne($a);</div><div class="t m0 x3 h3c y424 ff26 fsa fc2 sc0 ls0 ws0">echo $a; // 1</div><div class="t m0 x1a h3c y2ac ff1f fsa fc2 sc0 ls0 ws0">The <span class="ff26">&amp;</span> operator m<span class="_ _1"></span>arks the parameter as being passed by r<span class="_ _1"></span>eference. Ch<span class="_ _1"></span>anges to this </div><div class="t m0 x3 h12 y3e4 ff1f fsa fc2 sc0 ls0 ws0">parameter in the function will change the variable passed to it.</div><div class="t m0 x1a h12 y3e5 ff1f fsa fc2 sc0 ls0 ws0">If a function argument is not defined as being a r<span class="_ _1"></span>eference, then you c<span class="_ _1"></span>annot pass a </div><div class="t m0 x3 h12 y425 ff1f fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence in that argument.</div><div class="t m0 x1a h12 y3e6 ff1f fsa fc2 sc0 ls0 ws0">This code will generate a fatal error:</div><div class="t m0 x3 h3c y3e7 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y3e8 ff26 fsa fc2 sc0 ls0 ws0">function addOne($arg) {</div><div class="t m0 x3 h3c y3e9 ff26 fsa fc2 sc0 ls0 ws0">  $arg++;</div><div class="t m0 x3 h3c y3ea ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y3eb ff26 fsa fc2 sc0 ls0 ws0">$a = 0;</div><div class="t m0 x3 h3c y3ec ff26 fsa fc2 sc0 ls0 ws0">addOne(&amp;$a); // fatal error as of PHP 5.4.0</div><div class="t m0 x3 h3c y3ed ff26 fsa fc2 sc0 ls0 ws0">echo $a;</div><div class="t m0 x3 h19 y6ad ff24 fsd fc2 sc0 ls0 ws0">V<span class="_ _1"></span>ariable Functions</div><div class="t m0 x3 h12 y6ae ff1f fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iable functions ar<span class="_ _1"></span>e similar in concept to variable variable names<span class="_ _1"></span>. They’re easiest to </div><div class="t m0 x3 h12 y6af ff1f fsa fc2 sc0 ls0 ws0">explain with a syntax example:</div><div class="t m0 x3 h3c y6b0 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y6b1 ff26 fsa fc2 sc0 ls0 ws0">function foo() {</div><div class="t m0 x3 h3c y6b2 ff26 fsa fc2 sc0 ls0 ws0">    echo &apos;Foo&apos;;</div><div class="t m0 x3 h3c y6b3 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y6b4 ff26 fsa fc2 sc0 ls0 ws0">$var = &apos;foo&apos;;</div><div class="t m0 x3 h3c y6b5 ff26 fsa fc2 sc0 ls0 ws0">$var(); // calls foo()</div><div class="t m0 x1a h12 y6b6 ff1f fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e can see that if PHP encounters a v<span class="_ _1"></span>ariable name that has par<span class="_ _1"></span>entheses appended </div><div class="t m0 x3 h12 y6b7 ff1f fsa fc2 sc0 ls0 ws0">to it then it evaluates the variable<span class="_ _1"></span>. It then looks for a function that h<span class="_ _1"></span>as a name matching </div><div class="t m0 x3 h12 y6b8 ff1f fsa fc2 sc0 ls0 ws0">this evaluation. If it finds a matchin<span class="_ _1"></span>g function, it is executed; other<span class="_ _0"></span>wise, the normal err<span class="_ _1"></span>or </div><div class="t m0 x3 h12 y6b9 ff1f fsa fc2 sc0 ls0 ws0">generation will occur<span class="_ _2"></span>.</div><div class="t m0 x23 h10 y6ba ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> Language constructs such as we saw earlier are not functions. <span class="_ _1"></span>Y<span class="_ _11"></span>ou cannot use </span></span></span></div><div class="t m0 x3 h10 y6bb ff27 fs6 fc2 sc0 ls0 ws0">them as variable functions.</div><div class="t m0 x1a h12 y6bc ff1f fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can call any callable as a variable function. W<span class="_ _1"></span>e’ll discuss call<span class="_ _1"></span>ables a little later in </div><div class="t m0 x3 h12 y6bd ff1f fsa fc2 sc0 ls0 ws0">the “<span class="_ _1"></span>Callables, Lambdas<span class="_ _1"></span>, and Closures<span class="_ _1"></span>” section.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf44" class="pf w2 h4" data-page-no="44"><div class="pc pc44 w2 h4"><img class="bi x8 y5ad w3 h32" alt="" src="bg44.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls5 ws33">46</div><div class="t m0 x8 h19 y6be ff24 fsd fc2 sc0 ls0 ws0">Returns</div><div class="t m0 x8 h3c y6bf ff1f fsa fc2 sc0 ls0 ws0">Using the <span class="ff26">return</span> statemen<span class="_ _1"></span>t will prevent further code from executing in yo<span class="_ _1"></span>ur function.  </div><div class="t m0 x8 h3c y6c0 ff1f fsa fc2 sc0 ls0 ws0">If you <span class="ff26">return</span> from the r<span class="_ _1"></span>oot scope, then your progr<span class="_ _1"></span>am will terminate.</div><div class="t m0 x8 h3c y6c1 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y6c2 ff26 fsa fc2 sc0 ls0 ws0">return &quot;hello&quot;;</div><div class="t m0 x8 h3c y6c3 ff26 fsa fc2 sc0 ls0 ws0">echo &quot;This is never run&quot;;</div><div class="t m0 x3 h3c y6c4 ff1f fsa fc2 sc0 ls0 ws0">PHP will return <span class="ff26">NULL</span> if you do not specify a r<span class="_ _1"></span>eturn value for your function using the </div><div class="t m0 x8 h3c y6c5 ff26 fsa fc2 sc0 ls0 ws0">return<span class="ff1f"> keyword.</span></div><div class="t m0 x3 h3c y6c6 ff1f fsa fc2 sc0 ls0 ws0">In the “<span class="_ _1"></span>Generators<span class="_ _1"></span>” section, we deal with the <span class="ff26">yield</span> keyw<span class="_ _0"></span>or<span class="_ _1"></span>d. These are similar </div><div class="t m0 x8 h3c y6c7 ff1f fsa fc2 sc0 ls0 ws0">enough to <span class="ff26">returns</span> to mention in passing her<span class="_ _1"></span>e, but important enough to h<span class="_ _1"></span>ave their own </div><div class="t m0 x8 h12 y6c8 ff1f fsa fc2 sc0 ls0 ws0">section later<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y6c9 ff1f fsa fc2 sc0 ls0 ws0">Generators let you write a function that will genera<span class="_ _1"></span>te successive members of an array </div><div class="t m0 x8 h12 y6ca ff1f fsa fc2 sc0 ls0 ws0">that you can it<span class="_ _1"></span>erate over without needing to hold the entir<span class="_ _1"></span>e data set in memory. At the </div><div class="t m0 x8 h12 y6cb ff1f fsa fc2 sc0 ls0 ws0">end of the yielded list of values, the gener<span class="_ _1"></span>ator can optionally ret<span class="_ _1"></span>urn a final value.</div><div class="t m0 x3 h12 y6cc ff1f fsa fc2 sc0 ls0 ws0">In PHP 7, we can specify what type of variable we expect to r<span class="_ _1"></span>eturn. W<span class="_ _1"></span>e discuss this in </div><div class="t m0 x8 h12 y6cd ff1f fsa fc2 sc0 ls0 ws0">the next section.</div><div class="t m0 x8 h26 y6ce ff1f fse fc2 sc0 ls0 ws0">Return T<span class="_ _1"></span>ype Declarations</div><div class="t m0 x8 h12 y6cf ff1f fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e previously looked at ho<span class="_ _1"></span>w you can declare wha<span class="_ _1"></span>t variable type your function arguments </div><div class="t m0 x8 h12 y6d0 ff1f fsa fc2 sc0 ls0 ws0">will be. Y<span class="_ _2"></span>ou can also specify what variable type the function will return.</div><div class="t m0 x3 h12 y6d1 ff1f fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o do so, you place a colon and the type n<span class="_ _1"></span>ame after the parameters braces<span class="_ _1"></span>. The same </div><div class="t m0 x8 h12 y6d2 ff1f fsa fc2 sc0 ls0 ws0">types are a<span class="_ _1"></span>vailable for return types as can be specified for the argumen<span class="_ _1"></span>ts.</div><div class="t m0 x3 h12 y6d3 ff1f fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at an example:</div><div class="t m0 x8 h3c y6d4 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y6d5 ff26 fsa fc2 sc0 ls0 ws0">function getFullName(string $firstName, string $lastName): string {</div><div class="t m0 x8 h3c y6d6 ff26 fsa fc2 sc0 ls0 ws0">    return 123;</div><div class="t m0 x8 h3c y6d7 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y6d8 ff26 fsa fc2 sc0 ls0 ws0">$name = getFullName(&apos;Mary&apos;, &apos;Moon&apos;);</div><div class="t m0 x8 h3c y6d9 ff26 fsa fc2 sc0 ls0 ws0">echo gettype($name);  // string</div><div class="t m0 x3 h3c y6da ff1f fsa fc2 sc0 ls0 ws0">Because PHP is in coercive mode b<span class="_ _1"></span>y default, it converts the integer <span class="ff26">123</span> to a string </div><div class="t m0 x8 h3c y6db ff1f fsa fc2 sc0 ls0 ws0">when it returns fr<span class="_ _1"></span>om the function. If we declared <span class="ff26">strict</span> mode, then PHP would genera<span class="_ _1"></span>te </div><div class="t m0 x8 h3c y6dc ff1f fsa fc2 sc0 ls0 ws0">a <span class="ff26">TypeError</span>, just as it did when we were looking at ar<span class="_ _1"></span>gument type declarations<span class="_ _1"></span>.</div><div class="t m0 x1e h10 y6dd ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can&apos;t specify <span class="ff26 fsa">strict</span> mode for just one of the return or argument type </span></span></span></div><div class="t m0 x8 h10 y6de ff27 fs6 fc2 sc0 ls0 ws0">declarations.<span class="_ _1"></span> If you specify <span class="ff26 fsa">strict</span> mode,<span class="_ _1"></span> it will affect both.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf45" class="pf w2 h4" data-page-no="45"><div class="pc pc45 w2 h4"><img class="bi x3 y6df w5 h44" alt="" src="bg45.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x14 hd y55 ff1f fs6 fc2 sc0 ls2f ws108">47</div><div class="t m0 x3 h26 y3bf ff1f fse fc2 sc0 ls0 ws0">Return V<span class="_ _11"></span>oid</div><div class="t m0 x3 h3c y3c0 ff1f fsa fc2 sc0 ls0 ws0">If the function is going to return n<span class="_ _1"></span>ull, you can specify that it will return <span class="ff26">&quot;void&quot;</span> (PHP 7.1+), </div><div class="t m0 x3 h12 y44f ff1f fsa fc2 sc0 ls0 ws0">as in this example:</div><div class="t m0 x3 h3c y450 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y451 ff26 fsa fc2 sc0 ls0 ws0">function sayHello(): void {</div><div class="t m0 x3 h3c y46f ff26 fsa fc2 sc0 ls0 ws0">    echo &quot;Hello World&quot;;</div><div class="t m0 x3 h3c y452 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y453 ff26 fsa fc2 sc0 ls0 ws0">// Hello World</div><div class="t m0 x3 h3c y454 ff26 fsa fc2 sc0 ls0 ws0">sayWorld();</div><div class="t m0 x23 h10 y6e0 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Caution<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>T<span class="_ _2"></span>rying to specify tha<span class="_ _0"></span>t it will return <span class="ff26 fsa">null</span> will result in a fatal error<span class="_ _2"></span>.</span></span></span></div><div class="t m0 x3 h26 y6e1 ff1f fse fc2 sc0 ls0 ws0">Return b<span class="_ _1"></span>y Reference</div><div class="t m0 x3 h12 y6e2 ff1f fsa fc2 sc0 ls0 ws0">It is possible to declar<span class="_ _1"></span>e a function so that it returns a r<span class="_ _1"></span>eference to a variable<span class="_ _1"></span>, rather than a </div><div class="t m0 x3 h12 y6e3 ff1f fsa fc2 sc0 ls0 ws0">copy of the variable<span class="_ _1"></span>. The PHP Manual notes th<span class="_ _1"></span>at you should not do this as a performance </div><div class="t m0 x3 h12 y6e4 ff1f fsa fc2 sc0 ls0 ws0">optimization, but ra<span class="_ _1"></span>ther only when you have a v<span class="_ _1"></span>alid technical reason to do so<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y6e5 ff1f fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o declare a function as return b<span class="_ _1"></span>y reference<span class="_ _1"></span>, you place an <span class="ff26">&amp;</span> operator in fr<span class="_ _1"></span>ont of  </div><div class="t m0 x3 h12 y6e6 ff1f fsa fc2 sc0 ls0 ws0">its name:</div><div class="t m0 x3 h3c y6e7 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y6e8 ff26 fsa fc2 sc0 ls0 ws0">function &amp;getValue() {...}</div><div class="t m0 x1a h3c y6e9 ff1f fsa fc2 sc0 ls0 ws0">Then, when calling the function, you also place the <span class="ff26">&amp;</span> opera<span class="_ _1"></span>tor in front of the call:</div><div class="t m0 x3 h3c y6ea ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y6eb ff26 fsa fc2 sc0 ls0 ws0">$myValue = &amp;getValue();</div><div class="t m0 x1a h3c y6ec ff1f fsa fc2 sc0 ls0 ws0">After this call, the <span class="ff26">$myValue</span> variable will contain a refer<span class="_ _1"></span>ence to the variable that the </div><div class="t m0 x3 h3c y6ed ff26 fsa fc2 sc0 ls0 ws0">getValue()<span class="ff1f"> function returns<span class="_ _1"></span>.</span></div><div class="t m0 x23 h10 y6ee ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> Notice the difference between returning by reference (which is allowed) and </span></span></span></div><div class="t m0 x3 h10 y6ef ff27 fs6 fc2 sc0 ls0 ws0">passing an argument by reference at runtime (which is not).</div><div class="t m0 x1a h12 y6f0 ff1f fsa fc2 sc0 ls0 ws0">The function itself must return a v<span class="_ _1"></span>ariable. If you try to return, for example<span class="_ _1"></span>, a numeric </div><div class="t m0 x3 h3c y6f1 ff1f fsa fc2 sc0 ls0 ws0">literal like <span class="ff26">1</span>, a runtime error will be genera<span class="_ _1"></span>ted.</div><div class="t m0 x1a h12 y6f2 ff1f fsa fc2 sc0 ls0 ws0">Two use cases for this ar<span class="_ _1"></span>e the F<span class="_ _1"></span>actory pattern and for obtaining a resource like a file </div><div class="t m0 x3 h12 y6f3 ff1f fsa fc2 sc0 ls0 ws0">handle or database connection.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf46" class="pf w2 h4" data-page-no="46"><div class="pc pc46 w2 h4"><img class="bi x8 y6f4 w3 h45" alt="" src="bg46.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls30 ws109">48</div><div class="t m0 x8 h19 y24e ff24 fsd fc2 sc0 ls0 ws0">V<span class="_ _1"></span>ariable Scope in Functions</div><div class="t m0 x8 h12 y24f ff1f fsa fc2 sc0 ls0 ws0">As in other languages, the scope of a PHP variable is the con<span class="_ _1"></span>text in which it was defined. </div><div class="t m0 x8 h12 y337 ff1f fsa fc2 sc0 ls0 ws0">PHP has three levels of scope—global, function, and class<span class="_ _1"></span>. Every time a function is called, </div><div class="t m0 x8 h12 y338 ff1f fsa fc2 sc0 ls0 ws0">a new function scope is created.</div><div class="t m0 x3 h12 y6f5 ff1f fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can include global scope variables into your function in one of two ways:</div><div class="t m0 x8 h3c y518 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y6f6 ff26 fsa fc2 sc0 ls0 ws0">$glob = &quot;Global variable&quot;;</div><div class="t m0 x8 h3c y6f7 ff26 fsa fc2 sc0 ls0 ws0">function myFunction() {</div><div class="t m0 x8 h3c y6f8 ff26 fsa fc2 sc0 ls0 ws0">    global $glob; // first method</div><div class="t m0 x8 h3c y6f9 ff26 fsa fc2 sc0 ls0 ws0">    $glob = $GLOBALS[&apos;glob&apos;]; // second method</div><div class="t m0 x8 h3c y6fa ff26 fsa fc2 sc0 ls0 ws0">    $glob = &quot;Changed&quot;;</div><div class="t m0 x8 h3c y6fb ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y6fc ff26 fsa fc2 sc0 ls0 ws0">myFunction();</div><div class="t m0 x8 h3c y6fd ff26 fsa fc2 sc0 ls0 ws0">echo $glob;  // Changed</div><div class="t m0 x3 h3c y6fe ff1f fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the two methods have an identical effect of allo<span class="_ _1"></span>wing you to use the <span class="ff26">$glob</span> </div><div class="t m0 x8 h3c y6ff ff1f fsa fc2 sc0 ls0 ws0">variable in <span class="ff26">myFunction()</span> and ha<span class="_ _1"></span>ve it refer to the <span class="ff26">$glob</span> variable declared in the global </div><div class="t m0 x8 h12 y700 ff1f fsa fc2 sc0 ls0 ws0">scope.</div><div class="t m0 x1e h10 y701 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Caution<span class="ff27"> <span class="_ _2c"> </span> Most coding standards strongly discourage global variables because they </span></span></span></div><div class="t m0 x8 h10 y702 ff27 fs6 fc2 sc0 ls0 ws0">introduce problems when writing tests,<span class="_ _1"></span> can introduce weird context problems,<span class="_ _1"></span> and make </div><div class="t m0 x8 h10 y703 ff27 fs6 fc2 sc0 ls0 ws0">debugging more difficult.</div><div class="t m0 x8 h19 y704 ff24 fsd fc2 sc0 ls0 ws0">Lambda and Closure</div><div class="t m0 x8 h12 y705 ff1f fsa fc2 sc0 ls0 ws0">A lambda in PHP is an anonymous function tha<span class="_ _1"></span>t can be stored as a variable.</div><div class="t m0 x8 h3c y706 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y707 ff26 fsa fc2 sc0 ls0 ws0">$lambda = function($a, $b) {</div><div class="t m0 x8 h3c y708 ff26 fsa fc2 sc0 ls0 ws0">    echo $a + $b;</div><div class="t m0 x8 h3c y709 ff26 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x8 h3c y70a ff26 fsa fc2 sc0 ls0 ws0">echo gettype($lambda); // true</div><div class="t m0 x8 h3c y70b ff26 fsa fc2 sc0 ls0 ws0">echo (int)is_callable($lambda); // 1</div><div class="t m0 x8 h3c y70c ff26 fsa fc2 sc0 ls0 ws0">echo get_class($lambda); // Closure</div><div class="t m0 x3 h12 y70d ff1f fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e can see that in PHP lambdas and closur<span class="_ _1"></span>es are implemented as objects </div><div class="t m0 x8 h3c y70e ff1f fsa fc2 sc0 ls0 ws0">instantiated fr<span class="_ _1"></span>om the <span class="ff26">Closure</span></div><div class="t m0 x1f h15 y70f ff1f fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x51 h12 y710 ff1f fsa fc2 sc0 ls11 wse8"> class.</div><div class="t m0 x3 h12 y711 ff1f fsa fc2 sc0 ls0 ws0">Lambda variables and closures c<span class="_ _1"></span>an both be used in functions that accept a callable.</div><div class="t m0 x8 h40 y712 ff2a fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h43 y713 ff26 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.closure.php</div><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:153.575000px;bottom:132.229000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.closure.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:71.655900px;width:182.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf47" class="pf w2 h4" data-page-no="47"><div class="pc pc47 w2 h4"><img class="bi x3 y714 w5 h46" alt="" src="bg47.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x11 hd y55 ff1f fs6 fc2 sc0 ls31 ws10a">49</div><div class="t m0 x23 h10 y198 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can use the <span class="ff26 fsa">is_callable()</span> function to check if a variable is a callable.</span></span></span></div><div class="t m0 x1a h12 y715 ff1f fsa fc2 sc0 ls29 ws0">A closure in PHP is an anonymo<span class="_ _1"></span>us function that encapsulates v<span class="_ _1"></span>ariables so they can </div><div class="t m0 x3 h12 y716 ff1f fsa fc2 sc0 ls29 ws0">be used once their original references ar<span class="_ _1"></span>e out of scope. Another way of p<span class="_ _1"></span>utting this is to say </div><div class="t m0 x3 h12 y717 ff1f fsa fc2 sc0 ls29 ws0">that the anonymous function “<span class="_ _2"></span>closes over” variables that ar<span class="_ _1"></span>e in the scope it was defined in.</div><div class="t m0 x1a h12 y718 ff1f fsa fc2 sc0 ls0 ws0">In practical syn<span class="_ _1"></span>tax in PHP<span class="_ _11"></span>, we define a closure like this:</div><div class="t m0 x3 h3c y719 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y71a ff26 fsa fc2 sc0 ls0 ws0">$string = &quot;Hello World!&quot;;</div><div class="t m0 x3 h3c y71b ff26 fsa fc2 sc0 ls0 ws0">$closure = function() use ($string) {</div><div class="t m0 x3 h3c y71c ff26 fsa fc2 sc0 ls0 ws0">  echo $string;</div><div class="t m0 x3 h3c y71d ff26 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x3 h3c y71e ff26 fsa fc2 sc0 ls0 ws0">$closure();</div><div class="t m0 x1a h3c y71f ff1f fsa fc2 sc0 ls0 ws0">That looks nearly identic<span class="_ _1"></span>al to a lambda, but notice the <span class="ff26">use ($string)</span> syntax th<span class="_ _1"></span>at </div><div class="t m0 x3 h12 y720 ff1f fsa fc2 sc0 ls0 ws0">occurs just before the code block begins<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y721 ff1f fsa fc2 sc0 ls0 ws0">The effect of this is to take the <span class="ff26">$string</span> variable that exists in the same scope of the </div><div class="t m0 x3 h12 y722 ff1f fsa fc2 sc0 ls0 ws0">closure and mak<span class="_ _1"></span>e it available within the closur<span class="_ _1"></span>e.</div><div class="t m0 x23 h10 y723 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can call lambdas and closures using the syntax you use for variable </span></span></span></div><div class="t m0 x3 h10 y724 ff27 fs6 fc2 sc0 ls0 ws0">functions.</div><div class="t m0 x1a h12 y725 ff1f fsa fc2 sc0 ls0 ws0">In this lambda example<span class="_ _1"></span>, the function only had access to the parameters it was </div><div class="t m0 x3 h3c y726 ff1f fsa fc2 sc0 ls0 ws0">passed, and nothing from the containing scope would be passed in. Callin<span class="_ _1"></span>g <span class="ff26">echo $string</span> </div><div class="t m0 x3 h12 y727 ff1f fsa fc2 sc0 ls0 ws0">would result in a warning beca<span class="_ _1"></span>use the variable doesn’t exist.</div><div class="t m0 x3 h26 y728 ff1f fse fc2 sc0 ls0 ws0">Early and Late B<span class="_ _1"></span>inding</div><div class="t m0 x3 h12 y729 ff1f fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two ways in which a variable can be bound: early and late<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y72a ff1f fsa fc2 sc0 ls0 ws0">In early binding, we know the v<span class="_ _1"></span>alue and type of the variable before we use it at </div><div class="t m0 x3 h12 y72b ff1f fsa fc2 sc0 ls0 ws0">runtime. This is usually done in some sta<span class="_ _1"></span>tic declarative manner<span class="_ _2"></span>. The value of the variable </div><div class="t m0 x3 h12 y72c ff1f fsa fc2 sc0 ls0 ws0">that is used inside the parameter will be the value tha<span class="_ _1"></span>t it was when the closure was </div><div class="t m0 x3 h12 y72d ff1f fsa fc2 sc0 ls0 ws0">defined.</div><div class="t m0 x1a h12 y72e ff1f fsa fc2 sc0 ls0 ws0">By contrast<span class="_ _1"></span>, when we use late binding we do not know what the variable type or </div><div class="t m0 x3 h12 y72f ff1f fsa fc2 sc0 ls0 ws0">value is until we call the closur<span class="_ _1"></span>e. PHP will coerce the variable to a specific type and value </div><div class="t m0 x3 h12 y730 ff1f fsa fc2 sc0 ls0 ws0">when it needs to operate on it.</div><div class="t m0 x1a h12 y731 ff1f fsa fc2 sc0 ls0 ws0">When it binds a variable to a closure<span class="_ _1"></span>, PHP will use early binding by default. If you </div><div class="t m0 x3 h12 y732 ff1f fsa fc2 sc0 ls0 ws0">want to use late binding, y<span class="_ _1"></span>ou should use a reference when importing.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf48" class="pf w2 h4" data-page-no="48"><div class="pc pc48 w2 h4"><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls26 ws8f">50</div><div class="t m0 x3 h12 y1b8 ff1f fsa fc2 sc0 ls0 ws0">This will all be a lot clearer when you walk thr<span class="_ _1"></span>ough a simple example:</div><div class="t m0 x8 h3c y1ba ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bb ff26 fsa fc2 sc0 ls0 ws0">$a = &quot;some string&quot;;</div><div class="t m0 x8 h3c y1bc ff26 fsa fc2 sc0 ls0 ws0">// early binding (default)</div><div class="t m0 x8 h3c y1bd ff26 fsa fc2 sc0 ls0 ws0">$b = function() use ($a) {</div><div class="t m0 x8 h3c y1be ff26 fsa fc2 sc0 ls0 ws0">    echo $a;</div><div class="t m0 x8 h3c y1bf ff26 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x8 h3c y1c0 ff26 fsa fc2 sc0 ls0 ws0">$a = &quot;Hello World&quot;;</div><div class="t m0 x8 h3c y1c1 ff26 fsa fc2 sc0 ls0 ws0">// some string</div><div class="t m0 x8 h3c y1c2 ff26 fsa fc2 sc0 ls0 ws0">$b();</div><div class="t m0 x3 h3c y1c4 ff1f fsa fc2 sc0 ls0 ws0">Here we ar<span class="_ _1"></span>e using the default (<span class="_ _1"></span>early) binding method to bind the value of <span class="ff26">$a</span> to the </div><div class="t m0 x8 h3c y1c5 ff1f fsa fc2 sc0 ls11 wse8">lambda <span class="ff26 ls0 ws0">$b<span class="ff1f">.</span></span></div><div class="t m0 x3 h3c y1c6 ff1f fsa fc2 sc0 ls0 ws0">The value of <span class="ff26">$a</span> is “<span class="_ _1"></span>some string” when we define the lambda. Therefor<span class="_ _1"></span>e, when we call </div><div class="t m0 x8 h3c y1c7 ff1f fsa fc2 sc0 ls0 ws0">the lambda, the value <span class="ff26">&quot;some string&quot;</span> is outp<span class="_ _1"></span>ut, even though we have ch<span class="_ _1"></span>anged the value </div><div class="t m0 x8 h3c y1c8 ff1f fsa fc2 sc0 ls0 ws0">of <span class="ff26">$a</span> after declaring the lambda.</div><div class="t m0 x3 h3c y733 ff1f fsa fc2 sc0 ls0 ws0">If we were to specify that <span class="ff26">$a</span> is to be used as a refer<span class="_ _1"></span>ence, then the output would be </div><div class="t m0 x8 h3c y734 ff26 fsa fc2 sc0 ls0 ws0">&quot;Hello World&quot;<span class="ff1f">, like this:</span></div><div class="t m0 x8 h3c y735 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y736 ff26 fsa fc2 sc0 ls0 ws0">$a = &quot;some string&quot;;</div><div class="t m0 x8 h3c y737 ff26 fsa fc2 sc0 ls0 ws0">// late binding (reference)</div><div class="t m0 x8 h3c y738 ff26 fsa fc2 sc0 ls0 ws0">$b = function() use (&amp;$a) {</div><div class="t m0 x8 h3c y739 ff26 fsa fc2 sc0 ls0 ws0">    echo $a;</div><div class="t m0 x8 h3c y73a ff26 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x8 h3c y73b ff26 fsa fc2 sc0 ls0 ws0">$a = &quot;Hello World&quot;;</div><div class="t m0 x8 h3c y73c ff26 fsa fc2 sc0 ls0 ws0">// Hello World</div><div class="t m0 x8 h3c y73d ff26 fsa fc2 sc0 ls0 ws0">$b();</div><div class="t m0 x8 h26 y73e ff1f fse fc2 sc0 ls0 ws0">Binding Closur<span class="_ _1"></span>es to Scopes</div><div class="t m0 x8 h12 y73f ff1f fsa fc2 sc0 ls0 ws0">When you crea<span class="_ _1"></span>te a closure, it “<span class="_ _2"></span>closes over” the current scope and so can be thought of </div><div class="t m0 x8 h3c y740 ff1f fsa fc2 sc0 ls0 ws0">as being bound to a particular scope. The <span class="ff26">Closure</span> class has two methods—<span class="ff26">bind</span> and </div><div class="t m0 x8 h3c y741 ff26 fsa fc2 sc0 ls0 ws0">bindTo<span class="ff1f">—and they allow you to change the scope to which the variable is bound:</span></div><div class="t m0 x8 h3c y742 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y743 ff26 fsa fc2 sc0 ls0 ws0">class Animal {</div><div class="t m0 x8 h3c y744 ff26 fsa fc2 sc0 ls0 ws0">    public function getClosure() {</div><div class="t m0 x8 h3c y745 ff26 fsa fc2 sc0 ls0 ws0">        $boundVariable = &apos;Animal&apos;;</div><div class="t m0 x8 h3c y746 ff26 fsa fc2 sc0 ls0 ws0">        return function() use ($boundVariable) {</div><div class="t m0 x8 h3c y747 ff26 fsa fc2 sc0 ls0 ws0">            return $this-&gt;nature . &apos; &apos; . $boundVariable;</div><div class="t m0 x8 h3c y748 ff26 fsa fc2 sc0 ls0 ws0">        };</div><div class="t m0 x8 h3c y749 ff26 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y74a ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y74b ff26 fsa fc2 sc0 ls0 ws0">class Cat extends Animal {</div><div class="t m0 x8 h3c y74c ff26 fsa fc2 sc0 ls0 ws0">    protected $nature = &apos;Awesome&apos;;</div><div class="t m0 x8 h3c y74d ff26 fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf49" class="pf w2 h4" data-page-no="49"><div class="pc pc49 w2 h4"><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x14 hd y55 ff1f fs6 fc2 sc0 ls32 ws10b">51</div><div class="t m0 x3 h3c y2a8 ff26 fsa fc2 sc0 ls0 ws0">class Dog extends Animal {</div><div class="t m0 x3 h3c y3e3 ff26 fsa fc2 sc0 ls0 ws0">    protected $nature = &apos;Friendly&apos;;</div><div class="t m0 x3 h3c y424 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y2ab ff26 fsa fc2 sc0 ls0 ws0">$cat = new Cat;</div><div class="t m0 x3 h3c y2ac ff26 fsa fc2 sc0 ls0 ws0">$closure = $cat-&gt;getClosure();</div><div class="t m0 x3 h3c y3e4 ff26 fsa fc2 sc0 ls0 ws0">echo $closure(); // Awesome Animal</div><div class="t m0 x3 h3c y3e5 ff26 fsa fc2 sc0 ls0 ws0">$closure = $closure-&gt;bindTo(new Dog);</div><div class="t m0 x3 h3c y425 ff26 fsa fc2 sc0 ls0 ws0">echo $closure(); // Friendly Animal</div><div class="t m0 x1a h12 y426 ff1f fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two important things to notice in this code.</div><div class="t m0 x1a h12 y3e7 ff1f fsa fc2 sc0 ls0 ws0">First, bindin<span class="_ _1"></span>g the closure to a differen<span class="_ _1"></span>t object returns a duplicate of the original, so </div><div class="t m0 x3 h3c y3e8 ff1f fsa fc2 sc0 ls0 ws0">you ha<span class="_ _1"></span>ve to assign the result of callin<span class="_ _1"></span>g <span class="ff26">bindTo()</span> to a variable.</div><div class="t m0 x1a h12 y3e9 ff1f fsa fc2 sc0 ls0 ws0">Second, the new closure will ha<span class="_ _1"></span>ve the same bound variables and body, but a </div><div class="t m0 x3 h3c y3ea ff1f fsa fc2 sc0 ls0 ws0">different bound object and scope<span class="_ _1"></span>. In the previous example<span class="_ _1"></span>, the <span class="ff26">$boundVariable</span> is </div><div class="t m0 x3 h12 y3eb ff1f fsa fc2 sc0 ls0 ws0">duplicated into the new closur<span class="_ _1"></span>e when we bind to the new object.</div><div class="t m0 x3 h26 y74e ff1f fse fc2 sc0 ls0 ws0">Self-Executing Closures</div><div class="t m0 x3 h12 y74f ff1f fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can create self-executing anonymo<span class="_ _1"></span>us functions in PHP 7 using syntax very similar to </div><div class="t m0 x3 h12 y750 ff1f fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>avaScript<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y751 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y752 ff26 fsa fc2 sc0 ls0 ws0">(function() {</div><div class="t m0 x3 h3c y753 ff26 fsa fc2 sc0 ls0 ws0">    echo &apos;Self-executing anonymous function&apos;;</div><div class="t m0 x3 h3c y754 ff26 fsa fc2 sc0 ls0 ws0">    echo $definedInClosure = &apos;Variable set&apos;;</div><div class="t m0 x3 h3c y755 ff26 fsa fc2 sc0 ls0 ws0">})();</div><div class="t m0 x3 h3c y756 ff26 fsa fc2 sc0 ls0 ws0">var_dump(isset($definedInClosure));  // bool(false)</div><div class="t m0 x1a h12 y757 ff1f fsa fc2 sc0 ls0 ws0">Note in this example th<span class="_ _1"></span>at the variable we define inside the closure is not defined </div><div class="t m0 x3 h12 y758 ff1f fsa fc2 sc0 ls0 ws0">outside the scope of the closure<span class="_ _1"></span>. Y<span class="_ _1"></span>ou can use this sort of structure to a<span class="_ _1"></span>void polluting your </div><div class="t m0 x3 h12 y759 ff1f fsa fc2 sc0 ls0 ws0">global scope.</div><div class="t m0 x3 h19 y75a ff24 fsd fc2 sc0 ls0 ws0">Callables</div><div class="t m0 x3 h12 y75b ff1f fsa fc2 sc0 ls0 ws0">Callables were in<span class="_ _1"></span>troduced as a type hint for functions in PHP 5.4</div><div class="t m0 x1a h3c y75c ff1f fsa fc2 sc0 ls0 ws0">They are callbacks th<span class="_ _1"></span>at some functions, for example <span class="ff26">usort()</span>, accept.</div><div class="t m0 x1a h3c y75d ff1f fsa fc2 sc0 ls0 ws0">A callable for a function such as <span class="ff26">usort()</span> can be one of the following:</div><div class="t m0 x7 h12 y75e ff2b fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff1f">An inline anonymous function</span></div><div class="t m0 x7 h12 y75f ff2b fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff1f">A lambda or closure v<span class="_ _1"></span>ariable</span></div><div class="t m0 x7 h12 y760 ff2b fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff1f">A string denoting a PHP function (but not language constructs)</span></div><div class="t m0 x7 h12 y761 ff2b fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff1f">A string denoting a user<span class="_ _1"></span>-defined function</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4a" class="pf w2 h4" data-page-no="4a"><div class="pc pc4a w2 h4"><img class="bi x8 y653 w3 h47" alt="" src="bg4a.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls2a ws10c">52</div><div class="t m0 x2b h12 y1b8 ff2b fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff1f">An array containing an instance of an object in the first elemen<span class="_ _1"></span>t, </span></div><div class="t m0 x18 h12 y1b9 ff1f fsa fc2 sc0 ls0 ws0">and the string name of the function to call in the second element</div><div class="t m0 x2b h12 y762 ff2b fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff1f">A string containing the name of a static method in a clas<span class="_ _1"></span>s  </span></div><div class="t m0 x18 h12 y763 ff1f fsa fc2 sc0 ls0 ws0">(PHP 5.2.3+)</div><div class="t m0 x1e h10 y764 ff27 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff28">■<span class="_ _c"> </span><span class="ff29 fc2">Note<span class="ff27"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can’t use a language construct as a callable.</span></span></span></div><div class="t m0 x3 h12 y765 ff1f fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e examples of all of these in the PHP manual page on callables<span class="_ _1"></span>.</div><div class="t m0 x52 h15 y766 ff1f fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x4a hf y767 ff22 fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">2</span> QUIZ</div><div class="t m0 x4b h10 y768 ff27 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of the following code?</div><div class="t m0 x4b h3c y769 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y76a ff26 fsa fc2 sc0 ls0 ws0">declare(strict_types=1);</div><div class="t m0 x4b h3c y76b ff26 fsa fc2 sc0 ls0 ws0">function multiply(float $a, float $b): int {</div><div class="t m0 x4b h3c y76c ff26 fsa fc2 sc0 ls0 ws0">    return $a * $b;</div><div class="t m0 x4b h3c y76d ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h3c y76e ff26 fsa fc2 sc0 ls0 ws0">$six = multiply(2, 3);</div><div class="t m0 x4b h3c y76f ff26 fsa fc2 sc0 ls0 ws0">echo gettype($six);</div><div class="t m0 x4b h3c y770 ff26 fsa fc2 sc0 ls0 ws0">Int</div><div class="t m0 x4b h3c y771 ff26 fsa fc2 sc0 ls0 ws0">Float</div><div class="t m0 x4b h3c y772 ff26 fsa fc2 sc0 ls0 ws0">Fatal error: Uncaught TypeError</div><div class="t m0 x4b h10 y773 ff27 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> Some PHP functions,<span class="_ _1"></span> like <span class="ff26 fsa">echo</span>,<span class="_ _1"></span> do not need you to use brackets when calling </div><div class="t m0 x4b h10 y774 ff27 fs6 fc2 sc0 ls0 ws0">them.<span class="_ _1"></span> Is this true?</div><div class="t m0 x4b h10 y775 ff27 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>es,<span class="_ _1"></span> because you can call it like this:<span class="ff1f fsa"> <span class="ff26">echo &quot;hello&quot;;</span></span></div><div class="t m0 x4b h10 y776 ff27 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>es,<span class="_ _1"></span> because<span class="ff1f fsa"> <span class="ff26">echo</span> </span>is a special case.</div><div class="t m0 x4b h10 y777 ff27 fs6 fc2 sc0 ls0 ws0">No,<span class="_ _1"></span> because<span class="ff1f fsa"> <span class="ff26">echo</span> </span>is a language construct and not a function.<span class="_ _1"></span> <span class="_ _1"></span>All PHP functions require </div><div class="t m0 x4b h10 y778 ff27 fs6 fc2 sc0 ls0 ws0">you to use brackets when calling them.</div><div class="t m0 x4b h10 y779 ff27 fs6 fc2 sc0 ls0 ws0">No,<span class="_ _1"></span> because all PHP functions require you to use brackets when calling them,<span class="_ _1"></span> except<span class="ff1f fsa"> </span></div><div class="t m0 x4b h3c y77a ff26 fsa fc2 sc0 ls0 ws0">echo<span class="ff1f">, </span></div><div class="t m0 x1a h10 y77b ff27 fs6 fc2 sc0 ls0 ws0">which only requires brackets when you use more than one argument.</div><div class="t m0 x8 h40 y77c ff2a fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x26 h43 y77d ff26 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.types.callable.php</div><a class="l" href="#pf4a" data-dest-detail='[74,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:328.550000px;bottom:480.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_2"><div class="d m1" style="border-style:none;position:absolute;left:222.216000px;bottom:447.903000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.types.callable.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.189400px;width:225.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4b" class="pf w2 h4" data-page-no="4b"><div class="pc pc4b w2 h4"><img class="bi x5 y77e wb h48" alt="" src="bg4b.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x11 hd y55 ff1f fs6 fc2 sc0 ls26 ws8f">53</div><div class="t m0 x5 h10 y5ae ff27 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou cannot use </div><div class="t m0 x53 h10 y609 ff26 fsa fc2 sc0 ls0 ws0">empty()<span class="ff27 fs6"> as a callback for the </span>usort()<span class="ff27 fs6"> function.</span></div><div class="t m0 x5 h3c y77f ff26 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x5 h3c y780 ff26 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x5 h10 y781 ff27 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of the following code?</div><div class="t m0 x5 h3c y782 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y783 ff26 fsa fc2 sc0 ls0 ws0">(function Hello() {</div><div class="t m0 x5 h3c y784 ff26 fsa fc2 sc0 ls0 ws0">    echo &quot;Hello World!&quot;;</div><div class="t m0 x5 h3c y785 ff26 fsa fc2 sc0 ls0 ws0">})();</div><div class="t m0 x5 h3c y786 ff26 fsa fc2 sc0 ls0 ws0">Nothing</div><div class="t m0 x5 h3c y787 ff26 fsa fc2 sc0 ls0 ws0">Hello World</div><div class="t m0 x5 h10 y788 ff27 fs6 fc2 sc0 ls0 ws0">An error message and<span class="ff1f fsa"> <span class="ff26">&quot;Hello World&quot;</span></span></div><div class="t m0 x5 h10 y789 ff27 fs6 fc2 sc0 ls0 ws0">Just an error message</div><div class="t m0 x5 h10 y78a ff27 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of the following code?</div><div class="t m0 x5 h3c y78b ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y78c ff26 fsa fc2 sc0 ls0 ws0">declare(strict_types=1);</div><div class="t m0 x5 h3c y78d ff26 fsa fc2 sc0 ls0 ws0">function multiply(float $a, float $b): float {</div><div class="t m0 x5 h3c y78e ff26 fsa fc2 sc0 ls0 ws0">    return (double)$a * (double)$b;</div><div class="t m0 x5 h3c y78f ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h3c y790 ff26 fsa fc2 sc0 ls0 ws0">$six = multiply(2, 3);</div><div class="t m0 x5 h3c y791 ff26 fsa fc2 sc0 ls0 ws0">echo gettype($six);</div><div class="t m0 x5 h3c y792 ff26 fsa fc2 sc0 ls0 ws0">int</div><div class="t m0 x5 h3c y793 ff26 fsa fc2 sc0 ls0 ws0">double</div><div class="t m0 x5 h3c y794 ff26 fsa fc2 sc0 ls0 ws0">float</div><div class="t m0 x5 h10 y795 ff27 fs6 fc2 sc0 ls0 ws0">This generates a <span class="ff26 fsa">TypeError</span></div><div class="t m0 x5 h10 y796 ff27 fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of the following code?</div><div class="t m0 x5 h3c y797 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y798 ff26 fsa fc2 sc0 ls0 ws0">function complicated($compulsory, ...$extras) {</div><div class="t m0 x5 h3c y799 ff26 fsa fc2 sc0 ls0 ws0">    echo &quot;I have &quot; . func_get_args() . &quot; arguments&quot;;</div><div class="t m0 x5 h3c y79a ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h3c y79b ff26 fsa fc2 sc0 ls0 ws0">complicated(1,2,3,4);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4c" class="pf w2 h4" data-page-no="4c"><div class="pc pc4c w2 h4"><img class="bi x4b y79c wc h49" alt="" src="bg4c.png"/><div class="t m0 x8 h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x8 hd y55 ff1f fs6 fc2 sc0 ls5 ws33">54</div><div class="t m0 x4b h3c y5ec ff26 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x4b h3c y5ed ff26 fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x4b h3c y5ee ff26 fsa fc2 sc0 ls0 ws0">4</div><div class="t m0 x4b h10 y79d ff27 fs6 fc2 sc0 ls0 ws0">This produces a notice error</div><div class="t m0 x4b h10 y79e ff27 fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> How would you refer to the parameter with the value <span class="ff26 fsa">cat</span> in the following </div><div class="t m0 x4b h10 y79f ff27 fs6 fc2 sc0 ls0 ws0">function?</div><div class="t m0 x4b h3c y7a0 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y7a1 ff26 fsa fc2 sc0 ls0 ws0">function complicated($compulsory, ...$extras, $animal) {</div><div class="t m0 x4b h3c y7a2 ff26 fsa fc2 sc0 ls0 ws0">    // I want to reference the variable with the value &quot;cat&quot;</div><div class="t m0 x4b h3c y7a3 ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h3c y7a4 ff26 fsa fc2 sc0 ls0 ws0">complicated(1,2,3,&quot;cat&quot;);</div><div class="t m0 x4b h3c y7a5 ff26 fsa fc2 sc0 ls0 ws0">$animal</div><div class="t m0 x4b h3c y7a6 ff26 fsa fc2 sc0 ls0 ws0">$extras[1]</div><div class="t m0 x4b h3c y7a7 ff26 fsa fc2 sc0 ls0 ws0">$extras[2]</div><div class="t m0 x4b h10 y7a8 ff27 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x4b h10 y7a9 ff27 fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h3c y7aa ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y7ab ff26 fsa fc2 sc0 ls0 ws0">if (!is_callable(function(){echo &quot;Hello&quot;;})) {</div><div class="t m0 x4b h3c y7ac ff26 fsa fc2 sc0 ls0 ws0">    function sayHello() {</div><div class="t m0 x4b h3c y7ad ff26 fsa fc2 sc0 ls0 ws0">        echo &quot;World!&quot;;</div><div class="t m0 x4b h3c y7ae ff26 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x4b h3c y7af ff26 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h3c y7b0 ff26 fsa fc2 sc0 ls0 ws0">sayHello();</div><div class="t m0 x4b h10 y7b1 ff27 fs6 fc2 sc0 ls0 ws0">Hello</div><div class="t m0 x4b h10 y7b2 ff27 fs6 fc2 sc0 ls0 ws0">World<span class="ff1f fsa">!</span></div><div class="t m0 x4b h10 y7b3 ff27 fs6 fc2 sc0 ls0 ws0">Hello<span class="ff1f fsa"> </span>World!</div><div class="t m0 x4b h10 y7b4 ff27 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x4b h10 y7b5 ff27 fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h3c y7b6 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y7b7 ff26 fsa fc2 sc0 ls0 ws0">namespace A;</div><div class="t m0 x4b h3c y7b8 ff26 fsa fc2 sc0 ls0 ws0">function Hello() { echo __NAMESPACE__; }</div><div class="t m0 x4b h3c y7b9 ff26 fsa fc2 sc0 ls0 ws0">namespace B;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4d" class="pf w2 h4" data-page-no="4d"><div class="pc pc4d w2 h4"><img class="bi x3 y7ba w5 h4a" alt="" src="bg4d.png"/><div class="t m0 x4d h11 y54 ff27 fs9 fc2 sc0 ls0 ws0">CHAPTER 2 <span class="ff28 fc5">■</span> FUNCTIONS</div><div class="t m0 x11 hd y55 ff1f fs6 fc2 sc0 ls21 wsfc">55</div><div class="t m0 x5 h3c y2a8 ff26 fsa fc2 sc0 ls0 ws0">function Hello() { echo __NAMESPACE__; }</div><div class="t m0 x5 h3c y3e3 ff26 fsa fc2 sc0 ls0 ws0">namespace C;</div><div class="t m0 x5 h3c y424 ff26 fsa fc2 sc0 ls0 ws0">\B\Hello();</div><div class="t m0 x5 h3c y7bb ff26 fsa fc2 sc0 ls0 ws0">A</div><div class="t m0 x5 h3c y7bc ff26 fsa fc2 sc0 ls0 ws0">B</div><div class="t m0 x5 h3c y7bd ff26 fsa fc2 sc0 ls0 ws0">C</div><div class="t m0 x5 h10 y7be ff27 fs6 fc2 sc0 ls0 ws0">This produces an error; functions cannot be namespaced</div><div class="t m0 x5 h10 y7bf ff27 fs6 fc2 sc0 ls0 ws0">Q10:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h3c y7c0 ff26 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y7c1 ff26 fsa fc2 sc0 ls0 ws0">namespace A;</div><div class="t m0 x5 h3c y7c2 ff26 fsa fc2 sc0 ls0 ws0">$closure = function() { echo __NAMESPACE__; };</div><div class="t m0 x5 h3c y7c3 ff26 fsa fc2 sc0 ls0 ws0">namespace B;</div><div class="t m0 x5 h3c y7c4 ff26 fsa fc2 sc0 ls0 ws0">$closure = function() { echo __NAMESPACE__; };</div><div class="t m0 x5 h3c y7c5 ff26 fsa fc2 sc0 ls0 ws0">namespace C;</div><div class="t m0 x5 h3c y7c6 ff26 fsa fc2 sc0 ls0 ws0">$closure();</div><div class="t m0 x5 h3c y7c7 ff26 fsa fc2 sc0 ls0 ws0">A</div><div class="t m0 x5 h3c y7c8 ff26 fsa fc2 sc0 ls0 ws0">B</div><div class="t m0 x5 h3c y7c9 ff26 fsa fc2 sc0 ls0 ws0">C</div><div class="t m0 x5 h10 y7ca ff27 fs6 fc2 sc0 ls0 ws0">This produces an error; the closure is not defined in namespace C</div><div class="t m0 x5 h10 y7cb ff27 fs6 fc2 sc0 ls0 ws0">This produces an error; functions and closures cannot be namespaced</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4e" class="pf w2 h4" data-page-no="4e"><div class="pc pc4e w2 h4"><img class="bi x0 y1c9 w4 h1a" alt="" src="bg4e.png"/><div class="t m0 x14 hd y3e ff2c fs6 fc2 sc0 ls14 wsef">57</div><div class="t m0 x3 h1b y1ca ff2d fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff2d fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff2e">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff2d fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_3</div><div class="t m0 x3 h1c y1cd ff2f fse fc2 sc0 ls0 ws0">CHAPTER 3</div><div class="t m0 x3 h1d y1ce ff30 fs7 fc2 sc0 ls0 ws0">Strings and Patterns</div><div class="t m0 x3 h12 y612 ff2c fsa fc2 sc0 ls0 ws0">PHP strings are a series of bytes and do not contain an<span class="_ _1"></span>y information about how those </div><div class="t m0 x3 h12 y613 ff2c fsa fc2 sc0 ls0 ws0">bytes should be transla<span class="_ _1"></span>ted to characters<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y614 ff2c fsa fc2 sc0 ls0 ws0">PHP stores the length of the string along with its conten<span class="_ _1"></span>ts and does not rely on a </div><div class="t m0 x3 h12 y615 ff2c fsa fc2 sc0 ls0 ws0">terminating char<span class="_ _1"></span>acter to denote the end of the string. This helps to make strings binary </div><div class="t m0 x3 h12 y616 ff2c fsa fc2 sc0 ls0 ws0">safe, as null ch<span class="_ _1"></span>aracters in the string will not cause confusion.</div><div class="t m0 x1a h12 y617 ff2c fsa fc2 sc0 ls0 ws0">On 32-bit systems a string can be as large as 2 GB. There is no particular limit on how </div><div class="t m0 x3 h12 y618 ff2c fsa fc2 sc0 ls0 ws0">long a string may be on a 64-bit PHP system<span class="_ _1"></span>.</div><div class="t m0 x3 h19 y619 ff31 fsd fc2 sc0 ls0 ws0">Declaring Strings</div><div class="t m0 x3 h12 y61a ff2c fsa fc2 sc0 ls0 ws0">In PHP<span class="_ _11"></span>, strings may be declar<span class="_ _1"></span>ed either as simple type or complex type. The differ<span class="_ _1"></span>ence is </div><div class="t m0 x3 h12 y61b ff2c fsa fc2 sc0 ls0 ws0">that complex strings will be evaluated with respect to con<span class="_ _1"></span>trol characters and v<span class="_ _1"></span>ariables.</div><div class="t m0 x1a h1e y7cc ff2c fsa fc2 sc0 ls0 ws0">Simple strings are declar<span class="_ _1"></span>ed in <span class="ff32">&apos;single quote marks&apos;</span> while complex strings are </div><div class="t m0 x3 h1e y7cd ff2c fsa fc2 sc0 ls0 ws0">declared in <span class="ff32">&quot;double quote marks&quot;</span>.</div><div class="t m0 x1a h1e y7ce ff2c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, the newline character is output after <span class="ff32">Hello Bob</span>, but in the simple </div><div class="t m0 x3 h12 y7cf ff2c fsa fc2 sc0 ls0 ws0">string, the literal char<span class="_ _1"></span>acters are output.</div><div class="t m0 x3 h1e y7d0 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y7d1 ff32 fsa fc2 sc0 ls0 ws0">$name = &apos;Bob&apos;;</div><div class="t m0 x3 h1e y7d2 ff32 fsa fc2 sc0 ls0 ws0">$a = &apos;Hello $name\n&apos;;</div><div class="t m0 x3 h1e y7d3 ff32 fsa fc2 sc0 ls0 ws0">$b = &quot;Hello $name\n&quot;;</div><div class="t m0 x3 h1e y7d4 ff32 fsa fc2 sc0 ls0 ws0">echo $a;       // Hello $name\n</div><div class="t m0 x3 h1e y7d5 ff32 fsa fc2 sc0 ls0 ws0">echo $b;       // Hello Bob</div><div class="t m0 x1a h1e y7d6 ff2c fsa fc2 sc0 ls0 ws0">Notice also that the v<span class="_ _1"></span>ariable <span class="ff32">$name</span> is evaluated as the string <span class="ff32">&quot;Bob&quot;</span> and is inserted </div><div class="t m0 x3 h1e y7d7 ff2c fsa fc2 sc0 ls0 ws0">into the complex variable <span class="ff32">$b</span> when it is output<span class="_ _1"></span>. W<span class="_ _1"></span>e’ll look at this in more detail in the </div><div class="t m0 x3 h12 y7d8 ff2c fsa fc2 sc0 ls0 ws0">following section.</div><div class="t m0 x3 h26 y7d9 ff2c fse fc2 sc0 ls0 ws0">Embedding V<span class="_ _11"></span>ariables</div><div class="t m0 x3 h12 y7da ff2c fsa fc2 sc0 ls0 ws0">One of the chief advantages of complex strings is the fact that PHP will parse them and </div><div class="t m0 x3 h12 y7db ff2c fsa fc2 sc0 ls0 ws0">automaticall<span class="_ _1"></span>y evaluate variable names contained in them.</div><div class="t m0 x1a h12 y7dc ff2c fsa fc2 sc0 ls0 ws0">When using simple strings that ar<span class="_ _1"></span>e not evaluated, you need to terminate the string </div><div class="t m0 x3 h12 y7dd ff2c fsa fc2 sc0 ls0 ws0">and concatenat<span class="_ _1"></span>e the variable to it.</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_3"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4f" class="pf w2 h4" data-page-no="4f"><div class="pc pc4f w2 h4"><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls2c ws105">58</div><div class="t m0 x3 h1e y1b8 ff2c fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iables n<span class="_ _1"></span>ames are marked b<span class="_ _1"></span>y a <span class="ff32">$</span> in PHP<span class="_ _11"></span>. When the parser encounters one in a </div><div class="t m0 x8 h12 y1b9 ff2c fsa fc2 sc0 ls0 ws0">string, it will try to for<span class="_ _0"></span>m a variable n<span class="_ _1"></span>ame by adding as many alphan<span class="_ _1"></span>umeric characters as it </div><div class="t m0 x8 h12 y1ba ff2c fsa fc2 sc0 ls0 ws0">can to make a valid v<span class="_ _1"></span>ariable name.</div><div class="t m0 x3 h12 y1bb ff2c fsa fc2 sc0 ls0 ws0">The following example illustra<span class="_ _1"></span>tes the difference between concatenatin<span class="_ _1"></span>g variables to </div><div class="t m0 x8 h12 y1bc ff2c fsa fc2 sc0 ls0 ws0">strings and embedding them in complex strings.</div><div class="t m0 x8 h1e y7de ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y7df ff32 fsa fc2 sc0 ls0 ws0">$catfood = &quot;Cheeseburgers&quot;;</div><div class="t m0 x8 h1e y7e0 ff32 fsa fc2 sc0 ls0 ws0">echo &apos;I can haz $catfood&apos;;         // I can haz $catfood</div><div class="t m0 x8 h1e y7e1 ff32 fsa fc2 sc0 ls0 ws0">echo &apos;I can haz &apos; . $catfood;      // I can haz Cheeseburgers?</div><div class="t m0 x8 h1e y7e2 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;I can haz $catfood?&quot;;        // I can haz Cheeseburgers?</div><div class="t m0 x3 h1e y7e3 ff2c fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the first string is marked with single quotes and so <span class="ff32">$catfood</span> is not </div><div class="t m0 x8 h12 y7e4 ff2c fsa fc2 sc0 ls0 ws0">evaluated to a variable<span class="_ _1"></span>. It is rather o<span class="_ _1"></span>utput as literal characters<span class="_ _1"></span>. T<span class="_ _2"></span>o include variables in </div><div class="t m0 x8 h12 y7e5 ff2c fsa fc2 sc0 ls0 ws0">simple strings you need to concatena<span class="_ _1"></span>te them, as the second example shows.</div><div class="t m0 x3 h1e y7e6 ff2c fsa fc2 sc0 ls0 ws0">The third <span class="ff32">echo</span> sta<span class="_ _1"></span>tement shows an example of the variable name being evalua<span class="_ _1"></span>ted in </div><div class="t m0 x8 h1e y7e7 ff2c fsa fc2 sc0 ls0 ws0">a complex string. The parser encounters the <span class="ff32">$</span> sym<span class="_ _1"></span>bol and then grabs all the characters </div><div class="t m0 x8 h12 y7e8 ff2c fsa fc2 sc0 ls0 ws0">following it that ar<span class="_ _1"></span>e legal for a variable name. The ques<span class="_ _1"></span>tion mark symbol is not permitted </div><div class="t m0 x8 h1e y7e9 ff2c fsa fc2 sc0 ls0 ws0">in variable names so PHP inserts the literal value of the variable <span class="ff32">$catfood</span> into the s<span class="_ _1"></span>tring.</div><div class="t m0 x3 h12 y7ea ff2c fsa fc2 sc0 ls0 ws0">It is possible to include arra<span class="_ _1"></span>y and object syntax with double quotes too:</div><div class="t m0 x8 h1e y7eb ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y7ec ff32 fsa fc2 sc0 ls0 ws0">$dogfood = [&apos;Pellets&apos;];</div><div class="t m0 x8 h1e y7ed ff32 fsa fc2 sc0 ls0 ws0">$catfood = new stdClass();</div><div class="t m0 x8 h1e y7ee ff32 fsa fc2 sc0 ls0 ws0">$catfood-&gt;favorite = &quot;Cheeseburger&quot;;</div><div class="t m0 x8 h1e y7ef ff32 fsa fc2 sc0 ls0 ws0">echo &quot;$dogfood[0]&quot;;             // Pellets</div><div class="t m0 x8 h1e y7f0 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;$catfood-&gt;favorite&quot;;      // Cheeseburger</div><div class="t m0 x3 h12 y7f1 ff2c fsa fc2 sc0 ls0 ws0">PHP allows the use of curly braces for you to explicitl<span class="_ _1"></span>y tell the parser that part of a </div><div class="t m0 x8 h12 y7f2 ff2c fsa fc2 sc0 ls0 ws0">string must be evaluated.</div><div class="t m0 x3 h12 y7f3 ff2c fsa fc2 sc0 ls0 ws0">This is necessary, for example, when outputting an element fr<span class="_ _1"></span>om an array wher<span class="_ _1"></span>e it </div><div class="t m0 x8 h12 y7f4 ff2c fsa fc2 sc0 ls0 ws0">might not be immediately clear tha<span class="_ _1"></span>t the square brackets ar<span class="_ _1"></span>e intended as punctuation in </div><div class="t m0 x8 h12 y7f5 ff2c fsa fc2 sc0 ls0 ws0">the string or as syntax to refer<span class="_ _1"></span>ence an element in the array.</div><div class="t m0 x3 h12 y7f6 ff2c fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at some examples of its usage:</div><div class="t m0 x8 h1e y7f7 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y7f8 ff32 fsa fc2 sc0 ls0 ws0">$burger = &quot;Cheeseburger&quot;;</div><div class="t m0 x8 h1e y7f9 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;I can haz {$burger}&quot;;         // I can haz Cheeseburger</div><div class="t m0 x8 h1e y7fa ff32 fsa fc2 sc0 ls0 ws0">echo &quot;I can haz ${burger}&quot;;         // I can haz Cheeseburger</div><div class="t m0 x8 h1e y7fb ff32 fsa fc2 sc0 ls0 ws0">echo &quot;I can haz $burgers&quot;;          // no variable $burgers</div><div class="t m0 x8 h1e y7fc ff32 fsa fc2 sc0 ls0 ws0">echo &quot;I can haz {$burger}s&quot;;        // I can haz Cheeseburgers</div><div class="t m0 x8 h1e y7fd ff32 fsa fc2 sc0 ls0 ws0">echo &quot;I can haz { $burger }&quot;;       // I can haz { Cheeseburger }</div><div class="t m0 x3 h12 y7fe ff2c fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t you cannot use spaces between the braces and the variable that yo<span class="_ _1"></span>u want </div><div class="t m0 x8 h12 y7ff ff2c fsa fc2 sc0 ls0 ws0">to evaluate<span class="_ _1"></span>. Because the braces explicitly denote the end of the variable in the string, it is </div><div class="t m0 x8 h12 y800 ff2c fsa fc2 sc0 ls0 ws0">possible to include characters immedia<span class="_ _1"></span>tely following them. In an earlier example<span class="_ _1"></span>, we saw </div><div class="t m0 x8 h1e y801 ff2c fsa fc2 sc0 ls33 ws10d">that <span class="ff32 ls0 ws0">&quot;{$burger}s&quot;<span class="ff2c"> is rendered as Cheeseburgers<span class="_ _1"></span>.</span></span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf50" class="pf w2 h4" data-page-no="50"><div class="pc pc50 w2 h4"><img class="bi x3 y175 w5 h4b" alt="" src="bg50.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls2e ws107">59</div><div class="t m0 x1a h12 y1b8 ff2c fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at an example wher<span class="_ _1"></span>e we mix array and object property syntax to </div><div class="t m0 x3 h12 y1b9 ff2c fsa fc2 sc0 ls0 ws0">demonstrate ho<span class="_ _1"></span>w curly braces can help:</div><div class="t m0 x3 h1e y2d3 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2d4 ff32 fsa fc2 sc0 ls0 ws0">$catfood = new stdClass();</div><div class="t m0 x3 h1e y1bd ff32 fsa fc2 sc0 ls0 ws0">$catfood-&gt;name = &quot;Cheeseburgers&quot;;</div><div class="t m0 x3 h1e y1be ff32 fsa fc2 sc0 ls0 ws0">$cat = new stdClass();</div><div class="t m0 x3 h1e y2d5 ff32 fsa fc2 sc0 ls0 ws0">$cat-&gt;canhaz = [$catfood];</div><div class="t m0 x3 h1e y2d6 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;$cat-&gt;canhaz[0]-&gt;name&quot;;       // array to string conversion</div><div class="t m0 x3 h1e y2d7 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;{$cat-&gt;canhaz[0]-&gt;name}&quot;;     // Cheeseburgers</div><div class="t m0 x3 h26 y802 ff2c fse fc2 sc0 ls0 ws0">Contr<span class="_ _1"></span>ol Character<span class="_ _1"></span>s</div><div class="t m0 x3 h12 y803 ff2c fsa fc2 sc0 ls0 ws0">When PHP encounters a complex string, one tha<span class="_ _1"></span>t it declared in double quotes, it will </div><div class="t m0 x3 h12 y804 ff2c fsa fc2 sc0 ls0 ws0">evaluate it for variables and contr<span class="_ _1"></span>ol characters<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y805 ff2c fsa fc2 sc0 ls0 ws0">The control ch<span class="_ _1"></span>aracters are m<span class="_ _1"></span>arked by a backslash followed b<span class="_ _1"></span>y the code. Using a </div><div class="t m0 x3 h12 y806 ff2c fsa fc2 sc0 ls0 ws0">backslash followed by anythin<span class="_ _1"></span>g other than a control char<span class="_ _1"></span>acter will result in the backslash </div><div class="t m0 x3 h12 y807 ff2c fsa fc2 sc0 ls0 ws0">being displayed.</div><div class="t m0 x3 h1e y808 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y809 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;Hello \World&quot;; // Hello \World</div><div class="t m0 x1a h12 y80a ff2c fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual page on escape sequences</div><div class="t m0 x3d h15 y80b ff2c fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x55 h12 y80c ff2c fsa fc2 sc0 ls0 ws0">has a list of contr<span class="_ _1"></span>ol characters that m<span class="_ _1"></span>ay </div><div class="t m0 x3 h12 y80d ff2c fsa fc2 sc0 ls0 ws0">be used, but here they are in table form:</div><div class="t m0 x3 h20 y80e ff30 fs6 fc2 sc0 ls0 ws0">Sequence<span class="_ _70"> </span>Meaning</div><div class="t m0 x3 h1e y80f ff32 fsa fc2 sc0 ls0 ws0">\n<span class="_ _71"> </span><span class="ff2c">Line feed</span></div><div class="t m0 x3 h1e y810 ff32 fsa fc2 sc0 ls0 ws0">\r<span class="_ _71"> </span><span class="ff2c">Carriage return</span></div><div class="t m0 x3 h1e y811 ff32 fsa fc2 sc0 ls0 ws0">\t<span class="_ _71"> </span><span class="ff2c ls34 ws10e">Ta<span class="_ _72"></span>b</span></div><div class="t m0 x3 h1e y812 ff32 fsa fc2 sc0 ls0 ws0">\v<span class="_ _71"> </span><span class="ff2c">V<span class="_ _2"></span>er<span class="_ _0"></span>tical tab</span></div><div class="t m0 x3 h1e y813 ff32 fsa fc2 sc0 ls0 ws0">\e<span class="_ _71"> </span><span class="ff2c ls29 ws10f">Escape</span></div><div class="t m0 x3 h1e y814 ff32 fsa fc2 sc0 ls0 ws0">\f<span class="_ _71"> </span><span class="ff2c">Form feed</span></div><div class="t m0 x3 h1e y815 ff32 fsa fc2 sc0 ls0 ws0">\\<span class="_ _71"> </span><span class="ff2c ls11 wse8">Backslash</span></div><div class="t m0 x3 h1e y816 ff32 fsa fc2 sc0 ls0 ws0">\$<span class="_ _71"> </span><span class="ff2c">Dollar symbol</span></div><div class="t m0 x3 h1e y817 ff32 fsa fc2 sc0 ls0 ws0">[0-7]{1,3}<span class="_ _29"> </span><span class="ff2c">Sequences matching this regular expr<span class="_ _1"></span>ession are in octal </span></div><div class="t m0 x1f h12 y818 ff2c fsa fc2 sc0 ls0 ws0">notation</div><div class="t m0 x3 h1e y819 ff32 fsa fc2 sc0 ls0 ws0">\x[0-9A-Fa-f]{1,2}<span class="_ _73"> </span><span class="ff2c">Ma<span class="_ _1"></span>tching sequences are in hexadecimal notation</span></div><div class="t m0 x3 h1e y81a ff32 fsa fc2 sc0 ls0 ws0">\u{{0-9a-f}{1,6}}<span class="_ _5e"> </span><span class="ff2c">Matching sequences ar<span class="_ _1"></span>e a Unicode codepoint, which will be </span></div><div class="t m0 x1f h12 y81b ff2c fsa fc2 sc0 ls0 ws0">output to the string as that codepoints UTF<span class="_ _1"></span>-8 repr<span class="_ _1"></span>esentation</div><div class="t m0 x3 h40 y81c ff35 fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h23 y81d ff32 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/regexp.reference.escape.php</div><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:243.511000px;bottom:340.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/regexp.reference.escape.php"><div class="d m1" style="border-style:none;position:absolute;left:60.067800px;bottom:73.828300px;width:225.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf51" class="pf w2 h4" data-page-no="51"><div class="pc pc51 w2 h4"><img class="bi x8 y81e w3 h4c" alt="" src="bg51.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls5 ws33">60</div><div class="t m0 x3 h12 y1b8 ff2c fsa fc2 sc0 ls0 ws0">Emojis ha<span class="_ _1"></span>ve Unicode endpoints, so we can output the elePHP<span class="_ _1"></span>ant like this:</div><div class="t m0 x8 h1e y81f ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y820 ff32 fsa fc2 sc0 ls0 ws0">echo &quot;\u{1F418}&quot;;  // </div><div class="t m0 x3 h12 y404 ff2c fsa fc2 sc0 ls0 ws0">Of course, a mor<span class="_ _1"></span>e formal use-case for Unicode is internationalization (i18n). W<span class="_ _2"></span>e’ll </div><div class="t m0 x8 h12 y821 ff2c fsa fc2 sc0 ls0 ws0">find out more about it in j<span class="_ _1"></span>ust a moment.</div><div class="t m0 x8 h26 y822 ff2c fse fc2 sc0 ls0 ws0">Her<span class="_ _1"></span>edoc and No<span class="_ _1"></span>wdoc</div><div class="t m0 x8 h12 y823 ff2c fsa fc2 sc0 ls0 ws0">A heredoc is a convenien<span class="_ _1"></span>t way to declare a string tha<span class="_ _1"></span>t spans multiple lines. I<span class="_ _1"></span>nstead of </div><div class="t m0 x8 h12 y824 ff2c fsa fc2 sc0 ls0 ws0">havin<span class="_ _1"></span>g to add multiple newline characters<span class="_ _1"></span>, you can declare the string in one easy forma<span class="_ _1"></span>t.</div><div class="t m0 x3 h12 y825 ff2c fsa fc2 sc0 ls0 ws0">Heredoc strings ar<span class="_ _1"></span>e evaluated for control ch<span class="_ _1"></span>aracters and variables<span class="_ _1"></span>, just like double </div><div class="t m0 x8 h12 y826 ff2c fsa fc2 sc0 ls0 ws0">quoted strings are.</div><div class="t m0 x3 h12 y827 ff2c fsa fc2 sc0 ls0 ws0">Common uses for heredoc include crea<span class="_ _1"></span>ting SQL queries, or for creating formatt<span class="_ _1"></span>ed </div><div class="t m0 x8 h12 y828 ff2c fsa fc2 sc0 ls0 ws0">snippets of HTML for e-mails or web pages. Y<span class="_ _2"></span>ou can also use them to initialize variables, </div><div class="t m0 x8 h12 y829 ff2c fsa fc2 sc0 ls0 ws0">or anywhere else tha<span class="_ _1"></span>t you want to use a string that spans m<span class="_ _1"></span>ultiple lines.</div><div class="t m0 x3 h12 y82a ff2c fsa fc2 sc0 ls0 ws0">Nowdoc was in<span class="_ _1"></span>troduced in PHP 5.3.0 and is to heredoc what sin<span class="_ _1"></span>gle quoted strings </div><div class="t m0 x8 h12 y82b ff2c fsa fc2 sc0 ls0 ws0">are to double quoted strings<span class="_ _1"></span>. In other words<span class="_ _1"></span>, nowdocs are not evaluated for special </div><div class="t m0 x8 h12 y82c ff2c fsa fc2 sc0 ls0 ws0">characters and variables<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y82d ff2c fsa fc2 sc0 ls0 ws0">Heredocs use the syntax lik<span class="_ _1"></span>e this<span class="_ _0"></span>:</div><div class="t m0 x8 h1e y82e ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y82f ff32 fsa fc2 sc0 ls0 ws0">echo &lt;&lt;&lt;HEREDOC</div><div class="t m0 x8 h1e y830 ff32 fsa fc2 sc0 ls0 ws0">  This is a heredoc string, note:</div><div class="t m0 x8 h1e y831 ff32 fsa fc2 sc0 ls0 ws0">  1) the capitalization of the tag</div><div class="t m0 x8 h1e y832 ff32 fsa fc2 sc0 ls0 ws0">  2) the tag name follows variable naming rules</div><div class="t m0 x8 h1e y833 ff32 fsa fc2 sc0 ls0 ws0">  3) where the closing tag is</div><div class="t m0 x8 h1e y834 ff32 fsa fc2 sc0 ls0 ws0">HEREDOC;</div><div class="t m0 x1e h10 y835 ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2">Note<span class="ff33"> <span class="_ _14"> </span>The closing tag must start on the first character of a newline.</span></span></span></div><div class="t m0 x3 h12 y836 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou specify that a string is a nowdoc and not a heredoc by wra<span class="_ _1"></span>pping the label in </div><div class="t m0 x8 h12 y837 ff2c fsa fc2 sc0 ls0 ws0">single quotes, lik<span class="_ _1"></span>e this<span class="_ _0"></span>:</div><div class="t m0 x8 h1e y838 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y839 ff32 fsa fc2 sc0 ls0 ws0">echo &lt;&lt;&lt;&apos;NOWDOC&apos;</div><div class="t m0 x8 h1e y83a ff32 fsa fc2 sc0 ls0 ws0">This is a nowdoc string, note:</div><div class="t m0 x8 h1e y83b ff32 fsa fc2 sc0 ls0 ws0">    1) Single quotes around the label</div><div class="t m0 x8 h1e y83c ff32 fsa fc2 sc0 ls0 ws0">    2) Variables will not be evaluated</div><div class="t m0 x8 h1e y83d ff32 fsa fc2 sc0 ls0 ws0">    3) Control characters will not be evaluated</div><div class="t m0 x8 h1e y83e ff32 fsa fc2 sc0 ls0 ws0">NOWDOC;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf52" class="pf w2 h4" data-page-no="52"><div class="pc pc52 w2 h4"><img class="bi x3 y26f w5 h4d" alt="" src="bg52.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x14 hd y55 ff2c fs6 fc2 sc0 ls32 ws10b">61</div><div class="t m0 x3 h19 y24e ff31 fsd fc2 sc0 ls0 ws0">Referencing Characters in Strings</div><div class="t m0 x3 h12 y24f ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can reference a position in a string by usin<span class="_ _1"></span>g either square brackets or curly br<span class="_ _1"></span>aces to </div><div class="t m0 x3 h12 y337 ff2c fsa fc2 sc0 ls0 ws0">denote the zero-based integer position you w<span class="_ _1"></span>ant to reference<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y6f5 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y517 ff32 fsa fc2 sc0 ls0 ws0">$hello = &quot;world&quot;;</div><div class="t m0 x3 h1e y518 ff32 fsa fc2 sc0 ls0 ws0">echo $hello[0]; // w</div><div class="t m0 x3 h1e y6f6 ff32 fsa fc2 sc0 ls0 ws0">echo $hello{1}; // o</div><div class="t m0 x23 h10 y83f ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2">Caution<span class="ff33"> <span class="_ _2c"> </span> Remember that strings are a series of bytes,<span class="_ _1"></span> and you are referencing the byte </span></span></span></div><div class="t m0 x3 h10 y840 ff33 fs6 fc2 sc0 ls0 ws0">position.<span class="_ _1"></span> If your character set uses more than one byte per character<span class="_ _2"></span>,<span class="_ _1"></span> you won’t have the </div><div class="t m0 x3 h10 y841 ff33 fs6 fc2 sc0 ls0 ws0">result you expect.</div><div class="t m0 x1a h12 y842 ff2c fsa fc2 sc0 ls0 ws0">In its current v<span class="_ _1"></span>ersion, PHP will issue a range warning if you att<span class="_ _1"></span>empt to write to a </div><div class="t m0 x3 h12 y843 ff2c fsa fc2 sc0 ls0 ws0">negative position of a string, or if you do not specify an in<span class="_ _1"></span>teger position.</div><div class="t m0 x1a h12 y844 ff2c fsa fc2 sc0 ls0 ws0">Writing to a position that is out of ran<span class="_ _1"></span>ge will result in the string being padded with </div><div class="t m0 x3 h12 y845 ff2c fsa fc2 sc0 ls0 ws0">spaces to accommodate the missing section.</div><div class="t m0 x3 h1e y846 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y847 ff32 fsa fc2 sc0 ls0 ws0">$hello = &quot;world&quot;;</div><div class="t m0 x3 h1e y848 ff32 fsa fc2 sc0 ls0 ws0">$hello[10] = &quot;*&quot;;</div><div class="t m0 x3 h1e y849 ff32 fsa fc2 sc0 ls0 ws0">echo $hello; //  world     *</div><div class="t m0 x1a h12 y84a ff2c fsa fc2 sc0 ls0 ws0">Notice the tr<span class="_ _1"></span>ailing asterisk in the preceding example.</div><div class="t m0 x3 h19 y84b ff31 fsd fc2 sc0 ls0 ws0">PHP and Multibyte Strings</div><div class="t m0 x3 h12 y84c ff2c fsa fc2 sc0 ls0 ws0">PHP implements strings as an array of b<span class="_ _1"></span>ytes with an integer indicating the length of the </div><div class="t m0 x3 h12 y84d ff2c fsa fc2 sc0 ls0 ws0">buffer (not null terminated). PHP does not stor<span class="_ _1"></span>e information about how the string is </div><div class="t m0 x3 h12 y84e ff2c fsa fc2 sc0 ls0 ws0">encoded.</div><div class="t m0 x1a h12 y84f ff2c fsa fc2 sc0 ls0 ws0">A variable-width encoding scheme uses codes of differing lengths to encode a </div><div class="t m0 x3 h12 y850 ff2c fsa fc2 sc0 ls0 ws0">character set. M<span class="_ _1"></span>ultibyte encodings use varying number of b<span class="_ _1"></span>ytes to encode characters.</div><div class="t m0 x1a h12 y851 ff2c fsa fc2 sc0 ls12 ws0">M<span class="_ _1"></span>ultibyte encoding allows a larger number of ch<span class="_ _1"></span>aracters to be encoded and so </div><div class="t m0 x3 h12 y852 ff2c fsa fc2 sc0 ls12 ws0">repr<span class="_ _1"></span>esented on a computer<span class="_ _2"></span>. One of the encoding schemes that you will commonly encounter </div><div class="t m0 x3 h12 y853 ff2c fsa fc2 sc0 ls12 ws0">in PHP is UTF-8.</div><div class="t m0 x56 h15 y854 ff2c fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x57 h12 y855 ff2c fsa fc2 sc0 ls12 ws0"> It is the default scheme th<span class="_ _1"></span>at PHP will tr<span class="_ _0"></span>y to use for multib<span class="_ _1"></span>yte encoding.</div><div class="t m0 x1a h12 y856 ff2c fsa fc2 sc0 ls0 ws0">The native string functions in PHP assume s<span class="_ _1"></span>trings are an array of single b<span class="_ _1"></span>ytes, so </div><div class="t m0 x3 h1e y857 ff2c fsa fc2 sc0 lsd wsf0">functions like <span class="ff32 wse7">substr()<span class="ff2c">, </span>strpos()<span class="ff2c">, <span class="_ _1"></span><span class="ff32">strlen()<span class="ff2c wsf0">, and </span>strcmp()<span class="ff2c wsf0"> will not work on multibyte strings<span class="_ _1"></span>.</span></span></span></span></div><div class="t m0 x1a h1e y858 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should use the multibyte equivalents of those functions, such as <span class="ff32">mb_substr()</span>, </div><div class="t m0 x3 h12 y859 ff2c fsa fc2 sc0 ls0 ws0">for example.</div><div class="t m0 x3 h40 y85a ff35 fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h23 y85b ff32 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/UTF-8</div><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:118.565000px;bottom:159.765000px;width:2.545000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/UTF-8"><div class="d m1" style="border-style:none;position:absolute;left:60.067800px;bottom:72.578300px;width:148.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf53" class="pf w2 h4" data-page-no="53"><div class="pc pc53 w2 h4"><img class="bi x8 y85c w3 h32" alt="" src="bg53.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls35 ws110">62</div><div class="t m0 x8 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">Unicode</div><div class="t m0 x8 h12 y3c0 ff2c fsa fc2 sc0 ls12 ws0">Unicode was an attempt to unify all the code sets tha<span class="_ _1"></span>t represented ch<span class="_ _1"></span>aracters. Unicode </div><div class="t m0 x8 h12 y44f ff2c fsa fc2 sc0 ls12 ws0">defines codepoints that ar<span class="_ _1"></span>e abstract concepts of a char<span class="_ _1"></span>acter<span class="_ _2"></span>. A Unicode codepoint represents </div><div class="t m0 x8 h1e y46e ff2c fsa fc2 sc0 ls12 ws0">a character and is written like this: <span class="ff32 wsec">U+0041</span>. That number is assigned to c<span class="_ _1"></span>apital “<span class="_ _11"></span>A<span class="_ _2"></span>”<span class="_ _e"></span>.</div><div class="t m0 x3 h12 y450 ff2c fsa fc2 sc0 ls0 wsee">There is no limit on the char<span class="_ _1"></span>acters that Unicode can stor<span class="_ _1"></span>e. Ther<span class="_ _1"></span>e was some confusion </div><div class="t m0 x8 h12 y451 ff2c fsa fc2 sc0 ls0 ws0">originally about Unicode being two bytes<span class="_ _1"></span>, but that r<span class="_ _1"></span>elated to the encoding scheme and </div><div class="t m0 x8 h12 y46f ff2c fsa fc2 sc0 ls0 ws0">not to Unicode itself.</div><div class="t m0 x1e h10 y85d ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2">Note<span class="ff33"> <span class="_ _2c"> </span> Unicode is not itself an encoding system.<span class="_ _1"></span> Encoding is the way in which a Unicode </span></span></span></div><div class="t m0 x8 h10 y85e ff33 fs6 fc2 sc0 ls0 ws0">character is represented.</div><div class="t m0 x3 h12 y85f ff2c fsa fc2 sc0 ls0 ws0">UTF-8 stor<span class="_ _1"></span>es all the codepoints from 0-127 in a single b<span class="_ _1"></span>yte. This covers the en<span class="_ _1"></span>tire </div><div class="t m0 x8 h12 y860 ff2c fsa fc2 sc0 ls0 ws0">range of the English alph<span class="_ _1"></span>abet, numbers, and some sym<span class="_ _1"></span>bols. Codepoints above 127 ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y861 ff2c fsa fc2 sc0 ls0 ws0">stored in multiple b<span class="_ _1"></span>ytes (up to 6 bytes).</div><div class="t m0 x3 h12 y862 ff2c fsa fc2 sc0 ls0 ws0">Because the Unicode codepoints from 0-127 m<span class="_ _1"></span>atch the ASCII table from 0-127, </div><div class="t m0 x8 h12 y863 ff2c fsa fc2 sc0 ls0 ws0">English text encoded in UTF-8 looks exactly the s<span class="_ _1"></span>ame as if it were encoded in ASCII.</div><div class="t m0 x3 h12 y864 ff2c fsa fc2 sc0 ls0 ws0">Only people who wrote characters with accents would ever end up with a file tha<span class="_ _1"></span>t </div><div class="t m0 x8 h12 y865 ff2c fsa fc2 sc0 ls0 ws0">was encoded differently fr<span class="_ _1"></span>om ASCII. There are hundr<span class="_ _1"></span>eds of encoding schemes that can </div><div class="t m0 x8 h12 y866 ff2c fsa fc2 sc0 ls0 ws0">store some of the Unicode codepoints<span class="_ _1"></span>, but not all.</div><div class="t m0 x3 h12 y867 ff2c fsa fc2 sc0 ls0 ws0">If you use one of these encodings and encounter a Unicode char<span class="_ _1"></span>acter that cannot be </div><div class="t m0 x8 h12 y868 ff2c fsa fc2 sc0 ls0 ws0">repr<span class="_ _1"></span>esented, you’ll be presented with a question mark or an em<span class="_ _1"></span>pty box.</div><div class="t m0 x3 h12 y869 ff2c fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, if your encoding scheme is geared tow<span class="_ _1"></span>ard storing Hebr<span class="_ _1"></span>ew characters </div><div class="t m0 x8 h12 y86a ff2c fsa fc2 sc0 ls0 ws0">and you try to store Russian c<span class="_ _1"></span>haracters in it, you’ll get a bunch of ques<span class="_ _1"></span>tion marks instead </div><div class="t m0 x8 h12 y86b ff2c fsa fc2 sc0 ls0 ws0">of your Russ<span class="_ _1"></span>ian characters because the encoding scheme doesn’t support them.</div><div class="t m0 x8 h26 y86c ff2c fse fc2 sc0 ls0 ws0">T<span class="_ _11"></span>elling Clients Ho<span class="_ _1"></span>w a String Is E<span class="_ _1"></span>ncoded</div><div class="t m0 x8 h12 y86d ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can’t detect with cer<span class="_ _0"></span>tainty ho<span class="_ _1"></span>w a string was encoded (unless you encoded it yourself<span class="_ _72"></span>) </div><div class="t m0 x8 h12 y86e ff2c fsa fc2 sc0 ls0 ws0">and neither can the clients consuming yo<span class="_ _1"></span>ur output. Unless a client knows ho<span class="_ _1"></span>w a string is </div><div class="t m0 x8 h12 y86f ff2c fsa fc2 sc0 ls0 ws0">encoded, it won’t be able to display it with confidence. I<span class="_ _1"></span>t’<span class="_ _1"></span>s your job as a PHP pr<span class="_ _1"></span>ogrammer </div><div class="t m0 x8 h12 y870 ff2c fsa fc2 sc0 ls0 ws0">to tell the clients readin<span class="_ _1"></span>g your HTML output how it is encoded.</div><div class="t m0 x3 h1e y871 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should specify the character<span class="_ _1"></span>-encoding scheme being used in the <span class="ff32">Content-Type</span> </div><div class="t m0 x8 h12 y872 ff2c fsa fc2 sc0 ls0 ws0">HTTP header<span class="_ _2"></span>. This lets the client know how your output is encoded and ther<span class="_ _1"></span>efore how to </div><div class="t m0 x8 h12 y873 ff2c fsa fc2 sc0 ls0 ws0">display it correctly.</div><div class="t m0 x3 h1e y874 ff2c fsa fc2 sc0 ls0 ws0">Putting the conten<span class="_ _1"></span>t type in the HTML as a <span class="ff32">meta</span> tag is slightly less satisfactory </div><div class="t m0 x8 h12 y875 ff2c fsa fc2 sc0 ls0 ws0">because unless the client knows the encoding type<span class="_ _1"></span>, it won’t be able to read the HTML to </div><div class="t m0 x8 h12 y876 ff2c fsa fc2 sc0 ls0 ws0">determine the encoding. Y<span class="_ _2"></span>ou can get away with doing it this way, b<span class="_ _1"></span>ut it’<span class="_ _1"></span>s better not to<span class="_ _1"></span>.</div><div class="t m0 x8 h26 y877 ff2c fse fc2 sc0 ls0 ws0">Changing Between Encoding Schemes</div><div class="t m0 x8 h1e y878 ff2c fsa fc2 sc0 ls0 ws0">The <span class="ff32">mbstring</span> extension pro<span class="_ _1"></span>vides a number of functions that c<span class="_ _1"></span>an be used to help detect </div><div class="t m0 x8 h12 y879 ff2c fsa fc2 sc0 ls0 ws0">and convert between encoding schemes.</div><div class="t m0 x3 h1e y87a ff2c fsa fc2 sc0 ls0 ws0">The <span class="ff32">mb_detect_encoding()</span> function will go through a list of possible encodings and </div><div class="t m0 x8 h12 y87b ff2c fsa fc2 sc0 ls0 ws0">attempt to determine how the string is encoded.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf54" class="pf w2 h4" data-page-no="54"><div class="pc pc54 w2 h4"><img class="bi x4 y87c wd h4e" alt="" src="bg54.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls36 ws111">63</div><div class="t m0 x1a h1e y1b8 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can change the order of the detection with the <span class="ff32">mb_detect_order()</span> function or </div><div class="t m0 x3 h12 y1b9 ff2c fsa fc2 sc0 ls0 ws0">by pro<span class="_ _1"></span>viding a list of encodings as a CSV or array.</div><div class="t m0 x1a h1e y2d2 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use <span class="ff32">mb_convert_encoding()</span> to convert a string between encoding formats.</div><div class="t m0 x3 h26 y87d ff2c fse fc2 sc0 ls0 ws0">Practical Example</div><div class="t m0 x3 h12 y87e ff2c fsa fc2 sc0 ls0 ws0">This example shows some aspects of how strings beha<span class="_ _1"></span>ve in PHP<span class="_ _11"></span>. It declar<span class="_ _1"></span>es an array with </div><div class="t m0 x3 h1e y87f ff2c fsa fc2 sc0 ls0 ws0">three differen<span class="_ _1"></span>t ways to say <span class="ff32">&quot;hello&quot;</span> and then runs some string commands on each of </div><div class="t m0 x3 h12 y880 ff2c fsa fc2 sc0 ls0 ws0">them to illustrate some points<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y881 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y882 ff32 fsa fc2 sc0 ls0 ws0">$waysToSayHello = [</div><div class="t m0 x3 h1e y883 ff32 fsa fc2 sc0 ls0 ws0">        &apos;emoji&apos; =&gt; &quot;\u{1F44B}&quot;,</div><div class="t m0 x3 h1e y884 ff32 fsa fc2 sc0 ls0 ws0">        &apos;latinchars&apos; =&gt; &quot;Hello&quot;,</div><div class="t m0 x3 h1e y885 ff32 fsa fc2 sc0 ls0 ws0">        &apos;accentedChars&apos; =&gt; &quot;ça va?&quot;</div><div class="t m0 x3 h1e y886 ff32 fsa fc2 sc0 ls0 ws0">    ];</div><div class="t m0 x3 h1e y887 ff32 fsa fc2 sc0 ls0 ws0">foreach ($waysToSayHello as $method =&gt; $string) {</div><div class="t m0 x3 h1e y888 ff32 fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>echo &quot;$method : encoding [&quot; . mb_detect_encoding($string,  </div><div class="t m0 x1a h1e y889 ff32 fsa fc2 sc0 ls0 ws0">&apos;ISO-8859-1&apos;) . &apos;] &apos; .</div><div class="t m0 x3 h1e y88a ff32 fsa fc2 sc0 ls37 ws0">  <span class="_ _0"></span>  <span class="_ _0"></span>  <span class="_ _0"></span> <span class="_ _0"></span>  <span class="_ _74"></span>&apos;e<span class="_ _0"></span>ncoding [&apos; . mb_detect_encoding($string, [&apos;ASCII&apos;,&apos;UTF-8&apos;]) . &apos;] &apos; .</div><div class="t m0 x3 h1e y88b ff32 fsa fc2 sc0 ls0 ws0">        &apos;strlen [&apos; . strlen($string) . &apos;] &apos; .</div><div class="t m0 x3 h1e y88c ff32 fsa fc2 sc0 ls0 ws0">        &apos;mb_strlen [&apos; . mb_strlen($string) . &apos;] &apos; .</div><div class="t m0 x3 h1e y88d ff32 fsa fc2 sc0 ls0 ws0">        &apos;first character[&apos; . $string[0] . &apos;]&apos;;</div><div class="t m0 x3 h1e y88e ff32 fsa fc2 sc0 ls0 ws0">    echo &quot;\r\n&quot;;</div><div class="t m0 x3 h1e y88f ff32 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y890 ff32 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y891 ff32 fsa fc2 sc0 ls0 ws0">emoji : encoding [ISO-8859-1] encoding [UTF-8] strlen [4] mb_strlen [1] </div><div class="t m0 x3 h1e y892 ff32 fsa fc2 sc0 ls0 ws0">first character[</div><div class="t m0 x34 h1e y893 ff32 fsa fc2 sc0 ls0 ws0">]</div><div class="t m0 x3 h1e y894 ff32 fsa fc2 sc0 ls0 ws0">latinchars : encoding [ISO-8859-1] encoding [ASCII] strlen [5] mb_strlen [5] </div><div class="t m0 x3 h1e y895 ff32 fsa fc2 sc0 ls0 ws0">first character[H]</div><div class="t m0 x3 h1e y896 ff32 fsa fc2 sc0 ls0 ws0">accentedChars : encoding [ISO-8859-1] encoding [UTF-8] strlen [7] mb_strlen </div><div class="t m0 x3 h1e y897 ff32 fsa fc2 sc0 ls0 ws0">[6] first character[<span class="_ _75"> </span>]</div><div class="t m0 x3 h1e y898 ff32 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h12 y899 ff2c fsa fc2 sc0 ls0 ws0">Remember that PHP doesn’t stor<span class="_ _1"></span>e encoding information in the string so it can only </div><div class="t m0 x3 h1e y89a ff2c fsa fc2 sc0 ls0 ws0">guess at how the string is encoded. The <span class="ff32">mb_detect_encoding</span> function will examine the </div><div class="t m0 x3 h12 y89b ff2c fsa fc2 sc0 ls0 ws0">string and try to determine what it is.</div><div class="t m0 x1a h12 y89c ff2c fsa fc2 sc0 ls0 ws0">It does so by comp<span class="_ _1"></span>aring the string to a list of encoding schemes and selecting the  </div><div class="t m0 x3 h12 y89d ff2c fsa fc2 sc0 ls0 ws0">first scheme under which the string is validly encoded. Y<span class="_ _2"></span>ou can specify encodings  </div><div class="t m0 x3 h12 y89e ff2c fsa fc2 sc0 ls0 ws0">(in order) for PHP to try or rely on the default encoding. T<span class="_ _1"></span>his explains why the output </div><div class="t m0 x3 h1e y89f ff2c fsa fc2 sc0 ls0 ws0">from <span class="ff32">mb_detect_encoding</span> is differ<span class="_ _1"></span>ent for the same string—we’re giving PHP differ<span class="_ _1"></span>ent </div><div class="t m0 x3 h12 y8a0 ff2c fsa fc2 sc0 ls0 ws0">hints about wha<span class="_ _1"></span>t it could be.</div><div class="t m0 x1a h1e y8a1 ff2c fsa fc2 sc0 ls0 ws0">Notice tha<span class="_ _1"></span>t the output from <span class="ff32">strlen()</span> function differs fr<span class="_ _1"></span>om <span class="ff32">mb_strlen</span>. The PHP </div><div class="t m0 x3 h1e y8a2 ff2c fsa fc2 sc0 ls0 ws0">function <span class="ff32">strlen</span> returns how m<span class="_ _1"></span>any bytes are in the string, not ho<span class="_ _1"></span>w many characters<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y8a3 ff2c fsa fc2 sc0 ls0 ws0">Lastly, notice that if we use the array nota<span class="_ _1"></span>tion method to access a position in the </div><div class="t m0 x3 h12 y8a4 ff2c fsa fc2 sc0 ls0 ws0">string, we only get a meaningful result if the string is encoded in single b<span class="_ _1"></span>yte format.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf55" class="pf w2 h4" data-page-no="55"><div class="pc pc55 w2 h4"><img class="bi x8 y7 w3 h32" alt="" src="bg55.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls38 ws4a">64</div><div class="t m0 x8 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">M<span class="_ _1"></span>atching S<span class="_ _1"></span>trings</div><div class="t m0 x8 h12 y3c0 ff2c fsa fc2 sc0 ls0 ws0">Comparing strings in PHP should be done with an appropriate level of car<span class="_ _1"></span>e when you’re </div><div class="t m0 x8 h12 y3c1 ff2c fsa fc2 sc0 ls0 ws0">trying to match different variable types<span class="_ _1"></span>. In chapter <span class="fc4">1</span>, the section on “<span class="_ _1"></span>Casting V<span class="_ _2"></span>ariables,<span class="_ _5"></span>” </div><div class="t m0 x8 h12 y531 ff2c fsa fc2 sc0 ls0 ws0">we examined the manual pages rela<span class="_ _1"></span>ting to casting. M<span class="_ _1"></span>ake sure tha<span class="_ _1"></span>t you’re familiar with </div><div class="t m0 x8 h12 y450 ff2c fsa fc2 sc0 ls0 ws0">how PHP casts various variable types to string.</div><div class="t m0 x3 h1e y451 ff2c fsa fc2 sc0 ls0 ws0">Using comparison operators lik<span class="_ _1"></span>e <span class="ff32">&gt;</span> and <span class="ff32">&lt;</span> might not always work as expected. I<span class="_ _1"></span>t’<span class="_ _1"></span>s </div><div class="t m0 x8 h12 y46f ff2c fsa fc2 sc0 ls0 ws0">common to expect that PHP would use alphabetical or<span class="_ _1"></span>der to evaluate strings against </div><div class="t m0 x8 h12 y452 ff2c fsa fc2 sc0 ls0 ws0">these operators<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y8a5 ff2c fsa fc2 sc0 ls0 ws0">Instead of using alpha<span class="_ _1"></span>betical sorting, PHP uses the AS<span class="_ _0"></span>CII value of the ch<span class="_ _1"></span>aracter to </div><div class="t m0 x8 h12 y454 ff2c fsa fc2 sc0 ls0 ws0">make the comparison. Lowercase letters ha<span class="_ _1"></span>ve a higher ASCII value than capitals<span class="_ _1"></span>, so you </div><div class="t m0 x8 h12 y8a6 ff2c fsa fc2 sc0 ls0 ws0">can ha<span class="_ _1"></span>ve the situation where lower<span class="_ _1"></span>case letters are placed after capitals<span class="_ _1"></span>, like this:</div><div class="t m0 x8 h1e y8a7 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y457 ff32 fsa fc2 sc0 ls0 ws0">$a = &quot;PHP&quot;;</div><div class="t m0 x8 h1e y8a8 ff32 fsa fc2 sc0 ls0 ws0">$b = &quot;developer&quot;;</div><div class="t m0 x8 h1e y8a9 ff32 fsa fc2 sc0 ls0 ws0">if ($a &gt; $b) {</div><div class="t m0 x8 h1e y8aa ff32 fsa fc2 sc0 ls0 ws0">    echo &quot;$a &gt; $b&quot;;</div><div class="t m0 x8 h1e y8ab ff32 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x8 h1e y8ac ff32 fsa fc2 sc0 ls0 ws0">    echo &quot;$a &lt; $b&quot;;</div><div class="t m0 x8 h1e y8ad ff32 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h1e y49a ff32 fsa fc2 sc0 ls0 ws0">// developer comes before PHP in the alphabet</div><div class="t m0 x8 h1e y8ae ff32 fsa fc2 sc0 ls0 ws0">// but this script outputs</div><div class="t m0 x8 h1e y45e ff32 fsa fc2 sc0 ls0 ws0">// PHP &lt; developer</div><div class="t m0 x3 h12 y460 ff2c fsa fc2 sc0 ls0 ws0">Recall the rules for converting strings to integers discussed in the section on “<span class="_ _1"></span>Casting </div><div class="t m0 x8 h1e y8af ff2c fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iables<span class="_ _1"></span>”<span class="_ _e"></span>. In the following example<span class="_ _1"></span>, the string is cast to an integer value of <span class="ff32">12</span>, which </div><div class="t m0 x8 h1e y462 ff2c fsa fc2 sc0 ls0 ws0">equals the float value of <span class="ff32">12.00</span> and so the message is echoed.</div><div class="t m0 x8 h1e y8b0 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y8b1 ff32 fsa fc2 sc0 ls0 ws0">$a = &quot;12 o&apos;clock&quot;;</div><div class="t m0 x8 h1e y8b2 ff32 fsa fc2 sc0 ls0 ws0">$b = 12.00;</div><div class="t m0 x8 h1e y8b3 ff32 fsa fc2 sc0 ls0 ws0">if ($a == $b) {</div><div class="t m0 x8 h1e y8b4 ff32 fsa fc2 sc0 ls0 ws0">    echo &quot;The mouse ran up the clock&quot;;</div><div class="t m0 x8 h1e y8b5 ff32 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y8b6 ff2c fsa fc2 sc0 ls0 ws0">Unless you ar<span class="_ _1"></span>e confident about the strings you’re com<span class="_ _1"></span>paring, you should consider </div><div class="t m0 x8 h1e y8b7 ff2c fsa fc2 sc0 ls0 ws0">using the identity operat<span class="_ _1"></span>or <span class="ff32">===</span> to make this sort of comparison.</div><div class="t m0 x3 h12 y8b8 ff2c fsa fc2 sc0 ls0 ws0">In addition to using opera<span class="_ _1"></span>tors, PHP also pro<span class="_ _1"></span>vides a number of string comparison </div><div class="t m0 x8 h12 y8b9 ff2c fsa fc2 sc0 ls0 ws0">functions.</div><div class="t m0 x3 h1e y8ba ff32 fsa fc2 sc0 ls0 ws0">strcmp()<span class="ff2c"> is a function to perform binar<span class="_ _0"></span>y safe string comparisons<span class="_ _1"></span>. It takes two strings </span></div><div class="t m0 x8 h1e y8bb ff2c fsa fc2 sc0 ls0 ws0">as arguments and r<span class="_ _1"></span>eturns <span class="ff32">&lt; 0</span> if <span class="ff32">str1</span> is less than <span class="ff32">str2</span>; <span class="ff32">&gt; 0</span> if <span class="ff32">str1</span> is greater th<span class="_ _1"></span>an <span class="ff32">str2</span>, </div><div class="t m0 x8 h1e y8bc ff2c fsa fc2 sc0 ls0 ws0">and <span class="ff32">0</span> if they are equal.</div><div class="t m0 x1e h10 y8bd ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff33 fc2"> <span class="_ _2c"> </span> Remember the spaceship operator? <span class="_ _1"></span>The operator can be used on any variable </span></span></div><div class="t m0 x8 h10 y8be ff33 fs6 fc2 sc0 ls0 ws0">types,<span class="_ _1"></span> but <span class="ff32 fsa">strcmp</span> is exclusively for strings.</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_1"><div class="d m1" style="border-style:none;position:absolute;left:232.773000px;bottom:557.685000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf56" class="pf w2 h4" data-page-no="56"><div class="pc pc56 w2 h4"><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls39 ws112">65</div><div class="t m0 x1a h1e y1b8 ff2c fsa fc2 sc0 ls0 ws0">There is also a case-insensitive version n<span class="_ _1"></span>amed <span class="ff32">strcasecmp()</span> that first converts </div><div class="t m0 x3 h12 y1b9 ff2c fsa fc2 sc0 ls0 ws0">strings to lowercase and then compar<span class="_ _1"></span>es them.</div><div class="t m0 x1a h12 y2d2 ff2c fsa fc2 sc0 ls0 ws0">This example shows the differ<span class="_ _1"></span>ence:</div><div class="t m0 x3 h1e y2d4 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1bd ff32 fsa fc2 sc0 ls0 ws0">$a = &quot;PHP&quot;;</div><div class="t m0 x3 h1e y1be ff32 fsa fc2 sc0 ls0 ws0">$b = &quot;developer&quot;;</div><div class="t m0 x3 h1e y2d5 ff32 fsa fc2 sc0 ls0 ws0">$comparison = strcmp($a, $b);</div><div class="t m0 x3 h1e y2d6 ff32 fsa fc2 sc0 ls0 ws0">echo $comparison . PHP_EOL; // -20</div><div class="t m0 x3 h1e y2d7 ff32 fsa fc2 sc0 ls0 ws0">$caseInsensitive = strcasecmp($a, $b);</div><div class="t m0 x3 h1e y2d8 ff32 fsa fc2 sc0 ls0 ws0">echo $caseInsensitive . PHP_EOL; // 12</div><div class="t m0 x1a h1e y2da ff2c fsa fc2 sc0 ls0 ws0">The functions <span class="ff32">strncmp()</span> and <span class="ff32">strcasencmp()</span> can be used to only compare the first </div><div class="t m0 x3 h12 y43c ff2c fsa fc2 sc0 ls0 ws0">“<span class="_ _1"></span>n” characters of two strings.</div><div class="t m0 x1a h1e y2db ff2c fsa fc2 sc0 ls0 ws0">PHP has a very powerful function called <span class="ff32">similar_text()</span> that calculates the </div><div class="t m0 x3 h12 y2dc ff2c fsa fc2 sc0 ls0 ws0">similarity between two strings. This can be a very computationally expensive procedur<span class="_ _1"></span>e </div><div class="t m0 x3 h12 y2dd ff2c fsa fc2 sc0 ls0 ws0">for long sections of text, so be careful befor<span class="_ _1"></span>e you use it. Also be awar<span class="_ _1"></span>e that the order </div><div class="t m0 x3 h1e y2de ff2c fsa fc2 sc0 ls0 ws0">that you pass the ar<span class="_ _1"></span>guments in is significant, so <span class="ff32">similar_text($a, $b) != similar_</span></div><div class="t m0 x3 h1e y2df ff32 fsa fc2 sc0 ls0 ws0">text($b, $a)<span class="ff2c">.</span></div><div class="t m0 x1a h1e y2e0 ff2c fsa fc2 sc0 ls0 ws0">Another function, <span class="ff32">levenshtein()</span>, can be used to calculate the Levenshtein distance </div><div class="t m0 x3 h12 y8bf ff2c fsa fc2 sc0 ls0 ws0">between two strings. The Levenshtein distance is defined as the minimal number of </div><div class="t m0 x3 h1e y2e1 ff2c fsa fc2 sc0 ls0 ws0">characters yo<span class="_ _1"></span>u have to r<span class="_ _1"></span>eplace, insert, or delete to transform <span class="ff32">str1</span> into <span class="ff32">str2</span>.</div><div class="t m0 x1a h1e y8c0 ff2c fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o compare substrings, y<span class="_ _1"></span>ou can use the binary-safe <span class="ff32">substr_compare()</span> function.</div><div class="t m0 x1a h1e y8c1 ff2c fsa fc2 sc0 ls0 ws0">PHP has two functions that let you wor<span class="_ _1"></span>k with the way a string sounds. The <span class="ff32">soundex()</span> </div><div class="t m0 x3 h12 y8c2 ff2c fsa fc2 sc0 ls0 ws0">function calculates a key based on how the string sounds<span class="_ _1"></span>. Strings that sound the same </div><div class="t m0 x3 h1e y8c3 ff2c fsa fc2 sc0 ls0 ws0">will have the same <span class="ff32">soundex</span><span class="ls29 ws10f"> key.</span></div><div class="t m0 x1a h1e y8c4 ff2c fsa fc2 sc0 ls0 ws0">The <span class="ff32">metaphone()</span> function similarly crea<span class="_ _1"></span>tes the same key for similar sounding </div><div class="t m0 x3 h1e y8c5 ff2c fsa fc2 sc0 ls0 ws0">strings. I<span class="_ _1"></span>t is more accurat<span class="_ _1"></span>e than <span class="ff32">soundex()</span>, as it is awar<span class="_ _1"></span>e of the basic rules of English </div><div class="t m0 x3 h12 y8c6 ff2c fsa fc2 sc0 ls0 ws0">pronuncia<span class="_ _1"></span>tion. Of course, this is likely to be of little help in other languages!</div><div class="t m0 x1a h12 y8c7 ff2c fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two other ways to compare strings<span class="_ _1"></span>, but they are discussed in Chapter <span class="fc4">6</span> on </div><div class="t m0 x3 h1e y8c8 ff2c fsa fc2 sc0 ls0 ws0">security. The <span class="ff32">hash_equals()</span> function is a timing-attack safe way of com<span class="_ _1"></span>paring strings </div><div class="t m0 x3 h1e y8c9 ff2c fsa fc2 sc0 ls0 ws0">and <span class="ff32">password_verify()</span> is a safe way to check tha<span class="_ _1"></span>t a password matches a h<span class="_ _1"></span>ash. Y<span class="_ _2"></span>ou’ll </div><div class="t m0 x3 h12 y8ca ff2c fsa fc2 sc0 ls0 ws0">learn about them in more detail la<span class="_ _1"></span>ter<span class="_ _2"></span>, but remember them as string functions.</div><div class="t m0 x3 h19 y8cb ff31 fsd fc2 sc0 ls0 ws0">Extracting Strings</div><div class="t m0 x3 h12 y8cc ff2c fsa fc2 sc0 ls0 ws0">An individual position in a string can be refer<span class="_ _1"></span>enced with the same syntax as an array </div><div class="t m0 x3 h12 y8cd ff2c fsa fc2 sc0 ls0 ws0">element. All positions in the string are alw<span class="_ _1"></span>ays zero-based—the first char<span class="_ _1"></span>acter in the string </div><div class="t m0 x3 h12 y8ce ff2c fsa fc2 sc0 ls0 ws0">is position 0.</div><div class="t m0 x3 h1e y8cf ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y8d0 ff32 fsa fc2 sc0 ls0 ws0">$string = &apos;abcdef&apos;;</div><div class="t m0 x3 h1e y8d1 ff32 fsa fc2 sc0 ls0 ws0">echo $string[0];    // a</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:377.302000px;bottom:270.325000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf57" class="pf w2 h4" data-page-no="57"><div class="pc pc57 w2 h4"><img class="bi x8 y26f w6 h27" alt="" src="bg57.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls36 ws111">66</div><div class="t m0 x3 h1e y1b8 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the <span class="ff32">substr()</span> function to return a portion, or slice, of a string. The PHP </div><div class="t m0 x8 h1e y1b9 ff2c fsa fc2 sc0 ls0 ws0">Man<span class="_ _1"></span>ual for <span class="ff32">substr()</span> shows the syntax for the command like this:</div><div class="t m0 x8 h1e y2d3 ff32 fsa fc2 sc0 ls0 ws0">`string substr ( string $string , int $start [, int $length ] )`</div><div class="t m0 x3 h12 y1bd ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can see that it takes two compulsory parameters and one optional parameter<span class="_ _2"></span>. </div><div class="t m0 x8 h12 y1be ff2c fsa fc2 sc0 ls0 ws0">Both the start and the length parameters can be positive or negativ<span class="_ _1"></span>e. If the start value </div><div class="t m0 x8 h1e y2d5 ff2c fsa fc2 sc0 ls0 ws0">is greater th<span class="_ _1"></span>an the length of the string, <span class="ff32">substr()</span> will return <span class="ff32">false</span>. If the start value is </div><div class="t m0 x8 h1e y2d6 ff2c fsa fc2 sc0 ls0 ws0">positive (<span class="_ _1"></span>or 0), the slice of the string returned starts at the <span class="ff32">start</span>’th position of the string </div><div class="t m0 x8 h12 y2d7 ff2c fsa fc2 sc0 ls0 ws0">counting fr<span class="_ _1"></span>om the beginning.</div><div class="t m0 x3 h1e y2d8 ff2c fsa fc2 sc0 ls0 ws0">Otherw<span class="_ _0"></span>ise<span class="_ _1"></span>, if it is negative, the slice starts at the <span class="ff32">start</span>’th position fr<span class="_ _1"></span>om the ending of </div><div class="t m0 x8 h12 y2d9 ff2c fsa fc2 sc0 ls0 ws0">the string.</div><div class="t m0 x8 h1e y43c ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y2db ff32 fsa fc2 sc0 ls0 ws0">echo substr(&quot;abcdef&quot;, 2) . PHP_EOL;    // cdef</div><div class="t m0 x8 h1e y2dc ff32 fsa fc2 sc0 ls0 ws0">echo substr(&quot;abcdef&quot;, -2) . PHP_EOL;   // ef</div><div class="t m0 x3 h12 y2de ff2c fsa fc2 sc0 ls0 ws0">If length is omitted, as in the previous example<span class="_ _1"></span>, then the slice will continue from the </div><div class="t m0 x8 h12 y2df ff2c fsa fc2 sc0 ls0 ws0">slice starting point to the end of the string. If length is given as a positive num<span class="_ _1"></span>ber<span class="_ _2"></span>, then at </div><div class="t m0 x8 h1e y2e0 ff2c fsa fc2 sc0 ls0 ws0">most <span class="ff32">length</span> characters will be r<span class="_ _1"></span>eturned. If length is given as a negative number<span class="_ _11"></span>, then that </div><div class="t m0 x8 h12 y8bf ff2c fsa fc2 sc0 ls0 ws0">many char<span class="_ _1"></span>acters will be omitted from the end of the string:</div><div class="t m0 x8 h1e y8c0 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y8c1 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&quot;abcdef&quot;, 0, 2) . PHP_EOL;    // ab</div><div class="t m0 x8 h1e y8c2 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&quot;abcdef&quot;, 0, -2) . PHP_EOL;   // abcd</div><div class="t m0 x3 h1e y8c4 ff2c fsa fc2 sc0 ls0 ws0">If length is given and is <span class="ff32">0</span>, <span class="ff32">FALSE</span>, or <span class="ff32">NULL</span>, then an empty string is returned. T<span class="_ _1"></span>he same </div><div class="t m0 x8 h12 y8c5 ff2c fsa fc2 sc0 ls0 ws0">happens when the start parameter is bigger or equal to the string.</div><div class="t m0 x3 h12 y8c6 ff2c fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual</div><div class="t m0 x3b h15 y8d2 ff2c fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x50 h12 y8d3 ff2c fsa fc2 sc0 ls0 ws0"> gives some more examples:</div><div class="t m0 x8 h1e y8d4 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y8d5 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&apos;abcdef&apos;, 1);     // bcdef</div><div class="t m0 x8 h1e y8d6 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&apos;abcdef&apos;, 1, 3);  // bcd</div><div class="t m0 x8 h1e y8d7 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&apos;abcdef&apos;, 0, 4);  // abcd</div><div class="t m0 x8 h1e y8d8 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&apos;abcdef&apos;, 0, 8);  // abcdef</div><div class="t m0 x8 h1e y8d9 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&apos;abcdef&apos;, -1, 1); // f</div><div class="t m0 x8 h19 y8da ff31 fsd fc2 sc0 ls0 ws0">Searching Strings</div><div class="t m0 x8 h12 y8db ff2c fsa fc2 sc0 ls12 ws0">Because PHP was written for the web<span class="_ _1"></span>, it is particularly strong at pr<span class="_ _1"></span>ocessing strings. Y<span class="_ _2"></span>ou’ll </div><div class="t m0 x8 h12 y8dc ff2c fsa fc2 sc0 ls12 ws0">be expected to know the ins and outs of the string-manipulation functions<span class="_ _1"></span>. This section </div><div class="t m0 x8 h12 y8dd ff2c fsa fc2 sc0 ls12 ws0">introduces the functions tha<span class="_ _1"></span>t are used to search strings<span class="_ _1"></span>. It is stron<span class="_ _1"></span>gly recommended that you </div><div class="t m0 x8 h12 y8de ff2c fsa fc2 sc0 ls12 ws0">experiment with the functions and read up on their manual pages<span class="_ _1"></span>. The Zend exam is very<span class="_ _0"></span> </div><div class="t m0 x8 h12 y8df ff2c fsa fc2 sc0 ls12 ws0">much geared to r<span class="_ _1"></span>eward experience rather th<span class="_ _1"></span>an an encyclopedic knowledge of the manual.</div><div class="t m0 x8 h40 y8e0 ff35 fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h23 y8e1 ff32 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.substr.php</div><a class="l" href="#pf57" data-dest-detail='[87,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:123.119000px;bottom:281.325000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.substr.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.574400px;width:191.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf58" class="pf w2 h4" data-page-no="58"><div class="pc pc58 w2 h4"><img class="bi x3 y8e2 w5 h32" alt="" src="bg58.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls3a ws113">67</div><div class="t m0 x3 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">Useful T<span class="_ _1"></span>ips</div><div class="t m0 x3 h12 y3c0 ff2c fsa fc2 sc0 ls0 ws0">A common complaint about PHP is tha<span class="_ _1"></span>t it is difficult to tell the order of parameters for </div><div class="t m0 x3 h12 y44f ff2c fsa fc2 sc0 ls0 ws0">searching strings and arra<span class="_ _1"></span>ys.</div><div class="t m0 x1a h1e y46e ff2c fsa fc2 sc0 ls0 ws0">PHP search parameter<span class="_ _1"></span>s have a <span class="ff32">$haystack</span> and we are sear<span class="_ _1"></span>ching for a <span class="ff32">$needle</span>. </div><div class="t m0 x3 h1e y450 ff2c fsa fc2 sc0 ls0 ws0">Compare the or<span class="_ _1"></span>der of parameters used for <span class="ff32">strpos()</span> and <span class="ff32">array_search()</span>:</div><div class="t m0 x3 h1e y46f ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y452 ff32 fsa fc2 sc0 ls0 ws0">$arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos; ];</div><div class="t m0 x3 h1e y453 ff32 fsa fc2 sc0 ls0 ws0">$str = &apos;abcdef&apos;;</div><div class="t m0 x3 h1e y454 ff32 fsa fc2 sc0 ls0 ws0">echo strpos($str, &apos;c&apos;) . PHP_EOL;</div><div class="t m0 x3 h1e y470 ff32 fsa fc2 sc0 ls0 ws0">echo array_search(&apos;c&apos;, $arr) . PHP_EOL;</div><div class="t m0 x1a h1e y456 ff2c fsa fc2 sc0 ls0 ws0">It seems at first th<span class="_ _1"></span>at sometimes the <span class="ff32">$needle</span> parameter comes first and sometimes </div><div class="t m0 x3 h1e y457 ff2c fsa fc2 sc0 ls0 ws0">the <span class="ff32">$haystack</span> parameter comes first.</div><div class="t m0 x1a h12 y499 ff2c fsa fc2 sc0 ls0 ws0">However<span class="_ _11"></span>, it<span class="_ _0"></span>’<span class="_ _2"></span>s a lot simpler when you remember th<span class="_ _1"></span>at PHP is using underlying C </div><div class="t m0 x3 h12 y458 ff2c fsa fc2 sc0 ls0 ws0">libraries and the consistent rule is:</div><div class="t m0 x7 h1e y8e3 ff37 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff2c">For string sear<span class="_ _1"></span>ch functions, the order is alw<span class="_ _1"></span>ays <span class="ff32">$haystack</span> then </span></div><div class="t m0 x19 h1e y8e4 ff32 fsa fc2 sc0 ls0 ws0">$needle</div><div class="t m0 x7 h1e y8e5 ff37 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff2c">For arra<span class="_ _1"></span>y search functions, the or<span class="_ _1"></span>der is always <span class="ff32">$needle</span> then </span></div><div class="t m0 x19 h1e y8e6 ff32 fsa fc2 sc0 ls0 ws0">$haystack</div><div class="t m0 x1a h1e y8e7 ff2c fsa fc2 sc0 ls0 ws0">The next useful tip is to remember the differ<span class="_ _1"></span>ence between <span class="ff32">0</span> and <span class="ff32">false</span>. Although </div><div class="t m0 x3 h1e y8e8 ff2c fsa fc2 sc0 ls0 ws0">Boolean false evaluates to <span class="ff32">0</span>, if you cast it to in<span class="_ _1"></span>teger<span class="_ _2"></span>, the number <span class="ff32">0</span> is not identical to a </div><div class="t m0 x3 h1e y8e9 ff2c fsa fc2 sc0 ls0 ws0">Boolean <span class="ff32">false</span>. Here<span class="_ _1"></span>’<span class="_ _2"></span>s an example where we seemingly don’t find the letter “<span class="_ _2"></span>a” in the </div><div class="t m0 x3 h1e y8ea ff2c fsa fc2 sc0 ls0 ws0">string <span class="ff32">&quot;abcdef&quot;</span>:</div><div class="t m0 x3 h1e y8eb ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y8ec ff32 fsa fc2 sc0 ls0 ws0">$string = &apos;abcdef&apos;;</div><div class="t m0 x3 h1e y8ed ff32 fsa fc2 sc0 ls0 ws0">if (strpos($string, &apos;a&apos;) == false) {</div><div class="t m0 x3 h1e y8ee ff32 fsa fc2 sc0 ls0 ws0">  echo &quot;False negative!&quot; . PHP_EOL;</div><div class="t m0 x3 h1e y8ef ff32 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h1e y8f0 ff2c fsa fc2 sc0 ls0 ws0">Remember that strings ar<span class="_ _1"></span>e zero-based, so the first position is position 0. <span class="ff32">strpos()</span> is </div><div class="t m0 x3 h12 y8f1 ff2c fsa fc2 sc0 ls0 ws0">returning the in<span class="_ _1"></span>teger 0 because it found “<span class="_ _2"></span>a” in the fir<span class="_ _1"></span>st position. W<span class="_ _1"></span>e are using the equality </div><div class="t m0 x3 h1e y8f2 ff2c fsa fc2 sc0 ls0 ws0">operator <span class="ff32">==</span> to check the r<span class="_ _1"></span>esult of <span class="ff32">strpos()</span> and so we are falsely reporting that the let<span class="_ _1"></span>ter </div><div class="t m0 x3 h12 y8f3 ff2c fsa fc2 sc0 ls0 ws0">“<span class="_ _2"></span>a<span class="_ _1"></span>” does not appear in this string.</div><div class="t m0 x23 h10 y8f4 ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff33 fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>T<span class="_ _2"></span>o handle the case where the substring is genuinely not found,<span class="_ _1"></span> you should use the </span></span></div><div class="t m0 x3 h10 y8f5 ff33 fs6 fc2 sc0 ls0 ws0">identity <span class="ff32 fsa">===</span> operator<span class="_ _2"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf59" class="pf w2 h4" data-page-no="59"><div class="pc pc59 w2 h4"><img class="bi x8 y8f6 w3 h4f" alt="" src="bg59.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls3b ws114">68</div><div class="t m0 x8 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">Quick Overview of S<span class="_ _0"></span>ear<span class="_ _1"></span>ch F<span class="_ _1"></span>unctions</div><div class="t m0 x8 h12 y3c0 ff2c fsa fc2 sc0 ls0 ws0">PHP has several functions used to search strings<span class="_ _1"></span>. As a general rule, the case-insensitive </div><div class="t m0 x8 h12 y3c1 ff2c fsa fc2 sc0 ls0 ws0">functions hav<span class="_ _1"></span>e an “i” after the prefix. The following table lists the PHP M<span class="_ _1"></span>anual definitions </div><div class="t m0 x8 h12 y531 ff2c fsa fc2 sc0 ls0 ws0">for the string search functions<span class="_ _1"></span>.</div><div class="t m0 x8 h20 y8f7 ff30 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _4d"> </span>Used For</div><div class="t m0 x8 h1e y8f8 ff32 fsa fc2 sc0 ls0 ws0">substr_count()<span class="_ _76"> </span><span class="ff2c">Returns the number of substring occurrences in a s<span class="_ _1"></span>tring.</span></div><div class="t m0 x8 h1e y8f9 ff32 fsa fc2 sc0 ls0 ws0">strstr()<span class="_ _27"> </span><span class="ff2c">Searches for a substring in a string and returns the portion of the </span></div><div class="t m0 x58 h12 y8fa ff2c fsa fc2 sc0 ls0 ws0">haystack th<span class="_ _1"></span>at occurs after the first found occurrence<span class="_ _1"></span>. It returns </div><div class="t m0 x58 h1e y8fb ff32 fsa fc2 sc0 ls0 ws0">false<span class="ff2c"> if no occurrence is found. N<span class="_ _1"></span>ote that using <span class="ff32">strpos()</span> is </span></div><div class="t m0 x58 h12 y8fc ff2c fsa fc2 sc0 ls0 ws0">prefera<span class="_ _1"></span>ble because it is faster<span class="_ _2"></span>.</div><div class="t m0 x8 h1e y8fd ff32 fsa fc2 sc0 ls0 ws0">stristr()<span class="_ _48"> </span><span class="ff2c">A case-insensitive version of </span>strstr()<span class="ff2c">.</span></div><div class="t m0 x8 h1e y8fe ff32 fsa fc2 sc0 ls0 ws0">strchr()<span class="_ _27"> </span><span class="ff2c">Returns the portion of the string before the first occurrence of the </span></div><div class="t m0 x58 h12 y8ff ff2c fsa fc2 sc0 ls0 ws0">needle.</div><div class="t m0 x8 h1e y900 ff32 fsa fc2 sc0 ls0 ws0">strpos()<span class="_ _27"> </span><span class="ff2c">Returns the position of the first occurrence of the needle.</span></div><div class="t m0 x59 h15 y901 ff2c fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x8 h1e y902 ff32 fsa fc2 sc0 ls0 ws0">stripos()<span class="_ _48"> </span><span class="ff2c">A case-insensitive version of </span>strpos()<span class="ff2c">.</span></div><div class="t m0 x8 h1e y903 ff32 fsa fc2 sc0 ls0 ws0">strspn()<span class="_ _27"> </span><span class="ff2c">Finds the length of the initial segment of a string consisting entir<span class="_ _1"></span>ely </span></div><div class="t m0 x58 h12 y904 ff2c fsa fc2 sc0 ls0 ws0">of characters con<span class="_ _1"></span>tained within a given mask.</div><div class="t m0 x5a h15 y905 ff2c fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x8 h1e y906 ff32 fsa fc2 sc0 ls0 ws0">strcspn()<span class="_ _48"> </span><span class="ff2c">Returns the length of the initial segment of subject that does </span></div><div class="t m0 x58 h12 y907 ff2c fsa fc2 sc0 ls0 ws0">not contain any of the char<span class="_ _1"></span>acters in the mask. In other words<span class="_ _1"></span>, it </div><div class="t m0 x58 h12 y908 ff2c fsa fc2 sc0 ls0 ws0">searches for the first occurrence of an<span class="_ _1"></span>y of the mask letters in the </div><div class="t m0 x58 h12 y909 ff2c fsa fc2 sc0 ls0 ws0">string and returns the num<span class="_ _1"></span>ber of characters that exist befor<span class="_ _1"></span>e it is </div><div class="t m0 x58 h12 y90a ff2c fsa fc2 sc0 ls0 ws0">found.</div><div class="t m0 x53 h15 y90b ff2c fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x8 h26 y90c ff2c fse fc2 sc0 ls0 ws0">Replacing S<span class="_ _1"></span>trings</div><div class="t m0 x8 h12 y90d ff2c fsa fc2 sc0 ls0 ws0">PHP has three functions for r<span class="_ _1"></span>eplacing strings.</div><div class="t m0 x3 h1e y90e ff32 fsa fc2 sc0 ls0 ws0">str_replace()<span class="ff2c"> and its case-insensitive version </span>str_ireplace()<span class="ff2c"> can be used for </span></div><div class="t m0 x8 h12 y90f ff2c fsa fc2 sc0 ls0 ws0">basic replacements<span class="_ _1"></span>.</div><div class="t m0 x8 h1e y910 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y911 ff32 fsa fc2 sc0 ls0 ws0">echo str_replace(&apos;foo&apos;, &apos;bar&apos;, &apos;Delicious food&apos;); // Delicious bard</div><div class="t m0 x3 h12 y912 ff2c fsa fc2 sc0 ls0 ws0">They both take three compulsory parameters—the sear<span class="_ _1"></span>ch string, replacement string, </div><div class="t m0 x8 h12 y913 ff2c fsa fc2 sc0 ls0 ws0">and the string to operate on. If you pas<span class="_ _1"></span>s the optional fourth variable (it is a reference </div><div class="t m0 x8 h12 y914 ff2c fsa fc2 sc0 ls0 ws0">argument), it will be set to the number of r<span class="_ _1"></span>eplacements that PHP performed.</div><div class="t m0 x8 h40 y915 ff35 fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x26 h23 y916 ff32 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.strpos.php</div><div class="t m0 x8 h40 y917 ff35 fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x26 h23 y918 ff32 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.strspn.php</div><div class="t m0 x8 h40 y919 ff35 fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h23 y91a ff32 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.strcspn.php</div><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",39,105,null]'><div class="d m1" style="border-style:none;position:absolute;left:336.789000px;bottom:402.185000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",39,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:289.954000px;bottom:361.185000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:145.200000px;bottom:301.185000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.strpos.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:93.324400px;width:221.000200px;height:11.168600px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.strspn.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:83.324400px;width:221.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.strcspn.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.324400px;width:225.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5a" class="pf w2 h4" data-page-no="5a"><div class="pc pc5a w2 h4"><img class="bi x3 y175 w7 h27" alt="" src="bg5a.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 lsa ws58">69</div><div class="t m0 x1a h12 y1b8 ff2c fsa fc2 sc0 ls0 ws0">Both the search and replacemen<span class="_ _1"></span>t parameters can be arrays<span class="_ _1"></span>. This lets you r<span class="_ _1"></span>eplace </div><div class="t m0 x3 h12 y1b9 ff2c fsa fc2 sc0 ls0 ws0">multiple values in one call, as in this example:</div><div class="t m0 x3 h1e y2d3 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2d4 ff32 fsa fc2 sc0 ls0 ws0">$string = &quot;I like black hot coffee&quot;;</div><div class="t m0 x3 h1e y1bd ff32 fsa fc2 sc0 ls0 ws0">$search = [&apos;black&apos;, &apos;coffee&apos;];</div><div class="t m0 x3 h1e y1be ff32 fsa fc2 sc0 ls0 ws0">$replace = [&apos;green&apos;, &apos;tea&apos;];</div><div class="t m0 x3 h1e y2d5 ff32 fsa fc2 sc0 ls0 ws0">echo str_replace($search, $replace, $string); // I like green hot tea</div><div class="t m0 x1a h1e y2d7 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the <span class="ff32">substr_replace()</span> function to replace substrings. <span class="ff32">substr_</span></div><div class="t m0 x3 h1e y2d8 ff32 fsa fc2 sc0 ls0 ws0">replace()<span class="ff2c"> replaces a copy of the s<span class="_ _1"></span>tring delimited by the start and (optionally) length </span></div><div class="t m0 x3 h12 y2d9 ff2c fsa fc2 sc0 ls0 ws0">parameters with the string given in replacemen<span class="_ _1"></span>t.</div><div class="t m0 x1a h1e y2da ff32 fsa fc2 sc0 ls0 ws0">strtr()<span class="ff2c"> is another function to replace substrings and char<span class="_ _1"></span>acters. If only two </span></div><div class="t m0 x3 h12 y43c ff2c fsa fc2 sc0 ls0 ws0">parameters ar<span class="_ _1"></span>e supplied, the second parameter should be an array of replacemen<span class="_ _1"></span>t pairs. </div><div class="t m0 x3 h12 y2db ff2c fsa fc2 sc0 ls0 ws0">It otherwise takes three parameters<span class="_ _1"></span>, as in this example from the PHP M<span class="_ _1"></span>anual, it is being </div><div class="t m0 x3 h12 y2dc ff2c fsa fc2 sc0 ls0 ws0">used to convert characters with accent m<span class="_ _1"></span>arks to English format char<span class="_ _1"></span>acters<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y2de ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y2df ff32 fsa fc2 sc0 ls0 ws0">$address = &quot;09479 Huopainenkylä, Pöhjois-Karjala&quot;;</div><div class="t m0 x3 h1e y2e0 ff32 fsa fc2 sc0 ls0 ws0">$address = strtr($address, &quot;äåö&quot;, &quot;aao&quot;);</div><div class="t m0 x3 h1e y8bf ff32 fsa fc2 sc0 ls0 ws0">echo $address; // 09479 Huopainenkyloa, Pohjois-Karjala</div><div class="t m0 x1a h1e y8c0 ff2c fsa fc2 sc0 ls0 ws0">The most flexible and powerful way to replace strings is b<span class="_ _1"></span>y using the <span class="ff32">preg_match()</span> </div><div class="t m0 x3 h12 y8c1 ff2c fsa fc2 sc0 ls0 ws0">function, which allows you to use r<span class="_ _1"></span>egular expressions to find slices of the string to replace<span class="_ _1"></span>. </div><div class="t m0 x3 h12 y8c2 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou’ll learn more about regular expr<span class="_ _1"></span>essions in the “S<span class="_ _1"></span>tring Patterns: Regular Expressions<span class="_ _1"></span>” </div><div class="t m0 x3 h12 y8c3 ff2c fsa fc2 sc0 ls0 ws0">section later in this chapter<span class="_ _2"></span>.</div><div class="t m0 x3 h19 y91b ff31 fsd fc2 sc0 ls0 ws0">Formatting Strings</div><div class="t m0 x3 h1e y91c ff2c fsa fc2 sc0 ls0 ws0">The <span class="ff32">printf()</span> function is used to output a formatted string. Y<span class="_ _2"></span>ou should read car<span class="_ _1"></span>efully </div><div class="t m0 x3 h12 y91d ff2c fsa fc2 sc0 ls0 ws0">though the PHP Man<span class="_ _1"></span>ual</div><div class="t m0 x5b h15 y91e ff2c fsb fc4 sc0 ls0 ws0">7</div><div class="t m0 x9 h12 y91f ff2c fsa fc2 sc0 ls0 ws0"> and make sur<span class="_ _1"></span>e that you’<span class="_ _1"></span>ve practiced using it. The general us<span class="_ _1"></span>age </div><div class="t m0 x3 h12 y920 ff2c fsa fc2 sc0 ls0 ws0">is to specify a formatting string and the values tha<span class="_ _1"></span>t need to be placed into it.</div><div class="t m0 x3 h1e y921 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y922 ff32 fsa fc2 sc0 ls0 ws0">$minutes = 60;</div><div class="t m0 x3 h1e y923 ff32 fsa fc2 sc0 ls0 ws0">$timeUnit = &quot;an hour&quot;;</div><div class="t m0 x3 h1e y924 ff32 fsa fc2 sc0 ls0 ws0">printf(&quot;There are %u minutes in %s.&quot;, $minutes, $timeUnit);</div><div class="t m0 x1a h1e y925 ff2c fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, you’ll notice that the first parameter to <span class="ff32">printf()</span> h<span class="_ _1"></span>as two </div><div class="t m0 x3 h12 y926 ff2c fsa fc2 sc0 ls0 ws0">placeholders marked b<span class="_ _1"></span>y percentage symbols<span class="_ _1"></span>. The following parameters ar<span class="_ _1"></span>e values that </div><div class="t m0 x3 h12 y927 ff2c fsa fc2 sc0 ls0 ws0">must be typecast and inserted into those placeholders.</div><div class="t m0 x3 h40 y2f4 ff35 fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x1d h23 y2f5 ff32 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.printf.php</div><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:149.912000px;bottom:248.325000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.printf.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.828300px;width:191.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5b" class="pf w2 h4" data-page-no="5b"><div class="pc pc5b w2 h4"><img class="bi x8 y928 w3 h50" alt="" src="bg5b.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls2a ws10c">70</div><div class="t m0 x3 h12 y1b8 ff2c fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e a number of symbols that can be used to format par<span class="_ _1"></span>ameters. Y<span class="_ _2"></span>ou’ll find </div><div class="t m0 x8 h12 y1b9 ff2c fsa fc2 sc0 ls0 ws0">this list on the PHP web site,</div><div class="t m0 x5c h15 y929 ff2c fsb fc4 sc0 ls0 ws0">8</div><div class="t m0 x5b h12 y92a ff2c fsa fc2 sc0 ls0 ws0"> but for your convenience I<span class="_ _1"></span>’m including it here:</div><div class="t m0 x8 h20 y1ea ff30 fs6 fc2 sc0 ls0 ws0">Symbol<span class="_ _77"> </span>Format</div><div class="t m0 x8 h1e y1eb ff32 fsa fc2 sc0 ls0 ws0">%%<span class="_ _67"> </span><span class="ff2c">A literal percen<span class="_ _1"></span>t character<span class="_ _2"></span>. No ar<span class="_ _1"></span>gument is required.</span></div><div class="t m0 x8 h1e y1ec ff32 fsa fc2 sc0 ls0 ws0">%b<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as a binary number<span class="_ _11"></span>.</span></div><div class="t m0 x8 h1e y92b ff32 fsa fc2 sc0 ls0 ws0">%c<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as the char<span class="_ _1"></span>acter </span></div><div class="t m0 x42 h12 y22f ff2c fsa fc2 sc0 ls0 ws0">with that ASCII value.</div><div class="t m0 x8 h1e y230 ff32 fsa fc2 sc0 ls0 ws0">%d<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as a (signed) </span></div><div class="t m0 x42 h12 y92c ff2c fsa fc2 sc0 ls0 ws0">decimal number<span class="_ _2"></span>.</div><div class="t m0 x8 h1e y92d ff32 fsa fc2 sc0 ls0 ws0">%e<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as scientific notation (<span class="_ _1"></span>e.g., 1.2e+2). The pr<span class="_ _1"></span>ecision </span></div><div class="t m0 x42 h12 y92e ff2c fsa fc2 sc0 ls0 ws0">specifier stands for the number of digits after the decimal point since </div><div class="t m0 x42 h12 y92f ff2c fsa fc2 sc0 ls0 ws0">PHP 5.2.1. In earlier versions<span class="_ _1"></span>, it was taken as the number of significant </div><div class="t m0 x42 h12 y930 ff2c fsa fc2 sc0 ls0 ws0">digits (<span class="_ _1"></span>one less).</div><div class="t m0 x8 h1e y931 ff32 fsa fc2 sc0 ls0 ws0">%E<span class="_ _67"> </span><span class="ff2c">Like </span>%e<span class="ff2c"> but uses an uppercase letter (<span class="_ _1"></span>e.g., 1.2E+2).</span></div><div class="t m0 x8 h1e y932 ff32 fsa fc2 sc0 ls0 ws0">%f<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as a float and presented as a floa<span class="_ _1"></span>ting-point </span></div><div class="t m0 x42 h12 y933 ff2c fsa fc2 sc0 ls0 ws0">number (locale-a<span class="_ _1"></span>ware).</div><div class="t m0 x8 h1e y934 ff32 fsa fc2 sc0 ls0 ws0">%F<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as a float and presented as a floa<span class="_ _1"></span>ting-point </span></div><div class="t m0 x42 h12 y935 ff2c fsa fc2 sc0 ls0 ws0">number (non-locale-a<span class="_ _1"></span>ware). A<span class="_ _1"></span>vaila<span class="_ _1"></span>ble since PHP 4.3.10 and PHP 5.0.3.</div><div class="t m0 x8 h1e y936 ff32 fsa fc2 sc0 ls0 ws0">%g<span class="_ _67"> </span><span class="ff2c">Shorter of </span>%e<span class="ff2c"> and </span>%f<span class="ff2c">.</span></div><div class="t m0 x8 h1e y937 ff32 fsa fc2 sc0 ls0 ws0">%G<span class="_ _67"> </span><span class="ff2c">Shorter of </span>%E<span class="ff2c"> and </span>%f<span class="ff2c">.</span></div><div class="t m0 x8 h1e y938 ff32 fsa fc2 sc0 ls0 ws0">%o<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as an octal num<span class="_ _1"></span>ber<span class="_ _2"></span>.</span></div><div class="t m0 x8 h1e y23e ff32 fsa fc2 sc0 ls0 ws0">%s<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as and presented as a string.</span></div><div class="t m0 x8 h1e y939 ff32 fsa fc2 sc0 ls0 ws0">%u<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as an unsigned </span></div><div class="t m0 x42 h12 y93a ff2c fsa fc2 sc0 ls0 ws0">decimal number<span class="_ _2"></span>.</div><div class="t m0 x8 h1e y93b ff32 fsa fc2 sc0 ls0 ws0">%x<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as a hexadecimal </span></div><div class="t m0 x42 h12 y242 ff2c fsa fc2 sc0 ls0 ws0">number (with lowercase letters).</div><div class="t m0 x8 h1e y243 ff32 fsa fc2 sc0 ls0 ws0">%X<span class="_ _67"> </span><span class="ff2c">The argument is tr<span class="_ _1"></span>eated as an integer and presented as a hexadecimal </span></div><div class="t m0 x42 h12 y93c ff2c fsa fc2 sc0 ls0 ws0">number (with uppercase letters).</div><div class="t m0 x3 h12 y245 ff2c fsa fc2 sc0 ls0 ws0">PHP formats are locale-a<span class="_ _1"></span>ware<span class="_ _1"></span>, which affects how they represen<span class="_ _1"></span>t numbers and dates. </div><div class="t m0 x8 h12 y246 ff2c fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, if you set the locale to Dutch then the date would be o<span class="_ _1"></span>utput in Dutch. This is </div><div class="t m0 x8 h12 y247 ff2c fsa fc2 sc0 ls0 ws0">shown in an example on the PHP Man<span class="_ _1"></span>ual:</div><div class="t m0 x8 h1e y249 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y24a ff32 fsa fc2 sc0 ls0 ws0">// Set locale to Dutch</div><div class="t m0 x8 h1e y24b ff32 fsa fc2 sc0 ls0 ws0">setlocale(LC_ALL, &apos;nl_NL&apos;);</div><div class="t m0 x8 h1e y93d ff32 fsa fc2 sc0 ls0 ws0">// Output: vrijdag 22 december 1978</div><div class="t m0 x8 h1e y93e ff32 fsa fc2 sc0 ls0 ws0">echo strftime(&quot;%A %e %B %Y&quot;, mktime(0, 0, 0, 12, 22, 1978));</div><div class="t m0 x8 h40 y93f ff35 fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x26 h23 y940 ff32 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.sprintf.php</div><a class="l" href="#pf5b" data-dest-detail='[91,"XYZ",39,83,null]'><div class="d m1" style="border-style:none;position:absolute;left:147.554000px;bottom:578.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.sprintf.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:70.439400px;width:225.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5c" class="pf w2 h4" data-page-no="5c"><div class="pc pc5c w2 h4"><img class="bi x3 y941 w5 h29" alt="" src="bg5c.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x14 hd y55 ff2c fs6 fc2 sc0 ls2a ws10c">71</div><div class="t m0 x23 h10 y198 ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2">Caution<span class="ff33"> <span class="_ _2c"> </span> Locale information is maintained per process,<span class="_ _1"></span> not per thread.</span></span></span></div><div class="t m0 x1a h12 y942 ff2c fsa fc2 sc0 ls0 ws0">If you are running PHP on a m<span class="_ _1"></span>ultithreaded server API like IIS, HHVM, or Apache on </div><div class="t m0 x3 h12 y943 ff2c fsa fc2 sc0 ls0 ws0">Windows<span class="_ _1"></span>, you may experience sudden changes in locale settin<span class="_ _1"></span>gs while a script is r<span class="_ _0"></span>unning<span class="_ _1"></span>, </div><div class="t m0 x3 h1e y944 ff2c fsa fc2 sc0 ls0 ws0">although the script itself never called <span class="ff32">setlocale()</span>.</div><div class="t m0 x1a h12 y945 ff2c fsa fc2 sc0 ls0 ws0">This happens due to other scripts running in different thr<span class="_ _1"></span>eads of the same process at </div><div class="t m0 x3 h1e y946 ff2c fsa fc2 sc0 ls0 ws0">the same time, chan<span class="_ _1"></span>ging the process-wide locale using <span class="ff32">setlocale()</span>.</div><div class="t m0 x1a h1e y947 ff2c fsa fc2 sc0 ls0 ws0">On a POSI<span class="_ _0"></span>X system<span class="_ _1"></span>, you can use the shell command <span class="ff32">locale –a</span> to list all of the </div><div class="t m0 x3 h12 y948 ff2c fsa fc2 sc0 ls0 ws0">locales it supports. On Windows m<span class="_ _1"></span>achines, there ar<span class="_ _1"></span>e pages on the MSDN listing the </div><div class="t m0 x3 h12 y949 ff2c fsa fc2 sc0 ls0 ws0">regions and you can view them in y<span class="_ _1"></span>our control panel.</div><div class="t m0 x3 h19 y94a ff31 fsd fc2 sc0 ls0 ws0">Formatting Numbers</div><div class="t m0 x3 h1e y94b ff2c fsa fc2 sc0 ls0 ws0">The <span class="ff32">number_format()</span> function is a simple way to forma<span class="_ _1"></span>t numbers.</div><div class="t m0 x1a h1e y94c ff32 fsa fc2 sc0 ls0 ws0">number_format()<span class="ff2c"> is not locale-awar<span class="_ _1"></span>e and so won’t automatically choose the </span></div><div class="t m0 x3 h12 y94d ff2c fsa fc2 sc0 ls0 ws0">separator char<span class="_ _1"></span>acters for you. By default, the tho<span class="_ _1"></span>usands separator is a comma and no </div><div class="t m0 x3 h12 y94e ff2c fsa fc2 sc0 ls0 ws0">decimal places are displa<span class="_ _1"></span>yed.</div><div class="t m0 x1a h12 y94f ff2c fsa fc2 sc0 ls0 ws0">The function takes parameters for the n<span class="_ _1"></span>umber to be formatted, how many decimal </div><div class="t m0 x3 h12 y950 ff2c fsa fc2 sc0 ls0 ws0">places to display, the char<span class="_ _1"></span>acter for the decimal point, and the thousands separa<span class="_ _1"></span>tor </div><div class="t m0 x3 h12 y951 ff2c fsa fc2 sc0 ls0 ws0">character<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y952 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can pass one, two<span class="_ _1"></span>, or four parameters to the function. Her<span class="_ _1"></span>e is an example:</div><div class="t m0 x3 h1e y953 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y954 ff32 fsa fc2 sc0 ls0 ws0">$number = 1234.5678;</div><div class="t m0 x3 h1e y955 ff32 fsa fc2 sc0 ls0 ws0">// 1,235</div><div class="t m0 x3 h1e y956 ff32 fsa fc2 sc0 ls0 ws0">echo number_format($number) . PHP_EOL;</div><div class="t m0 x3 h1e y957 ff32 fsa fc2 sc0 ls0 ws0">// 1,234.568</div><div class="t m0 x3 h1e y958 ff32 fsa fc2 sc0 ls0 ws0">echo number_format($number, 3) . PHP_EOL;</div><div class="t m0 x3 h1e y959 ff32 fsa fc2 sc0 ls0 ws0">// 1.234,57</div><div class="t m0 x3 h1e y95a ff32 fsa fc2 sc0 ls0 ws0">echo number_format($number, 2, &apos;,&apos;, &apos;.&apos;) . PHP_EOL;</div><div class="t m0 x1a h1e y95b ff2c fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o format currency, you can use the <span class="ff32">money_format()</span> function. It is locale-a<span class="_ _1"></span>ware and </div><div class="t m0 x3 h12 y95c ff2c fsa fc2 sc0 ls0 ws0">uses the information set by the host system<span class="_ _1"></span>.</div><div class="t m0 x3 h1e y95d ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y95e ff32 fsa fc2 sc0 ls0 ws0">// Locale is British English</div><div class="t m0 x3 h1e y95f ff32 fsa fc2 sc0 ls0 ws0">setlocale(LC_MONETARY, &apos;en_GB&apos;);</div><div class="t m0 x3 h1e y960 ff32 fsa fc2 sc0 ls0 ws0">echo money_format(&apos;%.2n&apos;, &quot;5000000.123&quot;);</div><div class="t m0 x3 h1e y961 ff32 fsa fc2 sc0 ls0 ws0">// Locale is Denmark</div><div class="t m0 x3 h1e y962 ff32 fsa fc2 sc0 ls0 ws0">setlocale(LC_MONETARY, &apos;da_DK&apos;);</div><div class="t m0 x3 h1e y963 ff32 fsa fc2 sc0 ls0 ws0">echo money_format(&apos;%.2n&apos;, &quot;5000000.123&quot;);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5d" class="pf w2 h4" data-page-no="5d"><div class="pc pc5d w2 h4"><img class="bi x8 y175 w3 h51" alt="" src="bg5d.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls2e ws107">72</div><div class="t m0 x3 h12 y1b8 ff2c fsa fc2 sc0 ls0 ws0">The output looks like this:</div><div class="t m0 x8 h1e y2d2 ff32 fsa fc2 sc0 ls0 ws0">£5,000,000.12</div><div class="t m0 x8 h1e y2d3 ff32 fsa fc2 sc0 ls0 ws0">kr 5.000.000,12</div><div class="t m0 x8 h19 y964 ff31 fsd fc2 sc0 ls0 ws0">String Patterns:<span class="_ _1"></span> Regular Expressions</div><div class="t m0 x8 h12 y965 ff2c fsa fc2 sc0 ls0 ws0">Regular expressions ar<span class="_ _1"></span>e a set of rules against which you match s<span class="_ _1"></span>trings. The rules are </div><div class="t m0 x8 h12 y966 ff2c fsa fc2 sc0 ls0 ws0">written as a string using a format that describes the pattern yo<span class="_ _1"></span>u are searching for<span class="_ _11"></span>. There </div><div class="t m0 x8 h12 y967 ff2c fsa fc2 sc0 ls0 ws0">are several fla<span class="_ _1"></span>vors of regex; PHP uses Perl Compatible Regular Expressions (PCRE).</div><div class="t m0 x3 h12 y968 ff2c fsa fc2 sc0 ls0 ws0">When learning regular expr<span class="_ _1"></span>essions, you should find an online r<span class="_ _1"></span>egex tester that </div><div class="t m0 x8 h12 y969 ff2c fsa fc2 sc0 ls0 ws0">you like<span class="_ _1"></span>. There are sever<span class="_ _1"></span>al to choose from and they make it a lot quicker to pla<span class="_ _1"></span>y with </div><div class="t m0 x8 h12 y96a ff2c fsa fc2 sc0 ls0 ws0">expressions and see how they ma<span class="_ _1"></span>tch strings.</div><div class="t m0 x5d h15 y96b ff2c fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x8 h26 y96c ff2c fse fc2 sc0 ls0 ws0">Delimiters</div><div class="t m0 x8 h12 y96d ff2c fsa fc2 sc0 ls0 ws0">Regular expressions ar<span class="_ _1"></span>e delimited by charact<span class="_ _1"></span>ers that appear at the beginning and end of </div><div class="t m0 x8 h1e y96e ff2c fsa fc2 sc0 ls0 ws0">each pattern in your expr<span class="_ _1"></span>ession. Usually the forward slash is used, but <span class="ff32">#</span> and <span class="ff32">!</span> are also </div><div class="t m0 x8 h12 y96f ff2c fsa fc2 sc0 ls0 ws0">common.</div><div class="t m0 x3 h12 y970 ff2c fsa fc2 sc0 ls0 ws0">Any character c<span class="_ _1"></span>an be used, but the delimiter will need to b<span class="_ _0"></span>e escaped inside yo<span class="_ _1"></span>ur </div><div class="t m0 x8 h12 y971 ff2c fsa fc2 sc0 ls0 ws0">expressions<span class="_ _1"></span>, so it is standard to choose a delimiter that is not likely to occur in y<span class="_ _1"></span>our search </div><div class="t m0 x8 h12 y972 ff2c fsa fc2 sc0 ls0 ws0">expression. F<span class="_ _1"></span>or example, if you’r<span class="_ _1"></span>e going to be searching dir<span class="_ _1"></span>ectories to find those which </div><div class="t m0 x8 h12 y973 ff2c fsa fc2 sc0 ls0 ws0">match a patt<span class="_ _1"></span>ern, the for<span class="_ _0"></span>war<span class="_ _1"></span>d slash character might not be the best choice of delimiter<span class="_ _11"></span>.</div><div class="t m0 x8 h26 y974 ff2c fse fc2 sc0 ls0 ws0">Meta-Ch<span class="_ _1"></span>aracters</div><div class="t m0 x8 h12 y975 ff2c fsa fc2 sc0 ls0 ws0">Meta-char<span class="_ _1"></span>acters are interpr<span class="_ _1"></span>eted to have a meaning in the sear<span class="_ _1"></span>ch pattern. They need to be </div><div class="t m0 x8 h12 y976 ff2c fsa fc2 sc0 ls0 ws0">escaped if you intend to ha<span class="_ _1"></span>ve them as a literal part of the expres<span class="_ _1"></span>sion. They are listed in the </div><div class="t m0 x8 h12 y977 ff2c fsa fc2 sc0 ls0 ws0">following table.</div><div class="t m0 x8 h20 y978 ff30 fs6 fc2 sc0 ls0 ws0">Character<span class="_ _37"> </span>Meaning</div><div class="t m0 x8 h1e y979 ff32 fsa fc2 sc0 ls0 ws0">\<span class="_ _78"> </span><span class="ff2c">General escape character</span></div><div class="t m0 x8 h1e y97a ff32 fsa fc2 sc0 ls0 ws0">^<span class="_ _78"> </span><span class="ff2c">Start of subject or line</span></div><div class="t m0 x8 h1e y97b ff32 fsa fc2 sc0 ls0 ws0">$<span class="_ _78"> </span><span class="ff2c">End of subject or line</span></div><div class="t m0 x8 h1e y97c ff32 fsa fc2 sc0 ls0 ws0">.<span class="_ _78"> </span><span class="ff2c">Ma<span class="_ _1"></span>tch any character except newline</span></div><div class="t m0 x8 h1e y97d ff32 fsa fc2 sc0 ls0 ws0">[<span class="_ _78"> </span><span class="ff2c">Start defining a character c<span class="_ _1"></span>lass</span></div><div class="t m0 x8 h1e y97e ff32 fsa fc2 sc0 ls0 ws0">]<span class="_ _78"> </span><span class="ff2c">End defining a charact<span class="_ _1"></span>er class</span></div><div class="t m0 x8 h1e y97f ff32 fsa fc2 sc0 ls0 ws0">|<span class="_ _78"> </span><span class="ff2c">Start of an alternate br<span class="_ _1"></span>anch (like an “<span class="_ _2"></span>or<span class="_ _0"></span>”)</span></div><div class="t m0 x59 h12 y980 ff2c fsa fc2 sc0 ls0 ws0">(<span class="ff38">continued</span>)</div><div class="t m0 x8 h40 y981 ff35 fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x26 h23 y982 ff35 fs5 fc2 sc0 ls0 ws0">For example, the site <span class="ff32 fc4">https://regex101.com/</span> is a great place to play with regex.</div><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:208.510000px;bottom:446.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://regex101.com/"><div class="d m1" style="border-style:none;position:absolute;left:115.680000px;bottom:73.828300px;width:89.250000px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5e" class="pf w2 h4" data-page-no="5e"><div class="pc pc5e w2 h4"><img class="bi x3 y983 w5 h52" alt="" src="bg5e.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls3a ws113">73</div><div class="t m0 x3 h20 y984 ff30 fs6 fc2 sc0 ls0 ws0">Character<span class="_ _37"> </span>Meaning</div><div class="t m0 x3 h1e y985 ff32 fsa fc2 sc0 ls0 ws0">(<span class="_ _78"> </span><span class="ff2c">Start of a sub-<span class="_ _1"></span>pattern</span></div><div class="t m0 x3 h1e y986 ff32 fsa fc2 sc0 ls0 ws0">)<span class="_ _78"> </span><span class="ff2c">End of a sub-<span class="_ _1"></span>pattern</span></div><div class="t m0 x3 h1e y987 ff32 fsa fc2 sc0 ls0 ws0">?<span class="_ _78"> </span><span class="ff2c">Zero or one quantifier</span></div><div class="t m0 x3 h1e y988 ff32 fsa fc2 sc0 ls0 ws0">*<span class="_ _78"> </span><span class="ff2c">Zero or more quan<span class="_ _1"></span>tifier</span></div><div class="t m0 x3 h1e y989 ff32 fsa fc2 sc0 ls0 ws0">+<span class="_ _78"> </span><span class="ff2c">One or more quantifier</span></div><div class="t m0 x3 h1e y98a ff32 fsa fc2 sc0 ls0 ws0">{<span class="_ _78"> </span><span class="ff2c">Start min/max quantifier</span></div><div class="t m0 x3 h1e y98b ff32 fsa fc2 sc0 ls0 ws0">}<span class="_ _78"> </span><span class="ff2c">End min/max quantifier</span></div><div class="t m0 x1a h12 y98c ff2c fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’ll be building on this as we work thr<span class="_ _1"></span>ough this section, but for now just be aw<span class="_ _1"></span>are </div><div class="t m0 x3 h12 y98d ff2c fsa fc2 sc0 ls0 ws0">that these symbols conv<span class="_ _1"></span>ey a certain meaning in a regular expression or pat<span class="_ _1"></span>tern. Y<span class="_ _1"></span>ou will </div><div class="t m0 x3 h12 y98e ff2c fsa fc2 sc0 ls0 ws0">need to be familiar with them before sitting for your exam.</div><div class="t m0 x3 h26 y98f ff2c fse fc2 sc0 ls0 ws0">Gener<span class="_ _0"></span>ic Ch<span class="_ _1"></span>aracter T<span class="_ _1"></span>ypes</div><div class="t m0 x3 h12 y990 ff2c fsa fc2 sc0 ls0 ws0">Regex offers a way for you to specify th<span class="_ _1"></span>at a character in your sear<span class="_ _1"></span>ch string may be any of a </div><div class="t m0 x3 h12 y991 ff2c fsa fc2 sc0 ls0 ws0">particular type. Y<span class="_ _2"></span>ou specify them using the backslash (Escape) meta-character and then </div><div class="t m0 x3 h12 y992 ff2c fsa fc2 sc0 ls0 ws0">pro<span class="_ _1"></span>viding the letter for the type.</div><div class="t m0 x1a h12 y993 ff2c fsa fc2 sc0 ls0 ws0">The following table lists the char<span class="_ _1"></span>acter types that are a<span class="_ _1"></span>vailable in PCRE.</div><div class="t m0 x3 h20 y994 ff30 fs6 fc2 sc0 ls0 ws0">Symbol<span class="_ _20"> </span>Character T<span class="_ _2"></span>ype</div><div class="t m0 x3 h1e y995 ff32 fsa fc2 sc0 ls0 ws0">\d<span class="_ _43"> </span><span class="ff2c">Any decimal digit</span></div><div class="t m0 x3 h1e y996 ff32 fsa fc2 sc0 ls0 ws0">\h<span class="_ _43"> </span><span class="ff2c">Any horizontal whitespace char<span class="_ _1"></span>acter</span></div><div class="t m0 x3 h1e y997 ff32 fsa fc2 sc0 ls0 ws0">\s<span class="_ _43"> </span><span class="ff2c">Any whitespace char<span class="_ _1"></span>acter</span></div><div class="t m0 x3 h1e y998 ff32 fsa fc2 sc0 ls0 ws0">\v<span class="_ _43"> </span><span class="ff2c">Any vertical whitespace char<span class="_ _1"></span>acter</span></div><div class="t m0 x3 h1e y999 ff32 fsa fc2 sc0 ls0 ws0">\w<span class="_ _43"> </span><span class="ff2c">Any “word” ch<span class="_ _1"></span>aracter</span></div><div class="t m0 x3 h1e y99a ff32 fsa fc2 sc0 ls0 ws0">\D<span class="_ _43"> </span><span class="ff2c">Any character th<span class="_ _1"></span>at is not a decimal digit</span></div><div class="t m0 x3 h1e y99b ff32 fsa fc2 sc0 ls0 ws0">\H<span class="_ _43"> </span><span class="ff2c">Any character th<span class="_ _1"></span>at is not horizontal whitespace</span></div><div class="t m0 x3 h1e y99c ff32 fsa fc2 sc0 ls0 ws0">\S<span class="_ _43"> </span><span class="ff2c">Any character th<span class="_ _1"></span>at is not whitespace</span></div><div class="t m0 x3 h1e y99d ff32 fsa fc2 sc0 ls0 ws0">\V<span class="_ _43"> </span><span class="ff2c">Any character th<span class="_ _1"></span>at is not a vertical whitespace character</span></div><div class="t m0 x3 h1e y99e ff32 fsa fc2 sc0 ls0 ws0">\W<span class="_ _43"> </span><span class="ff2c">Any “<span class="_ _1"></span>non-word” char<span class="_ _1"></span>acter</span></div><div class="t m0 x1a h12 y99f ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should immediately spot that the capital symbol is the in<span class="_ _1"></span>verse of the lowercase </div><div class="t m0 x3 h12 y9a0 ff2c fsa fc2 sc0 ls0 ws0">symbol.</div><div class="t m0 x1a h12 y9a1 ff2c fsa fc2 sc0 ls0 ws0">A “word” ch<span class="_ _1"></span>aracter is any letter<span class="_ _2"></span>, digit, or the underscor<span class="_ _1"></span>e character<span class="_ _2"></span>. The actual </div><div class="t m0 x3 h12 y9a2 ff2c fsa fc2 sc0 ls0 ws0">characters th<span class="_ _1"></span>at are included in this are locale-a<span class="_ _1"></span>ware<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5f" class="pf w2 h4" data-page-no="5f"><div class="pc pc5f w2 h4"><img class="bi x8 y175 w3 h53" alt="" src="bg5f.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls3c ws115">74</div><div class="t m0 x8 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">Boundaries</div><div class="t m0 x8 h12 y3c0 ff2c fsa fc2 sc0 ls0 ws0">A word boundary is a position in the string where the current ch<span class="_ _1"></span>aracter and previous </div><div class="t m0 x8 h1e y3c1 ff2c fsa fc2 sc0 ls0 ws0">character do not both ma<span class="_ _1"></span>tch <span class="ff32">\w</span> or <span class="ff32">W</span>.</div><div class="t m0 x3 h12 y531 ff2c fsa fc2 sc0 ls0 ws0">In other words<span class="_ _1"></span>, it is a position in the string where a word starts or finishes<span class="_ _1"></span>, or a </div><div class="t m0 x8 h1e y450 ff2c fsa fc2 sc0 ls0 ws0">position where one of the char<span class="_ _1"></span>acters matches <span class="ff32">\w</span> and the other matches <span class="ff32">W</span>.</div><div class="t m0 x8 h20 y9a3 ff30 fs6 fc2 sc0 ls0 ws0">Symbol<span class="_ _16"> </span>Boundary</div><div class="t m0 x8 h1e y9a4 ff32 fsa fc2 sc0 ls0 ws0">\b<span class="_ _51"> </span><span class="ff2c">Wor<span class="_ _1"></span>d boundary</span></div><div class="t m0 x8 h1e y9a5 ff32 fsa fc2 sc0 ls0 ws0">\B<span class="_ _51"> </span><span class="ff2c">Not a word boundary</span></div><div class="t m0 x8 h1e y9a6 ff32 fsa fc2 sc0 ls0 ws0">\A<span class="_ _51"> </span><span class="ff2c">Start of a subject</span></div><div class="t m0 x8 h1e y9a7 ff32 fsa fc2 sc0 ls0 ws0">\Z<span class="_ _51"> </span><span class="ff2c">End of subject or newline at end</span></div><div class="t m0 x8 h1e y9a8 ff32 fsa fc2 sc0 ls0 ws0">\z<span class="_ _51"> </span><span class="ff2c">End of subject</span></div><div class="t m0 x8 h1e y9a9 ff32 fsa fc2 sc0 ls0 ws0">\G<span class="_ _51"> </span><span class="ff2c">First matching position in subject</span></div><div class="t m0 x1e h10 y9aa ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff33 fc2"> <span class="_ _2c"> </span> PHP uses PCRE expressions.<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can find this table in the original specification </span></span></div><div class="t m0 x8 h10 y9ab ff33 fs6 fc2 sc0 ls0 ws0">document at <span class="ff32 fsa fc4">http://www.pcre.org/original/doc/html/pcrepattern.html</span>.</div><div class="t m0 x8 h26 y9ac ff2c fse fc2 sc0 ls0 ws0">Char<span class="_ _1"></span>acter Classes</div><div class="t m0 x8 h12 y9ad ff2c fsa fc2 sc0 ls0 ws0">Character classes ar<span class="_ _1"></span>e very flex<span class="_ _0"></span>ible wa<span class="_ _1"></span>ys to define what set of characters in y<span class="_ _1"></span>our search </div><div class="t m0 x8 h12 y9ae ff2c fsa fc2 sc0 ls0 ws0">string can be matched. By specifying a sm<span class="_ _1"></span>all sequence of characters in your pattern, yo<span class="_ _1"></span>u </div><div class="t m0 x8 h12 y9af ff2c fsa fc2 sc0 ls0 ws0">can match a m<span class="_ _1"></span>uch larger set of characters in your sear<span class="_ _1"></span>ch string.</div><div class="t m0 x3 h12 y9b0 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou saw in the meta-characters table th<span class="_ _1"></span>at you crea<span class="_ _1"></span>te a character class by put<span class="_ _1"></span>ting it </div><div class="t m0 x8 h1e y9b1 ff2c fsa fc2 sc0 ls0 ws0">inside square brac<span class="_ _1"></span>kets. An example of a char<span class="_ _1"></span>acter class is <span class="ff32">[A-Z]</span>, which stands for all of </div><div class="t m0 x8 h12 y9b2 ff2c fsa fc2 sc0 ls0 ws0">the letters in the uppercase alpha<span class="_ _1"></span>bet.</div><div class="t m0 x3 h1e y9b3 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can also use all of the gener<span class="_ _0"></span>ic types in char<span class="_ _1"></span>acter classes, so <span class="ff32">[A-Z\d]</span> would </div><div class="t m0 x8 h12 y9b4 ff2c fsa fc2 sc0 ls0 ws0">match all of the upper<span class="_ _1"></span>case letters as well as digits.</div><div class="t m0 x8 h26 y9b5 ff2c fse fc2 sc0 ls0 ws0">M<span class="_ _1"></span>atching M<span class="_ _1"></span>ore Th<span class="_ _1"></span>an Once</div><div class="t m0 x8 h1e y9b6 ff2c fsa fc2 sc0 ls0 ws0">The expression <span class="ff32">/[A-Z\d]/</span> applied ag<span class="_ _1"></span>ainst the string <span class="ff32">&quot;abc123ABCabc&quot;</span> will match the </div><div class="t m0 x8 h1e y9b7 ff32 fsa fc2 sc0 ls0 ws0">&quot;1&quot;<span class="ff2c"> character<span class="_ _11"></span>. In other words, it ma<span class="_ _1"></span>tches the first occurrence in the search string of a </span></div><div class="t m0 x8 h12 y9b8 ff2c fsa fc2 sc0 ls0 ws0">character tha<span class="_ _1"></span>t matches the expression.</div><div class="t m0 x3 h1e y9b9 ff2c fsa fc2 sc0 ls0 ws0">If you refer bac<span class="_ _1"></span>k to the table on meta-characters<span class="_ _1"></span>, you can see that the <span class="ff32">+</span> symbol </div><div class="t m0 x8 h12 y9ba ff2c fsa fc2 sc0 ls0 ws0">can be used to specify that you want one<span class="_ _1"></span>, or more<span class="_ _1"></span>, of the pattern. So the expression </div><div class="t m0 x8 h1e y9bb ff32 fsa fc2 sc0 ls0 ws0">/[A-Z\d]+/<span class="ff2c"> applied against the string </span>&quot;abc123ABCabc&quot;<span class="ff2c"> will match the </span>&quot;123ABC&quot;<span class="ff2c"> </span></div><div class="t m0 x8 h12 y9bc ff2c fsa fc2 sc0 ls0 ws0">characters<span class="_ _1"></span>.</div><div class="t m0 xd h15 y9bd ff2c fsb fc4 sc0 ls0 ws0">10</div><div class="t m0 x8 h40 y26d ff35 fsc fc2 sc0 ls0 ws0">10</div><div class="t m0 x3c h23 y26e ff32 fs5 fc4 sc0 ls0 ws0">https://regex101.com/r/EXsPkY/2</div><a class="l" href="http://www.pcre.org/original/doc/html/pcrepattern.html"><div class="d m1" style="border-style:none;position:absolute;left:88.548800px;bottom:363.399000px;width:243.000200px;height:11.624000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:81.791700px;bottom:106.435000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://regex101.com/r/EXsPkY/2"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:73.828300px;width:131.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf60" class="pf w2 h4" data-page-no="60"><div class="pc pc60 w2 h4"><img class="bi x3 y9be w5 h54" alt="" src="bg60.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x14 hd y55 ff2c fs6 fc2 sc0 ls3d ws116">75</div><div class="t m0 x1a h12 y1b8 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use braces to limit the number of matches<span class="_ _1"></span>. The syntax is best displayed in a </div><div class="t m0 x3 h1e y1b9 ff2c fsa fc2 sc0 ls0 ws0">table, wher<span class="_ _1"></span>e you match the expr<span class="_ _1"></span>ession against the string <span class="ff32">&quot;abc123ABCabc&quot;</span>:</div><div class="t m0 x3 h20 y1ea ff30 fs6 fc2 sc0 ls0 ws0">Expression<span class="_ _49"> </span>Limit<span class="_ _50"> </span>Output</div><div class="t m0 x3 h1e y1eb ff32 fsa fc2 sc0 ls0 ws0">/[A-Z\d]+/<span class="_ _79"> </span><span class="ff2c">One or unlimited<span class="_ _7a"> </span>123ABC</span></div><div class="t m0 x3 h1e y1ec ff32 fsa fc2 sc0 ls0 ws0">[A-Z\d]{3}<span class="_ _79"> </span><span class="ff2c">Exactly three<span class="_ _7b"> </span>123</span></div><div class="t m0 x3 h1e y1ed ff32 fsa fc2 sc0 ls0 ws0">[A-Z\d]{3,}<span class="_ _7c"> </span><span class="ff2c">Three or mor<span class="_ _1"></span>e<span class="_ _7d"> </span>123ABC</span></div><div class="t m0 x3 h1e y1ee ff32 fsa fc2 sc0 ls0 ws0">[A-Z\d]{3,5}<span class="_ _a"> </span><span class="ff2c">Between thr<span class="_ _1"></span>ee and five<span class="_ _68"> </span>123AB</span></div><div class="t m0 x3 h1e y1ef ff32 fsa fc2 sc0 ls0 ws0">[A-Z\d]{50}<span class="_ _7c"> </span><span class="ff2c">Exactly 50<span class="_ _7e"> </span><span class="ls33 ws10d">No match</span></span></div><div class="t m0 x3 h26 y9bf ff2c fse fc2 sc0 ls0 ws0">Capturing Gr<span class="_ _1"></span>oups</div><div class="t m0 x3 h12 y9c0 ff2c fsa fc2 sc0 ls0 ws0">Capturing gr<span class="_ _1"></span>oups are delineated by br<span class="_ _1"></span>ackets and allow you to apply a quan<span class="_ _1"></span>tifier to the </div><div class="t m0 x3 h12 y9c1 ff2c fsa fc2 sc0 ls0 ws0">group<span class="_ _1"></span>. They also produce n<span class="_ _1"></span>umbered groups th<span class="_ _1"></span>at store the value tha<span class="_ _1"></span>t was matched, and </div><div class="t m0 x3 h12 y9c2 ff2c fsa fc2 sc0 ls0 ws0">they can be refer<span class="_ _1"></span>enced elsewhere in your expression.</div><div class="t m0 x1a h12 y9c3 ff2c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we create a capturing gr<span class="_ _1"></span>oup around the word “<span class="_ _2"></span>cheeseburger” and </div><div class="t m0 x3 h12 y9c4 ff2c fsa fc2 sc0 ls0 ws0">use the group to specify that z<span class="_ _1"></span>ero or one of them will be matched.</div><div class="t m0 x3 h1e y9c5 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y9c6 ff32 fsa fc2 sc0 ls0 ws0">$subject = &quot;I can haz Cheeseburgers&quot;;</div><div class="t m0 x3 h1e y9c7 ff32 fsa fc2 sc0 ls0 ws0">$pattern = &quot;/I can haz (Cheeseburger)?/&quot;;</div><div class="t m0 x3 h1e y9c8 ff32 fsa fc2 sc0 ls0 ws0">$matches = [];</div><div class="t m0 x3 h1e y9c9 ff32 fsa fc2 sc0 ls0 ws0">preg_match($pattern, $subject, $matches);</div><div class="t m0 x3 h1e y9ca ff32 fsa fc2 sc0 ls0 ws0">var_dump($matches[0]);</div><div class="t m0 x1a h1e y9cb ff2c fsa fc2 sc0 ls0 ws0">This outputs <span class="ff32">string(22) &quot;I can haz Cheeseburger&quot;</span>. N<span class="_ _1"></span>ote that the “<span class="_ _1"></span>s<span class="_ _1"></span>” at the end of </div><div class="t m0 x3 h12 y9cc ff2c fsa fc2 sc0 ls0 ws0">the string is not matched.</div><div class="t m0 x23 h10 y9cd ff33 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff34">■<span class="_ _c"> </span><span class="ff36 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff33 fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>As an exercise,<span class="_ _1"></span> play with the regex in your favorite editor and see what happens if </span></span></div><div class="t m0 x3 h10 y9ce ff33 fs6 fc2 sc0 ls0 ws0">you use a subject <span class="_ _1"></span>“I can haz”<span class="_ _1"></span> (without a space at the end of the string).</div><div class="t m0 x1a h12 y9cf ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use non-capturing groups to optimize your query. Y<span class="_ _2"></span>ou should use these </div><div class="t m0 x3 h12 y9d0 ff2c fsa fc2 sc0 ls0 ws0">when you don’t need to captur<span class="_ _1"></span>e the match.</div><div class="t m0 x1a h1e y9d1 ff2c fsa fc2 sc0 ls0 ws0">They’re mar<span class="_ _1"></span>ked by placing a <span class="ff32">?:</span> mark a<span class="_ _1"></span>t the start of your group<span class="_ _1"></span>. The previo<span class="_ _1"></span>us </div><div class="t m0 x3 h1e y9d2 ff2c fsa fc2 sc0 ls0 ws0">example would be written as <span class="ff32">/I can haz (?:Cheeseburger)?/</span>. Note tha<span class="_ _1"></span>t this expression </div><div class="t m0 x3 h1e y9d3 ff2c fsa fc2 sc0 ls0 ws0">will still return the string to PHP as before<span class="_ _1"></span>, but it just won’t stor<span class="_ _1"></span>e the string <span class="ff32">Cheeseburger</span> </div><div class="t m0 x3 h12 y9d4 ff2c fsa fc2 sc0 ls0 ws0">as a group for the expr<span class="_ _1"></span>ession to reference<span class="_ _1"></span>.</div><div class="t m0 x1a h1e y9d5 ff2c fsa fc2 sc0 ls0 ws0">It ma<span class="_ _1"></span>y seem confusing that the <span class="ff32">?</span> is a quantifier and also denotes a non-capturing </div><div class="t m0 x3 h12 y9d6 ff2c fsa fc2 sc0 ls0 ws0">group<span class="_ _1"></span>. J<span class="_ _1"></span>ust remember th<span class="_ _1"></span>at a quantifier cannot occur at the start of a gro<span class="_ _1"></span>up because there </div><div class="t m0 x3 h12 y9d7 ff2c fsa fc2 sc0 ls0 ws0">is nothing to quantify.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf61" class="pf w2 h4" data-page-no="61"><div class="pc pc61 w2 h4"><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls3e ws117">76</div><div class="t m0 x8 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">Greed and Laziness</div><div class="t m0 x8 h12 y3c0 ff2c fsa fc2 sc0 ls0 ws0">By default, m<span class="_ _1"></span>atching is “<span class="_ _2"></span>greedy” and will match as much as possible of the string. </div><div class="t m0 x8 h12 y44f ff2c fsa fc2 sc0 ls0 ws0">Consider an example that yo<span class="_ _1"></span>u’ll work with. Imagine that yo<span class="_ _1"></span>u want to match HTML tags<span class="_ _1"></span>, </div><div class="t m0 x8 h12 y46e ff2c fsa fc2 sc0 ls0 ws0">so you try the following:</div><div class="t m0 x8 h1e y451 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y46f ff32 fsa fc2 sc0 ls0 ws0">$subject = &quot;Some &lt;strong&gt;html&lt;/strong&gt; text&quot;;</div><div class="t m0 x8 h1e y452 ff32 fsa fc2 sc0 ls0 ws0">$pattern = &quot;/&lt;.*&gt;/&quot;;</div><div class="t m0 x8 h1e y453 ff32 fsa fc2 sc0 ls0 ws0">$matches = [];</div><div class="t m0 x8 h1e y454 ff32 fsa fc2 sc0 ls0 ws0">preg_match($pattern, $subject, $matches);</div><div class="t m0 x8 h1e y470 ff32 fsa fc2 sc0 ls0 ws0">var_dump($matches[0]);  // string(21) &quot;&lt;strong&gt;html&lt;/strong&gt;&quot;</div><div class="t m0 x3 h1e y456 ff2c fsa fc2 sc0 ls0 ws0">This outputs <span class="ff32">string(21) &quot;&lt;strong&gt;html&lt;/strong&gt;&quot;</span>, which is clearly mor<span class="_ _1"></span>e than the </div><div class="t m0 x8 h12 y457 ff2c fsa fc2 sc0 ls0 ws0">HTML tag you were wan<span class="_ _1"></span>ting.</div><div class="t m0 x3 h1e y499 ff2c fsa fc2 sc0 ls0 ws0">It is gr<span class="_ _1"></span>eed that is to blame for this; the <span class="ff32">*</span> quantifier is greedy and attempts to find the </div><div class="t m0 x8 h1e y458 ff2c fsa fc2 sc0 ls0 ws0">longest possible match<span class="_ _1"></span>. It returns the c<span class="_ _1"></span>haracters between the opening <span class="ff32">&lt;</span> of the strong tag </div><div class="t m0 x8 h1e y459 ff2c fsa fc2 sc0 ls0 ws0">and the last <span class="ff32">&gt;</span> of the closing tag, which is the longest possible m<span class="_ _1"></span>atch.</div><div class="t m0 x3 h12 y45a ff2c fsa fc2 sc0 ls0 ws0">By contrast<span class="_ _1"></span>, a lazy search returns the shortest possible m<span class="_ _1"></span>atch. Y<span class="_ _2"></span>ou can modify a </div><div class="t m0 x8 h1e y45b ff2c fsa fc2 sc0 ls0 ws0">quantifier to make it lazy b<span class="_ _1"></span>y adding a question mark (<span class="ff32">?</span>) to it.</div><div class="t m0 x8 h1e y49a ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y45d ff32 fsa fc2 sc0 ls0 ws0">$subject = &quot;Some &lt;strong&gt;html&lt;/strong&gt; text&quot;;</div><div class="t m0 x8 h1e y45e ff32 fsa fc2 sc0 ls0 ws0">$pattern = &quot;/&lt;.*?&gt;/&quot;;  // note the pattern has changed</div><div class="t m0 x8 h1e y45f ff32 fsa fc2 sc0 ls0 ws0">$matches = [];</div><div class="t m0 x8 h1e y460 ff32 fsa fc2 sc0 ls0 ws0">preg_match($pattern, $subject, $matches);</div><div class="t m0 x8 h1e y461 ff32 fsa fc2 sc0 ls0 ws0">var_dump($matches[0]);  // string(8) &quot;&lt;strong&gt;&quot;</div><div class="t m0 x3 h12 y463 ff2c fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e a lot more options to modify quantifiers<span class="_ _1"></span>, but they are outside of the scope </div><div class="t m0 x8 h12 y49b ff2c fsa fc2 sc0 ls0 ws0">of this book.</div><div class="t m0 x8 h26 y9d8 ff2c fse fc2 sc0 ls0 ws0">Getting All Ma<span class="_ _1"></span>tches</div><div class="t m0 x8 h12 y9d9 ff2c fsa fc2 sc0 ls0 ws0">So far your expressions ar<span class="_ _1"></span>e returning just the firs<span class="_ _1"></span>t occurrence of the matching portion of a </div><div class="t m0 x8 h12 y9da ff2c fsa fc2 sc0 ls0 ws0">search string. Let’<span class="_ _2"></span>s say that you want to find all of the m<span class="_ _1"></span>atches in the string.</div><div class="t m0 x3 h12 y9db ff2c fsa fc2 sc0 ls0 ws0">PCRE has a global modifier (more on those later), but PHP uses a separa<span class="_ _1"></span>te function </div><div class="t m0 x8 h1e y9dc ff2c fsa fc2 sc0 ls0 ws0">called <span class="ff32">preg_match_all()</span> to return all m<span class="_ _1"></span>atches.</div><div class="t m0 x8 h1e y9dd ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y9de ff32 fsa fc2 sc0 ls0 ws0">$subject = &quot;Some &lt;strong&gt;html&lt;/strong&gt; text&quot;;</div><div class="t m0 x8 h1e y9df ff32 fsa fc2 sc0 ls0 ws0">$pattern = &quot;/&lt;.*?&gt;/&quot;;</div><div class="t m0 x8 h1e y9e0 ff32 fsa fc2 sc0 ls0 ws0">$matches = [];</div><div class="t m0 x8 h1e y9e1 ff32 fsa fc2 sc0 ls0 ws0">preg_match_all($pattern, $subject, $matches);</div><div class="t m0 x8 h1e y9e2 ff32 fsa fc2 sc0 ls0 ws0">var_dump($matches);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf62" class="pf w2 h4" data-page-no="62"><div class="pc pc62 w2 h4"><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls21 wsfc">77</div><div class="t m0 x3 h1e y2a8 ff32 fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y3e3 ff32 fsa fc2 sc0 ls0 ws0"> array(1) {</div><div class="t m0 x3 h1e y424 ff32 fsa fc2 sc0 ls0 ws0">                [0] =&gt;</div><div class="t m0 x3 h1e y2ab ff32 fsa fc2 sc0 ls0 ws0">                        array(2) {</div><div class="t m0 x3 h1e y2ac ff32 fsa fc2 sc0 ls0 ws0">                        [0] =&gt; string(8) &quot;&lt;strong&gt;&quot;</div><div class="t m0 x3 h1e y3e4 ff32 fsa fc2 sc0 ls0 ws0">                        [1] =&gt; string(9) &quot;&lt;/strong&gt;&quot;</div><div class="t m0 x3 h1e y3e5 ff32 fsa fc2 sc0 ls0 ws0">                }</div><div class="t m0 x3 h1e y425 ff32 fsa fc2 sc0 ls0 ws0">        }</div><div class="t m0 x3 h1e y3e6 ff32 fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h26 y9e3 ff2c fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>aming Gr<span class="_ _1"></span>oups</div><div class="t m0 x3 h1e y9e4 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can name capturing groups b<span class="_ _1"></span>y adding <span class="ff32">?&lt;name&gt;</span> to the beginning of the bracket tha<span class="_ _1"></span>t </div><div class="t m0 x3 h12 y9e5 ff2c fsa fc2 sc0 ls0 ws0">opens the group<span class="_ _1"></span>. F<span class="_ _1"></span>or example:</div><div class="t m0 x3 h1e y9e6 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y9e7 ff32 fsa fc2 sc0 ls0 ws0">$subject = &quot;test@example.com&quot;;</div><div class="t m0 x3 h1e y9e8 ff32 fsa fc2 sc0 ls0 ws0">$pattern = &quot;/^(?&lt;username&gt;\w+)@(?&lt;domain&gt;\w+).(?&lt;tld&gt;\w+)/&quot;;</div><div class="t m0 x3 h1e y9e9 ff32 fsa fc2 sc0 ls0 ws0">$matches = [];</div><div class="t m0 x3 h1e y9ea ff32 fsa fc2 sc0 ls0 ws0">if (preg_match($pattern, $subject, $matches)) {</div><div class="t m0 x3 h1e y9eb ff32 fsa fc2 sc0 ls0 ws0">  var_dump($matches);</div><div class="t m0 x3 h1e y9ec ff32 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h1e y9ed ff2c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we’re naming the first part of the ma<span class="_ _1"></span>tching pattern as <span class="ff32">username</span>, the </div><div class="t m0 x3 h1e y9ee ff2c fsa fc2 sc0 ls0 ws0">next as <span class="ff32">domain</span>, and the next as <span class="ff32">tld</span>. This is a somewhat n<span class="_ _1"></span>aïve example because it won’t </div><div class="t m0 x3 h1e y9ef ff2c fsa fc2 sc0 ls0 ws0">work for e-mail addres<span class="_ _1"></span>ses like <span class="ff32">test@example.co.uk</span>, but it does ser<span class="_ _0"></span>ve to show the syn<span class="_ _1"></span>tax. </div><div class="t m0 x3 h12 y9f0 ff2c fsa fc2 sc0 ls0 ws0">The previous example o<span class="_ _1"></span>utputs this<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y9f1 ff32 fsa fc2 sc0 ls0 ws0">array(7) {</div><div class="t m0 x3 h1e y9f2 ff32 fsa fc2 sc0 ls0 ws0">              [0] =&gt; string(16) &quot;test@example.com&quot;</div><div class="t m0 x3 h1e y9f3 ff32 fsa fc2 sc0 ls0 ws0">              &apos;username&apos; =&gt; string(4) &quot;test&quot;</div><div class="t m0 x3 h1e y9f4 ff32 fsa fc2 sc0 ls0 ws0">              [1] =&gt; string(4) &quot;test&quot;</div><div class="t m0 x3 h1e y9f5 ff32 fsa fc2 sc0 ls0 ws0">              &apos;domain&apos; =&gt; string(7) &quot;example&quot;</div><div class="t m0 x3 h1e y9f6 ff32 fsa fc2 sc0 ls0 ws0">              [2] =&gt; string(7) &quot;example&quot;</div><div class="t m0 x3 h1e y9f7 ff32 fsa fc2 sc0 ls0 ws0">              &apos;tld&apos; =&gt; string(3) &quot;com&quot;</div><div class="t m0 x3 h1e y9f8 ff32 fsa fc2 sc0 ls0 ws0">              [3] =&gt; string(3) &quot;com&quot;</div><div class="t m0 x3 h1e y9f9 ff32 fsa fc2 sc0 ls0 ws0">      }</div><div class="t m0 x1a h1e y9fa ff2c fsa fc2 sc0 ls0 ws0">So you are able to r<span class="_ _1"></span>eference <span class="ff32">$matches[&apos;username&apos;]</span> and receive <span class="ff32">&quot;test&quot;</span> in r<span class="_ _1"></span>esponse, </div><div class="t m0 x3 h12 y9fb ff2c fsa fc2 sc0 ls0 ws0">which is convenient<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf63" class="pf w2 h4" data-page-no="63"><div class="pc pc63 w2 h4"><img class="bi x8 y9fc w3 h55" alt="" src="bg63.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls3f ws118">78</div><div class="t m0 x8 h26 y3bf ff2c fse fc2 sc0 ls0 ws0">P<span class="_ _1"></span>attern M<span class="_ _1"></span>odifiers</div><div class="t m0 x8 h12 y3c0 ff2c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can add a modifier after the closing delimiter of an expression. The following table </div><div class="t m0 x8 h12 y3c1 ff2c fsa fc2 sc0 ls0 ws0">lists the modifiers.</div><div class="t m0 x8 h20 y3c2 ff30 fs6 fc2 sc0 ls0 ws0">Modifier<span class="_ _7f"> </span>Function</div><div class="t m0 x8 h1e y3c3 ff32 fsa fc2 sc0 ls0 ws0">i<span class="_ _1f"> </span><span class="ff2c">The expr<span class="_ _1"></span>ession is case-insensitive.</span></div><div class="t m0 x8 h1e y3c4 ff32 fsa fc2 sc0 ls0 ws0">m<span class="_ _1f"> </span><span class="ff2c">M<span class="_ _1"></span>ultiline mode. S<span class="_ _1"></span>trings can span multiple lines and newline characters </span></div><div class="t m0 x42 h12 y9fd ff2c fsa fc2 sc0 ls0 ws0">are ignor<span class="_ _1"></span>ed. Instead of matching the beginning and end of the string, the </div><div class="t m0 x42 h1e y9fe ff32 fsa fc2 sc0 ls0 ws0">^<span class="ff2c"> and </span>$<span class="ff2c"> symbols will match the beginning and end of the line<span class="_ _1"></span>.</span></div><div class="t m0 x8 h1e y9ff ff32 fsa fc2 sc0 ls0 ws0">s<span class="_ _1f"> </span><span class="ff2c">The </span>.<span class="ff2c"> meta-ch<span class="_ _1"></span>aracter will also match newlines<span class="_ _1"></span>.</span></div><div class="t m0 x8 h1e ya00 ff32 fsa fc2 sc0 ls0 ws0">x<span class="_ _1f"> </span><span class="ff2c">I<span class="_ _1"></span>gnore whitespace unless you escape it<span class="_ _1"></span>.</span></div><div class="t m0 x8 h1e ya01 ff32 fsa fc2 sc0 ls0 ws0">e<span class="_ _1f"> </span><span class="ff2c">This c<span class="_ _1"></span>auses PHP code to be evaluated and is highly discouraged. I<span class="_ _1"></span>t is </span></div><div class="t m0 x42 h12 ya02 ff2c fsa fc2 sc0 ls0 ws0">deprecated as of PHP 5.5 and in PHP 7 will genera<span class="_ _1"></span>te a warning, as it is no </div><div class="t m0 x42 h12 ya03 ff2c fsa fc2 sc0 ls0 ws0">longer supported.</div><div class="t m0 x8 h1e ya04 ff32 fsa fc2 sc0 ls0 ws0">U<span class="_ _1f"> </span><span class="ff2c">This m<span class="_ _1"></span>akes the quantifiers lazy by default and usin<span class="_ _1"></span>g the <span class="ff32">?</span> after them </span></div><div class="t m0 x42 h12 ya05 ff2c fsa fc2 sc0 ls0 ws0">instead marks them as gr<span class="_ _1"></span>eedy.</div><div class="t m0 x8 h12 ya06 ff2c fsa fc2 sc0 ls0 ws0">u<span class="_ _43"> </span>T<span class="_ _1"></span>his tells PHP to treat the pattern and string as being UTF<span class="_ _1"></span>-8 encoded. </div><div class="t m0 x42 h12 ya07 ff2c fsa fc2 sc0 ls0 ws0">This means that char<span class="_ _1"></span>acters instead of bytes ar<span class="_ _1"></span>e matched.</div><div class="t m0 x4a hf ya08 ff2f fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">3</span> QUIZ</div><div class="t m0 x4b h10 ya09 ff33 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou cannot compare a string variable to an integer variable using the greater </div><div class="t m0 x4b h10 ya0a ff33 fs6 fc2 sc0 ls0 ws0">than or less than operators.<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can only compare string and integer values with the </div><div class="t m0 x4b h10 ya0b ff33 fs6 fc2 sc0 ls0 ws0">equivalence operator<span class="_ _2"></span>.</div><div class="t m0 x4b h10 ya0c ff33 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 ya0d ff33 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x4b h10 ya0e ff33 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can use the ________ function to make binary safe case-insensitive </div><div class="t m0 x4b h10 ya0f ff33 fs6 fc2 sc0 ls0 ws0">comparisons between strings.</div><div class="t m0 x4b h1e ya10 ff32 fsa fc2 sc0 ls0 ws0">&lt;=&gt;</div><div class="t m0 x4b h1e ya11 ff32 fsa fc2 sc0 ls0 ws0">strcmp</div><div class="t m0 x4b h1e ya12 ff32 fsa fc2 sc0 ls0 ws0">strcasecmp</div><div class="t m0 x4b h1e ya13 ff32 fsa fc2 sc0 ls0 ws0">stricmp</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_3"><div class="d m1" style="border-style:none;position:absolute;left:222.216000px;bottom:309.513000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf64" class="pf w2 h4" data-page-no="64"><div class="pc pc64 w2 h4"><img class="bi x5 ya14 we h56" alt="" src="bg64.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x11 hd y55 ff2c fs6 fc2 sc0 ls0 ws0">79</div><div class="t m0 x5 h10 y5ae ff33 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> PHP functions that search strings <span class="_ _1"></span>AL<span class="_ _2"></span>WA<span class="_ _2"></span>YS ha<span class="_ _0"></span>ve the parameters in which order<span class="_ _2"></span>.</div><div class="t m0 x5 h1e y77f ff32 fsa fc2 sc0 ls0 ws0">$haystack, $needle</div><div class="t m0 x5 h1e ya15 ff32 fsa fc2 sc0 ls0 ws0">$needle, $haystack</div><div class="t m0 x5 h10 ya16 ff33 fs6 fc2 sc0 ls0 ws0">It depends on the function</div><div class="t m0 x5 h10 ya17 ff33 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>What does the </div><div class="t m0 x34 h10 ya18 ff32 fsa fc2 sc0 ls0 ws0">strspn($subject, $mask)<span class="ff33 fs6"> function do?</span></div><div class="t m0 x5 h10 ya19 ff33 fs6 fc2 sc0 ls0 ws0">Searches a string<span class="ff2c fsa"> <span class="ff32">$subject</span> </span>for a substring<span class="ff2c fsa"> <span class="ff32">$mask</span></span></div><div class="t m0 x5 h10 ya1a ff33 fs6 fc2 sc0 ls0 ws0">Returns the maximum length of a string in <span class="ff32 fsa">$subject<span class="ff2c"> </span></span>that contains only letters </div><div class="t m0 x5 h10 ya1b ff33 fs6 fc2 sc0 ls0 ws0">contained in <span class="ff32 fsa">$mask</span></div><div class="t m0 x5 h10 ya1c ff33 fs6 fc2 sc0 ls0 ws0">Returns the minimum length of a string in <span class="ff32 fsa">$subject<span class="ff2c"> </span></span>that contains all of the letters </div><div class="t m0 x5 h10 ya1d ff33 fs6 fc2 sc0 ls0 ws0">contained in <span class="ff32 fsa">$mask</span></div><div class="t m0 x5 h10 ya1e ff33 fs6 fc2 sc0 ls0 ws0">It’<span class="_ _1"></span>s a binary-safe way to splice a string specified by <span class="ff32 fsa">$mask<span class="ff2c"> </span></span>out of the<span class="ff2c fsa"> <span class="ff32">$subject</span> </span></div><div class="t m0 x5 h10 y789 ff33 fs6 fc2 sc0 ls0 ws0">string</div><div class="t m0 x5 h10 y78a ff33 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>What does the <span class="ff32 fsa">strstr($haystack, $needle)</span> function do?</div><div class="t m0 x5 h10 ya1f ff33 fs6 fc2 sc0 ls0 ws0">It’<span class="_ _1"></span>s a faster alternative to<span class="ff2c fsa"> <span class="ff32">strpos()</span></span></div><div class="t m0 x5 h10 ya20 ff33 fs6 fc2 sc0 ls0 ws0">It’<span class="_ _1"></span>s a binary safe alternative to<span class="ff2c fsa"> <span class="ff32">strpos()</span></span></div><div class="t m0 x5 h10 ya21 ff33 fs6 fc2 sc0 ls0 ws0">It returns the portion of the <span class="ff32 fsa">$haystack<span class="ff2c"> </span></span>that occurs after the first instance of </div><div class="t m0 x5 h1e ya22 ff32 fsa fc2 sc0 ls0 ws0">$needle</div><div class="t m0 x5 h10 ya23 ff33 fs6 fc2 sc0 ls0 ws0">It returns the position in the <span class="ff32 fsa">$haystack<span class="ff2c"> </span></span>where the string<span class="ff2c fsa"> <span class="ff32">$needle</span> </span>first occurs</div><div class="t m0 x5 h10 ya24 ff33 fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of this code?</div><div class="t m0 x5 h1e ya25 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e ya26 ff32 fsa fc2 sc0 ls0 ws0">$fact = &quot;Dogs do nothing but sleep&quot;;</div><div class="t m0 x5 h1e ya27 ff32 fsa fc2 sc0 ls0 ws0">$fact = strtr($fact, &quot;Dog&quot;, &quot;Cat&quot;);</div><div class="t m0 x5 h1e ya28 ff32 fsa fc2 sc0 ls0 ws0">echo $fact;</div><div class="t m0 x5 h1e ya29 ff32 fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x5 h1e ya2a ff32 fsa fc2 sc0 ls0 ws0">Cats do nothing but sleep</div><div class="t m0 x5 h1e ya2b ff32 fsa fc2 sc0 ls0 ws0">Cats da nathint but sleep</div><div class="t m0 x5 h10 ya2c ff33 fs6 fc2 sc0 ls0 ws0">This generates an error</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf65" class="pf w2 h4" data-page-no="65"><div class="pc pc65 w2 h4"><img class="bi x4b ya2d wf h57" alt="" src="bg65.png"/><div class="t m0 x8 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x8 hd y55 ff2c fs6 fc2 sc0 ls40 ws9b">80</div><div class="t m0 x4b h10 y5ae ff33 fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> <span class="_ _1"></span>Which of these regex expressions will identify both e-mail addresses (and only </div><div class="t m0 x4b h10 ya2e ff33 fs6 fc2 sc0 ls0 ws0">the e-mail addresses) in the following text.<span class="_ _1"></span> Pick as many as a<span class="_ _0"></span>pply<span class="_ _2"></span>.</div><div class="t m0 x4b h10 ya2f ff33 fs6 fc2 sc0 ls0 ws0">&quot; Knock over christmas tree stare at kittens@catsaregrea<span class="_ _0"></span>t.com the wall,<span class="_ _1"></span> play with </div><div class="t m0 x4b h10 ya30 ff33 fs6 fc2 sc0 ls0 ws0">food and get confused by dust or going to catch </div><div class="t m0 x5e h10 ya31 ff32 fsa fc2 sc0 ls0 ws0">siamese@catsaregreat.com<span class="ff33 fs6"> the </span></div><div class="t m0 x4b h10 ya32 ff33 fs6 fc2 sc0 ls0 ws0">red dot today going to catch the red dot today<span class="_ _1"></span>.&quot;.</div><div class="t m0 x4b h10 ya33 ff33 fs6 fc2 sc0 ls0 ws0">[a-z]*.[a-z.]+</div><div class="t m0 x4b h10 y5b4 ff33 fs6 fc2 sc0 ls0 ws0">\b[a-z]+@[a-z]+.com\b</div><div class="t m0 x4b h10 ya34 ff33 fs6 fc2 sc0 ls0 ws0">\b[a-z]+@[a-z.]+\b</div><div class="t m0 x4b h10 ya35 ff33 fs6 fc2 sc0 ls0 ws0">(\b[a-z]*@\b)([a-zA-Z\d]+)</div><div class="t m0 x4b h10 ya36 ff33 fs6 fc2 sc0 ls0 ws0">(\S*)@(\w*).(\S*)</div><div class="t m0 x4b h10 ya37 ff33 fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of this code?</div><div class="t m0 x4b h1e ya38 ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e ya39 ff32 fsa fc2 sc0 ls0 ws0">echo substr(&quot;abcdefgh12345678&quot;);</div><div class="t m0 x4b h1e ya3a ff32 fsa fc2 sc0 ls0 ws0">abcdefgh12345678</div><div class="t m0 x4b h10 ya3b ff33 fs6 fc2 sc0 ls0 ws0">Nothing</div><div class="t m0 x4b h10 ya3c ff33 fs6 fc2 sc0 ls0 ws0">A warning</div><div class="t m0 x4b h10 ya3d ff33 fs6 fc2 sc0 ls0 ws0">A fatal error</div><div class="t m0 x4b h10 ya3e ff33 fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> How would you retrieve the first e-mail address if you run this code?</div><div class="t m0 x4b h1e ya3f ff32 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e ya40 ff32 fsa fc2 sc0 ls14 ws0">$su<span class="_ _0"></span>bject = &quot;purr for no reason or eat prawns daintily with a claw then </div><div class="t m0 x4b h1e ya41 ff32 fsa fc2 sc0 ls14 ws0">lick paws mycat@catsaregreat.com clean wash down prawns with a lap of </div><div class="t m0 x4b h1e ya42 ff32 fsa fc2 sc0 ls14 ws0">carnation milk then retire to the warmest spot on the couch to claw&quot;;</div><div class="t m0 x4b h1e ya43 ff32 fsa fc2 sc0 ls0 ws0">$pattern = &quot;#(\S*)@(\w*).(\S*)#&quot;;</div><div class="t m0 x4b h1e ya44 ff32 fsa fc2 sc0 ls0 ws0">$matches = [];</div><div class="t m0 x4b h1e ya45 ff32 fsa fc2 sc0 ls0 ws0">preg_match($pattern, $subject, $matches);</div><div class="t m0 x4b h1e ya46 ff32 fsa fc2 sc0 ls0 ws0">// how do I echo the full email address?</div><div class="t m0 x4b h1e ya47 ff32 fsa fc2 sc0 ls0 ws0">echo $matches[0];</div><div class="t m0 x4b h1e ya48 ff32 fsa fc2 sc0 ls0 ws0">echo $matches[0] . $matches[1] . $matches[2]</div><div class="t m0 x4b h10 ya49 ff33 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can’t; there is a syntax error</div><div class="t m0 x4b h10 ya4a ff33 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can’t; this won’t match anything in the string</div><div class="t m0 x4b h10 ya4b ff33 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can’t; this produces an error because the pattern is invalid</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf66" class="pf w2 h4" data-page-no="66"><div class="pc pc66 w2 h4"><img class="bi x3 ya4c w5 h58" alt="" src="bg66.png"/><div class="t m0 x54 h11 y54 ff33 fs9 fc2 sc0 ls0 ws0">CHAPTER 3 <span class="ff34 fc5">■</span> STRINGS <span class="_ _1"></span>AND PA<span class="_ _2"></span>TTERNS</div><div class="t m0 x14 hd y55 ff2c fs6 fc2 sc0 ls41 ws119">81</div><div class="t m0 x5 h10 y609 ff33 fs6 fc2 sc0 ls0 wsf">Q10:<span class="_ _1"></span> The <span class="_ _0"></span><span class="ff32 fsa ws0">preg_replace_callback()</span><span class="ws0"> function is used to do which of the following?</span></div><div class="t m0 x5 h10 ya4d ff33 fs6 fc2 sc0 ls0 ws0">Use a callback function to supply the replacement string instead of a static string</div><div class="t m0 x5 h10 ya4e ff33 fs6 fc2 sc0 ls0 ws0">Use a callback that returns a list of matches for you to replace</div><div class="t m0 x5 h10 ya4f ff33 fs6 fc2 sc0 ls0 ws0">Specify a function to call once<span class="ff2c fsa"> <span class="ff32">preg_replace()</span> </span>has finished running</div><div class="t m0 x5 h10 ya50 ff33 fs6 fc2 sc0 ls0 ws0">There is no such function</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf67" class="pf w2 h4" data-page-no="67"><div class="pc pc67 w2 h4"><img class="bi x0 y653 w4 h59" alt="" src="bg67.png"/><div class="t m0 x11 hd y3e ff39 fs6 fc2 sc0 ls36 ws111">83</div><div class="t m0 x3 h1b y1ca ff3a fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff3a fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff3b">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff3a fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_4<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff3c fse fc2 sc0 ls0 ws0">CHAPTER 4</div><div class="t m0 x3 h5a y1ce ff3d fs7 fc2 sc0 ls0 ws0">Arrays</div><div class="t m0 x3 h12 y612 ff39 fsa fc2 sc0 ls0 ws0">In this chapter<span class="_ _11"></span>, we&apos;re going to be looking at PHP arra<span class="_ _1"></span>ys. PHP arra<span class="_ _1"></span>ys are implemented </div><div class="t m0 x3 h12 y613 ff39 fsa fc2 sc0 ls0 ws0">as an order<span class="_ _1"></span>ed map that associates values to keys<span class="_ _1"></span>. There ar<span class="_ _1"></span>e three types of array in PHP: </div><div class="t m0 x3 h12 y614 ff39 fsa fc2 sc0 ls0 ws0">indexed, associative, and m<span class="_ _1"></span>ultidimensional.</div><div class="t m0 x1a h12 y615 ff39 fsa fc2 sc0 ls14 ws0">PHP has a lot of array functions th<span class="_ _1"></span>at cover a gre<span class="_ _1"></span>at many common uses for functions. </div><div class="t m0 x3 h12 y616 ff39 fsa fc2 sc0 ls14 ws0">Before you write a function to opera<span class="_ _1"></span>te on an array, you should first check if ther<span class="_ _1"></span>e is already </div><div class="t m0 x3 h12 y617 ff39 fsa fc2 sc0 ls14 ws0">one. They ar<span class="_ _1"></span>e implemented in C and so are going to be a lot faster than any function y<span class="_ _1"></span>ou </div><div class="t m0 x3 h12 y618 ff39 fsa fc2 sc0 ls14 ws0">could write in PHP to achieve the same result<span class="_ _1"></span>. The array manual page</div><div class="t m0 x5f h15 ya51 ff39 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x60 h12 ya52 ff39 fsa fc2 sc0 ls14 ws0"> lists them in one </div><div class="t m0 x3 h12 ya53 ff39 fsa fc2 sc0 ls14 ws0">place, and you sho<span class="_ _1"></span>uld make sure tha<span class="_ _1"></span>t you study this page and each function&apos;s manual pa<span class="_ _1"></span>ge.</div><div class="t m0 x1a h12 ya54 ff39 fsa fc2 sc0 ls12 ws0">This book would be too long to exhaustively list every function. Rather than duplica<span class="_ _1"></span>ting </div><div class="t m0 x3 h12 ya55 ff39 fsa fc2 sc0 ls12 ws0">this information, this chapter focuses on gr<span class="_ _1"></span>ouping and explaining some of these functions.</div><div class="t m0 x3 h19 ya56 ff3e fsd fc2 sc0 ls0 ws0">Declaring and Referencing <span class="_ _2"></span>Arrays</div><div class="t m0 x3 h12 ya57 ff39 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e will not dwell on what arrays ar<span class="_ _1"></span>e and will rather move str<span class="_ _1"></span>aight onto the syntax used to </div><div class="t m0 x3 h12 ya58 ff39 fsa fc2 sc0 ls0 ws0">declare arra<span class="_ _1"></span>ys in PHP<span class="_ _11"></span>.</div><div class="t m0 x1a h12 ya59 ff39 fsa fc2 sc0 ls0 ws0">Arrays ar<span class="_ _1"></span>e created as a set of value-<span class="_ _1"></span>pairs that are separ<span class="_ _1"></span>ated by commas<span class="_ _1"></span>.</div><div class="t m0 x3 h3c ya5a ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ya5b ff3f fsa fc2 sc0 ls0 ws0">// numeric index, auto assigned key</div><div class="t m0 x3 h3c ya5c ff3f fsa fc2 sc0 ls0 ws0">$arr = array(10, &apos;abc&apos;, 30);</div><div class="t m0 x3 h3c ya5d ff3f fsa fc2 sc0 ls0 ws0">// numeric index, key explicitly set</div><div class="t m0 x3 h3c ya5e ff3f fsa fc2 sc0 ls0 ws0">$arr = array(0 =&gt; 10, 1 =&gt; &apos;abc&apos;, 2 =&gt; 30 );</div><div class="t m0 x3 h3c ya5f ff3f fsa fc2 sc0 ls0 ws0">// associative</div><div class="t m0 x3 h3c ya60 ff3f fsa fc2 sc0 ls0 ws0">$arr = array(&apos;name&apos; =&gt; &apos;foo&apos;, &apos;age&apos; =&gt; 20);</div><div class="t m0 x3 h3c ya61 ff3f fsa fc2 sc0 ls0 ws0">// short syntax</div><div class="t m0 x3 h3c ya62 ff3f fsa fc2 sc0 ls0 ws0">$arr = [&apos;name&apos; =&gt; &apos;foo&apos;, &apos;age&apos; =&gt; 20];</div><div class="t m0 x1a h12 ya63 ff39 fsa fc2 sc0 ls0 ws0">If you do not specify a key then PHP will assign an auto-incr<span class="_ _1"></span>ementing numeric key. </div><div class="t m0 x3 h12 ya64 ff39 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, the first two assignments are identical beca<span class="_ _1"></span>use PHP automatically assigns </div><div class="t m0 x3 h12 ya65 ff39 fsa fc2 sc0 ls0 ws0">the key.</div><div class="t m0 x1a h12 ya66 ff39 fsa fc2 sc0 ls0 ws0">A key may be numeric or a string. An arra<span class="_ _1"></span>y may contain a mixtur<span class="_ _1"></span>e of numeric and </div><div class="t m0 x3 h12 ya67 ff39 fsa fc2 sc0 ls0 ws0">string keys.</div><div class="t m0 x3 h16 ya68 ff40 fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h43 ya69 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/ref.array.php</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_4"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:316.058000px;bottom:384.743000px;width:2.571000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/ref.array.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.003500px;width:165.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf68" class="pf w2 h4" data-page-no="68"><div class="pc pc68 w2 h4"><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls42 wsc3">84</div><div class="t m0 x3 h12 y1b8 ff39 fsa fc2 sc0 ls0 ws0">Arrays keyed on num<span class="_ _1"></span>bers are called <span class="ff43">enumerative</span>. The fir<span class="_ _1"></span>st two examples are </div><div class="t m0 x8 h12 y1b9 ff39 fsa fc2 sc0 ls0 ws0">enumerativ<span class="_ _1"></span>e. Arrays tha<span class="_ _1"></span>t have strings for keys ar<span class="_ _1"></span>e called associative arrays<span class="_ _1"></span>. The last two </div><div class="t m0 x8 h12 y1ba ff39 fsa fc2 sc0 ls0 ws0">examples are associative arr<span class="_ _1"></span>ays.</div><div class="t m0 x3 h12 y1bb ff39 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two syntax forms to declare an array; choosing one is a question of  </div><div class="t m0 x8 h12 y1bc ff39 fsa fc2 sc0 ls0 ws0">coding style.</div><div class="t m0 x8 h3c y1be ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bf ff3f fsa fc2 sc0 ls0 ws0">$shortForm = [&apos;this&apos;, &apos;is&apos;, &apos;short&apos;];</div><div class="t m0 x8 h3c y1c0 ff3f fsa fc2 sc0 ls0 ws0">$longForm = array(&apos;this&apos;, &apos;is&apos;, &apos;short&apos;);</div><div class="t m0 x3 h12 y1c2 ff39 fsa fc2 sc0 ls0 ws0">Arrays ma<span class="_ _1"></span>y be nested. In other words, an arr<span class="_ _1"></span>ay value can itself be an array. These ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y1c3 ff39 fsa fc2 sc0 ls0 ws0">called multi-dimensional arra<span class="_ _1"></span>ys.</div><div class="t m0 x3 h3c y1c4 ff39 fsa fc2 sc0 ls0 ws0">An individual array element m<span class="_ _1"></span>ay be referenced usin<span class="_ _1"></span>g the <span class="ff3f">[]</span> operator like this:</div><div class="t m0 x8 h3c y1c6 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1c7 ff3f fsa fc2 sc0 ls0 ws0">$arr = [&apos;name&apos; =&gt; &apos;foo&apos;, &apos;age&apos; =&gt; 20];</div><div class="t m0 x8 h3c y1c8 ff3f fsa fc2 sc0 ls0 ws0">echo $arr[&apos;age&apos;]; // 20</div><div class="t m0 x3 h12 y734 ff39 fsa fc2 sc0 ls0 ws0">If you do not specify a key in the brackets<span class="_ _1"></span>, PHP assumes that yo<span class="_ _1"></span>u are trying to </div><div class="t m0 x8 h12 ya6a ff39 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence a new element. Y<span class="_ _2"></span>ou can use this to add an element to the end of an array:</div><div class="t m0 x8 h3c y736 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y737 ff3f fsa fc2 sc0 ls0 ws0">$arr = [0 =&gt; &apos;id&apos;, &apos;name&apos; =&gt; &apos;foo&apos;, &apos;age&apos; =&gt; 20];</div><div class="t m0 x8 h3c y738 ff3f fsa fc2 sc0 ls0 ws0">$arr[] = &apos;example&apos;;</div><div class="t m0 x8 h3c y739 ff3f fsa fc2 sc0 ls0 ws0">print_r($arr);</div><div class="t m0 x3 h12 y73b ff39 fsa fc2 sc0 ls0 ws0">This will output the following:</div><div class="t m0 x8 h3c y73d ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c ya6b ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c ya6c ff3f fsa fc2 sc0 ls0 ws0">[0] =&gt; id</div><div class="t m0 x8 h3c ya6d ff3f fsa fc2 sc0 ls0 ws0">[name] =&gt; foo</div><div class="t m0 x8 h3c ya6e ff3f fsa fc2 sc0 ls0 ws0">[age] =&gt; 20</div><div class="t m0 x8 h3c ya6f ff3f fsa fc2 sc0 ls0 ws0">[1] =&gt; example</div><div class="t m0 x8 h3c ya70 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h12 ya71 ff39 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t PHP chose the key by incrementing the hi<span class="_ _1"></span>ghest numeric key in the array.</div><div class="t m0 x8 h19 y30d ff3e fsd fc2 sc0 ls0 ws11b">Functions That <span class="_ _0"></span>Create <span class="_ _72"></span>an Array</div><div class="t m0 x8 h12 ya72 ff39 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e lots of PHP functions that return an arr<span class="_ _1"></span>ay, but I&apos;m going to intr<span class="_ _1"></span>oduce a few that </div><div class="t m0 x8 h12 ya73 ff39 fsa fc2 sc0 ls0 ws0">are dir<span class="_ _1"></span>ectly related to arrays<span class="_ _1"></span>.</div><div class="t m0 x3 h3c ya74 ff39 fsa fc2 sc0 ls0 ws0">The function <span class="ff3f">explode()</span> is used to split up a string into an array. I<span class="_ _1"></span>t&apos;s easiest to explain </div><div class="t m0 x8 h12 ya75 ff39 fsa fc2 sc0 ls0 ws0">by example:</div><div class="t m0 x8 h3c ya76 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c ya77 ff3f fsa fc2 sc0 ls0 ws0">// The delimiter is a string of any length</div><div class="t m0 x8 h3c ya78 ff3f fsa fc2 sc0 ls0 ws0">$delimiter = &apos;,&apos;;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf69" class="pf w2 h4" data-page-no="69"><div class="pc pc69 w2 h4"><img class="bi x3 y37f w7 h27" alt="" src="bg69.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls39 ws112">85</div><div class="t m0 x3 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">// This string is broken up by the delimiter</div><div class="t m0 x3 h3c y2a9 ff3f fsa fc2 sc0 ls0 ws0">$source = &apos;1, abc, 2, def, 3, ghi&apos;;</div><div class="t m0 x3 h3c y2aa ff3f fsa fc2 sc0 ls0 ws0">// The limit determines how many elements explode will return</div><div class="t m0 x3 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">$limit = -2;</div><div class="t m0 x3 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">// create an array by splitting the source</div><div class="t m0 x3 h3c y2ad ff3f fsa fc2 sc0 ls0 ws0">$arr = explode($delimiter, $source, $limit);</div><div class="t m0 x3 h3c ya79 ff3f fsa fc2 sc0 ls0 ws0">print_r($arr);</div><div class="t m0 x1a h12 y4e6 ff39 fsa fc2 sc0 ls0 ws0">The function takes three par<span class="_ _1"></span>ameters. The first is a string to be used as a delimiter<span class="_ _2"></span>. </div><div class="t m0 x3 h12 y4e7 ff39 fsa fc2 sc0 ls0 ws0">Typically, this is j<span class="_ _1"></span>ust a single character (like a comm<span class="_ _1"></span>a when working with CSV<span class="_ _0"></span>), but it </div><div class="t m0 x3 h12 y4e8 ff39 fsa fc2 sc0 ls0 ws0">could be of any length.</div><div class="t m0 x1a h12 ya7a ff39 fsa fc2 sc0 ls0 ws0">The second parameter is a string containing a list of elemen<span class="_ _1"></span>ts that are separa<span class="_ _1"></span>ted by </div><div class="t m0 x3 h12 y4e9 ff39 fsa fc2 sc0 ls0 ws0">the delimiter<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y4ea ff39 fsa fc2 sc0 ls0 ws0">The third par<span class="_ _1"></span>ameter limits the number of items that PHP will ret<span class="_ _1"></span>urn. By default, it </div><div class="t m0 x3 h3c y3eb ff39 fsa fc2 sc0 ls0 ws0">is set to <span class="ff3f">PHP_INT_MAX</span> and so PHP will return as many items as it can. If it is neg<span class="_ _1"></span>ative then </div><div class="t m0 x3 h3c y4eb ff39 fsa fc2 sc0 ls0 ws0">PHP returns all the elements ex<span class="_ _1"></span>cept the last <span class="ff3f">$limit</span> amount. A zer<span class="_ _1"></span>o limit is treated the </div><div class="t m0 x3 h12 y4ec ff39 fsa fc2 sc0 ls0 ws0">same as 1.</div><div class="t m0 x1a h3c ya7b ff39 fsa fc2 sc0 ls0 ws0">This example specifies <span class="ff3f">-2</span> as the limit so PHP returns all the elements ex<span class="_ _1"></span>cept the  </div><div class="t m0 x3 h12 y4ed ff39 fsa fc2 sc0 ls0 ws0">last two<span class="_ _1"></span>.</div><div class="t m0 x1a h12 ya7c ff39 fsa fc2 sc0 ls0 ws0">The output of this example is:</div><div class="t m0 x3 h3c y4ef ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c ya7d ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c ya7e ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; 1</div><div class="t m0 x3 h3c ya7f ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt;  abc</div><div class="t m0 x3 h3c ya80 ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt;  2</div><div class="t m0 x3 h3c ya81 ff3f fsa fc2 sc0 ls0 ws0">    [3] =&gt;  def</div><div class="t m0 x3 h3c ya82 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x1a h3c ya83 ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">implode()</span> function</div><div class="t m0 x61 h15 ya84 ff39 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x32 h12 ya85 ff39 fsa fc2 sc0 ls0 ws0"> operates in the r<span class="_ _1"></span>everse manner<span class="_ _2"></span>. It joins the elements of an </div><div class="t m0 x3 h12 ya86 ff39 fsa fc2 sc0 ls0 ws0">array together into a string delimited b<span class="_ _1"></span>y a string you supply.</div><div class="t m0 x1a h3c ya87 ff3f fsa fc2 sc0 ls0 ws0">preg_split()<span class="ff39"> is another function that splits a string into an arra<span class="_ _1"></span>y. It is similar to </span></div><div class="t m0 x3 h3c ya88 ff3f fsa fc2 sc0 ls0 ws0">explode()<span class="ff39">, but it uses a regular expr<span class="_ _1"></span>ession to delimit the field instead of using a literal </span></div><div class="t m0 x3 h12 ya89 ff39 fsa fc2 sc0 ls0 ws0">string. It is document<span class="_ _1"></span>ed in the PHP Manual.</div><div class="t m0 x62 h15 ya8a ff39 fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x1a h3c ya8b ff39 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the <span class="ff3f">str_split()</span> function</div><div class="t m0 x63 h15 ya8c ff39 fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x62 h12 ya8b ff39 fsa fc2 sc0 ls0 ws0"> to break a string into an arr<span class="_ _1"></span>ay of chunks. I<span class="_ _1"></span>t </div><div class="t m0 x3 h12 ya8d ff39 fsa fc2 sc0 ls0 ws0">takes two parameters: the string you want to split, and the length of the chunk to use for </div><div class="t m0 x3 h12 ya8e ff39 fsa fc2 sc0 ls0 ws0">each element of the array.</div><div class="t m0 x3 h3c ya8f ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ya90 ff3f fsa fc2 sc0 ls0 ws0">$input = &apos;12345678&apos;;</div><div class="t m0 x3 h3c ya91 ff3f fsa fc2 sc0 ls0 ws0">$arr = str_split($input, 3);</div><div class="t m0 x3 h3c ya92 ff3f fsa fc2 sc0 ls0 ws0">print_r($arr);</div><div class="t m0 x3 h16 ya93 ff40 fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h43 ya94 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.implode.php</div><div class="t m0 x3 h16 ya95 ff40 fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x1d h43 ya96 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.preg-split.php</div><div class="t m0 x3 h16 ya97 ff40 fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x1d h43 ya98 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.str-split.php</div><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",57,105,null]'><div class="d m1" style="border-style:none;position:absolute;left:167.264000px;bottom:270.145000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",57,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:224.782000px;bottom:226.181000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:221.192000px;bottom:215.145000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.implode.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:93.089000px;width:195.500200px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.preg-split.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:83.089000px;width:208.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.str-split.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.089000px;width:204.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6a" class="pf w2 h4" data-page-no="6a"><div class="pc pc6a w2 h4"><img class="bi x8 ya99 w3 h5b" alt="" src="bg6a.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls22 wsfd">86</div><div class="t m0 x3 h12 y1b8 ff39 fsa fc2 sc0 ls0 ws0">This example breaks the string up in<span class="_ _1"></span>to an array containing elements of len<span class="_ _1"></span>gth 3,  </div><div class="t m0 x8 h12 y1b9 ff39 fsa fc2 sc0 ls0 ws0">like this:</div><div class="t m0 x8 h3c y1bb ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c y1bc ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c y1bd ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; 123</div><div class="t m0 x8 h3c y1be ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; 456</div><div class="t m0 x8 h3c y1bf ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt; 78</div><div class="t m0 x8 h3c y1c0 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h12 y1c2 ff39 fsa fc2 sc0 ls0 ws0">Notice tha<span class="_ _1"></span>t the string is not evenly divisible by the chunk size and so the final </div><div class="t m0 x8 h12 y1c3 ff39 fsa fc2 sc0 ls0 ws0">element is only two characters lon<span class="_ _1"></span>g. If the chunk size is greater th<span class="_ _1"></span>an the length of the </div><div class="t m0 x8 h12 y1c4 ff39 fsa fc2 sc0 ls0 ws0">string, the entire string is r<span class="_ _1"></span>eturned as the only element of the array. The function r<span class="_ _1"></span>eturns </div><div class="t m0 x8 h3c y1c5 ff3f fsa fc2 sc0 ls0 ws0">FALSE<span class="ff39"> if you try to use a negative chunk length.</span></div><div class="t m0 x8 h19 ya9a ff3e fsd fc2 sc0 ls0 ws0">Array Operators</div><div class="t m0 x8 h12 ya9b ff39 fsa fc2 sc0 ls0 ws0">PHP arrays can be tested for equivalence and iden<span class="_ _1"></span>tity. W<span class="_ _1"></span>e saw in the section on </div><div class="t m0 x8 h12 ya9c ff39 fsa fc2 sc0 ls0 ws0">comparison operators that arr<span class="_ _1"></span>ays are equivalent if they ha<span class="_ _1"></span>ve the same key and value </div><div class="t m0 x8 h12 ya9d ff39 fsa fc2 sc0 ls0 ws0">pairs. They ar<span class="_ _1"></span>e identical if they hav<span class="_ _1"></span>e the same key and value pairs, ar<span class="_ _1"></span>e in the same order<span class="_ _2"></span>, </div><div class="t m0 x8 h12 ya9e ff39 fsa fc2 sc0 ls0 ws0">and the key-<span class="_ _1"></span>value are of the same type<span class="_ _1"></span>.</div><div class="t m0 x3 h3c ya9f ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">+</span> operator will pr<span class="_ _1"></span>oduce the union of two arrays.</div><div class="t m0 x3 h3c yaa0 ff39 fsa fc2 sc0 ls0 ws0">When using the <span class="ff3f">+</span> union operator<span class="_ _11"></span>, PHP appends the array on the right of the operator </div><div class="t m0 x8 h12 yaa1 ff39 fsa fc2 sc0 ls0 ws0">to the left. If a key exists in both arrays<span class="_ _1"></span>, then the left array value is used for the key.</div><div class="t m0 x8 h3c yaa2 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yaa3 ff3f fsa fc2 sc0 ls0 ws0">$a = [&apos;a&apos; =&gt; &apos;hello&apos;, &apos;b&apos; =&gt; &apos;world&apos;];</div><div class="t m0 x8 h3c yaa4 ff3f fsa fc2 sc0 ls0 ws0">$b = [&apos;a&apos; =&gt; &apos;goodbye&apos;, &apos;c&apos; =&gt; &apos;cruel&apos;];</div><div class="t m0 x8 h3c yaa5 ff3f fsa fc2 sc0 ls0 ws0">echo implode(&apos; &apos;, $a + $b);  // hello world cruel</div><div class="t m0 x3 h3c yaa6 ff39 fsa fc2 sc0 ls0 ws0">In the previous exam<span class="_ _1"></span>ple, both arrays ha<span class="_ _1"></span>ve the key <span class="ff3f">a</span>. The union of the arrays will </div><div class="t m0 x8 h3c yaa7 ff39 fsa fc2 sc0 ls0 ws0">therefor<span class="_ _1"></span>e have the value fr<span class="_ _1"></span>om <span class="ff3f">$a</span> for this key, because <span class="ff3f">$a</span> was on the left of the union </div><div class="t m0 x8 h12 yaa8 ff39 fsa fc2 sc0 ls0 ws0">operator<span class="_ _11"></span>.</div><div class="t m0 x8 h5c yaa9 ff3d fs6 fc2 sc0 ls0 ws0">Example<span class="_ _16"> </span>Name<span class="_ _48"> </span>Result</div><div class="t m0 x8 h3c yaaa ff3f fsa fc2 sc0 ls0 ws0">$a + $b<span class="_ _80"> </span><span class="ff39">Union<span class="_ _81"> </span></span>$b<span class="ff39"> is appended to </span>$a<span class="ff39">. If a key exists in both arrays, </span></div><div class="t m0 x31 h3c yaab ff39 fsa fc2 sc0 ls0 ws0">then the value from <span class="ff3f">$a</span> is placed into the union.</div><div class="t m0 x8 h3c yaac ff3f fsa fc2 sc0 ls0 ws0">$a == $b<span class="_ _82"> </span><span class="ff39">Equality<span class="_ _28"> </span></span>TRUE<span class="ff39"> if </span>$a<span class="ff39"> and </span>$b<span class="ff39"> have the same key-<span class="_ _1"></span>value pairs</span></div><div class="t m0 x8 h3c yaad ff3f fsa fc2 sc0 ls0 ws0">$a === $b<span class="_ _59"> </span><span class="ff39">I<span class="_ _1"></span>dentity<span class="_ _83"> </span><span class="ff3f">TRUE</span> if <span class="ff3f">$a</span> and <span class="ff3f">$b</span> hav<span class="_ _1"></span>e the same key-<span class="_ _1"></span>value pairs, of </span></div><div class="t m0 x31 h12 yaae ff39 fsa fc2 sc0 ls0 ws0">the same types, and in the same or<span class="_ _1"></span>der<span class="_ _2"></span>.</div><div class="t m0 x8 h3c yaaf ff3f fsa fc2 sc0 ls0 ws0">$a != $b<span class="_ _82"> </span><span class="ff39">Inequality<span class="_ _5a"> </span></span>TRUE<span class="ff39"> if </span>$a<span class="ff39"> is not equal to </span>$b<span class="ff39">.</span></div><div class="t m0 x8 h3c yab0 ff3f fsa fc2 sc0 ls0 ws0">$a &lt;&gt; $b<span class="_ _82"> </span><span class="ff39">Inequality<span class="_ _5a"> </span></span>TRUE<span class="ff39"> if </span>$a<span class="ff39"> is not equal to </span>$b<span class="ff39">.</span></div><div class="t m0 x8 h3c yab1 ff3f fsa fc2 sc0 ls0 ws0">$a !== $b<span class="_ _59"> </span><span class="ff39">N<span class="_ _1"></span>on-identity<span class="_ _84"> </span><span class="ff3f">TRUE</span> if <span class="ff3f">$a</span> is not identical to <span class="ff3f">$b</span>.</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6b" class="pf w2 h4" data-page-no="6b"><div class="pc pc6b w2 h4"><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls43 ws11c">87</div><div class="t m0 x1a h12 y1b8 ff39 fsa fc2 sc0 ls0 ws0">Let&apos;s run through a quick example:</div><div class="t m0 x3 h3c y1ba ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1bb ff3f fsa fc2 sc0 ls0 ws0">$a = [&apos;a&apos;, &apos;b&apos;, &apos;1&apos;];</div><div class="t m0 x3 h3c y1bc ff3f fsa fc2 sc0 ls0 ws0">$b = [&apos;a&apos;, &apos;b&apos;, 1];</div><div class="t m0 x3 h3c y1bd ff3f fsa fc2 sc0 ls0 ws0">$c = [&apos;1&apos;, &apos;b&apos;, &apos;a&apos;];</div><div class="t m0 x3 h3c y1be ff3f fsa fc2 sc0 ls0 ws0">$d = [2 =&gt; 1, 0 =&gt; &apos;a&apos;, 1 =&gt; &apos;b&apos;];</div><div class="t m0 x3 h3c y1c0 ff3f fsa fc2 sc0 ls0 ws0">var_dump($a == $b);     // true</div><div class="t m0 x3 h3c y1c1 ff3f fsa fc2 sc0 ls0 ws0">var_dump($a === $b);    // false</div><div class="t m0 x3 h3c y1c2 ff3f fsa fc2 sc0 ls0 ws0">var_dump($a == $c);     // false</div><div class="t m0 x3 h3c y1c3 ff3f fsa fc2 sc0 ls0 ws0">var_dump($a == $d);     // true</div><div class="t m0 x3 h3c y1c4 ff3f fsa fc2 sc0 ls0 ws0">var_dump($a === $d);    // false</div><div class="t m0 x1a h3c y1c6 ff39 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e can see that <span class="ff3f">$a</span> is equal to <span class="ff3f">$b</span> because the key-<span class="_ _1"></span>value pairs ar<span class="_ _1"></span>e the same. They are </div><div class="t m0 x3 h3c y1c7 ff39 fsa fc2 sc0 ls0 ws0">not equivalent, however<span class="_ _11"></span>, because the type of the third element is a string in <span class="ff3f">$a</span> and an </div><div class="t m0 x3 h3c y1c8 ff39 fsa fc2 sc0 ls0 ws0">integer in <span class="ff3f">$b</span>.</div><div class="t m0 x1a h3c y733 ff3f fsa fc2 sc0 ls0 ws0">$a<span class="ff39"> and </span>$c<span class="ff39"> are not equal even though they ha<span class="_ _1"></span>ve the same values. Arr<span class="_ _1"></span>ays are </span></div><div class="t m0 x3 h12 y734 ff39 fsa fc2 sc0 ls0 ws0">considered equal if they ha<span class="_ _1"></span>ve the same key-<span class="_ _1"></span>value pairs. I<span class="_ _1"></span>n this case, we didn&apos;t specify a </div><div class="t m0 x3 h12 ya6a ff39 fsa fc2 sc0 ls0 ws0">key so PHP assigned an auto-incremen<span class="_ _1"></span>ting key for each value. Ther<span class="_ _1"></span>efore, they key-<span class="_ _2"></span>value </div><div class="t m0 x3 h12 y735 ff39 fsa fc2 sc0 ls0 ws0">pairs don&apos;t match<span class="_ _1"></span>, even though the values are the same<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y736 ff3f fsa fc2 sc0 ls0 ws0">$a<span class="ff39"> and </span>$d<span class="ff39"> are equal because the key-<span class="_ _1"></span>value pairs ar<span class="_ _1"></span>e the same, but ar<span class="_ _1"></span>e not identical </span></div><div class="t m0 x3 h12 y737 ff39 fsa fc2 sc0 ls0 ws0">because they are not in the same or<span class="_ _1"></span>der<span class="_ _2"></span>.</div><div class="t m0 x3 h19 yab2 ff3e fsd fc2 sc0 ls0 ws0">Proper <span class="_ _85"></span>ties of PHP <span class="_ _2"></span>Array Keys</div><div class="t m0 x3 h12 yab3 ff39 fsa fc2 sc0 ls0 ws0">PHP arrays ar<span class="_ _1"></span>e zero-based.</div><div class="t m0 x1a h3c yab4 ff39 fsa fc2 sc0 ls0 ws0">PHP array keys ar<span class="_ _1"></span>e case sensitive: <span class="ff3f">$arr[&apos;A&apos;]</span> and <span class="ff3f">$arr[&apos;a&apos;]</span> are differen<span class="_ _1"></span>t elements.</div><div class="t m0 x1a h12 yab5 ff39 fsa fc2 sc0 ls0 ws0">Keys ma<span class="_ _1"></span>y only be a string or an integer<span class="_ _2"></span>. Other variable types are cast into one of these </div><div class="t m0 x3 h12 yab6 ff39 fsa fc2 sc0 ls0 ws0">types before being stor<span class="_ _1"></span>ed.</div><div class="t m0 x1a h12 yab7 ff39 fsa fc2 sc0 ls0 ws0">Strings containing decimal valid in<span class="_ _1"></span>tegers will be cast to the integer type.</div><div class="t m0 x3 h3c yab8 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yab9 ff3f fsa fc2 sc0 ls0 ws0">$a = [</div><div class="t m0 x3 h3c yaba ff3f fsa fc2 sc0 ls0 ws0">&quot;2&quot; =&gt;&quot;hello&quot;,</div><div class="t m0 x3 h3c yabb ff3f fsa fc2 sc0 ls0 ws0">    0x03 =&gt;&quot;world&quot;,</div><div class="t m0 x3 h3c yabc ff3f fsa fc2 sc0 ls0 ws0">    0b100 =&gt; &apos; this is &apos;,</div><div class="t m0 x3 h3c yabd ff3f fsa fc2 sc0 ls0 ws0">&quot;04&quot; =&gt;&quot;PHP&quot;,</div><div class="t m0 x3 h3c yabe ff3f fsa fc2 sc0 ls0 ws0">    8.7 =&gt;&quot;!!!!&quot;</div><div class="t m0 x3 h3c yabf ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x3 h3c yac0 ff3f fsa fc2 sc0 ls0 ws0">var_dump($a);</div><div class="t m0 x3 h3c yac1 ff3f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c yac2 ff3f fsa fc2 sc0 ls0 ws0">array(5) {</div><div class="t m0 x3 h3c yac3 ff3f fsa fc2 sc0 ls0 ws0">  [2]=&gt;</div><div class="t m0 x3 h3c yac4 ff3f fsa fc2 sc0 ls0 ws0">  string(5) &quot;hello&quot;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6c" class="pf w2 h4" data-page-no="6c"><div class="pc pc6c w2 h4"><img class="bi x8 yac5 w3 h29" alt="" src="bg6c.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls36 ws111">88</div><div class="t m0 x8 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">  [3]=&gt;</div><div class="t m0 x8 h3c y3e3 ff3f fsa fc2 sc0 ls0 ws0">  string(5) &quot;world&quot;</div><div class="t m0 x8 h3c y424 ff3f fsa fc2 sc0 ls0 ws0">  [4]=&gt;</div><div class="t m0 x8 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">  string(9) &quot; this is &quot;</div><div class="t m0 x8 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">  [&quot;04&quot;]=&gt;</div><div class="t m0 x8 h3c y3e4 ff3f fsa fc2 sc0 ls0 ws0">  string(3) &quot;PHP&quot;</div><div class="t m0 x8 h3c y3e5 ff3f fsa fc2 sc0 ls0 ws0">  [8]=&gt;</div><div class="t m0 x8 h3c y425 ff3f fsa fc2 sc0 ls0 ws0">  string(4) &quot;!!!!&quot;</div><div class="t m0 x8 h3c y3e6 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y426 ff3f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h3c y3e8 ff39 fsa fc2 sc0 ls0 ws0">In the preceding example<span class="_ _1"></span>, we see that the string <span class="ff3f">&quot;2&quot;</span> is converted to integer 2. The </div><div class="t m0 x8 h3c y3e9 ff39 fsa fc2 sc0 ls0 ws0">hexadecimal and binary formats are both converted to decimal. The string <span class="ff3f">&quot;04&quot;</span> is not </div><div class="t m0 x8 h12 y3ea ff39 fsa fc2 sc0 ls0 ws0">converted to an integer because it contains an octal r<span class="_ _1"></span>epresentation and not a decimal.</div><div class="t m0 x3 h12 y3eb ff39 fsa fc2 sc0 ls0 ws0">PHP rounds floa<span class="_ _1"></span>ts toward zer<span class="_ _1"></span>o when it casts floats to integers<span class="_ _1"></span>. Another way of putting </div><div class="t m0 x8 h12 y3ec ff39 fsa fc2 sc0 ls0 ws0">this is to say that the fr<span class="_ _1"></span>actional portion of the number is truncated. F<span class="_ _1"></span>or example, the float </div><div class="t m0 x8 h12 y3ed ff39 fsa fc2 sc0 ls0 ws0">133.7 will cast to the integer value 133 (and not ro<span class="_ _1"></span>unded up to 134).</div><div class="t m0 x3 h3c y3ee ff39 fsa fc2 sc0 ls0 ws0">Booleans can also be cast to integers. T<span class="_ _1"></span>he Boolean value <span class="ff3f">true</span> evaluates to integer 1 </div><div class="t m0 x8 h3c yac6 ff39 fsa fc2 sc0 ls0 ws0">and <span class="ff3f">false</span> becomes integer 0.</div><div class="t m0 x3 h3c y3ef ff39 fsa fc2 sc0 ls0 ws0">Null is tr<span class="_ _1"></span>eated as an empty string. So the null key will be stored under the key <span class="ff3f">&apos;&apos;</span>.</div><div class="t m0 x3 h12 y3f0 ff39 fsa fc2 sc0 ls0 ws0">Composite variables (<span class="_ _1"></span>objects and arrays) and resour<span class="_ _1"></span>ces cannot be used as key. If you </div><div class="t m0 x8 h3c yac7 ff39 fsa fc2 sc0 ls0 ws0">try to do so, PHP will issue a warning <span class="ff3f">&quot;illegal offset type&quot;</span>.</div><div class="t m0 x3 h12 y3f1 ff39 fsa fc2 sc0 ls0 ws0">Keys ar<span class="_ _1"></span>e unique; if multiple elements in an array use the same key (after it has been </div><div class="t m0 x8 h12 y3f2 ff39 fsa fc2 sc0 ls0 ws0">converted as above), then PHP will use the last one for the value and o<span class="_ _1"></span>verwr<span class="_ _0"></span>ite all the </div><div class="t m0 x8 h12 y3f3 ff39 fsa fc2 sc0 ls0 ws0">preceding values<span class="_ _1"></span>.</div><div class="t m0 x1e h10 yac8 ff41 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff42">■<span class="_ _c"> </span><span class="ff44 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff41 fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>This is a good time to review your type juggling!</span></span></div><div class="t m0 x8 h26 yac9 ff39 fse fc2 sc0 ls0 ws0">Fillin<span class="_ _1"></span>g Up Arra<span class="_ _1"></span>ys</div><div class="t m0 x8 h3c yaca ff39 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the <span class="ff3f">range()</span> function to add values to an array based on a range of values you </div><div class="t m0 x8 h12 yacb ff39 fsa fc2 sc0 ls0 ws0">specify. Y<span class="_ _2"></span>ou specify the be<span class="_ _0"></span>ginning, end, and s<span class="_ _1"></span>tep size for the range.</div><div class="t m0 x3 h12 yacc ff39 fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual has many useful examples<span class="_ _1"></span>, but here is one based on one of the </div><div class="t m0 x8 h12 yacd ff39 fsa fc2 sc0 ls0 ws0">comments:</div><div class="t m0 x8 h3c yace ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yacf ff3f fsa fc2 sc0 ls0 ws0">print_r(array_combine(range(1, 10, 2),range(1,5)));</div><div class="t m0 x3 h12 yad0 ff39 fsa fc2 sc0 ls0 ws0">This will output the following:</div><div class="t m0 x8 h3c yad1 ff3f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h3c yad2 ff3f fsa fc2 sc0 ls0 ws0">  Array</div><div class="t m0 x8 h3c yad3 ff3f fsa fc2 sc0 ls0 ws0">  (</div><div class="t m0 x8 h3c yad4 ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; 1</div><div class="t m0 x8 h3c yad5 ff3f fsa fc2 sc0 ls0 ws0">    [3] =&gt; 2</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6d" class="pf w2 h4" data-page-no="6d"><div class="pc pc6d w2 h4"><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls44 ws11d">89</div><div class="t m0 x3 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">    [5] =&gt; 3</div><div class="t m0 x3 h3c y3e3 ff3f fsa fc2 sc0 ls0 ws0">    [7] =&gt; 4</div><div class="t m0 x3 h3c y424 ff3f fsa fc2 sc0 ls0 ws0">    [9] =&gt; 5</div><div class="t m0 x3 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">  )</div><div class="t m0 x3 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h3c y3e5 ff39 fsa fc2 sc0 ls0 ws0">Another command called <span class="ff3f">array_fill()</span> will let you fill up an array with a single </div><div class="t m0 x3 h12 y425 ff39 fsa fc2 sc0 ls0 ws0">value. I<span class="_ _1"></span>t takes parameters for the starting index, how many values to fill, and the value t<span class="_ _1"></span>o </div><div class="t m0 x3 h12 y3e6 ff39 fsa fc2 sc0 ls0 ws0">insert.</div><div class="t m0 x3 h3c y3e7 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y3e8 ff3f fsa fc2 sc0 ls0 ws0">print_r(array_fill(10, 5, &apos;five&apos;));</div><div class="t m0 x1a h12 y3ea ff39 fsa fc2 sc0 ls0 ws0">This script outputs<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y3ec ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c y3ed ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c y3ee ff3f fsa fc2 sc0 ls0 ws0">[10] =&gt; five</div><div class="t m0 x3 h3c yac6 ff3f fsa fc2 sc0 ls0 ws0">[11] =&gt; five</div><div class="t m0 x3 h3c y3ef ff3f fsa fc2 sc0 ls0 ws0">[12] =&gt; five</div><div class="t m0 x3 h3c y3f0 ff3f fsa fc2 sc0 ls0 ws0">[13] =&gt; five</div><div class="t m0 x3 h3c yac7 ff3f fsa fc2 sc0 ls0 ws0">[14] =&gt; five</div><div class="t m0 x3 h3c y3f1 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x1a h3c y3f3 ff39 fsa fc2 sc0 ls0 ws0">Related to this is the function <span class="ff3f">array_fill_keys()</span>. This function will fill up an array </div><div class="t m0 x3 h12 y3f4 ff39 fsa fc2 sc0 ls0 ws0">with a specific value and lets you specify what keys to use<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y3f5 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y3f6 ff3f fsa fc2 sc0 ls0 ws0">$keys = range(1, 10, 2);</div><div class="t m0 x3 h3c yad6 ff3f fsa fc2 sc0 ls0 ws0">$value = &quot;PHP&quot;;</div><div class="t m0 x3 h3c yad7 ff3f fsa fc2 sc0 ls0 ws0">print_r(array_fill_keys($keys, $value));</div><div class="t m0 x3 h3c yad8 ff3f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c yad9 ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c yada ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c yadb ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; PHP</div><div class="t m0 x3 h3c yadc ff3f fsa fc2 sc0 ls0 ws0">    [3] =&gt; PHP</div><div class="t m0 x3 h3c yadd ff3f fsa fc2 sc0 ls0 ws0">    [5] =&gt; PHP</div><div class="t m0 x3 h3c yade ff3f fsa fc2 sc0 ls0 ws0">    [7] =&gt; PHP</div><div class="t m0 x3 h3c yadf ff3f fsa fc2 sc0 ls0 ws0">    [9] =&gt; PHP</div><div class="t m0 x3 h3c yae0 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h3c yae1 ff3f fsa fc2 sc0 ls0 ws0">*/</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6e" class="pf w2 h4" data-page-no="6e"><div class="pc pc6e w2 h4"><img class="bi x8 yae2 w3 h5d" alt="" src="bg6e.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls5 ws33">90</div><div class="t m0 x8 h26 y3bf ff39 fse fc2 sc0 ls0 ws0">Push<span class="_ _1"></span>, Pop<span class="_ _1"></span>, Shift<span class="_ _1"></span>, and Unshift (Oh M<span class="_ _1"></span>y!)</div><div class="t m0 x8 h12 y3c0 ff39 fsa fc2 sc0 ls0 ws0">These four commands are used to add or r<span class="_ _1"></span>emove elements fr<span class="_ _1"></span>om arrays.</div><div class="t m0 x8 h5c yae3 ff3d fs6 fc2 sc0 ls0 ws0">Function<span class="_ _3a"> </span>Effect</div><div class="t m0 x8 h3c yae4 ff3f fsa fc2 sc0 ls0 ws0">array_shift()<span class="_ _86"> </span><span class="ff39">Shifts an element off the beginning of array</span></div><div class="t m0 x64 h15 yae5 ff39 fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x8 h3c yae6 ff3f fsa fc2 sc0 ls0 ws0">array_unshift()<span class="_ _87"> </span><span class="ff39">Prepends one or mor<span class="_ _1"></span>e elements to the beginning of an array</span></div><div class="t m0 x65 h15 yae7 ff39 fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x8 h3c yae8 ff3f fsa fc2 sc0 ls0 ws0">array_pop()<span class="_ _65"> </span><span class="ff39">Pops the element off the end of arra<span class="_ _1"></span>y</span></div><div class="t m0 x66 h15 yae9 ff39 fsb fc4 sc0 ls0 ws0">7</div><div class="t m0 x8 h3c yaea ff3f fsa fc2 sc0 ls0 ws0">array_push()<span class="_ _a"> </span><span class="ff39">Pushes one or more elements onto the end of arr<span class="_ _1"></span>ay</span></div><div class="t m0 x4d h15 yaeb ff39 fsb fc4 sc0 ls0 ws0">8</div><div class="t m0 x3 h12 yaec ff39 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou’ll probably notice that you c<span class="_ _1"></span>an easily implement queues and stacks with these </div><div class="t m0 x8 h12 yaed ff39 fsa fc2 sc0 ls0 ws0">functions.</div><div class="t m0 x3 h12 yaee ff39 fsa fc2 sc0 ls0 ws0">The commands that r<span class="_ _1"></span>emove an element fr<span class="_ _1"></span>om the array ret<span class="_ _1"></span>urn it to you and shift all </div><div class="t m0 x8 h12 yaef ff39 fsa fc2 sc0 ls0 ws0">the elements down. N<span class="_ _1"></span>umeric keys are reduced until they start counting fr<span class="_ _1"></span>om 0 and literal </div><div class="t m0 x8 h12 yaf0 ff39 fsa fc2 sc0 ls0 ws0">keys are left unto<span class="_ _1"></span>uched.</div><div class="t m0 x8 h3c y789 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yaf1 ff3f fsa fc2 sc0 ls0 ws0">$stack = array(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);</div><div class="t m0 x8 h3c yaf2 ff3f fsa fc2 sc0 ls0 ws0">$fruit = array_shift($stack);</div><div class="t m0 x8 h3c yaf3 ff3f fsa fc2 sc0 ls0 ws0">print_r($stack);</div><div class="t m0 x3 h3c yaf4 ff39 fsa fc2 sc0 ls0 ws0">In the output, y<span class="_ _1"></span>ou will notice that <span class="ff3f">&quot;two&quot;</span> now has the key of 0, wher<span class="_ _1"></span>e before it was 1:</div><div class="t m0 x8 h3c yaf5 ff3f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h3c yaf6 ff3f fsa fc2 sc0 ls0 ws0">  Array</div><div class="t m0 x8 h3c yaf7 ff3f fsa fc2 sc0 ls0 ws0">  (</div><div class="t m0 x8 h3c yaf8 ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; two</div><div class="t m0 x8 h3c yaf9 ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; three</div><div class="t m0 x8 h3c yafa ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt; four</div><div class="t m0 x8 h3c yafb ff3f fsa fc2 sc0 ls0 ws0">  )</div><div class="t m0 x8 h3c yafc ff3f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x8 h19 yafd ff3e fsd fc2 sc0 ls0 ws11b">Comparing Arrays</div><div class="t m0 x8 h3c yafe ff39 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou saw earlier in the chapter that it is possible t<span class="_ _1"></span>o use the equality <span class="ff3f">==</span> and identity <span class="ff3f">===</span> </div><div class="t m0 x8 h3c yaff ff39 fsa fc2 sc0 ls0 ws0">operators to compar<span class="_ _1"></span>e arrays<span class="_ _1"></span>. When applied to arrays, the equality oper<span class="_ _1"></span>ator returns <span class="ff3f">true</span> </div><div class="t m0 x8 h12 yb00 ff39 fsa fc2 sc0 ls0 ws0">if the arrays ha<span class="_ _1"></span>ve the same keys and values<span class="_ _1"></span>, regardless of their type<span class="_ _1"></span>. The identity operator </div><div class="t m0 x8 h3c yb01 ff39 fsa fc2 sc0 ls0 ws0">will only return <span class="ff3f">true</span> if the arrays h<span class="_ _1"></span>ave the same keys and values<span class="_ _1"></span>, they are in the same </div><div class="t m0 x8 h12 yb02 ff39 fsa fc2 sc0 ls0 ws0">order<span class="_ _2"></span>, and they are of the same v<span class="_ _1"></span>ariable types.</div><div class="t m0 x8 h16 yb03 ff40 fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x26 h43 yb04 ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.array-shift.php</div><div class="t m0 x8 h16 yb05 ff40 fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h43 yb06 ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.array-unshift.php</div><div class="t m0 x8 h16 yb07 ff40 fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x26 h43 yb08 ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.array-pop.php</div><div class="t m0 x8 h16 yb09 ff40 fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x26 h43 yb0a ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.array-push.php</div><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",39,115,null]'><div class="d m1" style="border-style:none;position:absolute;left:292.160000px;bottom:528.185000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",39,105,null]'><div class="d m1" style="border-style:none;position:absolute;left:357.184000px;bottom:513.185000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",39,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:268.131000px;bottom:498.185000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:322.373000px;bottom:482.185000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.array-shift.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:103.014000px;width:242.250200px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.array-unshift.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:93.014200px;width:250.750200px;height:11.168800px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.array-pop.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:83.014200px;width:233.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.array-push.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.014200px;width:238.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6f" class="pf w2 h4" data-page-no="6f"><div class="pc pc6f w2 h4"><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x14 hd y55 ff39 fs6 fc2 sc0 ls45 ws11e">91</div><div class="t m0 x3 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y3e3 ff3f fsa fc2 sc0 ls0 ws0">$arr = [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;];</div><div class="t m0 x3 h3c y424 ff3f fsa fc2 sc0 ls0 ws0">$brr = [1, 2, 3];</div><div class="t m0 x3 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">var_dump($arr === $brr); // false</div><div class="t m0 x3 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">var_dump($arr == $brr);  // true</div><div class="t m0 x1a h12 y3e5 ff39 fsa fc2 sc0 ls0 ws11f">There ar<span class="_ _1"></span>e PHP functions devoted to array comparisons that mak<span class="_ _1"></span>e more sophisticated </div><div class="t m0 x3 h12 y425 ff39 fsa fc2 sc0 ls0 ws0">comparisons possible.</div><div class="t m0 x3 h26 yb0b ff39 fse fc2 sc0 ls0 ws0">array_diff()</div><div class="t m0 x3 h3c yb0c ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">array_diff()</span> function takes a list of arrays as ar<span class="_ _1"></span>guments. I<span class="_ _1"></span>t will return an array </div><div class="t m0 x3 h12 yb0d ff39 fsa fc2 sc0 ls0 ws0">containing the values fr<span class="_ _1"></span>om the first array that wer<span class="_ _1"></span>e not present in any of the other arra<span class="_ _1"></span>ys.</div><div class="t m0 x1a h3c yb0e ff39 fsa fc2 sc0 ls0 ws0">This example uses <span class="ff3f">array_diff()</span> to compare in<span class="_ _1"></span>put parameters supplied in the </div><div class="t m0 x3 h3c yb0f ff3f fsa fc2 sc0 ls0 ws0">$_POST<span class="ff39"> superglobal against a pr<span class="_ _1"></span>edefined list of required paramet<span class="_ _1"></span>ers.</span></div><div class="t m0 x3 h3c yb10 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yb11 ff3f fsa fc2 sc0 ls0 ws0">$requiredKeys = [&apos;username&apos;, &apos;password&apos;, &apos;csrf_token&apos;];</div><div class="t m0 x3 h3c yb12 ff3f fsa fc2 sc0 ls0 ws0">$missingKeys = array_diff($requiredKeys, array_keys($_POST));</div><div class="t m0 x3 h3c yb13 ff3f fsa fc2 sc0 ls0 ws0">if (count($missingKeys)) {</div><div class="t m0 x3 h3c yb14 ff3f fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>throw new UnexpectedValueException(&apos;You need to provide  </div><div class="t m0 x1a h3c yb15 ff3f fsa fc2 sc0 ls0 ws0">[&apos; . print_r($missingKeys, true) . &apos;]&apos;);</div><div class="t m0 x3 h3c yb16 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 yb17 ff39 fsa fc2 sc0 ls0 ws0">This code finds any keys that ar<span class="_ _1"></span>e in the required list b<span class="_ _1"></span>ut not in the post array and </div><div class="t m0 x3 h3c yb18 ff39 fsa fc2 sc0 ls0 ws0">creates an arr<span class="_ _1"></span>ay called <span class="ff3f">$missingKeys</span>, which contains them. This lets yo<span class="_ _1"></span>u validate that a </div><div class="t m0 x3 h12 yb19 ff39 fsa fc2 sc0 ls0 ws0">form has been completely filled in.</div><div class="t m0 x1a h3c yb1a ff3f fsa fc2 sc0 ls0 ws0">array_diff_assoc()<span class="ff39"> is an associative version of </span>array_diff()<span class="ff39"> and takes into </span></div><div class="t m0 x3 h12 yb1b ff39 fsa fc2 sc0 ls0 ws0">account the array k<span class="_ _1"></span>eys as well as their values. T<span class="_ _2"></span>o see the difference, we can use a very </div><div class="t m0 x3 h12 yb1c ff39 fsa fc2 sc0 ls0 ws0">simple example:</div><div class="t m0 x3 h3c yb1d ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yb1e ff3f fsa fc2 sc0 ls0 ws0">$a = [&apos;a&apos; =&gt; &apos;apple&apos;, &apos;b&apos; =&gt; &apos;banana&apos;];</div><div class="t m0 x3 h3c yb1f ff3f fsa fc2 sc0 ls0 ws0">$b = [&apos;a&apos; =&gt; &apos;apple&apos;, &apos;d&apos; =&gt; &apos;banana&apos;];</div><div class="t m0 x3 h3c yb20 ff3f fsa fc2 sc0 ls0 ws0">print_r(array_diff($a, $b));</div><div class="t m0 x3 h3c yb21 ff3f fsa fc2 sc0 ls0 ws0">print_r(array_diff_assoc($a, $b));</div><div class="t m0 x3 h3c yb22 ff3f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c yb23 ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c yb24 ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c yb25 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h3c yb26 ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c yb27 ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c yb28 ff3f fsa fc2 sc0 ls0 ws0">    [b] =&gt; banana</div><div class="t m0 x3 h3c yb29 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h3c yb2a ff3f fsa fc2 sc0 ls0 ws0">*/</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf70" class="pf w2 h4" data-page-no="70"><div class="pc pc70 w2 h4"><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls24 wsff">92</div><div class="t m0 x3 h3c y2a8 ff39 fsa fc2 sc0 ls0 ws0">The result of <span class="ff3f">array_diff()</span> is an empty arr<span class="_ _1"></span>ay, but <span class="ff3f">array_diff_assoc()</span> returns an </div><div class="t m0 x8 h3c y3e3 ff39 fsa fc2 sc0 ls0 ws0">array consisting of <span class="ff3f">[b] =&gt; banana</span> beca<span class="_ _1"></span>use the key for the value <span class="ff3f">banana</span> is <span class="ff3f">b</span> in the first </div><div class="t m0 x8 h3c y424 ff39 fsa fc2 sc0 ls0 ws0">array and <span class="ff3f">d</span> in the second.</div><div class="t m0 x8 h26 yb2b ff39 fse fc2 sc0 ls0 ws0">array_in<span class="_ _1"></span>tersect()</div><div class="t m0 x8 h3c yb2c ff39 fsa fc2 sc0 ls0 ws0">The function <span class="ff3f">array_intersect()</span> also takes a list of arrays as par<span class="_ _1"></span>ameters. I<span class="_ _1"></span>t calculates </div><div class="t m0 x8 h12 yb2d ff39 fsa fc2 sc0 ls0 ws0">which values from the first arr<span class="_ _1"></span>ay are also present in all the other arr<span class="_ _1"></span>ays.</div><div class="t m0 x8 h3c yb2e ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yb2f ff3f fsa fc2 sc0 ls0 ws0">$birds = [&apos;duck&apos;, &apos;chicken&apos;, &apos;goose&apos;];</div><div class="t m0 x8 h3c yb30 ff3f fsa fc2 sc0 ls0 ws0">$net = [&apos;dog&apos;, &apos;cat&apos;, &apos;chicken&apos;, &apos;goose&apos;, &apos;hamster&apos;];</div><div class="t m0 x8 h3c yb31 ff3f fsa fc2 sc0 ls0 ws0">print_r(array_intersect($net, $birds));</div><div class="t m0 x3 h3c yb32 ff39 fsa fc2 sc0 ls0 ws0">This will output the elements that ar<span class="_ _1"></span>e in <span class="ff3f">$net</span> as well as in <span class="ff3f">$birds</span>:</div><div class="t m0 x8 h3c yb33 ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c yb34 ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c yb35 ff3f fsa fc2 sc0 ls0 ws0">  [2] =&gt; chicken</div><div class="t m0 x8 h3c yb36 ff3f fsa fc2 sc0 ls0 ws0">  [3] =&gt; goose</div><div class="t m0 x8 h3c yb37 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h12 yb38 ff39 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the keys are preserved.</div><div class="t m0 x3 h3c yb39 ff3f fsa fc2 sc0 ls0 ws0">array_intersect_assoc()<span class="ff39"> includes an index check when matching elemen<span class="_ _1"></span>ts. If </span></div><div class="t m0 x8 h12 yb3a ff39 fsa fc2 sc0 ls0 ws0">you apply it to the arra<span class="_ _1"></span>ys in the example, it will return an empty arra<span class="_ _1"></span>y. The return value is </div><div class="t m0 x8 h12 yb3b ff39 fsa fc2 sc0 ls0 ws0">empty because, although the v<span class="_ _1"></span>alues in the arrays match<span class="_ _1"></span>, their indexes do not.</div><div class="t m0 x8 h26 yb3c ff39 fse fc2 sc0 ls0 ws0">User<span class="_ _2"></span>-Define<span class="_ _0"></span>d M<span class="_ _1"></span>atchin<span class="_ _1"></span>g Functions</div><div class="t m0 x8 h12 yb3d ff39 fsa fc2 sc0 ls0 ws0">PHP pro<span class="_ _1"></span>vides functions that allow you to specify your o<span class="_ _1"></span>wn comparison function.</div><div class="t m0 x3 h3c yb3e ff39 fsa fc2 sc0 ls0 ws0">Consider <span class="ff3f">array_udiff()</span> as an example. I<span class="_ _1"></span>t takes a list of array par<span class="_ _1"></span>ameters followed </div><div class="t m0 x8 h12 yb3f ff39 fsa fc2 sc0 ls0 ws0">by a callable as the last par<span class="_ _1"></span>ameter<span class="_ _2"></span>.</div><div class="t m0 x3 h12 yb40 ff39 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s consider a trivial example, wher<span class="_ _1"></span>e we want to compare the lo<span class="_ _1"></span>wercase value </div><div class="t m0 x8 h12 yb41 ff39 fsa fc2 sc0 ls0 ws0">of the arrays to each other<span class="_ _11"></span>. More realistic use-cases could in<span class="_ _1"></span>volve more complica<span class="_ _1"></span>ted </div><div class="t m0 x8 h12 yb42 ff39 fsa fc2 sc0 ls0 ws0">operations<span class="_ _1"></span>, such as on objects for example.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf71" class="pf w2 h4" data-page-no="71"><div class="pc pc71 w2 h4"><img class="bi x3 y653 w7 h27" alt="" src="bg71.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls46 ws120">93</div><div class="t m0 x3 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y2a9 ff3f fsa fc2 sc0 ls0 ws0">$birds = [&apos;duck&apos;, &apos;chicken&apos;, &apos;goose&apos;];</div><div class="t m0 x3 h3c y2aa ff3f fsa fc2 sc0 ls0 ws0">$net = [&apos;Dog&apos;, &apos;Cat&apos;, &apos;Chicken&apos;, &apos;Goose&apos;, &apos;Hamster&apos;];</div><div class="t m0 x3 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">$diff = array_udiff($net, $birds, function($a, $b){</div><div class="t m0 x3 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">    $a = strtolower($a);</div><div class="t m0 x3 h3c y2ad ff3f fsa fc2 sc0 ls0 ws0">    $b = strtolower($b);</div><div class="t m0 x3 h3c ya79 ff3f fsa fc2 sc0 ls0 ws0">    if ($a &lt; $b) {</div><div class="t m0 x3 h3c y425 ff3f fsa fc2 sc0 ls0 ws0">        return -1;</div><div class="t m0 x3 h3c y4e6 ff3f fsa fc2 sc0 ls0 ws0">    } elseif ($a &gt; $b) {</div><div class="t m0 x3 h3c y4e7 ff3f fsa fc2 sc0 ls0 ws0">        return 1;</div><div class="t m0 x3 h3c y4e8 ff3f fsa fc2 sc0 ls0 ws0">    } else {</div><div class="t m0 x3 h3c ya7a ff3f fsa fc2 sc0 ls0 ws0">        return 0;</div><div class="t m0 x3 h3c y4e9 ff3f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y4ea ff3f fsa fc2 sc0 ls0 ws0">});</div><div class="t m0 x3 h3c y3eb ff3f fsa fc2 sc0 ls0 ws0">print_r($diff);</div><div class="t m0 x1a h3c y4ec ff39 fsa fc2 sc0 ls0 ws0">This code outputs elements in the <span class="ff3f">$net</span> tha<span class="_ _1"></span>t don&apos;t have a ma<span class="_ _1"></span>tching animal in the list </div><div class="t m0 x3 h3c ya7b ff39 fsa fc2 sc0 ls0 ws0">of <span class="ff3f">$birds</span>. W<span class="_ _1"></span>e&apos;r<span class="_ _1"></span>e using a custom function to do the comparison, which first converts both </div><div class="t m0 x3 h12 y4ed ff39 fsa fc2 sc0 ls0 ws0">strings to lowercase<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y4ee ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c y4ef ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c ya7d ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; Dog</div><div class="t m0 x3 h3c ya7e ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; Cat</div><div class="t m0 x3 h3c ya7f ff3f fsa fc2 sc0 ls0 ws0">    [4] =&gt; Hamster</div><div class="t m0 x3 h3c ya80 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x1a h12 ya82 ff39 fsa fc2 sc0 ls0 ws0">Note the following:</div><div class="t m0 x7 h12 yb43 ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">From the man<span class="_ _1"></span>ual</span></div><div class="t m0 x31 h15 yb44 ff39 fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x2c h12 yb45 ff39 fsa fc2 sc0 ls0 ws0">: “The comparison function must return </div><div class="t m0 x19 h12 yb46 ff39 fsa fc2 sc0 ls0 ws0">an integer less than, equal to<span class="_ _1"></span>, or great<span class="_ _1"></span>er than zero if the first </div><div class="t m0 x19 h12 yb47 ff39 fsa fc2 sc0 ls0 ws0">argument is consider<span class="_ _1"></span>ed to be respectively less than, equal to<span class="_ _1"></span>, or </div><div class="t m0 x19 h12 yb48 ff39 fsa fc2 sc0 ls0 ws0">greater th<span class="_ _1"></span>an the second.<span class="_ _11"></span>”</div><div class="t m0 x7 h12 yb49 ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">Y<span class="_ _2"></span>ou can use closures as callables for any function tha<span class="_ _1"></span>t takes a </span></div><div class="t m0 x19 h12 yb4a ff39 fsa fc2 sc0 ls0 ws0">callable as a parameter<span class="_ _11"></span>.</div><div class="t m0 x7 h12 y3fa ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">Y<span class="_ _2"></span>ou can use lambdas as callables, also for any function tha<span class="_ _1"></span>t takes </span></div><div class="t m0 x19 h12 y3fb ff39 fsa fc2 sc0 ls0 ws0">a callable as a parameter<span class="_ _11"></span>. In the example, we’r<span class="_ _1"></span>e using a lambda.</div><div class="t m0 x7 h12 yb4b ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">The comparison function takes two arguments that will be the </span></div><div class="t m0 x19 h12 yb4c ff39 fsa fc2 sc0 ls0 ws0">values to compare<span class="_ _1"></span>.</div><div class="t m0 x1a h12 yb4d ff39 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e PHP functions to allow you to specify your own callable t<span class="_ _1"></span>o compare keys, </div><div class="t m0 x3 h12 yb4e ff39 fsa fc2 sc0 ls0 ws0">values, or both<span class="_ _1"></span>.</div><div class="t m0 x3 h16 yb4f ff40 fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x1d h43 yb50 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-udiff.php</div><a class="l" href="#pf71" data-dest-detail='[113,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:170.810000px;bottom:275.181000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-udiff.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:71.905900px;width:212.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf72" class="pf w2 h4" data-page-no="72"><div class="pc pc72 w2 h4"><img class="bi x8 yb51 w3 h5e" alt="" src="bg72.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls39 ws112">94</div><div class="t m0 x8 h26 y3bf ff39 fse fc2 sc0 ls0 ws0">Quick List of Comparison F<span class="_ _1"></span>unctions</div><div class="t m0 x8 h12 y3c0 ff39 fsa fc2 sc0 ls0 ws0">This table shows the arra<span class="_ _1"></span>ys for performing the difference between functions.</div><div class="t m0 x3 h12 y3c1 ff39 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e similar functions to perform the intersection. They have the same naming </div><div class="t m0 x8 h12 y531 ff39 fsa fc2 sc0 ls0 ws0">convention and par<span class="_ _1"></span>ameters, so I&apos;m not listing them her<span class="_ _1"></span>e.</div><div class="t m0 x8 h5c y8f7 ff3d fs6 fc2 sc0 ls0 ws0">Function<span class="_ _88"> </span>Used For</div><div class="t m0 x8 h3c y8f8 ff3f fsa fc2 sc0 ls0 ws0">array_diff<span class="_ _3a"> </span><span class="ff39">Computes the difference of arrays</span></div><div class="t m0 x66 h15 yb52 ff39 fsb fc4 sc0 ls0 ws0">10</div><div class="t m0 x8 h3c yb53 ff3f fsa fc2 sc0 ls0 ws0">array_diff_assoc<span class="_ _66"> </span><span class="ff39">Computes the difference of arrays with additional index chec<span class="_ _1"></span>k</span></div><div class="t m0 x8 h3c yb54 ff3f fsa fc2 sc0 ls0 ws0">array_udiff<span class="_ _52"> </span><span class="ff39">Computes the difference of arrays b<span class="_ _1"></span>y using a callback function </span></div><div class="t m0 x67 h12 yb55 ff39 fsa fc2 sc0 ls0 ws0">for data comparison</div><div class="t m0 x68 h15 yb56 ff39 fsb fc4 sc0 ls0 ws0">11</div><div class="t m0 x8 h3c yb57 ff3f fsa fc2 sc0 ls0 ws0">array_udiff_assoc<span class="_ _58"> </span><span class="ff39">Computes the differ<span class="_ _1"></span>ence of arrays with additional index check </span></div><div class="t m0 x67 h12 yb58 ff39 fsa fc2 sc0 ls0 ws0">and compares da<span class="_ _1"></span>ta by a callback function</div><div class="t m0 x69 h15 yb59 ff39 fsb fc4 sc0 ls0 ws0">12</div><div class="t m0 x8 h3c yb5a ff3f fsa fc2 sc0 ls0 ws0">array_udiff_uassoc<span class="_ _89"> </span><span class="ff39">Computes the difference of arr<span class="_ _1"></span>ays with additional index check </span></div><div class="t m0 x67 h12 yb5b ff39 fsa fc2 sc0 ls0 ws0">and compares da<span class="_ _1"></span>ta and indexes by a callback function</div><div class="t m0 x3 h3c yb5c ff39 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t <span class="ff3f">array_udiff_uassoc()</span> takes two callable functions as parameters<span class="_ _1"></span>, one for </div><div class="t m0 x8 h12 yb5d ff39 fsa fc2 sc0 ls0 ws0">the values and the last parameter for the indexes<span class="_ _1"></span>. Look at the manual page</div><div class="t m0 x6a h15 yb5e ff39 fsb fc4 sc0 ls0 ws0">13</div><div class="t m0 x52 h12 yb5f ff39 fsa fc2 sc0 ls0 ws0"> and make </div><div class="t m0 x8 h12 yb60 ff39 fsa fc2 sc0 ls0 ws0">sure you h<span class="_ _1"></span>ave studied all its r<span class="_ _1"></span>elated functions.</div><div class="t m0 x8 h19 yb61 ff3e fsd fc2 sc0 ls0 ws11b">Combining Arrays</div><div class="t m0 x8 h12 yb62 ff39 fsa fc2 sc0 ls0 ws0">PHP offers some useful functions to help combine arrays<span class="_ _1"></span>.</div><div class="t m0 x3 h3c yb63 ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">combine_array($keys, $values)</span> function creat<span class="_ _1"></span>es an array by using one arra<span class="_ _1"></span>y </div><div class="t m0 x8 h3c yb64 ff39 fsa fc2 sc0 ls0 ws0">for keys and another for its values. I<span class="_ _1"></span>t will return <span class="ff3f">FALSE</span> if the number of elemen<span class="_ _1"></span>ts in the </div><div class="t m0 x8 h12 yb65 ff39 fsa fc2 sc0 ls0 ws0">arrays do not ma<span class="_ _1"></span>tch, and otherw<span class="_ _0"></span>ise will return an as<span class="_ _1"></span>sociative array.</div><div class="t m0 x3 h3c yb66 ff39 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use <span class="ff3f">array_replace($array1, $array2, ...)</span> to sequentially replace values </div><div class="t m0 x8 h12 yb67 ff39 fsa fc2 sc0 ls0 ws0">in an array with values from other arr<span class="_ _1"></span>ays. I<span class="_ _1"></span>t takes two or more arrays as par<span class="_ _1"></span>ameters and </div><div class="t m0 x8 h12 yb68 ff39 fsa fc2 sc0 ls0 ws0">processes them from left to righ<span class="_ _1"></span>t.</div><div class="t m0 x3 h12 yb69 ff39 fsa fc2 sc0 ls0 ws0">It follows these rules to determine the final r<span class="_ _1"></span>esult<span class="_ _0"></span>:</div><div class="t m0 x2b h12 yb6a ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">If the first array has a k<span class="_ _1"></span>ey that is not in the second array, then the </span></div><div class="t m0 x18 h12 yb6b ff39 fsa fc2 sc0 ls0 ws0">key-<span class="_ _1"></span>value pair is left untouched.</div><div class="t m0 x2b h12 yb6c ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">If the second array has a key tha<span class="_ _1"></span>t is not in the first array, then </span></div><div class="t m0 x18 h12 yb6d ff39 fsa fc2 sc0 ls0 ws0">the key-<span class="_ _1"></span>value pair from the second arra<span class="_ _1"></span>y is inserted into the first </div><div class="t m0 x18 h12 yb6e ff39 fsa fc2 sc0 ls0 ws0">array.</div><div class="t m0 x2b h12 yb6f ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">If the second value has a key that is also in the first arra<span class="_ _1"></span>y, then the </span></div><div class="t m0 x18 h12 yb70 ff39 fsa fc2 sc0 ls0 ws0">value from the second array r<span class="_ _1"></span>eplaces the value in the first array.</div><div class="t m0 x8 h16 yb71 ff40 fsc fc2 sc0 ls0 ws0">10</div><div class="t m0 x3c h43 yb72 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-diff.php</div><div class="t m0 x8 h16 yb73 ff40 fsc fc2 sc0 ls1a wsf6">11</div><div class="t m0 x3c h43 yb74 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-udiff.php</div><div class="t m0 x8 h16 yb75 ff40 fsc fc2 sc0 ls0 ws0">12</div><div class="t m0 x3c h43 yb76 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-udiff-assoc.php</div><div class="t m0 x8 h16 yb77 ff40 fsc fc2 sc0 ls0 ws0">13</div><div class="t m0 x3c h43 yb78 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-diff-uassoc.php</div><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",39,114,null]'><div class="d m1" style="border-style:none;position:absolute;left:267.597000px;bottom:506.185000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",39,104,null]'><div class="d m1" style="border-style:none;position:absolute;left:216.100000px;bottom:465.185000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",39,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:297.018000px;bottom:439.185000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:322.781000px;bottom:371.935000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-diff.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:102.298000px;width:208.250500px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-udiff.php"><div class="d m1" style="border-style:none;position:absolute;left:44.552200px;bottom:92.297700px;width:212.499800px;height:11.169300px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-udiff-assoc.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:82.297700px;width:238.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-diff-uassoc.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:72.297700px;width:238.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf73" class="pf w2 h4" data-page-no="73"><div class="pc pc73 w2 h4"><img class="bi x3 yb79 w5 h5f" alt="" src="bg73.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls35 ws110">95</div><div class="t m0 x1a h3c y2a8 ff39 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s step thro<span class="_ _1"></span>ugh an example of <span class="ff3f">using array_replace()</span>:</div><div class="t m0 x3 h3c y424 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">$input = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];</div><div class="t m0 x3 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">$replace = [3 =&gt; &apos;d&apos;, &apos;1&apos; =&gt; &apos;q&apos;];</div><div class="t m0 x3 h3c y3e4 ff3f fsa fc2 sc0 ls0 ws0">$replaceTwo = [2 =&gt; 1, 1.3 =&gt; &apos;Z&apos;];</div><div class="t m0 x3 h3c y3e5 ff3f fsa fc2 sc0 ls0 ws0">$output = array_replace($input, $replace, $replaceTwo);</div><div class="t m0 x3 h3c y425 ff3f fsa fc2 sc0 ls0 ws0">echo implode(&quot;, &quot;, $output); // a, Z, 1, d</div><div class="t m0 x1a h12 y426 ff39 fsa fc2 sc0 ls0 ws0">I’<span class="_ _1"></span>ve placed this information into a table so that you c<span class="_ _1"></span>an see how the rules are </div><div class="t m0 x3 h12 y3e7 ff39 fsa fc2 sc0 ls0 ws0">applied. The function works from left to righ<span class="_ _1"></span>t, replacing each subsequent par<span class="_ _1"></span>ameter with </div><div class="t m0 x3 h12 y3e8 ff39 fsa fc2 sc0 ls0 ws0">the previous arra<span class="_ _1"></span>y.</div><div class="t m0 x3 h5c yb7a ff3d fs6 fc2 sc0 ls0 ws0">Key<span class="_ _87"> </span>$input<span class="_ _8a"> </span>$replace<span class="_ _73"> </span>$replaceT<span class="_ _1"></span>wo<span class="_ _76"> </span>$output</div><div class="t m0 x3 h12 yb7b ff39 fsa fc2 sc0 ls0 ws0">0<span class="_ _20"> </span>a<span class="_ _8b"> </span>a</div><div class="t m0 x3 h12 yb7c ff39 fsa fc2 sc0 ls0 ws0">1<span class="_ _20"> </span>b<span class="_ _5c"> </span>q<span class="_ _49"> </span>Z<span class="_ _2e"> </span>Z</div><div class="t m0 x3 h12 yb7d ff39 fsa fc2 sc0 ls0 ws0">2<span class="_ _20"> </span>c<span class="_ _8c"> </span>1<span class="_ _1a"> </span>1</div><div class="t m0 x3 h12 yb7e ff39 fsa fc2 sc0 ls0 ws0">3<span class="_ _6c"> </span>d<span class="_ _8d"> </span>d</div><div class="t m0 x23 h10 yb7f ff41 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff42">■<span class="_ _c"> </span><span class="ff44 fc2">Note<span class="ff41"> <span class="_ _2c"> </span> <span class="_ _1"></span>The string key <span class="ff3f fsa">1</span> is cast to an integer and the float key <span class="ff3f fsa">1.3</span> is also cast to integer<span class="_ _2"></span>. </span></span></span></div><div class="t m0 x3 h10 yb80 ff41 fs6 fc2 sc0 ls0 ws0">Both evaluate to 1 and so will replace the value in that position.</div><div class="t m0 x1a h3c yb81 ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">array_merge()</span> function will merge one or more arra<span class="_ _1"></span>ys. One might expect that </div><div class="t m0 x3 h3c yb82 ff39 fsa fc2 sc0 ls0 ws0">it follows the same rules when merging as the <span class="ff3f">+</span> operat<span class="_ _1"></span>or<span class="_ _2"></span>, but there are some situations </div><div class="t m0 x3 h12 yb83 ff39 fsa fc2 sc0 ls0 ws0">where it beha<span class="_ _1"></span>ves quite differently. Cons<span class="_ _1"></span>ider this example:</div><div class="t m0 x3 h3c yb84 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yb85 ff3f fsa fc2 sc0 ls0 ws0">$arrOne = [</div><div class="t m0 x3 h3c yb86 ff3f fsa fc2 sc0 ls0 ws0">  // integer</div><div class="t m0 x3 h3c yb87 ff3f fsa fc2 sc0 ls0 ws0">  0 =&gt; &apos;One 0&apos;,</div><div class="t m0 x3 h3c yb88 ff3f fsa fc2 sc0 ls0 ws0">  // string</div><div class="t m0 x3 h3c yb89 ff3f fsa fc2 sc0 ls0 ws0">  &apos;a&apos; =&gt; &apos;One a&apos;,</div><div class="t m0 x3 h3c yb8a ff3f fsa fc2 sc0 ls0 ws0">  // non-empty in One, but empty in Two</div><div class="t m0 x3 h3c yb8b ff3f fsa fc2 sc0 ls0 ws0">  &apos;Overwrite&apos; =&gt; &apos;Not empty&apos;,</div><div class="t m0 x3 h3c yb8c ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x3 h3c yb8d ff3f fsa fc2 sc0 ls0 ws0">$arrTwo = [</div><div class="t m0 x3 h3c yb8e ff3f fsa fc2 sc0 ls0 ws0">  0 =&gt; &apos;Two 0&apos;,</div><div class="t m0 x3 h3c yb8f ff3f fsa fc2 sc0 ls0 ws0">  1 =&gt; &apos;Two 1&apos;,</div><div class="t m0 x3 h3c yb90 ff3f fsa fc2 sc0 ls0 ws0">  &apos;b&apos; =&gt; &apos;Two b&apos;,</div><div class="t m0 x3 h3c yb91 ff3f fsa fc2 sc0 ls0 ws0">  &apos;Overwrite&apos; =&gt; &apos;&apos;,</div><div class="t m0 x3 h3c yb92 ff3f fsa fc2 sc0 ls0 ws0">];</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf74" class="pf w2 h4" data-page-no="74"><div class="pc pc74 w2 h4"><img class="bi x8 y653 w3 h60" alt="" src="bg74.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls22 wsfd">96</div><div class="t m0 x8 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">print_r($arrOne + $arrTwo);</div><div class="t m0 x8 h3c y2aa ff3f fsa fc2 sc0 ls0 ws0">print_r(array_merge($arrOne, $arrTwo));</div><div class="t m0 x3 h12 y2ac ff39 fsa fc2 sc0 ls0 ws0">I’ll show you the o<span class="_ _1"></span>utput of this code in just a moment. Ther<span class="_ _1"></span>e are two things that yo<span class="_ _1"></span>u </div><div class="t m0 x8 h12 y2ad ff39 fsa fc2 sc0 ls0 ws0">should pay atten<span class="_ _1"></span>tion to in the code output<span class="_ _0"></span>:</div><div class="t m0 x2b h3c yb93 ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">The <span class="ff3f">array_merge()</span> function reindexes n<span class="_ _1"></span>umeric keys, but the </span></div><div class="t m0 x18 h12 yb94 ff39 fsa fc2 sc0 ls0 ws0">operator does not.</div><div class="t m0 x2b h3c yb95 ff45 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff39">The <span class="ff3f">array_merge()</span> function will not overwrite a non-empty </span></div><div class="t m0 x18 h12 yb96 ff39 fsa fc2 sc0 ls0 ws0">value with an empty value, but the oper<span class="_ _1"></span>ator will.</div><div class="t m0 x3 h12 yb97 ff39 fsa fc2 sc0 ls0 ws0">As promised, here is the outp<span class="_ _1"></span>ut showing the differences:</div><div class="t m0 x8 h3c yb98 ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c yb99 ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c yb9a ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; One 0</div><div class="t m0 x8 h3c yb9b ff3f fsa fc2 sc0 ls0 ws0">    [a] =&gt; One a</div><div class="t m0 x8 h3c yb9c ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; Two 1</div><div class="t m0 x8 h3c yb9d ff3f fsa fc2 sc0 ls0 ws0">    [b] =&gt; Two b</div><div class="t m0 x8 h3c yb9e ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x8 h3c yb9f ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c yba0 ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c yba1 ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; One 0</div><div class="t m0 x8 h3c yba2 ff3f fsa fc2 sc0 ls0 ws0">    [a] =&gt; One a</div><div class="t m0 x8 h3c yba3 ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; Two 0</div><div class="t m0 x8 h3c yba4 ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt; Two 1</div><div class="t m0 x8 h3c yba5 ff3f fsa fc2 sc0 ls0 ws0">    [b] =&gt; Two b</div><div class="t m0 x8 h3c yba6 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x8 h19 y3f7 ff3e fsd fc2 sc0 ls0 ws11b">Splitting Arrays</div><div class="t m0 x8 h12 y3f8 ff39 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several functions that can be used to split up an arra<span class="_ _1"></span>y. The following table </div><div class="t m0 x8 h12 y3f9 ff39 fsa fc2 sc0 ls0 ws0">lists them. W<span class="_ _1"></span>e<span class="_ _1"></span>&apos;ll look at some in detail in the book, but you should make sur<span class="_ _1"></span>e that you go </div><div class="t m0 x8 h12 yba7 ff39 fsa fc2 sc0 ls0 ws0">through the man<span class="_ _1"></span>ual too.</div><div class="t m0 x8 h5c yba8 ff3d fs6 fc2 sc0 ls0 ws0">Function<span class="_ _48"> </span>Used T<span class="_ _2"></span>o</div><div class="t m0 x8 h3c yba9 ff3f fsa fc2 sc0 ls0 ws0">array_chunk<span class="_ _7f"> </span><span class="ff39">S<span class="_ _1"></span>plit an array into ch<span class="_ _1"></span>unks.</span></div><div class="t m0 x6b h15 ybaa ff39 fsb fc4 sc0 ls0 ws0">14</div><div class="t m0 x8 h3c ybab ff3f fsa fc2 sc0 ls0 ws0">array_column<span class="_ _8e"> </span><span class="ff39">Return a single column fr<span class="_ _1"></span>om an input array, for example<span class="_ _1"></span>, an array of </span></div><div class="t m0 x6c h12 ybac ff39 fsa fc2 sc0 ls0 ws0">database query results.</div><div class="t m0 x8 h3c ybad ff3f fsa fc2 sc0 ls0 ws0">array_slice<span class="_ _7f"> </span><span class="ff39">Extr<span class="_ _1"></span>act an array of the array.</span></div><div class="t m0 x59 h12 ybae ff39 fsa fc2 sc0 ls0 ws0">(<span class="ff43">continued</span>)</div><div class="t m0 x8 h16 ybaf ff40 fsc fc2 sc0 ls0 ws0">14</div><div class="t m0 x3c h43 ybb0 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-chunk.php</div><a class="l" href="#pf74" data-dest-detail='[116,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:213.449000px;bottom:167.681000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-chunk.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:71.838400px;width:212.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf75" class="pf w2 h4" data-page-no="75"><div class="pc pc75 w2 h4"><img class="bi x3 y653 w5 h61" alt="" src="bg75.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls21 wsfc">97</div><div class="t m0 x3 h5c y984 ff3d fs6 fc2 sc0 ls0 ws0">Function<span class="_ _48"> </span>Used T<span class="_ _2"></span>o</div><div class="t m0 x3 h3c y985 ff3f fsa fc2 sc0 ls0 ws0">array_splice<span class="_ _8e"> </span><span class="ff39">Return a slice of the array and r<span class="_ _1"></span>eplace it with something else in the </span></div><div class="t m0 x6d h12 ybb1 ff39 fsa fc2 sc0 ls0 ws0">original array (the argumen<span class="_ _1"></span>t is called by refer<span class="_ _1"></span>ence).</div><div class="t m0 x6e h15 ybb2 ff39 fsb fc4 sc0 ls0 ws0">15</div><div class="t m0 x3 h3c ybb3 ff3f fsa fc2 sc0 ls0 ws0">extract<span class="_ _33"> </span><span class="ff39">Create variables n<span class="_ _1"></span>amed for the keys of an array that contain the </span></div><div class="t m0 x6d h12 ybb4 ff39 fsa fc2 sc0 ls0 ws0">values from the arra<span class="_ _1"></span>y. Using this function can lead to mur<span class="_ _1"></span>ky code </div><div class="t m0 x6d h12 ybb5 ff39 fsa fc2 sc0 ls0 ws0">because it’<span class="_ _2"></span>s not imme<span class="_ _0"></span>dia<span class="_ _1"></span>tely clear where a variable is defined.</div><div class="t m0 x3 h3c ybb6 ff3f fsa fc2 sc0 ls0 ws0">array_rand<span class="_ _8f"> </span><span class="ff39">Pick random keys of an arra<span class="_ _1"></span>y.</span></div><div class="t m0 x1a h3c ybb7 ff39 fsa fc2 sc0 ls0 ws0">Of these functions, the only potentially tricky one is <span class="ff3f">array_splice()</span>. N<span class="_ _1"></span>ot only does </div><div class="t m0 x3 h12 ybb8 ff39 fsa fc2 sc0 ls0 ws0">it return a value (the slice th<span class="_ _1"></span>at was extracted), but because the inp<span class="_ _1"></span>ut array is passed by </div><div class="t m0 x3 h12 ybb9 ff39 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence, it also affects the array you call it on.</div><div class="t m0 x1a h12 ybba ff39 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o add further complication, you are optionall<span class="_ _1"></span>y able to replace the slice that y<span class="_ _1"></span>ou </div><div class="t m0 x3 h12 ybbb ff39 fsa fc2 sc0 ls0 ws0">extract fr<span class="_ _1"></span>om the input array with a replacemen<span class="_ _1"></span>t array.</div><div class="t m0 x1a h12 ybbc ff39 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at an example:</div><div class="t m0 x3 h3c ybbd ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ybbe ff3f fsa fc2 sc0 ls0 ws0">$input = [1,2,3];</div><div class="t m0 x3 h3c ybbf ff3f fsa fc2 sc0 ls0 ws0">$replacement = [&apos;hello&apos;, &apos;world&apos;];</div><div class="t m0 x3 h3c ybc0 ff3f fsa fc2 sc0 ls0 ws0">// $slice contains the piece we extract</div><div class="t m0 x3 h3c ybc1 ff3f fsa fc2 sc0 ls0 ws0">$slice = array_splice($input, 1, 1, $replacement);</div><div class="t m0 x3 h3c ybc2 ff3f fsa fc2 sc0 ls0 ws0">// $input is passed by reference and so is amended</div><div class="t m0 x3 h3c ybc3 ff3f fsa fc2 sc0 ls0 ws0">print_r($input);</div><div class="t m0 x1a h12 ybc4 ff39 fsa fc2 sc0 ls29 ws0">This script looks for a slice of the input array tha<span class="_ _1"></span>t starts at position 1 and is of length 1. <span class="ls0"> </span></div><div class="t m0 x3 h3c ybc5 ff39 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e know that arra<span class="_ _1"></span>ys are zer<span class="_ _1"></span>o based, so position 1 has the value <span class="ff3f">2</span>. The <span class="ff3f">array_splice()</span> </div><div class="t m0 x3 h3c ybc6 ff39 fsa fc2 sc0 ls0 ws0">function returns an arra<span class="_ _1"></span>y of the piece that was found. Ther<span class="_ _1"></span>efore, <span class="ff3f">$slice</span> will be an array </div><div class="t m0 x3 h3c ybc7 ff39 fsa fc2 sc0 ls0 ws0">with a single element containing the value <span class="ff3f">2</span>.</div><div class="t m0 x1a h3c ybc8 ff39 fsa fc2 sc0 ls0 ws0">The input array ar<span class="_ _1"></span>gument to <span class="ff3f">array_splice()</span> is passed by refer<span class="_ _1"></span>ence and so will be </div><div class="t m0 x3 h12 ybc9 ff39 fsa fc2 sc0 ls0 ws0">modified by the function. W<span class="_ _1"></span>e replace the slice th<span class="_ _1"></span>at we extract with the replacement arr<span class="_ _1"></span>ay.</div><div class="t m0 x1a h12 ybca ff39 fsa fc2 sc0 ls0 ws0">The output of the script is therefor<span class="_ _1"></span>e:</div><div class="t m0 x3 h3c ybcb ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x3 h3c ybcc ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x3 h3c ybcd ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; 1</div><div class="t m0 x3 h3c ybce ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; hello</div><div class="t m0 x3 h3c ybcf ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt; world</div><div class="t m0 x3 h3c ybd0 ff3f fsa fc2 sc0 ls0 ws0">    [3] =&gt; 3</div><div class="t m0 x3 h3c ybd1 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h16 ybd2 ff40 fsc fc2 sc0 ls0 ws0">15</div><div class="t m0 x35 h43 ybd3 ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.array-slice.php</div><a class="l" href="#pf75" data-dest-detail='[117,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:327.189000px;bottom:557.027000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.array-slice.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.189400px;width:212.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf76" class="pf w2 h4" data-page-no="76"><div class="pc pc76 w2 h4"><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls23 wsfe">98</div><div class="t m0 x8 h19 y24e ff3e fsd fc2 sc0 ls0 ws11b">Destructuring Arrays</div><div class="t m0 x8 h3c y24f ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">list()</span> language construct is used to assign variables from an arr<span class="_ _1"></span>ay based on their </div><div class="t m0 x8 h12 y337 ff39 fsa fc2 sc0 ls0 ws0">indexes. H<span class="_ _1"></span>ere is a basic example of its usage:</div><div class="t m0 x8 h3c y516 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y517 ff3f fsa fc2 sc0 ls0 ws0">$array = [&apos;one&apos;, &apos;two&apos;, &apos;three&apos;];</div><div class="t m0 x8 h3c y518 ff3f fsa fc2 sc0 ls0 ws0">list($a, $b, $c) = $array;</div><div class="t m0 x8 h3c y519 ff3f fsa fc2 sc0 ls0 ws0">echo $a; // one</div><div class="t m0 x8 h3c y51a ff3f fsa fc2 sc0 ls0 ws0">echo $b; // two</div><div class="t m0 x8 h3c ybd4 ff3f fsa fc2 sc0 ls0 ws0">echo $c; //three</div><div class="t m0 x3 h3c ybd5 ff39 fsa fc2 sc0 ls0 ws0">PHP 7 introduced a syntax c<span class="_ _1"></span>hange for <span class="ff3f">list()</span> that makes it beh<span class="_ _1"></span>ave more consis<span class="_ _1"></span>tently </div><div class="t m0 x8 h12 ybd6 ff39 fsa fc2 sc0 ls0 ws0">when you&apos;re cr<span class="_ _1"></span>eating an indexed array. I<span class="_ _1"></span>n PHP 7, the variables are assigned in the or<span class="_ _1"></span>der </div><div class="t m0 x8 h12 y6fc ff39 fsa fc2 sc0 ls0 ws0">you write them, wher<span class="_ _1"></span>eas in PHP 5, they&apos;re assigned in reverse or<span class="_ _1"></span>der<span class="_ _2"></span>. That will make more </div><div class="t m0 x8 h12 ybd7 ff39 fsa fc2 sc0 ls0 ws0">sense if you see an example:</div><div class="t m0 x8 h3c ybd8 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y6ff ff3f fsa fc2 sc0 ls0 ws0">$array = [&apos;one&apos;, &apos;two&apos;, &apos;three&apos;];</div><div class="t m0 x8 h3c ybd9 ff3f fsa fc2 sc0 ls0 ws0">list($indexedArray[0], $indexedArray[1], $indexedArray[2]) = $array;</div><div class="t m0 x8 h3c ybda ff3f fsa fc2 sc0 ls0 ws0">var_dump($indexedArray);</div><div class="t m0 x3 h12 ybdb ff39 fsa fc2 sc0 ls0 ws0">In PHP 7, this will output<span class="_ _0"></span>:</div><div class="t m0 x8 h3c ybdc ff3f fsa fc2 sc0 ls0 ws0">array(3) {</div><div class="t m0 x8 h3c ybdd ff3f fsa fc2 sc0 ls0 ws0">  [0]=&gt;</div><div class="t m0 x8 h3c ybde ff3f fsa fc2 sc0 ls0 ws0">  string(3) &quot;one&quot;</div><div class="t m0 x8 h3c ybdf ff3f fsa fc2 sc0 ls0 ws0">  [1]=&gt;</div><div class="t m0 x8 h3c ybe0 ff3f fsa fc2 sc0 ls0 ws0">  string(3) &quot;two&quot;</div><div class="t m0 x8 h3c ybe1 ff3f fsa fc2 sc0 ls0 ws0">  [2]=&gt;</div><div class="t m0 x8 h3c ybe2 ff3f fsa fc2 sc0 ls0 ws0">  string(5) &quot;three&quot;</div><div class="t m0 x8 h3c ybe3 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 ybe4 ff39 fsa fc2 sc0 ls0 ws0">In PHP 5, the order is r<span class="_ _1"></span>eversed and this outputs:</div><div class="t m0 x8 h3c ybe5 ff3f fsa fc2 sc0 ls0 ws0">array(3) {</div><div class="t m0 x8 h3c ybe6 ff3f fsa fc2 sc0 ls0 ws0">  [2]=&gt;</div><div class="t m0 x8 h3c ybe7 ff3f fsa fc2 sc0 ls0 ws0">  string(5) &quot;three&quot;</div><div class="t m0 x8 h3c ybe8 ff3f fsa fc2 sc0 ls0 ws0">  [1]=&gt;</div><div class="t m0 x8 h3c ybe9 ff3f fsa fc2 sc0 ls0 ws0">  string(3) &quot;two&quot;</div><div class="t m0 x8 h3c ybea ff3f fsa fc2 sc0 ls0 ws0">  [0]=&gt;</div><div class="t m0 x8 h3c ybeb ff3f fsa fc2 sc0 ls0 ws0">  string(3) &quot;one&quot;</div><div class="t m0 x8 h3c ybec ff3f fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf77" class="pf w2 h4" data-page-no="77"><div class="pc pc77 w2 h4"><img class="bi x3 y653 w5 h62" alt="" src="bg77.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x11 hd y55 ff39 fs6 fc2 sc0 ls2c ws105">99</div><div class="t m0 x3 h19 y24e ff3e fsd fc2 sc0 ls0 ws11b">Calculating <span class="_ _0"></span>with Arrays</div><div class="t m0 x3 h12 y24f ff39 fsa fc2 sc0 ls0 ws0">PHP offers several convenience functions th<span class="_ _1"></span>at let you perform mathematical c<span class="_ _1"></span>alculations </div><div class="t m0 x3 h12 y337 ff39 fsa fc2 sc0 ls0 ws0">on arrays without needing to itera<span class="_ _1"></span>te through them manually.</div><div class="t m0 x3 h5c ybed ff3d fs6 fc2 sc0 ls0 ws0">Function<span class="_ _90"> </span>Returns</div><div class="t m0 x3 h3c ybee ff3f fsa fc2 sc0 ls0 ws0">array_count_values<span class="_ _8f"> </span><span class="ff39">How many times each unique value in the arra<span class="_ _1"></span>y appears</span></div><div class="t m0 x3 h3c ybef ff3f fsa fc2 sc0 ls0 ws0">array_product<span class="_ _43"> </span><span class="ff39">The product of all the values in the arra<span class="_ _1"></span>y</span></div><div class="t m0 x3 h3c ybf0 ff3f fsa fc2 sc0 ls0 ws0">array_sum<span class="_ _91"> </span><span class="ff39">The sum of all the values in the array</span></div><div class="t m0 x3 h3c ybf1 ff3f fsa fc2 sc0 ls0 ws0">count<span class="_ _92"> </span><span class="ff39">How man<span class="_ _1"></span>y elements there are in the arr<span class="_ _1"></span>ay</span></div><div class="t m0 x3 h3c ybf2 ff3f fsa fc2 sc0 ls0 ws0">sizeof<span class="_ _93"> </span><span class="ff39">This is an alias of </span>count()</div><div class="t m0 x23 h10 ybf3 ff41 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff42">■<span class="_ _c"> </span><span class="ff44 fc2">Note<span class="ff41"> <span class="_ _2c"> </span> <span class="_ _1"></span>The product of an empty array is 1,<span class="_ _1"></span> not 0.</span></span></span></div><div class="t m0 x6f h35 ybf4 ff41 fsf fc4 sc0 ls0 ws0">16</div><div class="t m0 x3 h19 ybf5 ff3e fsd fc2 sc0 ls0 ws11b">Iterating Through Arrays</div><div class="t m0 x3 h12 ybf6 ff39 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two ways to iterate thr<span class="_ _1"></span>ough an array—b<span class="_ _1"></span>y using a cursor and by looping through </div><div class="t m0 x3 h12 ybf7 ff39 fsa fc2 sc0 ls0 ws0">the array.</div><div class="t m0 x3 h26 ybf8 ff39 fse fc2 sc0 ls0 ws0">Looping Through Arr<span class="_ _1"></span>ays</div><div class="t m0 x3 h12 ybf9 ff39 fsa fc2 sc0 ls0 ws0">An enumerativ<span class="_ _1"></span>e PHP array can be looped through b<span class="_ _1"></span>y incrementing an index counter<span class="_ _11"></span>, but </div><div class="t m0 x3 h12 ybfa ff39 fsa fc2 sc0 ls0 ws0">this won&apos;t work for associative arrays<span class="_ _1"></span>. A better and more r<span class="_ _1"></span>obust approach is to use the </div><div class="t m0 x3 h3c ybfb ff3f fsa fc2 sc0 ls0 ws0">foreach()<span class="ff39"> construct.</span></div><div class="t m0 x1a h3c ybfc ff39 fsa fc2 sc0 ls0 ws0">It lets you quic<span class="_ _1"></span>kly look at two possible syntaxes that <span class="ff3f">foreach()</span> uses and then mo<span class="_ _1"></span>ve </div><div class="t m0 x3 h12 ybfd ff39 fsa fc2 sc0 ls0 ws0">on. Y<span class="_ _2"></span>ou should already be familiar with its usage if you&apos;re considering sitting for y<span class="_ _1"></span>our </div><div class="t m0 x3 h12 ybfe ff39 fsa fc2 sc0 ls0 ws0">exam, so this is for the benefit of progr<span class="_ _1"></span>ammers from other languages<span class="_ _1"></span>.</div><div class="t m0 x3 h3c ybff ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yc00 ff3f fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x3 h3c yc01 ff3f fsa fc2 sc0 ls0 ws0">    &apos;a&apos; =&gt; &apos;apple&apos;,</div><div class="t m0 x3 h3c yc02 ff3f fsa fc2 sc0 ls0 ws0">    &apos;b&apos; =&gt; &apos;banana&apos;,</div><div class="t m0 x3 h3c yc03 ff3f fsa fc2 sc0 ls0 ws0">    &apos;c&apos; =&gt; &apos;cherry&apos;</div><div class="t m0 x3 h3c yc04 ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x3 h3c yc05 ff3f fsa fc2 sc0 ls0 ws0">foreach($arr as $value) {</div><div class="t m0 x3 h3c yc06 ff3f fsa fc2 sc0 ls0 ws0">    echo $value . PHP_EOL;</div><div class="t m0 x3 h3c yc07 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c yc08 ff3f fsa fc2 sc0 ls0 ws0">foreach($arr as $key =&gt; $value) {</div><div class="t m0 x3 h3c yc09 ff3f fsa fc2 sc0 ls0 ws0">    echo $key . &apos; = &apos; . $value . PHP_EOL;</div><div class="t m0 x3 h3c yc0a ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h16 yc0b ff40 fsc fc2 sc0 ls0 ws0">16</div><div class="t m0 x35 h43 yc0c ff3f fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Empty_product</div><a class="l" href="#pf77" data-dest-detail='[119,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:250.906000px;bottom:413.043000px;width:5.597000px;height:11.850000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Empty_product"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.081100px;width:182.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf78" class="pf w2 h4" data-page-no="78"><div class="pc pc78 w2 h4"><img class="bi x8 yc0d w3 h29" alt="" src="bg78.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>0</div><div class="t m0 x3 h3c y2a8 ff39 fsa fc2 sc0 ls0 ws0">The first <span class="ff3f">foreach()</span> loop will tra<span class="_ _1"></span>verse the array and pass the array values in<span class="_ _1"></span>to the </div><div class="t m0 x8 h3c y3e3 ff39 fsa fc2 sc0 ls0 ws0">code block. The second <span class="ff3f">foreach()</span> loop tra<span class="_ _1"></span>verses it and passes the key and value.</div><div class="t m0 x3 h3c y424 ff39 fsa fc2 sc0 ls0 ws0">By default, PHP the value p<span class="_ _1"></span>assed into the code block of a <span class="ff3f">foreach()</span> loop is passed </div><div class="t m0 x8 h12 y2ab ff39 fsa fc2 sc0 ls0 ws0">by value<span class="_ _1"></span>. If you change the value in the code block it will not ha<span class="_ _1"></span>ve an effect outside of the </div><div class="t m0 x8 h12 y2ac ff39 fsa fc2 sc0 ls0 ws0">code block. Y<span class="_ _2"></span>ou can, however<span class="_ _2"></span>, mark the value to be passed by r<span class="_ _1"></span>eference by pr<span class="_ _1"></span>efixing it </div><div class="t m0 x8 h12 y3e4 ff39 fsa fc2 sc0 ls0 ws0">with an ampersand symbol.</div><div class="t m0 x1e h10 yc0e ff41 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff42">■<span class="_ _c"> </span><span class="ff44 fc2">Caution<span class="ff41"> <span class="_ _2c"> </span> Generally people will frown at you for using a reference in a <span class="ff3f fsa">foreach()</span> loop.</span></span></span></div><div class="t m0 x3 h12 yc0f ff39 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’ll look at this in the following code example<span class="_ _1"></span>, which also demonstrates tha<span class="_ _1"></span>t the </div><div class="t m0 x8 h3c yc10 ff39 fsa fc2 sc0 ls0 ws0">variable being declared in the <span class="ff3f">foreach</span> block becomes defined in the containing scope<span class="_ _1"></span>. </div><div class="t m0 x8 h12 yc11 ff39 fsa fc2 sc0 ls0 ws0">After the loop finishes, it will hold the last value tha<span class="_ _1"></span>t it had in the loop<span class="_ _1"></span>. Relying on this </div><div class="t m0 x8 h12 yc12 ff39 fsa fc2 sc0 ls0 ws0">feature m<span class="_ _1"></span>akes your code harder to r<span class="_ _1"></span>ead, though.</div><div class="t m0 x8 h3c yc13 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yc14 ff3f fsa fc2 sc0 ls0 ws0">$arr = [1,2,3];</div><div class="t m0 x8 h3c yc15 ff3f fsa fc2 sc0 ls0 ws0">foreach ($arr as $value) {</div><div class="t m0 x8 h3c yc16 ff3f fsa fc2 sc0 ls0 ws0">    $value += 1;</div><div class="t m0 x8 h3c yc17 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yc18 ff3f fsa fc2 sc0 ls0 ws0">echo implode(&apos;, &apos;, $arr) . PHP_EOL;   // 1, 2, 3</div><div class="t m0 x8 h3c yc19 ff3f fsa fc2 sc0 ls0 ws0">echo $value . PHP_EOL;                // 4</div><div class="t m0 x8 h3c yc1a ff3f fsa fc2 sc0 ls0 ws0">foreach ($arr as &amp;$value) {</div><div class="t m0 x8 h3c yc1b ff3f fsa fc2 sc0 ls0 ws0">  $value += 1;</div><div class="t m0 x8 h3c yc1c ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yc1d ff3f fsa fc2 sc0 ls0 ws0">echo implode(&apos;, &apos;, $arr) . PHP_EOL;   // 2, 3, 4</div><div class="t m0 x8 h3c yc1e ff3f fsa fc2 sc0 ls0 ws0">echo $value;</div><div class="t m0 x3 h3c yc1f ff39 fsa fc2 sc0 ls0 ws0">Since PHP 5.5, the <span class="ff3f">list()</span> construct can be used in <span class="ff3f">foreach()</span> loops to unpack </div><div class="t m0 x8 h12 yc20 ff39 fsa fc2 sc0 ls0 ws0">nested arrays<span class="_ _1"></span>. This is particularly useful when dealing with database results<span class="_ _1"></span>.</div><div class="t m0 x3 h12 yc21 ff39 fsa fc2 sc0 ls0 ws0">Here<span class="_ _1"></span>’<span class="_ _2"></span>s an example of using a list<span class="_ _0"></span>:</div><div class="t m0 x8 h3c yc22 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yc23 ff3f fsa fc2 sc0 ls0 ws0">// assigning to scalars</div><div class="t m0 x8 h3c yc24 ff3f fsa fc2 sc0 ls0 ws0">list($animal, $food, $mood) = [&apos;cat&apos;, &apos;cheeseburgers&apos;, &apos;grumpy&apos;];</div><div class="t m0 x8 h3c yc25 ff3f fsa fc2 sc0 ls0 ws0">echo &quot;{$animal}s eat $food except when they&apos;re $mood.&quot; . PHP_EOL;</div><div class="t m0 x8 h3c yc26 ff3f fsa fc2 sc0 ls0 ws0">// assigning to an array</div><div class="t m0 x8 h3c yc27 ff3f fsa fc2 sc0 ls0 ws0">$info = [];</div><div class="t m0 x8 h3c yc28 ff3f fsa fc2 sc0 ls0 ws0">list($info[0], $info[1], $info[2]) = [&apos;cat&apos;, &apos;cheeseburgers&apos;, &apos;grumpy&apos;];</div><div class="t m0 x8 h3c yc29 ff3f fsa fc2 sc0 ls0 ws0">var_dump($info);</div><div class="t m0 x8 h3c yc2a ff3f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h3c yc2b ff3f fsa fc2 sc0 ls0 ws0">cats eat cheeseburgers except when they&apos;re grumpy.</div><div class="t m0 x8 h3c yc2c ff3f fsa fc2 sc0 ls0 ws0">array(3) {</div><div class="t m0 x8 h3c yc2d ff3f fsa fc2 sc0 ls0 ws0">  [0]=&gt;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf79" class="pf w2 h4" data-page-no="79"><div class="pc pc79 w2 h4"><img class="bi x3 yc2e w5 h63" alt="" src="bg79.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x21 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">101</div><div class="t m0 x3 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">  string(3) &quot;cat&quot;</div><div class="t m0 x3 h3c y2a9 ff3f fsa fc2 sc0 ls0 ws0">  [1]=&gt;</div><div class="t m0 x3 h3c y2aa ff3f fsa fc2 sc0 ls0 ws0">  string(13) &quot;cheeseburgers&quot;</div><div class="t m0 x3 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">  [2]=&gt;</div><div class="t m0 x3 h3c y2ac ff3f fsa fc2 sc0 ls0 ws0">  string(6) &quot;grumpy&quot;</div><div class="t m0 x3 h3c y2ad ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c ya79 ff3f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x23 h10 yc2f ff41 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff42">■<span class="_ _c"> </span><span class="ff44 fc2">Note<span class="ff41 wsf"> <span class="_ _2a"> </span> The <span class="_ _0"></span></span><span class="ff3f fsa">each</span><span class="ff41"> keyword,<span class="_ _1"></span> which could also be used to loop through an array<span class="_ _2"></span>, is </span></span></span></div><div class="t m0 x3 h10 yc30 ff41 fs6 fc2 sc0 ls0 ws0">deprecated in PHP 7.2.0 (so don&apos;t use it in PHP 7.1 either)</div><div class="t m0 x3 h26 yc31 ff39 fse fc2 sc0 ls0 ws0">Using Arr<span class="_ _1"></span>ay C<span class="_ _1"></span>ursors</div><div class="t m0 x3 h12 yc32 ff39 fsa fc2 sc0 ls0 ws0">Every array has a cursor<span class="_ _11"></span>, or pointer<span class="_ _2"></span>, that points at the current element<span class="_ _1"></span>. A number of PHP </div><div class="t m0 x3 h12 yc33 ff39 fsa fc2 sc0 ls0 ws0">functions use the cursor to determine which element to operate on.</div><div class="t m0 x1a h12 yc34 ff39 fsa fc2 sc0 ls0 ws0">Here ar<span class="_ _1"></span>e the basic cursor functions<span class="_ _0"></span>:</div><div class="t m0 x3 h5c yc35 ff3d fs6 fc2 sc0 ls0 ws0">Functions<span class="_ _8e"> </span>Performs</div><div class="t m0 x3 h3c yc36 ff3f fsa fc2 sc0 ls0 ws0">reset<span class="_ _94"> </span><span class="ff39">Mov<span class="_ _1"></span>es the cursor to the beginning of the array</span></div><div class="t m0 x64 h15 yc37 ff39 fsb fc4 sc0 ls0 ws0">17</div><div class="t m0 x3 h3c yc38 ff3f fsa fc2 sc0 ls0 ws0">end<span class="_ _24"> </span><span class="ff39">Moves the cursor to the end of the arra<span class="_ _1"></span>y</span></div><div class="t m0 x3 h3c yc39 ff3f fsa fc2 sc0 ls0 ws0">next<span class="_ _68"> </span><span class="ff39">Advances the cursor</span></div><div class="t m0 x44 h15 yc3a ff39 fsb fc4 sc0 ls0 ws0">18</div><div class="t m0 x3 h3c yc3b ff3f fsa fc2 sc0 ls0 ws0">prev<span class="_ _68"> </span><span class="ff39">Advances the cursor</span></div><div class="t m0 x3 h3c yc3c ff3f fsa fc2 sc0 ls0 ws0">current<span class="_ _95"> </span><span class="ff39">Returns the value of the element the cursor points a<span class="_ _1"></span>t</span></div><div class="t m0 x3 h3c yc3d ff3f fsa fc2 sc0 ls0 ws0">key<span class="_ _24"> </span><span class="ff39">Returns the key of the element the cursor points at</span></div><div class="t m0 x1a h12 yc3e ff39 fsa fc2 sc0 ls0 ws0">Objects can be iterated ov<span class="_ _1"></span>er using the same syntax, but it’<span class="_ _1"></span>s important to know tha<span class="_ _1"></span>t </div><div class="t m0 x3 h12 yc3f ff39 fsa fc2 sc0 ls0 ws0">they implement an interface iterat<span class="_ _1"></span>or<span class="_ _2"></span>.</div><div class="t m0 x1a h12 yc40 ff39 fsa fc2 sc0 ls0 ws0">A less commonly seen use of a cursor is one such as this<span class="_ _0"></span>:</div><div class="t m0 x3 h3c yc41 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yc42 ff3f fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x3 h3c yc43 ff3f fsa fc2 sc0 ls0 ws0">  &apos;a&apos; =&gt; &apos;apple&apos;,</div><div class="t m0 x3 h3c yc44 ff3f fsa fc2 sc0 ls0 ws0">  &apos;b&apos; =&gt; &apos;banana&apos;,</div><div class="t m0 x3 h3c yc45 ff3f fsa fc2 sc0 ls0 ws0">  &apos;c&apos; =&gt; &apos;cherry&apos;</div><div class="t m0 x3 h3c yc46 ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x3 h3c yc47 ff3f fsa fc2 sc0 ls0 ws0">while (list($var, $val) = each($arr)) {</div><div class="t m0 x3 h3c yc48 ff3f fsa fc2 sc0 ls0 ws0">  echo &quot;$var is $val&quot; . PHP_EOL;</div><div class="t m0 x3 h3c yc49 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h16 yc4a ff40 fsc fc2 sc0 ls0 ws0">17</div><div class="t m0 x35 h43 yc4b ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.reset.php</div><div class="t m0 x3 h16 yc4c ff40 fsc fc2 sc0 ls0 ws0">18</div><div class="t m0 x35 h43 yc4d ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.next.php</div><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",57,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:292.480000px;bottom:354.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:194.714000px;bottom:324.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.reset.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:82.268100px;width:216.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.next.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.268100px;width:212.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7a" class="pf w2 h4" data-page-no="7a"><div class="pc pc7a w2 h4"><img class="bi x8 yc4e w3 h32" alt="" src="bg7a.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>2</div><div class="t m0 x3 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">list()<span class="ff39"> is a language construct that assigns v<span class="_ _1"></span>ariables from a supplied array. The </span></div><div class="t m0 x8 h3c y3e3 ff3f fsa fc2 sc0 ls0 ws0">each()<span class="ff39"> function returns the curren<span class="_ _1"></span>t key and value pair from an arra<span class="_ _1"></span>y and advances the </span></div><div class="t m0 x8 h12 y424 ff39 fsa fc2 sc0 ls0 ws0">array cursor<span class="_ _2"></span>.</div><div class="t m0 x8 h26 yb2b ff39 fse fc2 sc0 ls0 ws0">W<span class="_ _1"></span>alking T<span class="_ _1"></span>hrough Arra<span class="_ _1"></span>ys</div><div class="t m0 x8 h3c yb2c ff39 fsa fc2 sc0 ls0 ws0">The <span class="ff3f">array_walk()</span> function applies a user callable to every element in an array. I<span class="_ _1"></span>t takes </div><div class="t m0 x8 h12 yb2d ff39 fsa fc2 sc0 ls0 ws0">two parameters—a r<span class="_ _1"></span>eference to the array and the calla<span class="_ _1"></span>ble.</div><div class="t m0 x3 h12 yc4f ff39 fsa fc2 sc0 ls0 ws0">The callable function will be passed two parameters<span class="_ _1"></span>. The first is the value of the </div><div class="t m0 x8 h12 yb2e ff39 fsa fc2 sc0 ls0 ws0">element from the arra<span class="_ _1"></span>y and the second is its index<span class="_ _0"></span>.</div><div class="t m0 x3 h3c yb2f ff39 fsa fc2 sc0 ls0 ws0">Some internal functions, s<span class="_ _1"></span>uch as <span class="ff3f">strtolower()</span> for example, will throw a warnin<span class="_ _1"></span>g if </div><div class="t m0 x8 h3c yb30 ff39 fsa fc2 sc0 ls0 ws0">they receive too many par<span class="_ _1"></span>ameters and so are not suitable as a callback for <span class="ff3f">array_walk()</span>.</div><div class="t m0 x1e h10 yc50 ff41 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff42">■<span class="_ _c"> </span><span class="ff44 fc2">Note<span class="ff41"> <span class="_ _2c"> </span> If you need your callback function to alter the value of the array<span class="_ _2"></span>, you should make </span></span></span></div><div class="t m0 x8 h10 yc51 ff41 fs6 fc2 sc0 ls0 ws0">sure to pass the first parameter by reference.</div><div class="t m0 x3 h12 yc52 ff39 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple that will convert all the elements of an array t<span class="_ _1"></span>o uppercase:</div><div class="t m0 x8 h3c yc53 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yc54 ff3f fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x8 h3c yc55 ff3f fsa fc2 sc0 ls0 ws0">  &apos;a&apos; =&gt; &apos;apple&apos;,</div><div class="t m0 x8 h3c yc56 ff3f fsa fc2 sc0 ls0 ws0">  &apos;b&apos; =&gt; &apos;banana&apos;,</div><div class="t m0 x8 h3c yc57 ff3f fsa fc2 sc0 ls0 ws0">  &apos;c&apos; =&gt; &apos;cherry&apos;</div><div class="t m0 x8 h3c yc58 ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x8 h3c yc59 ff3f fsa fc2 sc0 ls0 ws0">array_walk($arr, function(&amp;$value, $key) {</div><div class="t m0 x8 h3c yc5a ff3f fsa fc2 sc0 ls0 ws0">  $value = strtoupper($value);</div><div class="t m0 x8 h3c yc5b ff3f fsa fc2 sc0 ls0 ws0">});</div><div class="t m0 x8 h3c yc5c ff3f fsa fc2 sc0 ls0 ws0">print_r($arr);</div><div class="t m0 x3 h12 yc5d ff39 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t I pass the value by refer<span class="_ _1"></span>ence into my lambda function, so chan<span class="_ _1"></span>ging it in the </div><div class="t m0 x8 h3c yc5e ff39 fsa fc2 sc0 ls0 ws0">lambda will affect the <span class="ff3f">$arr</span> variable.</div><div class="t m0 x3 h3c yc5f ff39 fsa fc2 sc0 ls0 ws0">If we had used <span class="ff3f">strtoupper()</span> as a callback, PHP would generat<span class="_ _1"></span>e warnings. As an </div><div class="t m0 x8 h12 yc60 ff39 fsa fc2 sc0 ls0 ws0">exercise try to work out why this is so<span class="_ _1"></span>.</div><div class="t m0 x8 h19 yc61 ff3e fsd fc2 sc0 ls0 ws11b">Sorting Arrays</div><div class="t m0 x8 h12 yc62 ff39 fsa fc2 sc0 ls0 ws0">PHP offers several sort functions.</div><div class="t m0 x3 h3c yc63 ff39 fsa fc2 sc0 ls0 ws0">They follow a naming con<span class="_ _1"></span>vention whereb<span class="_ _1"></span>y the base <span class="ff3f">sort</span> function is prefixed with <span class="ff3f">r</span> </div><div class="t m0 x8 h3c yc64 ff39 fsa fc2 sc0 ls0 ws0">for reverse and <span class="ff3f">a</span> for associative<span class="_ _1"></span>.</div><div class="t m0 x3 h12 yc65 ff39 fsa fc2 sc0 ls0 ws0">All sort functions take a reference to the arr<span class="_ _1"></span>ay as their parameter and ret<span class="_ _1"></span>urn a </div><div class="t m0 x8 h12 yc66 ff39 fsa fc2 sc0 ls0 ws0">Boolean value indicating success or failur<span class="_ _1"></span>e.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7b" class="pf w2 h4" data-page-no="7b"><div class="pc pc7b w2 h4"><img class="bi x3 y26f w5 h25" alt="" src="bg7b.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x21 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>3</div><div class="t m0 x3 h5c yc67 ff3d fs6 fc2 sc0 ls0 ws0">Function<span class="_ _86"> </span>Used For</div><div class="t m0 x3 h3c yc68 ff3f fsa fc2 sc0 ls0 ws0">sort<span class="_ _3c"> </span><span class="ff39">Sorting arra<span class="_ _1"></span>ys alphabetically</span></div><div class="t m0 x3 h3c yc69 ff3f fsa fc2 sc0 ls0 ws0">rsort<span class="_ _32"> </span><span class="ff39">Reverse alphabetical sort</span></div><div class="t m0 x3 h3c yc6a ff3f fsa fc2 sc0 ls0 ws0">asort<span class="_ _32"> </span><span class="ff39">Ass<span class="_ _0"></span>ociativ<span class="_ _1"></span>e sort</span></div><div class="t m0 x3 h3c yc6b ff3f fsa fc2 sc0 ls0 ws0">arsort<span class="_ _80"> </span><span class="ff39">Reversed associative sort</span></div><div class="t m0 x3 h3c yc6c ff3f fsa fc2 sc0 ls0 ws0">ksort<span class="_ _32"> </span><span class="ff39">Key sort</span></div><div class="t m0 x3 h3c yc6d ff3f fsa fc2 sc0 ls0 ws0">krsort<span class="_ _80"> </span><span class="ff39">Reverse key sort</span></div><div class="t m0 x3 h3c yc6e ff3f fsa fc2 sc0 ls0 ws0">usort<span class="_ _32"> </span><span class="ff39">User-defined comparison function for sorting</span></div><div class="t m0 x3 h3c yc6f ff3f fsa fc2 sc0 ls0 ws0">shuffle<span class="_ _82"> </span><span class="ff39">Pseudo-random sort</span></div><div class="t m0 x1a h12 yc70 ff39 fsa fc2 sc0 ls0 ws0">The associative sorts will sort by value and maintain the index association. Look at </div><div class="t m0 x3 h12 yc71 ff39 fsa fc2 sc0 ls0 ws0">one of their manual pages</div><div class="t m0 x51 h15 yc72 ff39 fsb fc4 sc0 ls0 ws0">19</div><div class="t m0 x70 h12 yc73 ff39 fsa fc2 sc0 ls0 ws0"> for an example.</div><div class="t m0 x1a h3c yc74 ff39 fsa fc2 sc0 ls0 ws0">All of the functions (ex<span class="_ _1"></span>cept <span class="ff3f">usort()</span>) accept an optional parameter to indicate the </div><div class="t m0 x3 h3c yc75 ff3f fsa fc2 sc0 ls0 ws0">sort<span class="ff39"> flag. These flags ar<span class="_ _1"></span>e predefined constants:</span></div><div class="t m0 x3 h5c yc76 ff3d fs6 fc2 sc0 ls0 ws0">Flag<span class="_ _69"> </span>Meaning</div><div class="t m0 x3 h3c yc77 ff3f fsa fc2 sc0 ls0 ws0">SORT_REGULAR<span class="_ _29"> </span><span class="ff39">Compare items normally; don&apos;t chan<span class="_ _1"></span>ge types.</span></div><div class="t m0 x3 h3c yc78 ff3f fsa fc2 sc0 ls0 ws0">SORT_NUMERIC<span class="_ _29"> </span><span class="ff39">Cast items to numeric values and then compar<span class="_ _1"></span>e.</span></div><div class="t m0 x3 h3c yc79 ff3f fsa fc2 sc0 ls0 ws0">SORT_STRING<span class="_ _3b"> </span><span class="ff39">Cast items to strings and then compare<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c yc7a ff3f fsa fc2 sc0 ls0 ws0">SORT_LOCALE_STRING<span class="_ _96"> </span><span class="ff39">Use locale settings to cast items to strings<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c yc7b ff3f fsa fc2 sc0 ls0 ws0">SORT NATURAL<span class="_ _29"> </span><span class="ff39">Use natur<span class="_ _1"></span>al order sorting, like the function <span class="ff3f">natsort()</span>.</span></div><div class="t m0 x3 h3c yc7c ff3f fsa fc2 sc0 ls0 ws0">SORT_FLAG_CASE<span class="_ _32"> </span><span class="ff39">Can be combined with </span>SORT_STRING<span class="ff39"> and </span>SORT_NATURAL<span class="ff39 ls11 wse8"> to </span></div><div class="t m0 x70 h12 yc7d ff39 fsa fc2 sc0 ls0 ws0">sort strings case-insensitively.</div><div class="t m0 x3 h26 yc7e ff39 fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>atur<span class="_ _1"></span>al Order Sorting</div><div class="t m0 x3 h12 yc7f ff39 fsa fc2 sc0 ls0 ws0">Na<span class="_ _1"></span>tural ordering is a sort order th<span class="_ _1"></span>at makes sense to human beings<span class="_ _1"></span>. It is an alphabetic sort </div><div class="t m0 x3 h12 yc80 ff39 fsa fc2 sc0 ls0 ws0">order<span class="_ _2"></span>, but multiple digits ar<span class="_ _1"></span>e treated as a single ch<span class="_ _1"></span>aracter<span class="_ _2"></span>.</div><div class="t m0 x1a h3c yc81 ff39 fsa fc2 sc0 ls0 ws0">The function <span class="ff3f">natsort()</span> does not take flags and is the same as <span class="ff3f">sort()</span> with the  </div><div class="t m0 x3 h3c yc82 ff3f fsa fc2 sc0 ls0 ws0">SORT_NATURAL<span class="ff39"> flag set.</span></div><div class="t m0 x1a h12 yc83 ff39 fsa fc2 sc0 ls0 ws0">As an example, let’<span class="_ _2"></span>s start with a string that looks sorted to our human eyes, shuffle it<span class="_ _1"></span>, </div><div class="t m0 x3 h12 yc84 ff39 fsa fc2 sc0 ls0 ws0">and then use both forms of sorting to see how it comes out<span class="_ _0"></span>:</div><div class="t m0 x3 h3c yc85 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yc86 ff3f fsa fc2 sc0 ls0 ws0">$a = $b = explode(&apos; &apos;, &apos;a1 a2 a10 a11 a12 a20 a21&apos;);</div><div class="t m0 x3 h3c yc87 ff3f fsa fc2 sc0 ls0 ws0">shuffle($a);</div><div class="t m0 x3 h3c yc88 ff3f fsa fc2 sc0 ls0 ws0">shuffle($b);</div><div class="t m0 x3 h16 yc89 ff40 fsc fc2 sc0 ls0 ws0">19</div><div class="t m0 x35 h43 yc8a ff3f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.asort.php</div><a class="l" href="#pf7b" data-dest-detail='[123,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:156.788000px;bottom:421.127000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.asort.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.518100px;width:187.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7c" class="pf w2 h4" data-page-no="7c"><div class="pc pc7c w2 h4"><img class="bi x71 y653 w10 h27" alt="" src="bg7c.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>4</div><div class="t m0 x8 h3c y2a8 ff3f fsa fc2 sc0 ls0 ws0">natsort($a);</div><div class="t m0 x8 h3c y2a9 ff3f fsa fc2 sc0 ls0 ws0">sort($b);</div><div class="t m0 x8 h3c y2aa ff3f fsa fc2 sc0 ls0 ws0">print_r($a);</div><div class="t m0 x8 h3c y2ab ff3f fsa fc2 sc0 ls0 ws0">print_r($b);</div><div class="t m0 x3 h3c y2ad ff39 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t I&apos;ve used the <span class="ff3f">explode</span> function to break up a string into an array.</div><div class="t m0 x3 h12 ya79 ff39 fsa fc2 sc0 ls0 ws0">This outputs:</div><div class="t m0 x8 h3c y4e6 ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c y4e7 ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c y4e8 ff3f fsa fc2 sc0 ls0 ws0">    [5] =&gt; a1</div><div class="t m0 x8 h3c ya7a ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt; a2</div><div class="t m0 x8 h3c y4e9 ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; a10</div><div class="t m0 x8 h3c y4ea ff3f fsa fc2 sc0 ls0 ws0">    [4] =&gt; a11</div><div class="t m0 x8 h3c y3eb ff3f fsa fc2 sc0 ls0 ws0">    [6] =&gt; a12</div><div class="t m0 x8 h3c y4eb ff3f fsa fc2 sc0 ls0 ws0">    [3] =&gt; a20</div><div class="t m0 x8 h3c y4ec ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; a21</div><div class="t m0 x8 h3c ya7b ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x8 h3c y4ed ff3f fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c ya7c ff3f fsa fc2 sc0 ls0 ws0">(</div><div class="t m0 x8 h3c y4ee ff3f fsa fc2 sc0 ls0 ws0">    [0] =&gt; a1</div><div class="t m0 x8 h3c y4ef ff3f fsa fc2 sc0 ls0 ws0">    [1] =&gt; a10</div><div class="t m0 x8 h3c ya7d ff3f fsa fc2 sc0 ls0 ws0">    [2] =&gt; a11</div><div class="t m0 x8 h3c ya7e ff3f fsa fc2 sc0 ls0 ws0">    [3] =&gt; a12</div><div class="t m0 x8 h3c ya7f ff3f fsa fc2 sc0 ls0 ws0">    [4] =&gt; a2</div><div class="t m0 x8 h3c ya80 ff3f fsa fc2 sc0 ls0 ws0">    [5] =&gt; a20</div><div class="t m0 x8 h3c ya81 ff3f fsa fc2 sc0 ls0 ws0">    [6] =&gt; a21</div><div class="t m0 x8 h3c ya82 ff3f fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x8 h19 yc8b ff3e fsd fc2 sc0 ls0 ws0">Standard PHP Library (SPL):<span class="_ _2"></span> <span class="_ _1"></span>ArrayObject Class</div><div class="t m0 x8 h3c yc8c ff39 fsa fc2 sc0 ls0 ws0">The SPL library includes the <span class="ff3f">ArrayObject</span> class that allows yo<span class="_ _1"></span>u to create objects from </div><div class="t m0 x8 h3c yc8d ff39 fsa fc2 sc0 ls0 ws0">arrays<span class="_ _1"></span>. These objects can use the methods of the <span class="ff3f">ArrayObject</span> class, which are listed on </div><div class="t m0 x8 h12 yc8e ff39 fsa fc2 sc0 ls0 ws0">the manual page<span class="_ _1"></span>.</div><div class="t m0 x3 h12 yc8f ff39 fsa fc2 sc0 ls0 ws0">This lets you work with arrays as objects<span class="_ _1"></span>, as in this example from the PHP M<span class="_ _1"></span>anual</div><div class="t m0 x72 h15 yc90 ff39 fsb fc4 sc0 ls0 ws0">20</div><div class="t m0 x73 h12 yc91 ff39 fsa fc2 sc0 ls0 ws0">:</div><div class="t m0 x8 h3c yc92 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yc93 ff3f fsa fc2 sc0 ls0 ws0">$fruits = array(&quot;d&quot; =&gt;&quot;lemon&quot;, &quot;a&quot; =&gt;&quot;orange&quot;, &quot;b&quot; =&gt;&quot;banana&quot;, &quot;c&quot; </div><div class="t m0 x8 h3c yc94 ff3f fsa fc2 sc0 ls0 ws0">=&gt;&quot;apple&quot;);</div><div class="t m0 x8 h3c yc95 ff3f fsa fc2 sc0 ls0 ws0">$fruitArrayObject = new ArrayObject($fruits);</div><div class="t m0 x8 h3c yc96 ff3f fsa fc2 sc0 ls0 ws0">$fruitArrayObject-&gt;ksort();</div><div class="t m0 x8 h3c yc97 ff3f fsa fc2 sc0 ls0 ws0">foreach ($fruitArrayObject as $key =&gt; $val) {</div><div class="t m0 x8 h3c yc98 ff3f fsa fc2 sc0 ls0 ws0">  echo &quot;$key = $val\n&quot;;</div><div class="t m0 x8 h3c yc99 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x71 h16 yc9a ff40 fsc fc2 sc0 ls0 ws0">20</div><div class="t m0 x74 h43 yc9b ff3f fs5 fc4 sc0 ls0 ws0">http://php.net/manual/en/class.arrayobject.php</div><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",40,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:367.492000px;bottom:204.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://php.net/manual/en/class.arrayobject.php"><div class="d m1" style="border-style:none;position:absolute;left:46.075600px;bottom:72.006300px;width:195.500400px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7d" class="pf w2 h4" data-page-no="7d"><div class="pc pc7d w2 h4"><img class="bi x3 y26f w5 h64" alt="" src="bg7d.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x21 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>5</div><div class="t m0 x1a h3c y2a8 ff39 fsa fc2 sc0 ls0 ws0">When constructing an <span class="ff3f">ArrayObject</span>, you pass in an input tha<span class="_ _1"></span>t can be either an array </div><div class="t m0 x3 h12 y2a9 ff39 fsa fc2 sc0 ls0 ws0">or an object.</div><div class="t m0 x1a h12 y2aa ff39 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can also optionally specify flags<span class="_ _0"></span>:</div><div class="t m0 x3 h5c yc9c ff3d fs6 fc2 sc0 ls0 ws0">Flag<span class="_ _97"> </span>Effect</div><div class="t m0 x3 h3c yc9d ff3f fsa fc2 sc0 ls0 ws0">ArrayObject::STD_PROP_LIST<span class="_ _89"> </span><span class="ff39">Properties of the object have their normal </span></div><div class="t m0 x75 h3c yc9e ff39 fsa fc2 sc0 ls0 ws0">functionality when accessed as a list (<span class="ff3f">var_dump</span>, </div><div class="t m0 x75 h3c yc9f ff3f fsa fc2 sc0 ls0 ws0">foreach<span class="ff39">, etc.).</span></div><div class="t m0 x3 h3c yca0 ff3f fsa fc2 sc0 ls0 ws0">ArrayObject::ARRAY_AS_PROPS<span class="_ _98"> </span><span class="ff39">Entries can be accessed as properties (</span>read<span class="ff39"> and </span></div><div class="t m0 x75 h3c yca1 ff3f fsa fc2 sc0 ls0 ws0">write<span class="ff39">).</span></div><div class="t m0 x63 h15 yca2 ff39 fsb fc4 sc0 ls0 ws0">21</div><div class="t m0 x1a h3c yca3 ff39 fsa fc2 sc0 ls0 ws0">These flags can be set with the <span class="ff3f">setFlags()</span> method, as in this example from the </div><div class="t m0 x3 h12 yca4 ff39 fsa fc2 sc0 ls0 ws0">manual:</div><div class="t m0 x3 h3c yca5 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yca6 ff3f fsa fc2 sc0 ls0 ws0">// Array of available fruits</div><div class="t m0 x3 h3c yca7 ff3f fsa fc2 sc0 ls0 ws0">$fruits = array(&quot;lemons&quot; =&gt; 1, &quot;oranges&quot; =&gt; 4, &quot;bananas&quot; =&gt; 5, &quot;apples&quot; =&gt; </div><div class="t m0 x3 h3c yca8 ff3f fsa fc2 sc0 ls0 ws0">10);</div><div class="t m0 x3 h3c yca9 ff3f fsa fc2 sc0 ls0 ws0">$fruitsArrayObject = new ArrayObject($fruits);</div><div class="t m0 x3 h3c ycaa ff3f fsa fc2 sc0 ls0 ws0">// Try to use array key as property</div><div class="t m0 x3 h3c ycab ff3f fsa fc2 sc0 ls0 ws0">var_dump($fruitsArrayObject-&gt;lemons);</div><div class="t m0 x3 h3c ycac ff3f fsa fc2 sc0 ls0 ws0">// Set the flag so that the array keys can be used as properties of the </div><div class="t m0 x3 h3c ycad ff3f fsa fc2 sc0 ls0 ws0">ArrayObject</div><div class="t m0 x3 h3c ycae ff3f fsa fc2 sc0 ls0 ws0">$fruitsArrayObject-&gt;setFlags(ArrayObject::ARRAY_AS_PROPS);</div><div class="t m0 x3 h3c ycaf ff3f fsa fc2 sc0 ls0 ws0">// Try it again</div><div class="t m0 x3 h3c ycb0 ff3f fsa fc2 sc0 ls0 ws0">var_dump($fruitsArrayObject-&gt;lemons);</div><div class="t m0 x1a h12 ycb1 ff39 fsa fc2 sc0 ls0 ws0">This example will output<span class="_ _0"></span>:</div><div class="t m0 x3 h3c ycb2 ff3f fsa fc2 sc0 ls0 ws0">        NULL</div><div class="t m0 x3 h3c ycb3 ff3f fsa fc2 sc0 ls0 ws0">        int(1)</div><div class="t m0 x6 hf ycb4 ff3c fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">4</span> QUIZ</div><div class="t m0 x5 h10 ycb5 ff41 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Are PHP keys case-sensitive? <span class="_ _1"></span>What will the output of this script be?</div><div class="t m0 x5 h3c ycb6 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c ycb7 ff3f fsa fc2 sc0 ls0 ws0">$arr1 = [&quot;A&quot; =&gt; &quot;apple&quot;, &quot;B&quot; =&gt; &quot;banana&quot;];</div><div class="t m0 x5 h3c ycb8 ff3f fsa fc2 sc0 ls0 ws0">$arr2 = [&quot;a&quot; =&gt; &quot;aardvark&quot;, &quot;b&quot; =&gt; &quot;baboon&quot;];</div><div class="t m0 x5 h3c ycb9 ff3f fsa fc2 sc0 ls0 ws0">echo count($arr1 + $arr2);</div><div class="t m0 x3 h16 ycba ff40 fsc fc2 sc0 ls0 ws0">21</div><div class="t m0 x35 h43 ycbb ff3f fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/class.arrayobject.php</div><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:220.463000px;bottom:477.645000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_4"><div class="d m1" style="border-style:none;position:absolute;left:240.036000px;bottom:185.009000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/class.arrayobject.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.506300px;width:229.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7e" class="pf w2 h4" data-page-no="7e"><div class="pc pc7e w2 h4"><img class="bi x4b ycbc w11 h65" alt="" src="bg7e.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>6</div><div class="t m0 x4b h10 y5ec ff41 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x4b h3c ycbd ff3f fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x4b h3c ycbe ff3f fsa fc2 sc0 ls0 ws0">4</div><div class="t m0 x4b h10 y79d ff41 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x4b h10 y79e ff41 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x4b h3c ycbf ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c ycc0 ff3f fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x4b h3c ycc1 ff3f fsa fc2 sc0 ls0 ws0">  &apos;a&apos; =&gt; &apos;apple&apos;,</div><div class="t m0 x4b h3c ycc2 ff3f fsa fc2 sc0 ls0 ws0">  &apos;b&apos; =&gt; &apos;banana&apos;,</div><div class="t m0 x4b h3c ycc3 ff3f fsa fc2 sc0 ls0 ws0">  &apos;c&apos; =&gt; &apos;cherry&apos;</div><div class="t m0 x4b h3c ycc4 ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x4b h3c ycc5 ff3f fsa fc2 sc0 ls0 ws0">$keys = array_keys($arr);</div><div class="t m0 x4b h3c ycc6 ff3f fsa fc2 sc0 ls0 ws0">if (in_array($keys, &apos;a&apos;)) {</div><div class="t m0 x4b h3c ycc7 ff3f fsa fc2 sc0 ls0 ws0">  echo &quot;Found&quot;;</div><div class="t m0 x4b h3c ycc8 ff3f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h3c ycc9 ff3f fsa fc2 sc0 ls0 ws0">Found</div><div class="t m0 x4b h3c ycca ff3f fsa fc2 sc0 ls0 ws0">Nothing</div><div class="t m0 x4b h3c yccb ff3f fsa fc2 sc0 ls0 ws0">Warning: in_array() expects parameter 2 to be array</div><div class="t m0 x4b h10 yccc ff41 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x4b h10 yccd ff41 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x4b h3c ycce ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c yccf ff3f fsa fc2 sc0 ls0 ws0">$birds = [&apos;duck&apos;, &apos;chicken&apos;, &apos;goose&apos;];</div><div class="t m0 x4b h3c ycd0 ff3f fsa fc2 sc0 ls0 ws0">$net = [&apos;dog&apos;, &apos;cat&apos;, &apos;chicken&apos;, &apos;goose&apos;, &apos;hamster&apos;];</div><div class="t m0 x4b h3c ycd1 ff3f fsa fc2 sc0 ls0 ws0">echo count(array_intersect_assoc($net, $birds));</div><div class="t m0 x4b h3c ycd2 ff3f fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x4b h3c ycd3 ff3f fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x4b h3c ycd4 ff3f fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x4b h3c ycd5 ff3f fsa fc2 sc0 ls0 ws0">3</div><div class="t m0 x4b h10 ycd6 ff41 fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7f" class="pf w2 h4" data-page-no="7f"><div class="pc pc7f w2 h4"><img class="bi x5 ycd7 w12 h66" alt="" src="bg7f.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x21 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>7</div><div class="t m0 x5 h10 y5ae ff41 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x5 h3c y5af ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y5b0 ff3f fsa fc2 sc0 ls0 ws0">// Array of available fruits</div><div class="t m0 x5 h3c y5b1 ff3f fsa fc2 sc0 ls0 ws0">$fruits = array(&quot;lemons&quot; =&gt; 1, &quot;oranges&quot; =&gt; 4, &quot;bananas&quot; =&gt; 5,  </div><div class="t m0 x5 h3c y5b2 ff3f fsa fc2 sc0 ls0 ws0">&quot;apples&quot; =&gt; 10);</div><div class="t m0 x5 h3c y5ce ff3f fsa fc2 sc0 ls0 ws0">$fruitsArrayObject = new ArrayObject($fruits);</div><div class="t m0 x5 h3c y5cf ff3f fsa fc2 sc0 ls0 ws0">$fruitsArrayObject-&gt;setFlags(ArrayObject::ARRAY_AS_PROPS);</div><div class="t m0 x5 h3c y5d0 ff3f fsa fc2 sc0 ls0 ws0">// Try to use array key as property</div><div class="t m0 x5 h3c y5d1 ff3f fsa fc2 sc0 ls0 ws0">var_dump($fruitsArrayObject-&gt;lemons);</div><div class="t m0 x5 h10 ycd8 ff41 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x5 h3c ycd9 ff3f fsa fc2 sc0 ls0 ws0">int(1)</div><div class="t m0 x5 h3c ycda ff3f fsa fc2 sc0 ls0 ws0">string(6) &quot;lemons&quot;</div><div class="t m0 x5 h10 ycdb ff41 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 ycdc ff41 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x5 h3c ycdd ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c ycde ff3f fsa fc2 sc0 ls0 ws0">$a = array(&apos;one&apos;,&apos;two&apos;);</div><div class="t m0 x5 h3c ycdf ff3f fsa fc2 sc0 ls0 ws0">$b = array(&apos;three&apos;,&apos;four&apos;,&apos;five&apos;);</div><div class="t m0 x5 h3c yce0 ff3f fsa fc2 sc0 ls0 ws0">echo count($a + $b);</div><div class="t m0 x5 h10 yce1 ff41 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x5 h3c yce2 ff3f fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x5 h3c yce3 ff3f fsa fc2 sc0 ls0 ws0">3</div><div class="t m0 x5 h3c yce4 ff3f fsa fc2 sc0 ls0 ws0">5</div><div class="t m0 x5 h10 yce5 ff41 fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>What will this script output?</div><div class="t m0 x5 h3c yce6 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c yce7 ff3f fsa fc2 sc0 ls0 ws0">$a = array(&apos;three&apos;,&apos;four&apos;,&apos;five&apos;);</div><div class="t m0 x5 h3c yce8 ff3f fsa fc2 sc0 ls0 ws0">$b = array(&apos;one&apos;,&apos;two&apos;);</div><div class="t m0 x5 h3c yce9 ff3f fsa fc2 sc0 ls0 ws0">echo count($a - $b);</div><div class="t m0 x5 h10 ycea ff41 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x5 h3c yceb ff3f fsa fc2 sc0 ls0 ws0">3</div><div class="t m0 x5 h3c ycec ff3f fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x5 h3c yced ff3f fsa fc2 sc0 ls0 ws0">1</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf80" class="pf w2 h4" data-page-no="80"><div class="pc pc80 w2 h4"><img class="bi x4b ycee w13 h67" alt="" src="bg80.png"/><div class="t m0 x8 h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x8 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>8</div><div class="t m0 x4b h10 y5ae ff41 fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of the following code?</div><div class="t m0 x4b h3c y5af ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y5b0 ff3f fsa fc2 sc0 ls0 ws0">$source = &apos;12,23,34&apos;;</div><div class="t m0 x4b h3c y5b1 ff3f fsa fc2 sc0 ls0 ws0">$arr = str_split($source, 2);</div><div class="t m0 x4b h3c y5b2 ff3f fsa fc2 sc0 ls0 ws0">echo count($arr);</div><div class="t m0 x4b h10 y5b3 ff41 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x4b h3c y5b4 ff3f fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x4b h3c y5b5 ff3f fsa fc2 sc0 ls0 ws0">3</div><div class="t m0 x4b h3c ycef ff3f fsa fc2 sc0 ls0 ws0">4</div><div class="t m0 x4b h10 ycf0 ff41 fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h3c ycf1 ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c ycf2 ff3f fsa fc2 sc0 ls0 ws0">$keys = range(1, 6, 2);</div><div class="t m0 x4b h3c ycf3 ff3f fsa fc2 sc0 ls0 ws0">$arr = array_fill_keys($keys, &apos;PHP&apos;);</div><div class="t m0 x4b h3c ycf4 ff3f fsa fc2 sc0 ls0 ws0">krsort($arr);</div><div class="t m0 x4b h3c ycf5 ff3f fsa fc2 sc0 ls0 ws0">$arr = array_flip($arr);</div><div class="t m0 x4b h3c ycf6 ff3f fsa fc2 sc0 ls0 ws0">echo $arr[&apos;PHP&apos;];</div><div class="t m0 x4b h10 ycf7 ff41 fs6 fc2 sc0 ls0 ws0">There is an error in calling<span class="ff39 fsa"> <span class="ff3f">krsort()</span></span></div><div class="t m0 x4b h10 ycf8 ff41 fs6 fc2 sc0 ls0 ws0">There is an error in calling array_<span class="ff3f fsa">flip()</span></div><div class="t m0 x4b h10 ycf9 ff41 fs6 fc2 sc0 ls2a ws0">Y<span class="_ _2"></span>ou cannot reference the key <span class="ff3f fsa ls14 wsef">&apos;PHP&apos;</span> because there is more than one of them in the array</div><div class="t m0 x4b h3c ycfa ff3f fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x4b h3c ycfb ff3f fsa fc2 sc0 ls0 ws0">5</div><div class="t m0 x4b h3c ycfc ff3f fsa fc2 sc0 ls0 ws0">6</div><div class="t m0 x4b h10 ycfd ff41 fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h3c ycfe ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c ycff ff3f fsa fc2 sc0 ls0 ws0">$array = [</div><div class="t m0 x4b h3c yd00 ff3f fsa fc2 sc0 ls0 ws0">  [1, 2],</div><div class="t m0 x4b h3c yd01 ff3f fsa fc2 sc0 ls0 ws0">  [3, 4],</div><div class="t m0 x4b h3c yd02 ff3f fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x4b h3c yd03 ff3f fsa fc2 sc0 ls0 ws0">foreach ($array as list($a, $b)) {</div><div class="t m0 x4b h3c yd04 ff3f fsa fc2 sc0 ls0 ws0">  echo &quot;A: $a; B: $b&quot; . PHP_EOL;</div><div class="t m0 x4b h3c yd05 ff3f fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf81" class="pf w2 h4" data-page-no="81"><div class="pc pc81 w2 h4"><img class="bi x3 yd06 w5 h68" alt="" src="bg81.png"/><div class="t m0 x1c h11 y54 ff41 fs9 fc2 sc0 ls0 ws0">CHAPTER 4 <span class="ff42 fc5">■</span><span class="ws11a"> ARRA<span class="_ _1"></span>YS</span></div><div class="t m0 x21 hd y55 ff39 fs6 fc2 sc0 ls15 wsf1">10<span class="_ _0"></span>9</div><div class="t m0 x5 h3c y5ec ff3f fsa fc2 sc0 ls0 ws0">A: 1; B: 2</div><div class="t m0 x5 h3c yd07 ff3f fsa fc2 sc0 ls0 ws0">A: 3; B: 4</div><div class="t m0 x5 h3c yd08 ff3f fsa fc2 sc0 ls0 ws0">Notice: Undefined offset: 1</div><div class="t m0 x5 h3c yd09 ff3f fsa fc2 sc0 ls0 ws0">Undefined variable $a</div><div class="t m0 x5 h10 yd0a ff41 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 yd0b ff41 fs6 fc2 sc0 ls0 ws0">Q10:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h3c yd0c ff3f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c yd0d ff3f fsa fc2 sc0 ls0 ws0">$arr = [1,2,3,4,5];</div><div class="t m0 x5 h3c yd0e ff3f fsa fc2 sc0 ls0 ws0">$spliced = array_splice($arr, 2, 1);</div><div class="t m0 x5 h3c yd0f ff3f fsa fc2 sc0 ls0 ws0">$number = array_shift($arr);</div><div class="t m0 x5 h3c yd10 ff3f fsa fc2 sc0 ls0 ws0">echo $number;</div><div class="t m0 x5 h10 yd11 ff41 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x5 h3c yd12 ff3f fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x5 h3c yd13 ff3f fsa fc2 sc0 ls0 ws0">3</div><div class="t m0 x5 h3c yd14 ff3f fsa fc2 sc0 ls0 ws0">5</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf82" class="pf w2 h4" data-page-no="82"><div class="pc pc82 w2 h4"><img class="bi x0 yd15 w4 h69" alt="" src="bg82.png"/><div class="t m0 x21 hd y3e ff46 fs6 fc2 sc0 ls16 wsf2">111</div><div class="t m0 x3 h6a y1ca ff47 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h6a y1cb ff47 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff48">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h6a y1cc ff47 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_5</div><div class="t m0 x3 h1c y1cd ff49 fse fc2 sc0 ls0 ws0">CHAPTER 5</div><div class="t m0 x3 h1d y1ce ff4a fs7 fc2 sc0 ls0 ws0">Object-Oriented PHP</div><div class="t m0 x3 h12 y612 ff46 fsa fc2 sc0 ls0 ws0">Object-oriented code runs slower than pr<span class="_ _1"></span>ocedural code but makes it easier to model and </div><div class="t m0 x3 h12 y613 ff46 fsa fc2 sc0 ls0 ws0">manipulate complex da<span class="_ _1"></span>ta structures. PHP h<span class="_ _1"></span>as supported object-oriented progr<span class="_ _1"></span>amming </div><div class="t m0 x3 h12 y614 ff46 fsa fc2 sc0 ls0 ws0">since version 3.0 and since then it’<span class="_ _2"></span>s object model has been extended and reformed </div><div class="t m0 x3 h12 y615 ff46 fsa fc2 sc0 ls0 ws0">extensively.</div><div class="t m0 x1a h12 y616 ff46 fsa fc2 sc0 ls0 ws0">This book is not going to try to teach object-oriented progr<span class="_ _1"></span>amming but will rather </div><div class="t m0 x3 h12 y617 ff46 fsa fc2 sc0 ls0 ws0">focus on the PHP implementation. I<span class="_ _1"></span>t’<span class="_ _1"></span>s expected that yo<span class="_ _1"></span>u have at leas<span class="_ _1"></span>t some experience </div><div class="t m0 x3 h12 y618 ff46 fsa fc2 sc0 ls0 ws0">coding in PHP<span class="_ _11"></span>.</div><div class="t m0 x23 h10 yd16 ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff4b fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>This is one of the three most important sections of your certification examination.</span></span></div><div class="t m0 x3 h19 yd17 ff4e fsd fc2 sc0 ls0 ws0">Declaring Classes and Instantiating Objects</div><div class="t m0 x3 h3c yd18 ff46 fsa fc2 sc0 ls0 ws0">Classes are declared using the <span class="ff4f">class</span> k<span class="_ _1"></span>eyword.</div><div class="t m0 x3 h3c yd19 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yd1a ff4f fsa fc2 sc0 ls0 ws0">class ExampleClass</div><div class="t m0 x3 h3c yd1b ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c yd1c ff4f fsa fc2 sc0 ls0 ws0">    // class code</div><div class="t m0 x3 h3c yd1d ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 yd1e ff46 fsa fc2 sc0 ls0 ws0">Classes can be named using the same rules as variables. Y<span class="_ _2"></span>our coding standards will </div><div class="t m0 x3 h12 yd1f ff46 fsa fc2 sc0 ls0 ws0">determine the case convention you use<span class="_ _1"></span>.</div><div class="t m0 x1a h3c yd20 ff46 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o instantiate an object from a class<span class="_ _1"></span>, you use the <span class="ff4f">new</span> keyword:</div><div class="t m0 x3 h3c yd21 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yd22 ff4f fsa fc2 sc0 ls0 ws0">$exampleObject = new ExampleClass();</div><div class="t m0 x3 h3c yd23 ff4f fsa fc2 sc0 ls0 ws0">// If you are not passing constructor parameters you can omit the brackets </div><div class="t m0 x3 h3c yd24 ff4f fsa fc2 sc0 ls0 ws0">if you choose</div><div class="t m0 x3 h3c yd25 ff4f fsa fc2 sc0 ls0 ws0">$anotherObject = new ExampleClass;</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_5"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf83" class="pf w2 h4" data-page-no="83"><div class="pc pc83 w2 h4"><img class="bi x8 yd26 w3 h6b" alt="" src="bg83.png"/><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls16 wsf2">11<span class="_ _0"></span>2</div><div class="t m0 x3 h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’ll deal with the details later<span class="_ _11"></span>, but the following summar<span class="_ _0"></span>y r<span class="_ _1"></span>eference table shows the </div><div class="t m0 x8 h12 y1b9 ff46 fsa fc2 sc0 ls0 ws0">syntax and limitations for inheritance and traits<span class="_ _1"></span>.</div><div class="t m0 x8 h20 y1ea ff4a fs6 fc2 sc0 ls0 ws0">Concept<span class="_ _62"> </span>Syntax<span class="_ _99"> </span>Limitation</div><div class="t m0 x8 h3c y1eb ff46 fsa fc2 sc0 ls0 ws0">Inherit from a class<span class="_ _89"> </span><span class="ff4f">class A extends A_Parent<span class="_ _9a"> </span></span>Class may ha<span class="_ _1"></span>ve only one </div><div class="t m0 x29 h12 y22d ff46 fsa fc2 sc0 ls0 ws0">parent</div><div class="t m0 x8 h3c y22e ff46 fsa fc2 sc0 ls0 ws0">Interface inheritance<span class="_ _9b"> </span><span class="ff4f">Interface A extends B, C<span class="_ _9a"> </span></span>In<span class="_ _1"></span>terface can inherit multiple </div><div class="t m0 x29 h12 yd27 ff46 fsa fc2 sc0 ls0 ws0">interfaces</div><div class="t m0 x8 h12 yd28 ff46 fsa fc2 sc0 ls0 ws0">Inherit from an </div><div class="t m0 x8 h12 yd29 ff46 fsa fc2 sc0 ls0 ws0">abstract class</div><div class="t m0 x6d h3c yd28 ff4f fsa fc2 sc0 ls0 ws0">Interface A extends B, C<span class="_ _9a"> </span><span class="ff46">In<span class="_ _1"></span>terface can inherit multiple </span></div><div class="t m0 x29 h12 yd29 ff46 fsa fc2 sc0 ls0 ws0">interfaces</div><div class="t m0 x8 h3c yd2a ff46 fsa fc2 sc0 ls0 ws0">Implement interface<span class="_ _84"> </span><span class="ff4f">class A implements A_</span></div><div class="t m0 x6d h3c yd2b ff4f fsa fc2 sc0 ls0 ws0">Interface</div><div class="t m0 x29 h12 yd2a ff46 fsa fc2 sc0 ls0 ws121">Class can implement multiple </div><div class="t m0 x29 h12 yd2b ff46 fsa fc2 sc0 ls0 ws0">interfaces</div><div class="t m0 x8 h3c yd2c ff46 fsa fc2 sc0 ls0 ws0">Trait<span class="_ _9c"> </span><span class="ff4f">class Foo { use A_trait; }<span class="_ _9d"> </span></span>Class can use multiple traits</div><div class="t m0 x3 h12 y1f4 ff46 fsa fc2 sc0 ls0 ws0">Object assignment is always b<span class="_ _1"></span>y reference<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y1f5 ff46 fsa fc2 sc0 ls0 ws0">Notice in the following example ho<span class="_ _1"></span>w when we change the property in the copied </div><div class="t m0 x8 h12 yd2d ff46 fsa fc2 sc0 ls0 ws0">object, the original object also changes. I<span class="_ _1"></span>n fact, the two variables occupy the same space </div><div class="t m0 x8 h12 y1f6 ff46 fsa fc2 sc0 ls0 ws0">in memory because a reference is a pointer to the original da<span class="_ _1"></span>ta. W<span class="_ _1"></span>e don’t make an entir<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y1f7 ff46 fsa fc2 sc0 ls0 ws0">new copy of the object.</div><div class="t m0 x8 h3c yd2e ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yd2f ff4f fsa fc2 sc0 ls0 ws0">$a = new stdClass();</div><div class="t m0 x8 h3c yd30 ff4f fsa fc2 sc0 ls0 ws0">$a-&gt;property = &quot;Hello World&quot;;</div><div class="t m0 x8 h3c yd31 ff4f fsa fc2 sc0 ls0 ws0">// object assignment is by reference</div><div class="t m0 x8 h3c yd32 ff4f fsa fc2 sc0 ls0 ws0">$b = $a;</div><div class="t m0 x8 h3c yd33 ff4f fsa fc2 sc0 ls0 ws0">$b-&gt;property = &quot;Assigned by reference&quot;;</div><div class="t m0 x8 h3c yd34 ff4f fsa fc2 sc0 ls0 ws0">// $a has also changed because $b is a pointer to $a</div><div class="t m0 x8 h3c yd35 ff4f fsa fc2 sc0 ls0 ws0">var_dump($a);</div><div class="t m0 x8 h3c yd36 ff4f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h3c yd37 ff4f fsa fc2 sc0 ls0 ws0">object(stdClass)#1 (1) {</div><div class="t m0 x8 h3c yd38 ff4f fsa fc2 sc0 ls0 ws0">  [&quot;property&quot;]=&gt;</div><div class="t m0 x8 h3c yd39 ff4f fsa fc2 sc0 ls0 ws0">  string(21) &quot;Assigned by reference&quot;</div><div class="t m0 x8 h3c yd3a ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yd3b ff4f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h3c yd3c ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’ll look at this in mor<span class="_ _1"></span>e detail later when we learn about the <span class="ff4f">clone</span> keyword in the </div><div class="t m0 x8 h12 yd3d ff46 fsa fc2 sc0 ls0 ws0">section on “W<span class="_ _1"></span>orking with Objects”<span class="_ _e"></span>.</div><div class="t m0 x8 h19 yd3e ff4e fsd fc2 sc0 ls0 ws0">Autoloading Classes</div><div class="t m0 x8 h12 yd3f ff46 fsa fc2 sc0 ls0 ws0">Classes should be defined before they are used, but you c<span class="_ _1"></span>an use autoloading to load </div><div class="t m0 x8 h12 yd40 ff46 fsa fc2 sc0 ls0 ws0">classes when they are requir<span class="_ _1"></span>ed. T<span class="_ _2"></span>ogether with co<span class="_ _0"></span>ding standar<span class="_ _1"></span>ds like PSR4 that go<span class="_ _1"></span>vern </div><div class="t m0 x8 h12 yd41 ff46 fsa fc2 sc0 ls0 ws0">where PHP will look for a class<span class="_ _1"></span>, this can be an indispensable feature<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf84" class="pf w2 h4" data-page-no="84"><div class="pc pc84 w2 h4"><img class="bi x3 y4e5 w5 h6c" alt="" src="bg84.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls16 wsf2">113</div><div class="t m0 x23 h10 y198 ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff4b fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou won’t be asked questions about PSR4 in the Zend examination,<span class="_ _1"></span> but the </span></span></div><div class="t m0 x3 h10 y199 ff4b fs6 fc2 sc0 ls0 ws0">standards put forward by the FIG group are very important in the PHP world.</div><div class="t m0 x1a h3c yd42 ff46 fsa fc2 sc0 ls0 ws0">Autoloading in PHP is accomplished the the <span class="ff4f">spl_autoload_register()</span> function.  </div><div class="t m0 x3 h12 yd43 ff46 fsa fc2 sc0 ls0 ws0">A PSR4 compliant implementa<span class="_ _1"></span>tion is given on the PHP FIG group web page<span class="_ _1"></span>,</div><div class="t m0 x20 h15 yd44 ff46 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x77 h12 yd45 ff46 fsa fc2 sc0 ls0 ws0"> but let’<span class="_ _2"></span>s </div><div class="t m0 x3 h12 yd46 ff46 fsa fc2 sc0 ls0 ws0">look at a simpler demonstra<span class="_ _1"></span>tion from the PHP manual</div><div class="t m0 x78 h15 yd47 ff46 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x66 h12 yd48 ff46 fsa fc2 sc0 ls0 ws0"> for an example:</div><div class="t m0 x3 h3c yd49 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yd4a ff4f fsa fc2 sc0 ls0 ws0">function my_autoloader($class) {</div><div class="t m0 x3 h3c yd4b ff4f fsa fc2 sc0 ls0 ws0">  include &apos;classes/&apos; . $class . &apos;.class.php&apos;;</div><div class="t m0 x3 h3c yd4c ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c yd4d ff4f fsa fc2 sc0 ls0 ws0">spl_autoload_register(&apos;my_autoloader&apos;);</div><div class="t m0 x3 h3c yd4e ff4f fsa fc2 sc0 ls0 ws0">// Or, using an anonymous function as of PHP 5.3.0</div><div class="t m0 x3 h3c yd4f ff4f fsa fc2 sc0 ls0 ws0">spl_autoload_register(function ($class) {</div><div class="t m0 x3 h3c yd50 ff4f fsa fc2 sc0 ls0 ws0">  include &apos;classes/&apos; . $class . &apos;.class.php&apos;;</div><div class="t m0 x3 h3c yd51 ff4f fsa fc2 sc0 ls0 ws0">});</div><div class="t m0 x1a h3c yd52 ff46 fsa fc2 sc0 ls0 ws0">Using <span class="ff4f">spl_autoload_register()</span> lets you specify wha<span class="_ _1"></span>t function PHP will call if it is </div><div class="t m0 x3 h12 yd53 ff46 fsa fc2 sc0 ls0 ws0">unable to load a class<span class="_ _1"></span>. Y<span class="_ _1"></span>ou c<span class="_ _1"></span>an include files in this function and so declare the class. If </div><div class="t m0 x3 h12 yd54 ff46 fsa fc2 sc0 ls0 ws0">PHP is unable to find the class after this function has run, then it will thro<span class="_ _1"></span>w a fatal error<span class="_ _2"></span>.</div><div class="t m0 x3 h19 yd55 ff4e fsd fc2 sc0 ls0 ws0">Visibility or <span class="_ _2"></span>Access Modifiers</div><div class="t m0 x3 h3c yd56 ff46 fsa fc2 sc0 ls0 ws0">The visibility of a method or property can be set by pr<span class="_ _1"></span>efixing the declaration with <span class="ff4f">public</span>, </div><div class="t m0 x3 h3c yd57 ff4f fsa fc2 sc0 ls0 ws0">protected<span class="ff46">, or </span>private<span class="ff46">.</span></div><div class="t m0 x7 h12 yd58 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff46">Public class members can be accessed fr<span class="_ _1"></span>om anywhere.</span></div><div class="t m0 x7 h12 yd59 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff46">Protected class members can be accessed fr<span class="_ _1"></span>om within the class </span></div><div class="t m0 x19 h12 yd5a ff46 fsa fc2 sc0 ls0 ws0">and by its children.</div><div class="t m0 x7 h12 yd5b ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff46">Private class members can only be accessed fr<span class="_ _1"></span>om within the  </span></div><div class="t m0 x19 h12 yd5c ff46 fsa fc2 sc0 ls0 ws0">class itself.</div><div class="t m0 x1a h3c yd5d ff46 fsa fc2 sc0 ls0 ws0">If you don’t explicitly specify a visibility then it will default to <span class="ff4f">public</span>.</div><div class="t m0 x1a h3c yd5e ff46 fsa fc2 sc0 ls0 ws0">Interfaces can only include <span class="ff4f">public</span> methods<span class="_ _1"></span>. Any class that implements the in<span class="_ _1"></span>terface </div><div class="t m0 x3 h12 yd5f ff46 fsa fc2 sc0 ls0 ws0">must match the visibility of the method and so these methods will be public in it too<span class="_ _1"></span>.</div><div class="t m0 x1a h3c yd60 ff46 fsa fc2 sc0 ls0 ws0">Methods in <span class="ff4f">abstract</span> classes may h<span class="_ _1"></span>ave any visibility. A method in a class th<span class="_ _1"></span>at </div><div class="t m0 x3 h12 yd61 ff46 fsa fc2 sc0 ls0 ws0">extends an abstract clas<span class="_ _1"></span>s must have the same or les<span class="_ _1"></span>s restrictive visibility.</div><div class="t m0 x3 h16 yd62 ff51 fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h43 yd63 ff4f fs5 fc4 sc0 ls0 ws0">http://www.php-fig.org/psr/psr-4/examples/</div><div class="t m0 x3 h16 yd64 ff51 fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h43 yd65 ff4f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.spl-autoload-register.php</div><a class="l" href="#pf84" data-dest-detail='[132,"XYZ",57,96,null]'><div class="d m1" style="border-style:none;position:absolute;left:347.100000px;bottom:519.877000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf84" data-dest-detail='[132,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:264.544000px;bottom:508.877000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.php-fig.org/psr/psr-4/examples/"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:83.824400px;width:178.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.spl-autoload-register.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.824400px;width:255.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf85" class="pf w2 h4" data-page-no="85"><div class="pc pc85 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">114</div><div class="t m0 x8 h19 y24e ff4e fsd fc2 sc0 ls0 ws0">Instance Properties and Methods</div><div class="t m0 x8 h12 y24f ff46 fsa fc2 sc0 ls0 ws0">Concrete objects that y<span class="_ _1"></span>ou create fr<span class="_ _1"></span>om classes are also known as <span class="ff52">instances</span>. When you </div><div class="t m0 x8 h12 y337 ff46 fsa fc2 sc0 ls0 ws0">create an object fr<span class="_ _1"></span>om a class, you ar<span class="_ _1"></span>e said to <span class="ff52">instantiate</span> the object. This section focuses </div><div class="t m0 x8 h12 y338 ff46 fsa fc2 sc0 ls0 ws0">on properties and methods, which belong to objects<span class="_ _1"></span>. W<span class="_ _1"></span>e’ll be looking at wha<span class="_ _1"></span>t these are, </div><div class="t m0 x8 h12 y516 ff46 fsa fc2 sc0 ls0 ws0">how PHP syntax works<span class="_ _1"></span>, the naming rules, and how t<span class="_ _1"></span>o use them.</div><div class="t m0 x8 h26 yd66 ff46 fse fc2 sc0 ls0 ws0">Properties</div><div class="t m0 x8 h12 yd67 ff46 fsa fc2 sc0 ls0 ws0">Class properties are declar<span class="_ _1"></span>ed by using one of the visibility modifiers followed by the name </div><div class="t m0 x8 h12 yd68 ff46 fsa fc2 sc0 ls0 ws0">of the property. Property names follow the same n<span class="_ _1"></span>aming rules as variables.</div><div class="t m0 x8 h3c yd69 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yd6a ff4f fsa fc2 sc0 ls0 ws0">class Properties</div><div class="t m0 x8 h3c yd6b ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c yd6c ff4f fsa fc2 sc0 ls0 ws0">    // You do not have to specify a default value</div><div class="t m0 x8 h3c yd6d ff4f fsa fc2 sc0 ls0 ws0">    public $email;</div><div class="t m0 x8 h3c yd6e ff4f fsa fc2 sc0 ls0 ws0">    // A scalar value is an expression</div><div class="t m0 x8 h3c yd6f ff4f fsa fc2 sc0 ls0 ws0">    protected $name = &apos;Alice&apos;;</div><div class="t m0 x8 h3c yd70 ff4f fsa fc2 sc0 ls0 ws0">    // An array is an expression</div><div class="t m0 x8 h3c yd71 ff4f fsa fc2 sc0 ls0 ws0">    protected $accounts = [&apos;cheque&apos;, &apos;savings&apos;];</div><div class="t m0 x8 h3c yd72 ff4f fsa fc2 sc0 ls0 ws0">    // You can use a constant expression as a default value</div><div class="t m0 x8 h3c yd73 ff4f fsa fc2 sc0 ls0 ws0">    private $balance = 60 * 5;</div><div class="t m0 x8 h3c yd74 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 yd75 ff46 fsa fc2 sc0 ls0 ws0">Properties can be initialized to default values<span class="_ _1"></span>. They can be initialized with </div><div class="t m0 x8 h12 yd76 ff46 fsa fc2 sc0 ls0 ws0">expressions<span class="_ _1"></span>, but not functions.</div><div class="t m0 x8 h3c yd77 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yd78 ff4f fsa fc2 sc0 ls0 ws0">class BrokenPropertyInit</div><div class="t m0 x8 h3c yd79 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c yd7a ff4f fsa fc2 sc0 ls0 ws0">    private $lastLogin = time();  // won&apos;t run</div><div class="t m0 x8 h3c yd7b ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 yd7c ff46 fsa fc2 sc0 ls0 ws0">This example won’t run because you cannot initialize the class pr<span class="_ _1"></span>operty using a </div><div class="t m0 x8 h12 yd7d ff46 fsa fc2 sc0 ls0 ws0">function.</div><div class="t m0 x8 h26 yd7e ff46 fse fc2 sc0 ls0 ws0">Methods</div><div class="t m0 x8 h12 yd7f ff46 fsa fc2 sc0 ls0 ws0">Methods are functions within a scope construct. They ar<span class="_ _1"></span>e declared in a function by using </div><div class="t m0 x8 h12 yd80 ff46 fsa fc2 sc0 ls0 ws0">a visibility modifier followed by the function declaration. If y<span class="_ _1"></span>ou omit a visibility modifier<span class="_ _2"></span>, </div><div class="t m0 x8 h12 yd81 ff46 fsa fc2 sc0 ls0 ws0">the method will have public visibility.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf86" class="pf w2 h4" data-page-no="86"><div class="pc pc86 w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls16 wsf2">115</div><div class="t m0 x3 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y3e3 ff4f fsa fc2 sc0 ls0 ws0">class MethodExample</div><div class="t m0 x3 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c y2ab ff4f fsa fc2 sc0 ls0 ws0">  private $name;</div><div class="t m0 x3 h3c y3e4 ff4f fsa fc2 sc0 ls0 ws0">  // explicitly specified visibility</div><div class="t m0 x3 h3c y3e5 ff4f fsa fc2 sc0 ls0 ws0">  public function setName($name) {</div><div class="t m0 x3 h3c y425 ff4f fsa fc2 sc0 ls0 ws0">      $this-&gt;name = $name;</div><div class="t m0 x3 h3c y3e6 ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x3 h3c y3e7 ff4f fsa fc2 sc0 ls0 ws0">  // public visibility by default</div><div class="t m0 x3 h3c y3e8 ff4f fsa fc2 sc0 ls0 ws0">  function getName($name) {</div><div class="t m0 x3 h3c y3e9 ff4f fsa fc2 sc0 ls0 ws0">      return $this-&gt;name;</div><div class="t m0 x3 h3c y3ea ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x3 h3c y3eb ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h3c y3ed ff46 fsa fc2 sc0 ls0 ws0">Methods can access non-<span class="_ _1"></span>static object properties using the <span class="ff4f">$this</span> pseudo-<span class="_ _1"></span>variable<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y3ee ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">$this</span> pseudo-<span class="_ _1"></span>variable is defined in objects and refers to the object itself.</div><div class="t m0 x1a h3c yac6 ff46 fsa fc2 sc0 ls0 ws0">Static methods ar<span class="_ _1"></span>e declared without an object having been instan<span class="_ _1"></span>tiated and so <span class="ff4f">$this</span> </div><div class="t m0 x3 h12 y3ef ff46 fsa fc2 sc0 ls0 ws0">is not availa<span class="_ _1"></span>ble.</div><div class="t m0 x3 h19 yd82 ff4e fsd fc2 sc0 ls0 ws0">Static Methods and Properties</div><div class="t m0 x3 h12 yd83 ff46 fsa fc2 sc0 ls0 ws0">Declaring a method or property as static makes it a<span class="_ _1"></span>vailable without needing a concrete </div><div class="t m0 x3 h12 yd84 ff46 fsa fc2 sc0 ls0 ws0">implementation of the class<span class="_ _1"></span>.</div><div class="t m0 x1a h12 yd85 ff46 fsa fc2 sc0 ls0 ws0">Because a static method can be called without an instantia<span class="_ _1"></span>ted object, the pseudo-</div><div class="t m0 x3 h3c yd86 ff46 fsa fc2 sc0 ls0 ws0">variable <span class="ff4f">$this</span> is not accessible in these methods. S<span class="_ _1"></span>tatic methods and properties may </div><div class="t m0 x3 h12 yd87 ff46 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e any visibility modifier applied to them.</div><div class="t m0 x1a h12 yd88 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should not call a non-static method static<span class="_ _1"></span>ally. This will generate a depreca<span class="_ _1"></span>tion </div><div class="t m0 x3 h12 yd89 ff46 fsa fc2 sc0 ls0 ws0">warning:</div><div class="t m0 x3 h3c yd8a ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yd8b ff4f fsa fc2 sc0 ls0 ws0">class A</div><div class="t m0 x3 h3c yd8c ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c yd8d ff4f fsa fc2 sc0 ls0 ws0">  // this is not a static method</div><div class="t m0 x3 h3c yd8e ff4f fsa fc2 sc0 ls0 ws0">  public function sayHello()</div><div class="t m0 x3 h3c yd8f ff4f fsa fc2 sc0 ls0 ws0">  {</div><div class="t m0 x3 h3c yd90 ff4f fsa fc2 sc0 ls0 ws0">    echo &quot;Hello World&quot;;</div><div class="t m0 x3 h3c yd91 ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x3 h3c yd92 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c yd93 ff4f fsa fc2 sc0 ls0 ws0">// Deprecated: Non-static method A::sayHello() should not be called </div><div class="t m0 x3 h3c yd94 ff4f fsa fc2 sc0 ls0 ws0">statically</div><div class="t m0 x3 h3c yd95 ff4f fsa fc2 sc0 ls0 ws0">A::sayHello();</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf87" class="pf w2 h4" data-page-no="87"><div class="pc pc87 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls1c wsf8">116</div><div class="t m0 x3 h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">Referencing a sta<span class="_ _1"></span>tic property or method is done using the scope resolution operator<span class="_ _11"></span>, </div><div class="t m0 x8 h12 y1b9 ff46 fsa fc2 sc0 ls0 ws0">which is a double-colon.</div><div class="t m0 x8 h3c y1bb ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bc ff4f fsa fc2 sc0 ls0 ws0">class MyClass</div><div class="t m0 x8 h3c y1bd ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y1be ff4f fsa fc2 sc0 ls0 ws0">    // Static functions are declared with the static keyword</div><div class="t m0 x8 h3c y1bf ff4f fsa fc2 sc0 ls0 ws0">    public static function sayHello() {</div><div class="t m0 x8 h3c y1c0 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;Hello World&quot; . PHP_EOL;</div><div class="t m0 x8 h3c y1c1 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c3 ff4f fsa fc2 sc0 ls0 ws0">    public function someFunction() {</div><div class="t m0 x8 h3c y1c4 ff4f fsa fc2 sc0 ls0 ws0">        // self refers to &quot;this class&quot;, like $this refers to an object</div><div class="t m0 x8 h3c y1c5 ff4f fsa fc2 sc0 ls0 ws0">        self::sayHello();</div><div class="t m0 x8 h3c y1c6 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c7 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1c8 ff4f fsa fc2 sc0 ls0 ws0">// Static functions can be accessed with the scope resolution operator.</div><div class="t m0 x8 h3c y733 ff4f fsa fc2 sc0 ls0 ws0">MyClass::sayHello(); // Hello World</div><div class="t m0 x8 h3c y734 ff4f fsa fc2 sc0 ls0 ws0">$object = new MyClass();</div><div class="t m0 x8 h3c ya6a ff4f fsa fc2 sc0 ls0 ws0">$object-&gt;someFunction(); // Hello World</div><div class="t m0 x3 h3c y736 ff46 fsa fc2 sc0 ls0 ws0">When we reference a sta<span class="_ _1"></span>tic property from within the class<span class="_ _1"></span>, we can use <span class="ff4f">self</span>, <span class="ff4f">parent</span>, </div><div class="t m0 x8 h3c y737 ff46 fsa fc2 sc0 ls0 ws0">or <span class="ff4f">static</span> to refer to it. W<span class="_ _2"></span>e’ll deal with the <span class="ff4f">static</span> keyword in the section on “Late Static </div><div class="t m0 x8 h12 y738 ff46 fsa fc2 sc0 ls0 ws0">Binding” in this chapter<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y739 ff46 fsa fc2 sc0 ls0 ws0">When refer<span class="_ _1"></span>encing the static class member from outs<span class="_ _1"></span>ide the class, you pr<span class="_ _1"></span>efix the </div><div class="t m0 x8 h12 y73a ff46 fsa fc2 sc0 ls0 ws0">scope resolution operator with the name of the class<span class="_ _1"></span>. In the previo<span class="_ _1"></span>us example, we </div><div class="t m0 x8 h3c y73b ff46 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>enced the static function with <span class="ff4f">MyClass::sayHello()</span>.</div><div class="t m0 x8 h26 yd96 ff46 fse fc2 sc0 ls0 ws0">Static Pr<span class="_ _1"></span>operties</div><div class="t m0 x8 h3c yd97 ff46 fsa fc2 sc0 ls0 ws0">Static pr<span class="_ _1"></span>operties are also declared with the <span class="ff4f">static</span> keyword and can be accessed with the </div><div class="t m0 x8 h12 yd98 ff46 fsa fc2 sc0 ls0 ws0">scope resolution operator<span class="_ _11"></span>.</div><div class="t m0 x3 h12 yd99 ff46 fsa fc2 sc0 ls0 ws0">For example:</div><div class="t m0 x8 h3c yd9a ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yd9b ff4f fsa fc2 sc0 ls0 ws0">class Foo</div><div class="t m0 x8 h3c yd9c ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c yd9d ff4f fsa fc2 sc0 ls0 ws0">  // Static properties are declared with the static keyword</div><div class="t m0 x8 h3c yd9e ff4f fsa fc2 sc0 ls0 ws0">  private static $message = &apos;Hello World&apos;;</div><div class="t m0 x8 h3c yd9f ff4f fsa fc2 sc0 ls0 ws0">  public function __construct() {</div><div class="t m0 x8 h3c yda0 ff4f fsa fc2 sc0 ls0 ws0">    // Static properties can be accessed with the scope resolution operator.</div><div class="t m0 x8 h3c yda1 ff4f fsa fc2 sc0 ls0 ws0">    echo self::$message;</div><div class="t m0 x8 h3c yda2 ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x8 h3c yda3 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yda4 ff4f fsa fc2 sc0 ls0 ws0">$foo = new Foo;     // Hello World</div><div class="t m0 x8 h3c yda5 ff4f fsa fc2 sc0 ls0 ws0">echo Foo::$message; // PHP Fatal error: Cannot access private property</div><div class="t m0 x8 h3c yda6 ff4f fsa fc2 sc0 ls0 ws0">         Foo::$message</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf88" class="pf w2 h4" data-page-no="88"><div class="pc pc88 w2 h4"><img class="bi x3 yda7 w5 h32" alt="" src="bg88.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x13 hd y55 ff46 fs6 fc2 sc0 ls1d wsf9">117</div><div class="t m0 x1a h3c y2a8 ff46 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we access the <span class="ff4f">static</span> property in the constructor using the <span class="ff4f">self</span> </div><div class="t m0 x3 h12 y3e3 ff46 fsa fc2 sc0 ls0 ws0">keyword. As a demonstra<span class="_ _1"></span>tion that static pr<span class="_ _1"></span>operties can have any visibility applied to </div><div class="t m0 x3 h12 y424 ff46 fsa fc2 sc0 ls0 ws0">them, we attempt to access it fr<span class="_ _1"></span>om outside the class and receive a fa<span class="_ _1"></span>tal error<span class="_ _2"></span>.</div><div class="t m0 x3 h19 yda8 ff4e fsd fc2 sc0 ls0 ws0">W<span class="_ _1"></span>orking with Objects</div><div class="t m0 x3 h12 yda9 ff46 fsa fc2 sc0 ls0 ws0">This is a very important section of this chapter and you should pay close atten<span class="_ _1"></span>tion to the </div><div class="t m0 x3 h12 ydaa ff46 fsa fc2 sc0 ls0 ws0">details. W<span class="_ _1"></span>e<span class="_ _1"></span>’ll be introducing the difference between a “<span class="_ _2"></span>shallow” and a “<span class="_ _1"></span>deep<span class="_ _1"></span>” cop<span class="_ _1"></span>y and </div><div class="t m0 x3 h12 ydab ff46 fsa fc2 sc0 ls0 ws0">looking at how arra<span class="_ _1"></span>y variables are cast into other v<span class="_ _1"></span>ariable types. W<span class="_ _1"></span>e’ll see how to stor<span class="_ _1"></span>e an </div><div class="t m0 x3 h12 ydac ff46 fsa fc2 sc0 ls0 ws0">object for later use (or t<span class="_ _1"></span>o pass it to another program) and also look at some tricks that y<span class="_ _1"></span>ou </div><div class="t m0 x3 h12 ydad ff46 fsa fc2 sc0 ls0 ws0">can play by ali<span class="_ _1"></span>asing class names.</div><div class="t m0 x3 h26 ydae ff46 fse fc2 sc0 ls0 ws0">Copying Objects</div><div class="t m0 x3 h12 ydaf ff46 fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>ust like with assignment, PHP always pas<span class="_ _1"></span>ses objects by reference<span class="_ _1"></span>. Instead of making a </div><div class="t m0 x3 h12 ydb0 ff46 fsa fc2 sc0 ls0 ws0">whole copy of the object, we ra<span class="_ _1"></span>ther just say “the data can be found a<span class="_ _1"></span>t this location”<span class="_ _e"></span>. W<span class="_ _1"></span>e </div><div class="t m0 x3 h12 ydb1 ff46 fsa fc2 sc0 ls0 ws0">deal more with PHP memory allocation in the “Memory Management” section of this </div><div class="t m0 x3 h12 ydb2 ff46 fsa fc2 sc0 ls13 wsee">book.</div><div class="t m0 x1a h3c ydb3 ff46 fsa fc2 sc0 ls0 ws0">If you want to cr<span class="_ _1"></span>eate a copy of the object, you m<span class="_ _1"></span>ust use the <span class="ff4f">clone()</span> keyword.</div><div class="t m0 x3 h3c ydb4 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ydb5 ff4f fsa fc2 sc0 ls0 ws0">// creating a shallow copy of an object</div><div class="t m0 x3 h3c ydb6 ff4f fsa fc2 sc0 ls0 ws0">$objectCopy = clone $originalObject;</div><div class="t m0 x1a h12 ydb7 ff46 fsa fc2 sc0 ls0 ws0">PHP will create a shallo<span class="_ _1"></span>w copy of the object. In a shallo<span class="_ _1"></span>w copy, if the source contains </div><div class="t m0 x3 h12 ydb8 ff46 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ences to variables or other objects, then those refer<span class="_ _1"></span>ences are copied into the new </div><div class="t m0 x3 h12 ydb9 ff46 fsa fc2 sc0 ls0 ws0">object. This means that the original and cloned object shar<span class="_ _1"></span>e a refer<span class="_ _1"></span>ence to the same </div><div class="t m0 x3 h12 ydba ff46 fsa fc2 sc0 ls0 ws0">target object.</div><div class="t m0 x1a h12 ydbb ff46 fsa fc2 sc0 ls0 ws0">By contrast<span class="_ _1"></span>, a deep copy creates new v<span class="_ _1"></span>ersions of referenced objects and inserts </div><div class="t m0 x3 h12 ydbc ff46 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ences to these into the cloned object. This is slower and more expensive beca<span class="_ _1"></span>use </div><div class="t m0 x3 h12 ydbd ff46 fsa fc2 sc0 ls0 ws0">it involves cr<span class="_ _1"></span>eating a lot more objects<span class="_ _1"></span>. The cloned object will contain references to new </div><div class="t m0 x3 h12 ydbe ff46 fsa fc2 sc0 ls0 ws0">copies of objects that the original r<span class="_ _1"></span>eferences.</div><div class="t m0 x1a h3c ydbf ff46 fsa fc2 sc0 ls0 ws0">When cloning an object, PHP will try to execute the <span class="ff4f">__clone()</span> method in the object. </div><div class="t m0 x3 h12 ydc0 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can override this method to include your own behavior for cloning an object<span class="_ _1"></span>. This </div><div class="t m0 x3 h12 ydc1 ff46 fsa fc2 sc0 ls0 ws0">method cannot be called directly.</div><div class="t m0 x23 h10 ydc2 ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff4b fc2"> <span class="_ _2c"> </span> If you want a deep c<span class="_ _1"></span>lone of an object,<span class="_ _1"></span> you can implement this logic in the magic </span></span></div><div class="t m0 x3 h10 ydc3 ff4b fs6 fc2 sc0 ls0 ws0">method <span class="ff4f fsa">__clone()</span>.</div><div class="t m0 x3 h26 ydc4 ff46 fse fc2 sc0 ls0 ws0">Serializing Objects</div><div class="t m0 x3 h3c ydc5 ff46 fsa fc2 sc0 ls0 ws0">Object serialization is accomplished with the <span class="ff4f">serialize()</span> and <span class="ff4f">unserialize()</span> functions. </div><div class="t m0 x3 h12 ydc6 ff46 fsa fc2 sc0 ls0 ws0">These functions support any type of PHP variable, except for r<span class="_ _1"></span>esources.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf89" class="pf w2 h4" data-page-no="89"><div class="pc pc89 w2 h4"><img class="bi x8 y175 w3 h6d" alt="" src="bg89.png"/><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls16 wsf2">118</div><div class="t m0 x3 h3c y1b8 ff46 fsa fc2 sc0 ls0 ws0">When an object is serialized, PHP will tr<span class="_ _0"></span>y to call the <span class="ff4f">__sleep()</span> method on it, and </div><div class="t m0 x8 h3c y1b9 ff46 fsa fc2 sc0 ls0 ws0">when it is unserialized the <span class="ff4f">__wakeup()</span> function is called. These are magic methods and </div><div class="t m0 x8 h12 y2d2 ff46 fsa fc2 sc0 ls0 ws0">you can implement them in y<span class="_ _1"></span>our class to alter how PHP handles these events<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y2d3 ff46 fsa fc2 sc0 ls0 ws0">Serializing an object gives a byte-str<span class="_ _1"></span>eam repr<span class="_ _1"></span>esentation of any value that c<span class="_ _1"></span>an be </div><div class="t m0 x8 h12 y2d4 ff46 fsa fc2 sc0 ls0 ws0">stored in PHP<span class="_ _11"></span>. Resour<span class="_ _1"></span>ces cannot be serialized. Strings in PHP can contain byte str<span class="_ _1"></span>eams, </div><div class="t m0 x8 h12 y1bd ff46 fsa fc2 sc0 ls0 ws0">so you can place serialized objects into them.</div><div class="t m0 x3 h12 y1be ff46 fsa fc2 sc0 ls0 ws0">The string will refer to the class of the object serialized and will contain all the </div><div class="t m0 x8 h12 y2d5 ff46 fsa fc2 sc0 ls0 ws0">variables associated with it. References to an<span class="_ _1"></span>ything outside of the object cannot be stored </div><div class="t m0 x8 h12 y2d6 ff46 fsa fc2 sc0 ls0 ws0">and will be lost, but circular r<span class="_ _1"></span>eferences to anything inside the object will be retained.</div><div class="t m0 x3 h12 y2d7 ff46 fsa fc2 sc0 ls0 ws0">When you unserialize the object, PHP must ha<span class="_ _1"></span>ve the class declared. If it does not </div><div class="t m0 x8 h12 y2d8 ff46 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e the class defined, it will be unable to make an object of the correct type and will </div><div class="t m0 x8 h3c y2d9 ff46 fsa fc2 sc0 ls0 ws0">instead creat<span class="_ _1"></span>e one of type <span class="ff4f">__PHP_Incomplete_Class_Name</span>, which has no methods.</div><div class="t m0 x3 h12 y2da ff46 fsa fc2 sc0 ls0 ws0">Here is a s<span class="_ _1"></span>imple example where we serialize and unserialize an object.</div><div class="t m0 x8 h3c y2db ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y2dc ff4f fsa fc2 sc0 ls0 ws0">$objectOriginal = new A;</div><div class="t m0 x8 h3c y2dd ff4f fsa fc2 sc0 ls0 ws0">$string = serialize($objectOriginal);</div><div class="t m0 x8 h3c y2de ff4f fsa fc2 sc0 ls0 ws0">file_put_contents(&apos;serialize.txt&apos;, $string);</div><div class="t m0 x8 h3c y2df ff4f fsa fc2 sc0 ls0 ws0">// in another PHP file</div><div class="t m0 x8 h3c y2e0 ff4f fsa fc2 sc0 ls0 ws0">$string = file_get_contents(&apos;serialize.txt&apos;);</div><div class="t m0 x8 h3c y8bf ff4f fsa fc2 sc0 ls0 ws0">$objectCopy = unserialize($string);</div><div class="t m0 x3 h12 y8c0 ff46 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e a lot of potential security problems around serializing objects. W<span class="_ _2"></span>e deal </div><div class="t m0 x8 h12 y8c1 ff46 fsa fc2 sc0 ls0 ws0">with them in Chapter <span class="fc4">6</span> on security, but it’<span class="_ _1"></span>s worth keeping this in mind when you look </div><div class="t m0 x8 h12 y8c2 ff46 fsa fc2 sc0 ls0 ws0">at the second (option<span class="_ _1"></span>al) argument for unserialize. This argumen<span class="_ _1"></span>t helps to mitigate </div><div class="t m0 x8 h12 y8c3 ff46 fsa fc2 sc0 ls0 ws0">an attack wher<span class="_ _1"></span>e an opponent can change the value of the parameter th<span class="_ _1"></span>at is passed to </div><div class="t m0 x8 h3c y8c4 ff4f fsa fc2 sc0 ls0 ws0">unserialize()<span class="ff46">.</span></div><div class="t m0 x79 h15 ydc7 ff46 fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x3 h12 yab3 ff46 fsa fc2 sc0 ls0 ws0">The second argument for unserialize lets you specify what PHP sho<span class="_ _1"></span>uld be willing to </div><div class="t m0 x8 h12 yab4 ff46 fsa fc2 sc0 ls0 ws0">unserialize. It is security best practice to alw<span class="_ _1"></span>ays use it.</div><div class="t m0 x8 h20 ydc8 ff4a fs6 fc2 sc0 ls0 ws0">V<span class="_ _1"></span>alue<span class="_ _9e"> </span>Meaning</div><div class="t m0 x8 h12 ydc9 ff46 fsa fc2 sc0 ls0 ws0">Omitted<span class="_ _1b"> </span>PHP can instan<span class="_ _1"></span>tiate objects of any class</div><div class="t m0 x8 h3c ydca ff4f fsa fc2 sc0 ls0 ws0">FALSE<span class="_ _9f"> </span><span class="ff46">Do not accept any classes</span></div><div class="t m0 x8 h3c ydcb ff4f fsa fc2 sc0 ls0 ws0">TRUE<span class="_ _a0"> </span><span class="ff46">Accept all classes</span></div><div class="t m0 x8 h12 ydcc ff46 fsa fc2 sc0 ls0 ws0">Array of class name<span class="_ _a1"> </span>Accept only the classes specified</div><div class="t m0 x8 h3c ydcd ff46 fsa fc2 sc0 ls0 ws0">Any other value<span class="_ _4a"> </span><span class="ff4f">Unserialize()</span> will return false and issue an <span class="ff4f">E_WARNING</span></div><div class="t m0 x8 h16 y24c ff51 fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h43 y24d ff4f fs5 fc4 sc0 ls0 ws0">https://www.owasp.org/index.php/PHP_Object_Injection</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:123.236000px;bottom:336.325000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf89" data-dest-detail='[137,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:100.530000px;bottom:303.289000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.owasp.org/index.php/PHP_Object_Injection"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.828300px;width:221.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8a" class="pf w2 h4" data-page-no="8a"><div class="pc pc8a w2 h4"><img class="bi x3 ydce w5 h6e" alt="" src="bg8a.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls16 wsf2">119</div><div class="t m0 x1a h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">Here<span class="_ _1"></span>’<span class="_ _2"></span>s a more comprehensive example of ho<span class="_ _1"></span>w to unserialize an object in PHP<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y1ba ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1bb ff4f fsa fc2 sc0 ls0 ws0">class A {</div><div class="t m0 x3 h3c y1bc ff4f fsa fc2 sc0 ls0 ws0">    public function __wakeup() {</div><div class="t m0 x3 h3c y1bd ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;Good morning&quot;;</div><div class="t m0 x3 h3c y1be ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y1bf ff4f fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x3 h3c y1c0 ff4f fsa fc2 sc0 ls0 ws0">class B {}</div><div class="t m0 x3 h3c y1c1 ff4f fsa fc2 sc0 ls0 ws0">$a = new A();</div><div class="t m0 x3 h3c y1c2 ff4f fsa fc2 sc0 ls0 ws0">$stored = serialize($a);</div><div class="t m0 x3 h3c y1c3 ff4f fsa fc2 sc0 ls0 ws0">unset($a);</div><div class="t m0 x3 h3c y1c4 ff4f fsa fc2 sc0 ls0 ws0">// this works because the class name is allowed</div><div class="t m0 x3 h3c y1c5 ff4f fsa fc2 sc0 ls0 ws0">$a = unserialize($stored, [&apos;allowed_classes&apos; =&gt; [A::class]]);</div><div class="t m0 x3 h3c y1c6 ff4f fsa fc2 sc0 ls0 ws0">// this creates __PHP_Incomplete_Class because the class doesn&apos;t match</div><div class="t m0 x3 h3c y1c7 ff4f fsa fc2 sc0 ls0 ws0">$b = unserialize($stored, [&apos;allowed_classes&apos; =&gt; [B::class]]);</div><div class="t m0 x3 h3c y1c8 ff4f fsa fc2 sc0 ls0 ws0">// this creates __PHP_Incomplete_Class because no classes are allowed</div><div class="t m0 x3 h3c y733 ff4f fsa fc2 sc0 ls0 ws0">$c = unserialize($stored, [&apos;allowed_classes&apos; =&gt; false]);</div><div class="t m0 x3 h3c y734 ff4f fsa fc2 sc0 ls0 ws0">// this works because all classes are allowed</div><div class="t m0 x3 h3c ya6a ff4f fsa fc2 sc0 ls0 ws0">$d = unserialize($stored, [&apos;allowed_classes&apos; =&gt; true]);</div><div class="t m0 x3 h3c y735 ff4f fsa fc2 sc0 ls0 ws0">// this generates a warning because the parameter type is incorrect</div><div class="t m0 x3 h3c y736 ff4f fsa fc2 sc0 ls0 ws0">$e = unserialize($stored, [&apos;allowed_classes&apos; =&gt; &apos;Not boolean or array&apos;]);</div><div class="t m0 x23 h10 ydcf ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Caution<span class="ff4b"> <span class="_ _2c"> </span> Do not use <span class="ff4f fsa">serialize()</span> to pass data to the user<span class="_ _2"></span>. Rather use <span class="ff4f fsa">json_encode</span>! </span></span></span></div><div class="t m0 x3 h10 ydd0 ff4b fs6 fc2 sc0 ls0 ws0">Why not? Because of the mantra <span class="_ _1"></span>“all user input is potentially evil”.<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou don’t want to give </div><div class="t m0 x3 h10 ydd1 ff4b fs6 fc2 sc0 ls0 ws0">users the chance to run their code through <span class="ff4f fsa">unserialize()</span>.</div><div class="t m0 x3 h26 y835 ff46 fse fc2 sc0 ls0 ws0">Casting Between Arra<span class="_ _1"></span>ys and Objects</div><div class="t m0 x3 h12 ydd2 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e cover<span class="_ _1"></span>ed casting variables in the chapter on PHP basics<span class="_ _1"></span>. W<span class="_ _1"></span>e should note that it is also </div><div class="t m0 x3 h12 ydd3 ff46 fsa fc2 sc0 ls0 ws0">possible to use the same syntax to cast between an array and an object. Let’<span class="_ _2"></span>s look<span class="_ _0"></span>:</div><div class="t m0 x3 h3c ydd4 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ydd5 ff4f fsa fc2 sc0 ls0 ws0">$array = [</div><div class="t m0 x3 h3c ydd6 ff4f fsa fc2 sc0 ls0 ws0">    &apos;key&apos; =&gt; &apos;value&apos;,</div><div class="t m0 x3 h3c ydd7 ff4f fsa fc2 sc0 ls0 ws0">    &apos;nested_array&apos; =&gt; [</div><div class="t m0 x3 h3c ydd8 ff4f fsa fc2 sc0 ls0 ws0">            &apos;another_key&apos; =&gt; &apos;different_value&apos;</div><div class="t m0 x3 h3c ydd9 ff4f fsa fc2 sc0 ls0 ws0">        ]</div><div class="t m0 x3 h3c ydda ff4f fsa fc2 sc0 ls0 ws0">    ];</div><div class="t m0 x3 h3c yddb ff4f fsa fc2 sc0 ls0 ws0">$object = (object)$array;</div><div class="t m0 x3 h3c yddc ff4f fsa fc2 sc0 ls0 ws0">var_dump($object);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8b" class="pf w2 h4" data-page-no="8b"><div class="pc pc8b w2 h4"><img class="bi x8 yddd w3 h29" alt="" src="bg8b.png"/><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">120</div><div class="t m0 x3 h3c y2a8 ff46 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, I used the <span class="ff4f">(object)</span> casting syntax to force the arra<span class="_ _1"></span>y to become an </div><div class="t m0 x8 h3c y3e3 ff46 fsa fc2 sc0 ls0 ws0">object. PHP will produce an object of <span class="ff4f">StdClass</span> that has pr<span class="_ _1"></span>operties corresponding to the </div><div class="t m0 x8 h12 y424 ff46 fsa fc2 sc0 ls0 ws0">keys of the array. This code outputs:</div><div class="t m0 x8 h3c y2ac ff4f fsa fc2 sc0 ls0 ws0">object(stdClass)#1 (2) {</div><div class="t m0 x8 h3c y3e4 ff4f fsa fc2 sc0 ls0 ws0">  [&quot;key&quot;]=&gt;</div><div class="t m0 x8 h3c y3e5 ff4f fsa fc2 sc0 ls0 ws0">  string(5) &quot;value&quot;</div><div class="t m0 x8 h3c y425 ff4f fsa fc2 sc0 ls0 ws0">  [&quot;nested_array&quot;]=&gt;</div><div class="t m0 x8 h3c y3e6 ff4f fsa fc2 sc0 ls0 ws0">  array(1) {</div><div class="t m0 x8 h3c y426 ff4f fsa fc2 sc0 ls0 ws0">    [&quot;another_key&quot;]=&gt;</div><div class="t m0 x8 h3c y3e7 ff4f fsa fc2 sc0 ls0 ws0">    string(15) &quot;different_value&quot;</div><div class="t m0 x8 h3c y3e8 ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x8 h3c y3e9 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1e h10 ydde ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Note<span class="ff4b"> <span class="_ _2c"> </span> <span class="_ _1"></span>The nested array is not converted to a nested object.</span></span></span></div><div class="t m0 x3 h3c yddf ff46 fsa fc2 sc0 ls0 ws0">It is possible to cast an object to an arr<span class="_ _1"></span>ay using the <span class="ff4f">(array)</span> casting syntax. If we were </div><div class="t m0 x8 h3c yde0 ff46 fsa fc2 sc0 ls0 ws0">to run the command <span class="ff4f">assert((array)$object === $array);</span> at the end of that code </div><div class="t m0 x8 h12 yde1 ff46 fsa fc2 sc0 ls0 ws0">listing, the code would complete without errors because the assertion passes<span class="_ _1"></span>.</div><div class="t m0 x8 h26 yde2 ff46 fse fc2 sc0 ls0 ws0">Casting Objects to S<span class="_ _1"></span>tring</div><div class="t m0 x8 h3c yde3 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can define how your object will be cast to string by declaring the <span class="ff4f">__toString()</span> </div><div class="t m0 x8 h12 yde4 ff46 fsa fc2 sc0 ls0 ws0">method. PHP will call this method and return its r<span class="_ _1"></span>esult when it tries to cast your object to </div><div class="t m0 x8 h12 yde5 ff46 fsa fc2 sc0 ls0 ws0">a string.</div><div class="t m0 x8 h3c yde6 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yde7 ff4f fsa fc2 sc0 ls0 ws0">class User</div><div class="t m0 x8 h3c yde8 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c yde9 ff4f fsa fc2 sc0 ls0 ws0">    private $firstName = &apos;Example&apos;;</div><div class="t m0 x8 h3c ydea ff4f fsa fc2 sc0 ls0 ws0">    private $lastName = &apos;User&apos;;</div><div class="t m0 x8 h3c ydeb ff4f fsa fc2 sc0 ls0 ws0">    function __toString() {</div><div class="t m0 x8 h3c ydec ff4f fsa fc2 sc0 ls0 ws0">        return $this-&gt;firstName;</div><div class="t m0 x8 h3c yded ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c ydee ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c ydef ff4f fsa fc2 sc0 ls0 ws0">$user = new User;</div><div class="t m0 x8 h3c ydf0 ff4f fsa fc2 sc0 ls0 ws0">// &apos;echo&apos; expects a string type so PHP will implicitly cast the object to </div><div class="t m0 x8 h3c ydf1 ff4f fsa fc2 sc0 ls0 ws0">string</div><div class="t m0 x8 h3c ydf2 ff4f fsa fc2 sc0 ls0 ws0">echo $user; // Example</div><div class="t m0 x3 h12 ydf3 ff46 fsa fc2 sc0 ls0 ws0">This lets you build and format a string th<span class="_ _1"></span>at is meaningful for your object. If you do </div><div class="t m0 x8 h12 ydf4 ff46 fsa fc2 sc0 ls0 ws0">not declare this method on your object, then PHP will genera<span class="_ _1"></span>te a catchable fatal err<span class="_ _1"></span>or </div><div class="t m0 x8 h12 ydf5 ff46 fsa fc2 sc0 ls0 ws0">telling you that it c<span class="_ _1"></span>annot convert an object to a string.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8c" class="pf w2 h4" data-page-no="8c"><div class="pc pc8c w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls1f wsfb">121</div><div class="t m0 x3 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">Class Aliases</div><div class="t m0 x3 h3c y3c0 ff46 fsa fc2 sc0 ls0 ws0">PHP allows you to cr<span class="_ _1"></span>eate aliases for classes using the <span class="ff4f">class_alias()</span> function. This </div><div class="t m0 x3 h12 y44f ff46 fsa fc2 sc0 ls0 ws0">function accepts three parameters<span class="_ _1"></span>—the original class name, the alias to cr<span class="_ _1"></span>eate for it, and </div><div class="t m0 x3 h12 y46e ff46 fsa fc2 sc0 ls0 ws0">an optional Boolean value to indicate if the a<span class="_ _1"></span>utoloader must be called if the class is not </div><div class="t m0 x3 h12 y450 ff46 fsa fc2 sc0 ls0 ws0">found.</div><div class="t m0 x1a h12 y451 ff46 fsa fc2 sc0 ls0 ws0">At first blush<span class="_ _1"></span>, it may not be immediately appar<span class="_ _1"></span>ent what the use-case for aliasing a </div><div class="t m0 x3 h12 y46f ff46 fsa fc2 sc0 ls0 ws0">class might be<span class="_ _1"></span>. Their chief use-case is for conditionally importing namespaces.</div><div class="t m0 x1a h3c y452 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">use</span> keyword is pr<span class="_ _1"></span>ocessed at compile time and not run time. This means that it is </div><div class="t m0 x3 h3c y453 ff46 fsa fc2 sc0 ls0 ws0">impossible to use conditional logic to change which names<span class="_ _1"></span>paces to import. The <span class="ff4f">class_</span></div><div class="t m0 x3 h3c y454 ff4f fsa fc2 sc0 ls0 ws0">alias()<span class="ff46"> function lets you conditionally import namespaces<span class="_ _1"></span>.</span></div><div class="t m0 x1a h12 y470 ff46 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, you may w<span class="_ _1"></span>ant to swap which class to use to cache your da<span class="_ _1"></span>tabase </div><div class="t m0 x3 h12 y455 ff46 fsa fc2 sc0 ls0 ws0">depending on whether the memcached extension is a<span class="_ _1"></span>vailable. In the follo<span class="_ _1"></span>wing code, we </div><div class="t m0 x3 h3c y456 ff46 fsa fc2 sc0 ls0 ws0">would not be able to import alternative classes with the <span class="ff4f">use</span> keyword, but b<span class="_ _1"></span>y using class </div><div class="t m0 x3 h3c y457 ff46 fsa fc2 sc0 ls0 ws0">aliasing, we can change the class th<span class="_ _1"></span>at <span class="ff4f">cache</span> refers to<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y458 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y459 ff4f fsa fc2 sc0 ls0 ws0">if (extension_loaded(&apos;memcached&apos;)) {</div><div class="t m0 x3 h3c y45a ff4f fsa fc2 sc0 ls0 ws0">    class_alias(&apos;Memcached&apos;, &apos;Cache&apos;);</div><div class="t m0 x3 h3c y45b ff4f fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x3 h3c y45c ff4f fsa fc2 sc0 ls0 ws0">    class_alias(&apos;InternalCacheProvider&apos;, &apos;Cache&apos;);</div><div class="t m0 x3 h3c y49a ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y45d ff4f fsa fc2 sc0 ls0 ws0">class Database</div><div class="t m0 x3 h3c y45e ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c y45f ff4f fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>// The cache class is aliased to either Memcached or the </div><div class="t m0 x1a h3c y460 ff4f fsa fc2 sc0 ls0 ws0">InternalCacheProvider</div><div class="t m0 x3 h3c y461 ff4f fsa fc2 sc0 ls0 ws0">    public function __construct(Cache $cache) {}</div><div class="t m0 x3 h3c y462 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h19 ydf6 ff4e fsd fc2 sc0 ls0 ws0">Constructors and Destructors</div><div class="t m0 x3 h12 ydf7 ff46 fsa fc2 sc0 ls0 ws0">A <span class="ff52">constructor</span> is a method that is run when an object is instantiated from a c<span class="_ _1"></span>lass. Similarly, </div><div class="t m0 x3 h12 ydf8 ff46 fsa fc2 sc0 ls0 ws0">a <span class="ff52">destructor</span> is made when the object is being unloaded.</div><div class="t m0 x1a h12 ydf9 ff46 fsa fc2 sc0 ls0 ws0">They are declar<span class="_ _1"></span>ed as in this example:</div><div class="t m0 x3 h3c ydfa ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ydfb ff4f fsa fc2 sc0 ls0 ws0">class constructorExample</div><div class="t m0 x3 h3c ydfc ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ydfd ff4f fsa fc2 sc0 ls0 ws0">  // called when instantiated</div><div class="t m0 x3 h3c ydfe ff4f fsa fc2 sc0 ls0 ws0">  public function __construct() {</div><div class="t m0 x3 h3c ydff ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x3 h3c ye00 ff4f fsa fc2 sc0 ls0 ws0">  // called when unloaded</div><div class="t m0 x3 h3c ye01 ff4f fsa fc2 sc0 ls0 ws0">  public function __destruct() {</div><div class="t m0 x3 h3c ye02 ff4f fsa fc2 sc0 ls0 ws0">  }</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8d" class="pf w2 h4" data-page-no="8d"><div class="pc pc8d w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">122</div><div class="t m0 x8 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">  // PHP4 style constructor - deprecated in PHP7</div><div class="t m0 x8 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">  public function constructorExample() {</div><div class="t m0 x8 h3c y2ac ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x8 h3c y3e5 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h26 ye03 ff46 fse fc2 sc0 ls0 ws0">Constructor Precedence</div><div class="t m0 x8 h12 ye04 ff46 fsa fc2 sc0 ls0 ws0">In PHP 4, constructor methods were identified b<span class="_ _1"></span>y having the same n<span class="_ _1"></span>ame as the class they </div><div class="t m0 x8 h12 ye05 ff46 fsa fc2 sc0 ls0 ws0">were defined in. This form of constructor is deprecated in PHP 7.</div><div class="t m0 x8 h3c ye06 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c ye07 ff4f fsa fc2 sc0 ls0 ws0">class constructorExample</div><div class="t m0 x8 h3c ye08 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c ye09 ff4f fsa fc2 sc0 ls0 ws0">  // PHP4 style constructor - deprecated in PHP7</div><div class="t m0 x8 h3c ye0a ff4f fsa fc2 sc0 ls0 ws0">  public function constructorExample() {</div><div class="t m0 x8 h3c ye0b ff4f fsa fc2 sc0 ls0 ws0">    echo &quot;Constructed!&quot;;</div><div class="t m0 x8 h3c ye0c ff4f fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x8 h3c ye0d ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c ye0e ff4f fsa fc2 sc0 ls0 ws0">$test = new constructorExample;</div><div class="t m0 x3 h12 ye0f ff46 fsa fc2 sc0 ls0 ws0">For bac<span class="_ _1"></span>kward com<span class="_ _1"></span>patibility, PHP 7 will search for a function with the same name as </div><div class="t m0 x8 h3c ye10 ff46 fsa fc2 sc0 ls0 ws0">the class if it cannot find a <span class="ff4f">__construct()</span> function. This functionality is depr<span class="_ _1"></span>ecated in </div><div class="t m0 x8 h12 ye11 ff46 fsa fc2 sc0 ls0 ws0">PHP 7 and will be removed in futur<span class="_ _1"></span>e PHP versions.</div><div class="t m0 x3 h12 ye12 ff46 fsa fc2 sc0 ls0 ws0">If we construct an object from this class, we don’t r<span class="_ _1"></span>eceive a deprecation warning<span class="_ _1"></span>. </div><div class="t m0 x8 h12 ye13 ff46 fsa fc2 sc0 ls0 ws0">Why not? PHP 7.1 looks for a modern style constructor first, and if it is pr<span class="_ _1"></span>esent, it will call </div><div class="t m0 x8 h12 ye14 ff46 fsa fc2 sc0 ls0 ws0">it. If there is no modern constructor<span class="_ _11"></span>, PHP 7.1 w<span class="_ _0"></span>ill look for a depr<span class="_ _1"></span>ecated constructor and if </div><div class="t m0 x8 h12 ye15 ff46 fsa fc2 sc0 ls0 ws0">it is present it will generat<span class="_ _1"></span>e a warning and call it.</div><div class="t m0 x8 h26 ye16 ff46 fse fc2 sc0 ls0 ws0">Constructor P<span class="_ _1"></span>arameters</div><div class="t m0 x8 h12 ye17 ff46 fsa fc2 sc0 ls0 ws0">If a class constructor takes a parameter<span class="_ _11"></span>, you need to pass it in when instantiating an </div><div class="t m0 x8 h12 ye18 ff46 fsa fc2 sc0 ls0 ws0">instance of the class.</div><div class="t m0 x8 h3c ye19 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c ye1a ff4f fsa fc2 sc0 ls0 ws0">class User {</div><div class="t m0 x8 h3c ye1b ff4f fsa fc2 sc0 ls0 ws0">  public function __construct($name) {</div><div class="t m0 x8 h3c ye1c ff4f fsa fc2 sc0 ls0 ws0">        $this-&gt;name = $name;</div><div class="t m0 x8 h3c ye1d ff4f fsa fc2 sc0 ls0 ws0">        }</div><div class="t m0 x8 h3c ye1e ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c ye1f ff4f fsa fc2 sc0 ls0 ws0">$user = new User(&apos;Alice&apos;);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8e" class="pf w2 h4" data-page-no="8e"><div class="pc pc8e w2 h4"><img class="bi x3 y175 w5 h6f" alt="" src="bg8e.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x15 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">123</div><div class="t m0 x1a h3c y2a8 ff46 fsa fc2 sc0 ls0 ws0">Here we ar<span class="_ _1"></span>e passing string <span class="ff4f">&quot;Alice&quot;</span> to the constructor function. A practical example </div><div class="t m0 x3 h12 y2a9 ff46 fsa fc2 sc0 ls0 ws0">of this would be for dependency injection.</div><div class="t m0 x7a h15 ye20 ff46 fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x3 h19 ye21 ff4e fsd fc2 sc0 ls0 ws0">Inheritance</div><div class="t m0 x3 h12 ye22 ff46 fsa fc2 sc0 ls0 ws0">PHP supports inheritance in its object model. If you extend a class then the child class </div><div class="t m0 x3 h12 ye23 ff46 fsa fc2 sc0 ls0 ws0">will inherit all of the non-private pr<span class="_ _1"></span>operties and methods of the parent class. I<span class="_ _1"></span>n other </div><div class="t m0 x3 h12 ye24 ff46 fsa fc2 sc0 ls0 ws0">words<span class="_ _1"></span>, the child will have the public and pr<span class="_ _1"></span>otected elements of the parent class<span class="_ _1"></span>. Y<span class="_ _1"></span>ou c<span class="_ _1"></span>an </div><div class="t m0 x3 h12 ye25 ff46 fsa fc2 sc0 ls0 ws0">override them in the child class, b<span class="_ _1"></span>ut they will other<span class="_ _0"></span>wise have the same function<span class="_ _1"></span>ality.</div><div class="t m0 x1a h12 ye26 ff46 fsa fc2 sc0 ls0 ws0">PHP does not support inheriting from more than one c<span class="_ _1"></span>lass at a time.</div><div class="t m0 x1a h12 ye27 ff46 fsa fc2 sc0 ls0 ws0">The syntax to cause a class to inherit is very simple. When declaring the class<span class="_ _1"></span>, we </div><div class="t m0 x3 h12 ye28 ff46 fsa fc2 sc0 ls0 ws0">simply indicate the name of the cl<span class="_ _1"></span>ass it is extending, as in this example:</div><div class="t m0 x3 h3c ye29 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ye2a ff4f fsa fc2 sc0 ls0 ws0">class ParentClass</div><div class="t m0 x3 h3c ye2b ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ye2c ff4f fsa fc2 sc0 ls0 ws0">    public function sayHello() {</div><div class="t m0 x3 h3c ye2d ff4f fsa fc2 sc0 ls0 ws0">        echo __CLASS__;</div><div class="t m0 x3 h3c ye2e ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c ye2f ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c ye30 ff4f fsa fc2 sc0 ls0 ws0">class ChildClass extends ParentClass</div><div class="t m0 x3 h3c ye31 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ye32 ff4f fsa fc2 sc0 ls0 ws0">    // nothing in this class</div><div class="t m0 x3 h3c ye33 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c ye34 ff4f fsa fc2 sc0 ls0 ws0">$kid = new ChildClass;</div><div class="t m0 x3 h3c ye35 ff4f fsa fc2 sc0 ls0 ws0">$kid-&gt;sayHello(); // ParentClass</div><div class="t m0 x1a h3c ye36 ff46 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, the <span class="ff4f">ChildClass</span> is declared as extending the <span class="ff4f">ParentClass</span>. It inherits </div><div class="t m0 x3 h3c ye37 ff46 fsa fc2 sc0 ls0 ws0">the <span class="ff4f">sayHello()</span> method.</div><div class="t m0 x1a h3c ye38 ff46 fsa fc2 sc0 ls0 ws0">If we were to define a <span class="ff4f">GrandChildClass</span> that inherits fr<span class="_ _1"></span>om the <span class="ff4f">ChildClass</span> then it too </div><div class="t m0 x3 h3c ye39 ff46 fsa fc2 sc0 ls0 ws0">would inherit all the <span class="ff4f">ParentClass</span> methods. In fact, an<span class="_ _1"></span>y class in an inheritance chain will </div><div class="t m0 x3 h12 ye3a ff46 fsa fc2 sc0 ls0 ws0">inherit all the methods and properties of its ancestors.</div><div class="t m0 x23 h10 ye3b ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Note<span class="ff4b"> <span class="_ _2c"> </span> <span class="_ _1"></span>The magic constant <span class="ff4f fsa">__CLASS__</span> gives the name of the class that is currently </span></span></span></div><div class="t m0 x3 h10 ye3c ff4b fs6 fc2 sc0 ls0 ws0">being executed.<span class="_ _1"></span> <span class="_ _1"></span>We’re calling the inherited method in the child c<span class="_ _1"></span>lass,<span class="_ _1"></span> but it is executing the </div><div class="t m0 x3 h10 ye3d ff4b fs6 fc2 sc0 ls0 ws0">function in the parent class and so reporting that the c<span class="_ _1"></span>lass name is <span class="ff4f fsa">ParentClass</span>.</div><div class="t m0 x3 h16 y2f4 ff51 fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x1d h43 y2f5 ff4f fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Dependency_injection</div><a class="l" href="#pf8e" data-dest-detail='[142,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:218.778000px;bottom:578.181000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Dependency_injection"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.828300px;width:212.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8f" class="pf w2 h4" data-page-no="8f"><div class="pc pc8f w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">12<span class="_ _0"></span>4</div><div class="t m0 x8 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">The final K<span class="_ _1"></span>eyword</div><div class="t m0 x8 h3c y3c0 ff46 fsa fc2 sc0 ls0 ws0">PHP 5 introduced the <span class="ff4f">final</span> keywor<span class="_ _1"></span>d. Y<span class="_ _1"></span>ou can a<span class="_ _1"></span>pply it either to a whole class, or to </div><div class="t m0 x8 h3c y44f ff46 fsa fc2 sc0 ls0 ws0">specific methods within a class. The effect of the <span class="ff4f">final</span> keyword is to pr<span class="_ _1"></span>event classes from </div><div class="t m0 x8 h12 y46e ff46 fsa fc2 sc0 ls0 ws0">being extended or methods from being o<span class="_ _1"></span>verridden. The visibility of all final properties </div><div class="t m0 x8 h12 y450 ff46 fsa fc2 sc0 ls0 ws0">and methods is public.</div><div class="t m0 x3 h12 y451 ff46 fsa fc2 sc0 ls0 ws0">Mar<span class="_ _1"></span>king classes or functions as final helps you a<span class="_ _1"></span>void mistakenly changing beha<span class="_ _1"></span>vior </div><div class="t m0 x8 h12 y46f ff46 fsa fc2 sc0 ls0 ws0">when you extend a class<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y452 ff46 fsa fc2 sc0 ls0 ws0">PHP will issue a fatal error if you try to override a final method in a child class or if </div><div class="t m0 x8 h12 y453 ff46 fsa fc2 sc0 ls0 ws0">you try to declare a class that extends a cl<span class="_ _1"></span>ass that is marked fin<span class="_ _1"></span>al.</div><div class="t m0 x3 h3c y454 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou mark a class or method as final by using the <span class="ff4f">final</span> keywor<span class="_ _1"></span>d in front of its </div><div class="t m0 x8 h12 y470 ff46 fsa fc2 sc0 ls0 ws0">definition, like this example where I<span class="_ _1"></span>’m marking the function as final:</div><div class="t m0 x8 h3c y456 ff4f fsa fc2 sc0 ls0 ws0">class Employee</div><div class="t m0 x8 h3c y457 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y499 ff4f fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>final public function calculateWage(float $hourlyRate, int </div><div class="t m0 x3 h3c y458 ff4f fsa fc2 sc0 ls0 ws0">$numHoursWorked)</div><div class="t m0 x8 h3c y459 ff4f fsa fc2 sc0 ls0 ws0">    {</div><div class="t m0 x8 h3c y45a ff4f fsa fc2 sc0 ls0 ws0">        return $hourlyRate * $numHoursWorked;</div><div class="t m0 x8 h3c y45b ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y45c ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y45d ff46 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at another example tha<span class="_ _1"></span>t shows the error produced and highligh<span class="_ _1"></span>ts the </div><div class="t m0 x8 h12 y45e ff46 fsa fc2 sc0 ls0 ws0">usefulness of the keyword.</div><div class="t m0 x3 h3c y45f ff46 fsa fc2 sc0 ls0 ws0">The code listing in the following example does not ha<span class="_ _1"></span>ve any uses of the <span class="ff4f">final</span> </div><div class="t m0 x8 h12 y460 ff46 fsa fc2 sc0 ls0 ws0">keyword and so will run without error and calculate a ra<span class="_ _1"></span>ther generous wage packet for the </div><div class="t m0 x8 h12 y461 ff46 fsa fc2 sc0 ls0 ws0">employee<span class="_ _1"></span>. I’ve commen<span class="_ _1"></span>ted two lines to show the error that will be thrown if we mar<span class="_ _1"></span>k the </div><div class="t m0 x8 h12 y462 ff46 fsa fc2 sc0 ls0 ws0">class or method as final, respectively.</div><div class="t m0 x8 h3c y49b ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y464 ff4f fsa fc2 sc0 ls0 ws0">// Fatal error: Class Oops may not inherit from final class (Employee)</div><div class="t m0 x8 h3c y465 ff4f fsa fc2 sc0 ls0 ws0">final class Employee</div><div class="t m0 x8 h3c y466 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y467 ff4f fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>\final public function calculateWage(float $hourlyRate, int </div><div class="t m0 x3 h3c y468 ff4f fsa fc2 sc0 ls0 ws0">$numHoursWorked)</div><div class="t m0 x8 h3c y469 ff4f fsa fc2 sc0 ls0 ws0">    {</div><div class="t m0 x8 h3c y46a ff4f fsa fc2 sc0 ls0 ws0">        return $hourlyRate * $numHoursWorked;</div><div class="t m0 x8 h3c y46b ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y46c ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y49c ff4f fsa fc2 sc0 ls0 ws0">// Fatal error: Class CannotExtendFinalClass may not inherit from final </div><div class="t m0 x8 h3c y49d ff4f fsa fc2 sc0 ls0 ws0">class (Employee)</div><div class="t m0 x8 h3c ye3e ff4f fsa fc2 sc0 ls0 ws0">class Oops extends Employee {</div><div class="t m0 x8 h3c y49e ff4f fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>// Fatal error: Cannot override final method Employee::calculateWage() </div><div class="t m0 x3 h3c y49f ff4f fsa fc2 sc0 ls0 ws0">in /in/afkAJ on line 17</div><div class="t m0 x8 h3c y4a0 ff4f fsa fc2 sc0 ls0 ws0">    public function calculateWage(float $hourlyRate, int $numHoursWorked) {</div><div class="t m0 x8 h3c y4a1 ff4f fsa fc2 sc0 ls0 ws0">        if ($this-&gt;employeeName === &apos;Andrew&apos;) {</div><div class="t m0 x8 h3c y4a2 ff4f fsa fc2 sc0 ls0 ws0">            return 1000000;</div><div class="t m0 x8 h3c y4a3 ff4f fsa fc2 sc0 ls0 ws0">        }</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf90" class="pf w2 h4" data-page-no="90"><div class="pc pc90 w2 h4"><img class="bi x3 ye3f w5 h32" alt="" src="bg90.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">125</div><div class="t m0 x3 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">        return $hourlyRate * $numHoursWorked;</div><div class="t m0 x3 h3c y3e3 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y2ab ff4f fsa fc2 sc0 ls0 ws0">$oops = new Oops;</div><div class="t m0 x3 h3c y2ac ff4f fsa fc2 sc0 ls0 ws0">$oops-&gt;employeeName = &apos;Andrew&apos;;</div><div class="t m0 x3 h3c y3e4 ff4f fsa fc2 sc0 ls0 ws0">echo $oops-&gt;calculateWage(10.00, 50);</div><div class="t m0 x23 h10 yc0e ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Note<span class="ff4b"> <span class="_ _2c"> </span> <span class="_ _1"></span>This is somewhat different from the use of final in Java, the PHP equivalent of the </span></span></span></div><div class="t m0 x3 h10 ye40 ff4b fs6 fc2 sc0 ls0 ws0">Java final keyword is <span class="ff4f fsa">const</span>.</div><div class="t m0 x3 h26 ye41 ff46 fse fc2 sc0 ls0 ws0">Overriding</div><div class="t m0 x3 h12 ydde ff46 fsa fc2 sc0 ls0 ws0">A child class may declar<span class="_ _1"></span>e a method with the same name as the parent class<span class="_ _1"></span>, pro<span class="_ _1"></span>viding </div><div class="t m0 x3 h12 ye42 ff46 fsa fc2 sc0 ls0 ws0">that the method is not mar<span class="_ _1"></span>ked final in the parent.</div><div class="t m0 x1a h12 ye43 ff46 fsa fc2 sc0 ls0 ws0">The method parameter signa<span class="_ _1"></span>ture in the child must be like the par<span class="_ _1"></span>ent<span class="_ _0"></span>; for example, </div><div class="t m0 x3 h12 ye44 ff46 fsa fc2 sc0 ls0 ws0">the following code will generate a warning tha<span class="_ _1"></span>t the child declaration needs to be </div><div class="t m0 x3 h12 ye45 ff46 fsa fc2 sc0 ls0 ws0">compatible with the paren<span class="_ _1"></span>t<span class="_ _0"></span>:</div><div class="t m0 x3 h3c ye46 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ye47 ff4f fsa fc2 sc0 ls0 ws0">class Employee</div><div class="t m0 x3 h3c ye48 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ye49 ff4f fsa fc2 sc0 ls0 ws0">    public function calculateWage(float $hourlyRate, int $numHoursWorked)</div><div class="t m0 x3 h3c ye4a ff4f fsa fc2 sc0 ls0 ws0">    {</div><div class="t m0 x3 h3c ye4b ff4f fsa fc2 sc0 ls0 ws0">        return $hourlyRate * $numHoursWorked;</div><div class="t m0 x3 h3c ye4c ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c ye4d ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c ye4e ff4f fsa fc2 sc0 ls0 ws0">class Oops extends Employee {</div><div class="t m0 x3 h3c ye4f ff4f fsa fc2 sc0 ls0 ws0">    public function calculateWage(int $hourlyRate, int $numHoursWorked) {</div><div class="t m0 x3 h3c ye50 ff4f fsa fc2 sc0 ls0 ws0">        return $hourlyRate * $numHoursWorked;</div><div class="t m0 x3 h3c ye51 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c ye52 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 ye53 ff46 fsa fc2 sc0 ls0 ws0">If a function is overridden like this and called on the child, then the paren<span class="_ _1"></span>t’<span class="_ _1"></span>s class will </div><div class="t m0 x3 h12 ye54 ff46 fsa fc2 sc0 ls0 ws0">not be called.</div><div class="t m0 x1a h12 ye55 ff46 fsa fc2 sc0 ls0 ws0">This applies to constructors and destructors, but in these cases<span class="_ _1"></span>, this is quite often </div><div class="t m0 x3 h12 ye56 ff46 fsa fc2 sc0 ls0 ws0">worked around lik<span class="_ _1"></span>e this<span class="_ _0"></span>:</div><div class="t m0 x3 h3c ye57 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ye58 ff4f fsa fc2 sc0 ls0 ws0">class ChildClass extends ParentClass</div><div class="t m0 x3 h3c ye59 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ye5a ff4f fsa fc2 sc0 ls0 ws0">    public function __construct() {</div><div class="t m0 x3 h3c ye5b ff4f fsa fc2 sc0 ls0 ws0">        parent::__construct();</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf91" class="pf w2 h4" data-page-no="91"><div class="pc pc91 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">126</div><div class="t m0 x8 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">        // more constructor functions here</div><div class="t m0 x8 h3c y3e3 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y2ac ff46 fsa fc2 sc0 ls0 ws0">The call to <span class="ff4f">parent::__construct()</span> will call the constructor method of the parent </div><div class="t m0 x8 h12 y3e4 ff46 fsa fc2 sc0 ls0 ws0">class. When contr<span class="_ _1"></span>ol flow returns to the c<span class="_ _1"></span>hild, the remaining functions in its constructor </div><div class="t m0 x8 h12 y3e5 ff46 fsa fc2 sc0 ls0 ws0">will be called.</div><div class="t m0 x3 h12 y425 ff46 fsa fc2 sc0 ls0 ws0">If a child overrides a method from a par<span class="_ _1"></span>ent class then the child’<span class="_ _2"></span>s class cannot ha<span class="_ _1"></span>ve a </div><div class="t m0 x8 h12 y3e6 ff46 fsa fc2 sc0 ls0 ws0">lower visibility than the paren<span class="_ _1"></span>t class.</div><div class="t m0 x3 h12 y426 ff46 fsa fc2 sc0 ls0 ws0">In other words<span class="_ _1"></span>, if the parent’<span class="_ _2"></span>s method is public then the child cannot override the </div><div class="t m0 x8 h12 y3e7 ff46 fsa fc2 sc0 ls0 ws0">method as being protected or private<span class="_ _1"></span>.</div><div class="t m0 x8 h19 ye5c ff4e fsd fc2 sc0 ls0 ws0">Interfaces</div><div class="t m0 x8 h12 ye5d ff46 fsa fc2 sc0 ls0 ws0">Interfaces allow you to s<span class="_ _1"></span>pecify what methods a class must implement without specifying </div><div class="t m0 x8 h12 ye5e ff46 fsa fc2 sc0 ls0 ws0">the details of the implementation.</div><div class="t m0 x3 h12 ye5f ff46 fsa fc2 sc0 ls0 ws0">They are commonly used to define a contr<span class="_ _1"></span>act in the ser<span class="_ _0"></span>vice-oriented architectur<span class="_ _1"></span>e </div><div class="t m0 x8 h12 ye60 ff46 fsa fc2 sc0 ls0 ws0">paradigm, b<span class="_ _1"></span>ut can also be used whenever you want to stipulate how fut<span class="_ _1"></span>ure classes are </div><div class="t m0 x8 h12 ye61 ff46 fsa fc2 sc0 ls0 ws0">expected to interact with your code.</div><div class="t m0 x3 h12 ye62 ff46 fsa fc2 sc0 ls0 ws0">All methods in an interface must be declared as public and m<span class="_ _1"></span>ay not have an<span class="_ _1"></span>y </div><div class="t m0 x8 h12 ye63 ff46 fsa fc2 sc0 ls0 ws0">implementation themselves<span class="_ _1"></span>.</div><div class="t m0 x3 h12 ye64 ff46 fsa fc2 sc0 ls0 ws0">Interfaces cannot ha<span class="_ _1"></span>ve properties, b<span class="_ _1"></span>ut they can have constan<span class="_ _1"></span>ts.</div><div class="t m0 x3 h12 ye65 ff46 fsa fc2 sc0 ls0 ws0">Interfaces are declar<span class="_ _1"></span>ed as in this example:</div><div class="t m0 x8 h3c ye66 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c ye67 ff4f fsa fc2 sc0 ls0 ws0">interface PaymentProvider</div><div class="t m0 x8 h3c ye68 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c ye69 ff4f fsa fc2 sc0 ls0 ws0">    public function showPaymentPage();</div><div class="t m0 x8 h3c ye6a ff4f fsa fc2 sc0 ls0 ws0">    public function contactGateway(array $messageParameters);</div><div class="t m0 x8 h3c ye6b ff4f fsa fc2 sc0 ls0 ws0">    public function notify(string $email);</div><div class="t m0 x8 h3c ye6c ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 ye6d ff46 fsa fc2 sc0 ls0 ws0">A class would be declared as implementin<span class="_ _1"></span>g it like this<span class="_ _0"></span>:</div><div class="t m0 x8 h3c ye6e ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c ye6f ff4f fsa fc2 sc0 ls0 ws0">class CreditCard implements PaymentProvider</div><div class="t m0 x8 h3c ye70 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c ye71 ff4f fsa fc2 sc0 ls0 ws0">    public function showPaymentPage() {</div><div class="t m0 x8 h3c ye72 ff4f fsa fc2 sc0 ls0 ws0">        // implementation</div><div class="t m0 x8 h3c ye73 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c ye74 ff4f fsa fc2 sc0 ls0 ws0">    public function contactGateway() {</div><div class="t m0 x8 h3c ye75 ff4f fsa fc2 sc0 ls0 ws0">        // implementation</div><div class="t m0 x8 h3c ye76 ff4f fsa fc2 sc0 ls0 ws0">    }</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf92" class="pf w2 h4" data-page-no="92"><div class="pc pc92 w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">127</div><div class="t m0 x3 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">    public function notify(string $email) {</div><div class="t m0 x3 h3c y3e3 ff4f fsa fc2 sc0 ls0 ws0">        // implementation</div><div class="t m0 x3 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y2ab ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 y3e4 ff46 fsa fc2 sc0 ls0 ws0">Classes may implement mor<span class="_ _1"></span>e than one interface at a time by listin<span class="_ _1"></span>g the names of the </div><div class="t m0 x3 h12 y3e5 ff46 fsa fc2 sc0 ls0 ws0">interfaces separated by comm<span class="_ _1"></span>as.</div><div class="t m0 x1a h12 y425 ff46 fsa fc2 sc0 ls0 ws0">Classes may inherit from only one class b<span class="_ _1"></span>ut may implement man<span class="_ _1"></span>y interfaces.</div><div class="t m0 x3 h19 ye77 ff4e fsd fc2 sc0 ls0 ws0">Abstract Classes</div><div class="t m0 x3 h12 ye78 ff46 fsa fc2 sc0 ls0 ws0">PHP supports abstract classes<span class="_ _1"></span>, which are classes that contain one or mor<span class="_ _1"></span>e abstract </div><div class="t m0 x3 h3c ye79 ff46 fsa fc2 sc0 ls0 ws0">methods. An <span class="ff4f">abstract</span> method is a method that h<span class="_ _1"></span>as been declared but not implemented.</div><div class="t m0 x1a h3c ye7a ff46 fsa fc2 sc0 ls0 ws0">In the following example of an <span class="ff4f">abstract</span> class<span class="_ _1"></span>, the function </div><div class="t m0 x3 h3c ye7b ff4f fsa fc2 sc0 ls0 ws0">girlDescendingStairs()<span class="ff46"> is an abstract method. I<span class="_ _1"></span>t is defined using the <span class="ff4f">abstract</span> keyword </span></div><div class="t m0 x3 h12 ye7c ff46 fsa fc2 sc0 ls0 ws0">and does not have an<span class="_ _1"></span>y implementation. Notice th<span class="_ _1"></span>at there is no code block for the </div><div class="t m0 x3 h3c ye7d ff4f fsa fc2 sc0 ls0 ws0">abstract<span class="ff46"> method.</span></div><div class="t m0 x3 h3c ye7e ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c ye7f ff4f fsa fc2 sc0 ls0 ws0">abstract class Paintings</div><div class="t m0 x3 h3c ye80 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ye81 ff4f fsa fc2 sc0 ls0 ws0">    abstract protected function girlDescendingStairs();</div><div class="t m0 x3 h3c ye82 ff4f fsa fc2 sc0 ls0 ws0">    protected function persistenceOfMemory() {</div><div class="t m0 x3 h3c ye83 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot; I have an implementation so this is not an abstract method &quot;;</div><div class="t m0 x3 h3c ye84 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c ye85 ff4f fsa fc2 sc0 ls0 ws0">    public function __construct() {</div><div class="t m0 x3 h3c ye86 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;I cannot be constructed!&quot;;</div><div class="t m0 x3 h3c ye87 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c ye88 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h3c ye89 ff46 fsa fc2 sc0 ls0 ws0">An <span class="ff4f">abstract</span> class cannot be constructed; we cannot create a new object fr<span class="_ _1"></span>om the </div><div class="t m0 x3 h3c ye8a ff46 fsa fc2 sc0 ls11 wse8">class <span class="ff4f ls0 ws0">Paintings<span class="ff46">.</span></span></div><div class="t m0 x1a h3c ye8b ff46 fsa fc2 sc0 ls0 ws0">Abstract clas<span class="_ _1"></span>ses are intended to be extended. A class that ex<span class="_ _1"></span>tends an <span class="ff4f">abstract</span><span class="ls11 wse8"> class </span></div><div class="t m0 x3 h12 ye8c ff46 fsa fc2 sc0 ls0 ws0">must define all the methods that ar<span class="_ _1"></span>e marked abstr<span class="_ _1"></span>act in the parent class<span class="_ _1"></span>. If the child class </div><div class="t m0 x3 h12 ye8d ff46 fsa fc2 sc0 ls0 ws0">does not implement the methods, they mus<span class="_ _1"></span>t also be marked as abstract, and so the child </div><div class="t m0 x3 h12 ye8e ff46 fsa fc2 sc0 ls0 ws0">class will also be abstract.</div><div class="t m0 x1a h3c ye8f ff46 fsa fc2 sc0 ls0 ws0">When a child class extends an <span class="ff4f">abstract</span> class<span class="_ _1"></span>, it must define the abstract methods </div><div class="t m0 x3 h12 ye90 ff46 fsa fc2 sc0 ls0 ws0">with either the same or a less restrictive visibility.</div><div class="t m0 x1a h12 ye91 ff46 fsa fc2 sc0 ls0 ws0">The signatur<span class="_ _1"></span>e of the methods declared in the child class must m<span class="_ _1"></span>atch the abstract </div><div class="t m0 x3 h12 ye92 ff46 fsa fc2 sc0 ls0 ws0">method’<span class="_ _2"></span>s signature<span class="_ _1"></span>. This means that the num<span class="_ _1"></span>ber and type of required (not optional) </div><div class="t m0 x3 h12 ye93 ff46 fsa fc2 sc0 ls0 ws0">arguments to the method must be the same<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf93" class="pf w2 h4" data-page-no="93"><div class="pc pc93 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">12<span class="_ _0"></span>8</div><div class="t m0 x3 h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">Private methods cannot be mark<span class="_ _1"></span>ed as abstract. Let’<span class="_ _1"></span>s look at ho<span class="_ _1"></span>w we can extend the </div><div class="t m0 x8 h12 y1b9 ff46 fsa fc2 sc0 ls0 ws0">abstract class:</div><div class="t m0 x8 h3c y1bb ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bc ff4f fsa fc2 sc0 ls0 ws0">abstract class Paintings</div><div class="t m0 x8 h3c y1bd ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y1be ff4f fsa fc2 sc0 ls0 ws0">    abstract protected function girlDescendingStairs();</div><div class="t m0 x8 h3c y1bf ff4f fsa fc2 sc0 ls0 ws0">    protected function persistenceOfMemory() {</div><div class="t m0 x8 h3c y1c0 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;I have an implementation so this is not an abstract method&quot;;</div><div class="t m0 x8 h3c y1c1 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c2 ff4f fsa fc2 sc0 ls0 ws0">    public function __construct() {</div><div class="t m0 x8 h3c y1c3 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;I am being constructed!&quot;;</div><div class="t m0 x8 h3c y1c4 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c5 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1c6 ff4f fsa fc2 sc0 ls0 ws0">class Foo extends Paintings {</div><div class="t m0 x8 h3c y1c7 ff4f fsa fc2 sc0 ls0 ws0">    public function girlDescendingStairs() { echo &quot;Whee!&quot;; }</div><div class="t m0 x8 h3c y1c8 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y733 ff4f fsa fc2 sc0 ls0 ws0">$foo = new Foo;  // I cannot be constructed!</div><div class="t m0 x8 h3c y734 ff4f fsa fc2 sc0 ls0 ws0">$foo-&gt;girlDescendingStairs();  // Whee!</div><div class="t m0 x3 h3c y735 ff46 fsa fc2 sc0 ls0 ws0">I define a new class which I’<span class="_ _1"></span>ve imaginatively c<span class="_ _1"></span>alled <span class="ff4f">Foo</span> that extends the abstract </div><div class="t m0 x8 h3c y736 ff46 fsa fc2 sc0 ls0 ws0">class. I<span class="_ _1"></span>’ve implemented the abs<span class="_ _1"></span>tract method <span class="ff4f">girlDescendingStairs</span>&quot; and I’v<span class="_ _1"></span>e changed </div><div class="t m0 x8 h3c y737 ff46 fsa fc2 sc0 ls0 ws0">the visibility from <span class="ff4f">protected</span> to the less r<span class="_ _1"></span>estricted scope, <span class="ff4f">public</span>. I haven’t o<span class="_ _1"></span>verwr<span class="_ _0"></span>itten the </div><div class="t m0 x8 h12 y738 ff46 fsa fc2 sc0 ls0 ws0">non-abstract methods tha<span class="_ _1"></span>t the abstract class defined.</div><div class="t m0 x3 h3c y739 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">Foo</span> class has no abstr<span class="_ _1"></span>act methods and so I can construct an object from it. </div><div class="t m0 x8 h3c y73a ff46 fsa fc2 sc0 ls0 wsf0">Notice tha<span class="_ _1"></span>t when I do so, the par<span class="_ _1"></span>ent’<span class="_ _2"></span>s constr<span class="_ _0"></span>uctor is called and so <span class="ff4f ws0">Foo</span> wr<span class="_ _1"></span>ongly reports that </div><div class="t m0 x8 h12 y73b ff46 fsa fc2 sc0 ls0 ws0">it cannot be constructed.</div><div class="t m0 x8 h19 ye94 ff4e fsd fc2 sc0 ls0 ws0">Anonymous Classes</div><div class="t m0 x8 h12 y91f ff46 fsa fc2 sc0 ls0 ws0">PHP 7 introduced anonymous c<span class="_ _1"></span>lasses, which allow you to define a class on the fly and </div><div class="t m0 x8 h12 y920 ff46 fsa fc2 sc0 ls0 ws0">instantiate an object fr<span class="_ _1"></span>om it. Here<span class="_ _1"></span>’<span class="_ _2"></span>s a simple example of using an anonymous class<span class="_ _0"></span>:</div><div class="t m0 x8 h3c y921 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y922 ff4f fsa fc2 sc0 ls0 ws0">$object = new class(&apos;argument&apos;) {</div><div class="t m0 x8 h3c y923 ff4f fsa fc2 sc0 ls0 ws0">    public function __construct(string $message) {</div><div class="t m0 x8 h3c y924 ff4f fsa fc2 sc0 ls0 ws0">        echo $message;</div><div class="t m0 x8 h3c ye95 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y925 ff4f fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x3 h12 y927 ff46 fsa fc2 sc0 ls0 ws0">Notice how we define the class inline and th<span class="_ _1"></span>at it’<span class="_ _1"></span>s possible to pass in ar<span class="_ _1"></span>guments </div><div class="t m0 x8 h12 ye96 ff46 fsa fc2 sc0 ls0 ws0">using similar syntax as when cr<span class="_ _1"></span>eating an object from a named class<span class="_ _1"></span>. This code will output </div><div class="t m0 x8 h3c ye97 ff46 fsa fc2 sc0 ls0 ws0">the string <span class="ff4f">&quot;argument&quot;</span> because the constructor is called and the string “<span class="_ _2"></span>argument” is </div><div class="t m0 x8 h12 ye98 ff46 fsa fc2 sc0 ls0 ws0">passed to it.</div><div class="t m0 x3 h12 ye99 ff46 fsa fc2 sc0 ls0 ws0">One use-case for anonymous objects is to extend a named class; for example, if you </div><div class="t m0 x8 h12 ye9a ff46 fsa fc2 sc0 ls0 ws0">want to ov<span class="_ _1"></span>erride a method or property. Rather than having to declar<span class="_ _1"></span>e a class in a separate </div><div class="t m0 x8 h12 ye9b ff46 fsa fc2 sc0 ls0 ws0">file, you c<span class="_ _1"></span>an create a once-off implementa<span class="_ _1"></span>tion inline.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf94" class="pf w2 h4" data-page-no="94"><div class="pc pc94 w2 h4"><img class="bi x3 y175 w5 h70" alt="" src="bg94.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls17 wsf3">129</div><div class="t m0 x3 h19 y24e ff4e fsd fc2 sc0 ls0 ws0">Reflection</div><div class="t m0 x3 h12 y24f ff46 fsa fc2 sc0 ls0 ws0">The PHP reflection API allows y<span class="_ _1"></span>ou the ability to inspect PHP elements at runtime and </div><div class="t m0 x3 h12 y337 ff46 fsa fc2 sc0 ls0 ws0">retrieve information about them<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y338 ff46 fsa fc2 sc0 ls0 ws0">The Reflection API was intr<span class="_ _1"></span>oduced with PHP 5.0 and since PHP 5.3 has been enabled </div><div class="t m0 x3 h12 y6f5 ff46 fsa fc2 sc0 ls0 ws0">by default.</div><div class="t m0 x1a h12 y517 ff46 fsa fc2 sc0 ls0 ws0">One of the common places that reflection is used is in unit testing. One example of </div><div class="t m0 x3 h12 y518 ff46 fsa fc2 sc0 ls0 ws0">where r<span class="_ _1"></span>eflection is useful is in testing the value of a private property in a class. Y<span class="_ _2"></span>ou can </div><div class="t m0 x3 h12 y6f6 ff46 fsa fc2 sc0 ls0 ws0">use reflection to make the private pr<span class="_ _1"></span>operty accessible and then make assertions.</div><div class="t m0 x1a h12 y6f7 ff46 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several reflection classes tha<span class="_ _1"></span>t allow you to inspect specific types of </div><div class="t m0 x3 h12 y6f8 ff46 fsa fc2 sc0 ls0 ws0">variables. Each of these classes is named for the type of variable yo<span class="_ _1"></span>u can use it to inspect.</div><div class="t m0 x3 h20 ye9c ff4a fs6 fc2 sc0 ls0 ws0">Class<span class="_ _a2"> </span>Used to Inspect</div><div class="t m0 x3 h3c ye9d ff4f fsa fc2 sc0 ls0 ws0">ReflectionClass<span class="_ _a3"> </span><span class="ff46">Classes</span></div><div class="t m0 x3 h3c ye9e ff4f fsa fc2 sc0 ls0 ws0">ReflectionObject<span class="_ _3c"> </span><span class="ff46">Objects</span></div><div class="t m0 x3 h3c ye9f ff4f fsa fc2 sc0 ls0 ws0">ReflectionMethod<span class="_ _3c"> </span><span class="ff46">Methods of objects</span></div><div class="t m0 x3 h3c yea0 ff4f fsa fc2 sc0 ls0 ws0">ReflectionFunction<span class="_ _81"> </span><span class="ff46">Functions like PHP cor<span class="_ _1"></span>e functions, or user functions</span></div><div class="t m0 x3 h3c yea1 ff4f fsa fc2 sc0 ls0 ws0">ReflectionProperty<span class="_ _81"> </span><span class="ff46">Properties</span></div><div class="t m0 x1a h12 yea2 ff46 fsa fc2 sc0 ls0 ws0">The PHP Man<span class="_ _1"></span>ual</div><div class="t m0 x34 h15 yea3 ff46 fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x7b h12 yea4 ff46 fsa fc2 sc0 ls0 ws0"> has exhaustive documen<span class="_ _1"></span>tation on reflection classes and their </div><div class="t m0 x3 h12 yea5 ff46 fsa fc2 sc0 ls0 ws0">methods.</div><div class="t m0 x1a h3c yea6 ff46 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s briefly look at an example of using <span class="ff4f">ReflectionClass</span>.</div><div class="t m0 x3 h3c yea7 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yea8 ff4f fsa fc2 sc0 ls0 ws0">$reflectionObject = new ReflectionClass(&apos;Exception&apos;);</div><div class="t m0 x3 h3c yea9 ff4f fsa fc2 sc0 ls0 ws0">print_r($reflectionObject-&gt;getMethods());</div><div class="t m0 x1a h12 yeaa ff46 fsa fc2 sc0 ls0 ws0">The parameter passed to the constructor of the reflection class is either the s<span class="_ _1"></span>tring </div><div class="t m0 x3 h12 yeab ff46 fsa fc2 sc0 ls0 ws0">name of the class<span class="_ _1"></span>, or a concrete instantiation (<span class="_ _1"></span>object) of the class.</div><div class="t m0 x1a h3c yeac ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">ReflectionClass</span> object has a few methods that allow y<span class="_ _1"></span>ou to retrieve </div><div class="t m0 x3 h12 yead ff46 fsa fc2 sc0 ls0 ws0">information about the inspected class<span class="_ _1"></span>. In the previous example<span class="_ _1"></span>, we are outputting an </div><div class="t m0 x3 h3c yeae ff46 fsa fc2 sc0 ls0 ws0">array of all the methods that the <span class="ff4f">Exception</span> cl<span class="_ _1"></span>ass has.</div><div class="t m0 x3 h19 yeaf ff4e fsd fc2 sc0 ls0 ws0">T<span class="_ _11"></span>ype Hinting</div><div class="t m0 x3 h12 yeb0 ff46 fsa fc2 sc0 ls0 ws0">Type hinting allo<span class="_ _1"></span>ws you to specify the variable type that a parameter t<span class="_ _1"></span>o a function is </div><div class="t m0 x3 h12 yeb1 ff46 fsa fc2 sc0 ls0 ws0">expected to be.</div><div class="t m0 x1a h3c yeb2 ff46 fsa fc2 sc0 ls0 ws0">In the following example<span class="_ _1"></span>, we specify that the parameter <span class="ff4f">$arr</span> being passed to the </div><div class="t m0 x3 h3c yeb3 ff4f fsa fc2 sc0 ls0 ws0">printArray()<span class="ff46"> function must be an array.</span></div><div class="t m0 x3 h16 y26d ff51 fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x1d h43 y26e ff4f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.reflectionclass.php</div><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.939000px;bottom:346.015000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.reflectionclass.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.828300px;width:216.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf95" class="pf w2 h4" data-page-no="95"><div class="pc pc95 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">13<span class="_ _0"></span>0</div><div class="t m0 x8 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y3e3 ff4f fsa fc2 sc0 ls0 ws0">function printArray(array $arr) {</div><div class="t m0 x8 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">  echo &quot;&lt;pre&gt;&quot; . print_r($arr,true) . &quot;&lt;/pre&gt;&quot;;</div><div class="t m0 x8 h3c y2ab ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y3e4 ff4f fsa fc2 sc0 ls0 ws0">// The parameter to the function must be a class that implements the </div><div class="t m0 x8 h3c y3e5 ff4f fsa fc2 sc0 ls0 ws0">PaymentProvider interface</div><div class="t m0 x8 h3c y425 ff4f fsa fc2 sc0 ls0 wsf0">function sendNotificationToPaymentProvider(PaymentProvider $paymentProvider)</div><div class="t m0 x8 h3c y3e6 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y426 ff4f fsa fc2 sc0 ls0 ws0">  $paymentProvider-&gt;contactGateway($messageParameters);</div><div class="t m0 x8 h3c y3e7 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y3e9 ff4f fsa fc2 sc0 ls0 ws0">function sayHello(string $name)</div><div class="t m0 x8 h3c y3ea ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y3eb ff4f fsa fc2 sc0 ls0 ws0">  echo &quot;Hello &quot; . $name;</div><div class="t m0 x8 h3c y3ec ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y3ee ff46 fsa fc2 sc0 ls0 ws0">In PHP 5, if you pass a par<span class="_ _1"></span>ameter of the wrong type, then a r<span class="_ _1"></span>ecovera<span class="_ _1"></span>ble fatal error will </div><div class="t m0 x8 h3c yac6 ff46 fsa fc2 sc0 ls0 ws0">be generated. In PHP 7, a <span class="ff4f">TypeError</span> exception is thr<span class="_ _1"></span>own.</div><div class="t m0 x3 h12 y3ef ff46 fsa fc2 sc0 ls0 ws0">As of PHP 7 type hinting is being referr<span class="_ _1"></span>ed to as “type declarations<span class="_ _1"></span>”<span class="_ _e"></span>. I’m going to use </div><div class="t m0 x8 h12 y3f0 ff46 fsa fc2 sc0 ls0 ws0">this new nomenclature b<span class="_ _1"></span>ut the terms are interch<span class="_ _1"></span>angeable within the context of PHP<span class="_ _11"></span>.</div><div class="t m0 x3 h12 yac7 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify composite types, callables<span class="_ _1"></span>, and scalar variable types as type hints. </div><div class="t m0 x8 h3c y3f1 ff46 fsa fc2 sc0 ls0 ws0">Additionally, the <span class="ff4f">NULL</span> type hint can be used if <span class="ff4f">NULL</span> is used as the default par<span class="_ _1"></span>ameter for a </div><div class="t m0 x8 h12 y3f2 ff46 fsa fc2 sc0 ls0 ws0">function.</div><div class="t m0 x8 h3c y3f4 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yeb4 ff4f fsa fc2 sc0 ls0 ws0">function nullExample(null $msg = null) {</div><div class="t m0 x8 h3c y3f5 ff4f fsa fc2 sc0 ls0 ws0">    echo $msg;</div><div class="t m0 x8 h3c y3f6 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 yad7 ff46 fsa fc2 sc0 ls0 ws0">If you specify a class as a type hint, then all its childr<span class="_ _1"></span>en and implementations will be </div><div class="t m0 x8 h12 yad8 ff46 fsa fc2 sc0 ls0 ws0">valid parameters<span class="_ _1"></span>.</div><div class="t m0 x8 h3c yada ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yadb ff4f fsa fc2 sc0 ls0 ws0">class A {}</div><div class="t m0 x8 h3c yadc ff4f fsa fc2 sc0 ls0 ws0">class B extends A {}</div><div class="t m0 x8 h3c yadd ff4f fsa fc2 sc0 ls0 ws0">class C extends B {}</div><div class="t m0 x8 h3c yadf ff4f fsa fc2 sc0 ls0 ws0">function foo(A $object) {}</div><div class="t m0 x8 h3c yae0 ff4f fsa fc2 sc0 ls0 ws0">$testObj = new C;</div><div class="t m0 x8 h3c yae1 ff4f fsa fc2 sc0 ls0 ws0">foo($testObj);  // no error produced</div><div class="t m0 x3 h12 yeb5 ff46 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, our function expects an object of class A<span class="_ _0"></span>. W<span class="_ _1"></span>e’r<span class="_ _1"></span>e passing through an </div><div class="t m0 x8 h12 yeb6 ff46 fsa fc2 sc0 ls0 ws0">object of class B. Because B inherits from A our code will run.</div><div class="t m0 x3 h12 yeb7 ff46 fsa fc2 sc0 ls0 ws0">If the name of the class you supply is an in<span class="_ _1"></span>terface, then PHP will allow any object that </div><div class="t m0 x8 h12 yeb8 ff46 fsa fc2 sc0 ls0 ws0">implements the interface (<span class="_ _1"></span>or is an ancestor of a class that does) to be passed.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf96" class="pf w2 h4" data-page-no="96"><div class="pc pc96 w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls27 ws101">1<span class="_ _0"></span>31</div><div class="t m0 x3 h19 y24e ff4e fsd fc2 sc0 ls0 ws0">Class Constants</div><div class="t m0 x3 h12 y24f ff46 fsa fc2 sc0 ls0 ws0">A constant is a value tha<span class="_ _1"></span>t is immutable.</div><div class="t m0 x1a h12 y337 ff46 fsa fc2 sc0 ls0 ws0">Class constants allow you to define suc<span class="_ _1"></span>h values on a per<span class="_ _1"></span>-class basis<span class="_ _0"></span>; they do not </div><div class="t m0 x3 h12 y338 ff46 fsa fc2 sc0 ls0 ws0">change between instances of the class. All objects cr<span class="_ _1"></span>eated from tha<span class="_ _1"></span>t class have the same </div><div class="t m0 x3 h12 y516 ff46 fsa fc2 sc0 ls0 ws0">value for the class constant.</div><div class="t m0 x1a h3c y517 ff46 fsa fc2 sc0 ls0 ws0">Class constants follow the same namin<span class="_ _1"></span>g rules as variables but do not have an <span class="ff4f">$</span> </div><div class="t m0 x3 h12 y518 ff46 fsa fc2 sc0 ls0 ws0">symbol prefixing them<span class="_ _1"></span>. By convention, constant n<span class="_ _1"></span>ames are declared in upper<span class="_ _1"></span>case.</div><div class="t m0 x1a h12 y519 ff46 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s consider an example:</div><div class="t m0 x3 h3c ybd4 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yeb9 ff4f fsa fc2 sc0 ls0 ws0">class MathsHelper</div><div class="t m0 x3 h3c ybd5 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c ybd6 ff4f fsa fc2 sc0 ls0 ws0">    const PI = 4;</div><div class="t m0 x3 h3c ybd7 ff4f fsa fc2 sc0 ls0 ws0">    public function squareTheCircle($radius) {</div><div class="t m0 x3 h3c yeba ff4f fsa fc2 sc0 ls0 ws0">        return $radius * (self::PI ** 2);</div><div class="t m0 x3 h3c ybd8 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y6ff ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c ybda ff4f fsa fc2 sc0 ls0 ws0">echo MathsHelper::PI; // 4</div><div class="t m0 x1a h12 ybdb ff46 fsa fc2 sc0 ls0 ws0">Class constants are public and so ar<span class="_ _1"></span>e accessible from all scopes. W<span class="_ _2"></span>e use the s<span class="_ _0"></span>cope </div><div class="t m0 x3 h12 yebb ff46 fsa fc2 sc0 ls0 ws0">resolution operat<span class="_ _1"></span>or and the name of the class it is declared in when we access it from </div><div class="t m0 x3 h12 ybdc ff46 fsa fc2 sc0 ls0 ws0">outside the class.</div><div class="t m0 x1a h12 ybdd ff46 fsa fc2 sc0 ls0 ws0">The value must be a constant expr<span class="_ _1"></span>ession, not (for example) a variable, a pr<span class="_ _1"></span>operty, or </div><div class="t m0 x3 h12 ybde ff46 fsa fc2 sc0 ls0 ws0">a function call.</div><div class="t m0 x1a h12 ybdf ff46 fsa fc2 sc0 ls0 ws0">Class constants, lik<span class="_ _1"></span>e traditional constants<span class="_ _1"></span>, may only contain scalar values<span class="_ _1"></span>.</div><div class="t m0 x3 h19 yebc ff4e fsd fc2 sc0 ls0 ws0">Late Static Binding</div><div class="t m0 x3 h12 yebd ff46 fsa fc2 sc0 ls0 ws0">Late static binding was in<span class="_ _1"></span>troduced in PHP 5.3.0 and is a method to refer<span class="_ _1"></span>ence the called </div><div class="t m0 x3 h12 yebe ff46 fsa fc2 sc0 ls0 ws0">class (as opposed to the calling class) in the context of sta<span class="_ _1"></span>tic inheritance.</div><div class="t m0 x1a h12 yebf ff46 fsa fc2 sc0 ls0 ws0">The idea was to intr<span class="_ _1"></span>oduce a keyword that would r<span class="_ _1"></span>eference the class that was initi<span class="_ _1"></span>ally </div><div class="t m0 x3 h12 yec0 ff46 fsa fc2 sc0 ls0 ws0">called at runtime, r<span class="_ _1"></span>ather than the class that the method w<span class="_ _1"></span>as defined in.</div><div class="t m0 x1a h3c yec1 ff46 fsa fc2 sc0 ls0 ws0">Rather than intr<span class="_ _1"></span>oduce a new reserved word, the decision was made to use the <span class="ff4f">static</span> </div><div class="t m0 x3 h12 yec2 ff46 fsa fc2 sc0 ls0 ws0">keyword.</div><div class="t m0 x3 h26 yec3 ff46 fse fc2 sc0 ls0 ws0">F<span class="_ _1"></span>or<span class="_ _0"></span>war<span class="_ _1"></span>ding calls</div><div class="t m0 x3 h3c yec4 ff46 fsa fc2 sc0 ls0 ws0">A “forwarding” call is a static call that is intr<span class="_ _1"></span>oduced by <span class="ff4f">parent::</span>, <span class="ff4f">static::</span> or one called </div><div class="t m0 x3 h3c yec5 ff46 fsa fc2 sc0 ls0 ws0">by the function <span class="ff4f">forward_static_call()</span>.</div><div class="t m0 x1a h3c yec6 ff46 fsa fc2 sc0 ls0 ws0">A call to <span class="ff4f">self::</span> can also be a forwarding call if the class falls back to an inherited </div><div class="t m0 x3 h12 yec7 ff46 fsa fc2 sc0 ls0 ws0">class because it does not ha<span class="_ _1"></span>ve the method defined.</div><div class="t m0 x1a h12 yec8 ff46 fsa fc2 sc0 ls0 ws0">Late static binding works b<span class="_ _1"></span>y storing the class in the last “<span class="_ _1"></span>non-forwarding call”<span class="_ _e"></span>. In </div><div class="t m0 x3 h12 yec9 ff46 fsa fc2 sc0 ls0 ws0">other words<span class="_ _1"></span>, late static binding resolution will stop at a fully r<span class="_ _1"></span>esolved static call.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf97" class="pf w2 h4" data-page-no="97"><div class="pc pc97 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">132</div><div class="t m0 x3 h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">I am going to take a detailed walk thro<span class="_ _1"></span>ugh a modified example of the PHP Manual </div><div class="t m0 x8 h12 y1b9 ff46 fsa fc2 sc0 ls0 ws0">example.</div><div class="t m0 x8 h3c y1bb ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bc ff4f fsa fc2 sc0 ls0 ws0">class A {</div><div class="t m0 x8 h3c y1bd ff4f fsa fc2 sc0 ls0 ws0">    public static function foo() {</div><div class="t m0 x8 h3c y1be ff4f fsa fc2 sc0 ls0 ws0">        echo static::who();</div><div class="t m0 x8 h3c y1bf ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c1 ff4f fsa fc2 sc0 ls0 ws0">    public static function who() {</div><div class="t m0 x8 h3c y1c2 ff4f fsa fc2 sc0 ls0 ws0">        return &apos;A&apos;;</div><div class="t m0 x8 h3c y1c3 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c4 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1c6 ff4f fsa fc2 sc0 ls0 ws0">class B extends A {</div><div class="t m0 x8 h3c y1c7 ff4f fsa fc2 sc0 ls0 ws0">    public static function test() {</div><div class="t m0 x8 h3c y1c8 ff4f fsa fc2 sc0 ls0 ws0">        A::foo();</div><div class="t m0 x8 h3c y733 ff4f fsa fc2 sc0 ls0 ws0">        parent::foo();</div><div class="t m0 x8 h3c y734 ff4f fsa fc2 sc0 ls0 ws0">        self::foo();</div><div class="t m0 x8 h3c ya6a ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y735 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y737 ff4f fsa fc2 sc0 ls0 ws0">class C extends B {</div><div class="t m0 x8 h3c y738 ff4f fsa fc2 sc0 ls0 ws0">    public static function who() {</div><div class="t m0 x8 h3c y739 ff4f fsa fc2 sc0 ls0 ws0">        echo &apos;C&apos;;</div><div class="t m0 x8 h3c y73a ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y73b ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y73d ff4f fsa fc2 sc0 ls0 ws0">C::test(); // ACC</div><div class="t m0 x3 h12 ya6c ff46 fsa fc2 sc0 ls0 ws0">The output of ACC migh<span class="_ _1"></span>t be counter<span class="_ _1"></span>-intuitive at first<span class="_ _1"></span>, but let’<span class="_ _1"></span>s step thr<span class="_ _1"></span>ough it slowly.</div><div class="t m0 x3 h3c ya6d ff46 fsa fc2 sc0 ls0 ws0">The call to <span class="ff4f">C::test()</span> is fully resolved and so class C is initially stor<span class="_ _1"></span>ed as the last non-</div><div class="t m0 x8 h12 ya6e ff46 fsa fc2 sc0 ls0 ws0">forwarding call.</div><div class="t m0 x3 h3c ya6f ff46 fsa fc2 sc0 ls0 ws0">There is no <span class="ff4f">test()</span> method in the function C, so the call is forwarded implicitly to its </div><div class="t m0 x8 h3c ya70 ff46 fsa fc2 sc0 ls0 ws0">parent<span class="_ _1"></span>. So the <span class="ff4f">test()</span> method in class B is being called.</div><div class="t m0 x8 h1c yeca ff4e fse fc2 sc0 ls0 ws0">The Call to <span class="_ _1"></span>A::foo()</div><div class="t m0 x8 h3c yecb ff46 fsa fc2 sc0 ls0 ws0">The first call in <span class="ff4f">test()</span> specifically names class A as the scope<span class="_ _1"></span>. This means that the call is </div><div class="t m0 x8 h12 yecc ff46 fsa fc2 sc0 ls0 ws0">fully resolved. The class being stor<span class="_ _1"></span>ed as the last non-forwarding call is changed to be A.</div><div class="t m0 x3 h3c yecd ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">foo()</span> method in A is called and the <span class="ff4f">static</span> keyword is r<span class="_ _1"></span>esolved to find which </div><div class="t m0 x8 h3c yece ff46 fsa fc2 sc0 ls0 ws0">class to call the <span class="ff4f">who()</span> method on.</div><div class="t m0 x3 h3c yecf ff46 fsa fc2 sc0 ls0 ws0">The last non-forwarding call was to a class in A and consequently the <span class="ff4f">who()</span> method </div><div class="t m0 x8 h12 yed0 ff46 fsa fc2 sc0 ls0 ws0">in class A is called.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf98" class="pf w2 h4" data-page-no="98"><div class="pc pc98 w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">13<span class="_ _0"></span>3</div><div class="t m0 x3 h1c y654 ff4e fse fc2 sc0 ls0 ws0">The Call to parent::foo( <span class="_ _5"></span>)</div><div class="t m0 x3 h3c y655 ff46 fsa fc2 sc0 ls0 ws0">The next call in <span class="ff4f">test()</span> r<span class="_ _1"></span>efers to the parent of B so the call is being explicitly forwarded to </div><div class="t m0 x3 h12 yed1 ff46 fsa fc2 sc0 ls0 ws0">the parent of B, which is A.</div><div class="t m0 x1a h12 y657 ff46 fsa fc2 sc0 ls0 ws0">This is a forwarded call so the value stored as the last fully r<span class="_ _1"></span>esolved static call  </div><div class="t m0 x3 h12 yed2 ff46 fsa fc2 sc0 ls0 ws0">(which is C) is left unaltered.</div><div class="t m0 x1a h3c y658 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">foo()</span> method in A is called and the <span class="ff4f">static</span> keyword is r<span class="_ _1"></span>esolved to find which </div><div class="t m0 x3 h3c yed3 ff46 fsa fc2 sc0 ls0 ws0">class to call the <span class="ff4f">who()</span> method on.</div><div class="t m0 x1a h3c yed4 ff46 fsa fc2 sc0 ls0 ws0">The last non-forwarding call was to a class in C and consequently the <span class="ff4f">who()</span> method </div><div class="t m0 x3 h12 yed5 ff46 fsa fc2 sc0 ls0 ws0">in class C is called.</div><div class="t m0 x3 h1c yed6 ff4e fse fc2 sc0 ls0 ws0">The Call to self::foo( <span class="_ _5"></span>)</div><div class="t m0 x3 h3c yed7 ff46 fsa fc2 sc0 ls0 ws0">Class B does not have the <span class="ff4f">foo()</span> method defined and so the call is implicitly p<span class="_ _1"></span>assed to the </div><div class="t m0 x3 h12 yed8 ff46 fsa fc2 sc0 ls0 ws0">parent<span class="_ _1"></span>, class A<span class="_ _0"></span>.</div><div class="t m0 x1a h12 yed9 ff46 fsa fc2 sc0 ls0 ws0">This is a forwarded call so the stored value stor<span class="_ _1"></span>ed as the last fully resolved static call </div><div class="t m0 x3 h12 yeda ff46 fsa fc2 sc0 ls0 ws0">(which is C) is left unaltered.</div><div class="t m0 x1a h3c yedb ff46 fsa fc2 sc0 ls0 ws0">This results in the <span class="ff4f">who()</span> method of class C being c<span class="_ _1"></span>alled when the static keyword is </div><div class="t m0 x3 h12 yedc ff46 fsa fc2 sc0 ls0 ws0">resolved in class A.</div><div class="t m0 x3 h19 yedd ff4e fsd fc2 sc0 ls0 ws0">Magic (__*) Methods</div><div class="t m0 x3 h12 yede ff46 fsa fc2 sc0 ls0 ws0">PHP treats an<span class="_ _1"></span>y method with a name prefixed by two underscores as m<span class="_ _1"></span>agical. PHP calls </div><div class="t m0 x3 h12 yedf ff46 fsa fc2 sc0 ls0 ws0">these methods “magically” (without you needing to call them) at certain times of the </div><div class="t m0 x3 h12 yee0 ff46 fsa fc2 sc0 ls0 ws0">object’<span class="_ _1"></span>s lifecycle. I like to think of them as being simil<span class="_ _1"></span>ar to hooks that are called on events<span class="_ _1"></span>. </div><div class="t m0 x3 h12 yee1 ff46 fsa fc2 sc0 ls0 ws0">PHP calls the magic method when an associated event h<span class="_ _1"></span>appens to the object.</div><div class="t m0 x1a h12 yee2 ff46 fsa fc2 sc0 ls0 ws0">PHP does not pro<span class="_ _1"></span>vide an implementation for the class, and it is up t<span class="_ _1"></span>o you as the </div><div class="t m0 x3 h12 yee3 ff46 fsa fc2 sc0 ls0 ws0">programmer to o<span class="_ _1"></span>verride the method in your class.</div><div class="t m0 x1a h12 yee4 ff46 fsa fc2 sc0 ls0 ws0">Magic methods only pertain to classes; they do not exist as stand-alone functions.</div><div class="t m0 x1a h12 yee5 ff46 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e 15 predefined magical functions and it is r<span class="_ _1"></span>ecommended to avoid naming </div><div class="t m0 x3 h12 yee6 ff46 fsa fc2 sc0 ls0 ws0">other functions with the double underscore prefix.</div><div class="t m0 x3 h26 yee7 ff46 fse fc2 sc0 ls0 ws0">__get and __set</div><div class="t m0 x3 h12 yee8 ff46 fsa fc2 sc0 ls0 ws0">These magic methods are c<span class="_ _1"></span>alled when PHP tries to read (get) or write (set) inaccessible </div><div class="t m0 x3 h12 yee9 ff46 fsa fc2 sc0 ls0 ws0">properties.</div><div class="t m0 x3 h3c yeea ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yeeb ff4f fsa fc2 sc0 ls0 ws0">class BankBalance {</div><div class="t m0 x3 h3c yeec ff4f fsa fc2 sc0 ls0 ws0">    private $balance;</div><div class="t m0 x3 h3c yeed ff4f fsa fc2 sc0 ls0 ws0">    public function __get($propertyName) {</div><div class="t m0 x3 h3c yeee ff4f fsa fc2 sc0 ls0 ws0">        // echo &quot;No property &quot; . $propertyName;</div><div class="t m0 x3 h3c yeef ff4f fsa fc2 sc0 ls0 ws0">        return &quot;No value&quot;;</div><div class="t m0 x3 h3c yef0 ff4f fsa fc2 sc0 ls0 ws0">    }</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf99" class="pf w2 h4" data-page-no="99"><div class="pc pc99 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">13<span class="_ _0"></span>4</div><div class="t m0 x8 h3c y2a8 ff4f fsa fc2 sc0 ls0 ws0">        public function __set($propertyName, $value) {</div><div class="t m0 x8 h3c y3e3 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;Cannot set $propertyName to $value&quot;;</div><div class="t m0 x8 h3c y424 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y2ab ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y2ac ff4f fsa fc2 sc0 ls0 ws0">$myAccount = new BankBalance();</div><div class="t m0 x8 h3c y3e4 ff4f fsa fc2 sc0 ls0 ws0">$myAccount-&gt;balance = 100;</div><div class="t m0 x8 h3c y3e5 ff4f fsa fc2 sc0 ls0 ws0">// Cannot set balance to 100No value</div><div class="t m0 x8 h3c y425 ff4f fsa fc2 sc0 ls0 ws0">echo $myAccount-&gt;nonExistingProperty;</div><div class="t m0 x3 h3c y426 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">__get()</span> method is passed the name of the property that w<span class="_ _1"></span>as being looked for<span class="_ _2"></span>. </div><div class="t m0 x8 h12 y3e7 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can return a value for the missing pr<span class="_ _1"></span>operty in the method, or handle it how you like.</div><div class="t m0 x3 h12 y3e8 ff46 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, the commented code can be replaced with logic to handle the </div><div class="t m0 x8 h3c y3e9 ff46 fsa fc2 sc0 ls0 ws0">missing property, and properties tha<span class="_ _1"></span>t don’t exist will appear to be set to <span class="ff4f">No value</span>.</div><div class="t m0 x3 h3c y3ea ff46 fsa fc2 sc0 ls0 ws0">An additional parameter<span class="_ _11"></span>, the <span class="ff4f">$value</span>, is passed to <span class="ff4f">__set()</span>.</div><div class="t m0 x8 h26 yef1 ff46 fse fc2 sc0 ls0 ws0">__isset and __unset</div><div class="t m0 x8 h3c yef2 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">__isset()</span> method is triggered by callin<span class="_ _1"></span>g the <span class="ff4f">isset()</span> function or <span class="ff4f">empty()</span> on an </div><div class="t m0 x8 h12 yef3 ff46 fsa fc2 sc0 ls0 ws0">inaccessible property.</div><div class="t m0 x3 h3c yef4 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">__unset()</span> method is triggered by callin<span class="_ _1"></span>g the <span class="ff4f">unset()</span> function on an </div><div class="t m0 x8 h12 yef5 ff46 fsa fc2 sc0 ls0 ws0">inaccessible property.</div><div class="t m0 x3 h12 yef6 ff46 fsa fc2 sc0 ls0 ws0">Both methods accept a string parameter that con<span class="_ _1"></span>tains the name of the property that </div><div class="t m0 x8 h12 yef7 ff46 fsa fc2 sc0 ls0 ws0">was being passed as a parameter to the function.</div><div class="t m0 x3 h3c yef8 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use these magic methods to allow the <span class="ff4f">isset()</span>, <span class="ff4f">empty()</span>, and <span class="ff4f">unset()</span> </div><div class="t m0 x8 h12 yef9 ff46 fsa fc2 sc0 ls0 ws0">functions to work on private and prot<span class="_ _1"></span>ected properties.</div><div class="t m0 x8 h26 yefa ff46 fse fc2 sc0 ls0 ws0">__call and __callS<span class="_ _1"></span>tatic</div><div class="t m0 x8 h12 yefb ff46 fsa fc2 sc0 ls0 ws0">These magic methods are c<span class="_ _1"></span>alled if you try to call a non-ex<span class="_ _0"></span>isting method on an object. T<span class="_ _1"></span>he </div><div class="t m0 x8 h3c yefc ff46 fsa fc2 sc0 ls0 ws0">only difference is tha<span class="_ _1"></span>t <span class="ff4f">__callStatic()</span> responds to static calls while <span class="ff4f">__call()</span> r<span class="_ _1"></span>esponds </div><div class="t m0 x8 h12 yefd ff46 fsa fc2 sc0 ls0 ws0">to non-sta<span class="_ _1"></span>tic calls.</div><div class="t m0 x8 h3c yefe ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yeff ff4f fsa fc2 sc0 ls0 ws0">class Politician {</div><div class="t m0 x8 h3c yf00 ff4f fsa fc2 sc0 ls0 ws0">    public function __call($method, $arguments) {</div><div class="t m0 x8 h3c yf01 ff4f fsa fc2 sc0 ls0 ws0">        echo __CLASS__ . &apos; has no &apos; . $method . &apos; method&apos;;</div><div class="t m0 x8 h3c yf02 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c yf03 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yf04 ff4f fsa fc2 sc0 ls0 ws0">$jacob = new Politician();</div><div class="t m0 x8 h3c yf05 ff4f fsa fc2 sc0 ls0 ws0">$jacob-&gt;honesty();  // Politician has no honesty method</div><div class="t m0 x3 h12 yf06 ff46 fsa fc2 sc0 ls0 ws0">In both cases, the m<span class="_ _1"></span>agic method is passed a string containing the name of the </div><div class="t m0 x8 h12 yf07 ff46 fsa fc2 sc0 ls0 ws0">method that the call is trying to find, and an array of the argumen<span class="_ _1"></span>ts that were passed.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9a" class="pf w2 h4" data-page-no="9a"><div class="pc pc9a w2 h4"><img class="bi x3 yf08 w5 h29" alt="" src="bg9a.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">135</div><div class="t m0 x3 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">__invok<span class="_ _1"></span>e</div><div class="t m0 x3 h3c y3c0 ff46 fsa fc2 sc0 ls0 ws0">The magic method <span class="ff4f">__invoke()</span> is called when you try to execute an object as a function.</div><div class="t m0 x3 h3c yf09 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yf0a ff4f fsa fc2 sc0 ls0 ws0">class Square</div><div class="t m0 x3 h3c yf0b ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c yf0c ff4f fsa fc2 sc0 ls0 ws0">    public function __invoke($var) {</div><div class="t m0 x3 h3c yf0d ff4f fsa fc2 sc0 ls0 ws0">        return $var ** 2;</div><div class="t m0 x3 h3c yf0e ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c yf0f ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c yf10 ff4f fsa fc2 sc0 ls0 ws0">$callableObject = new Square;</div><div class="t m0 x3 h3c yf11 ff4f fsa fc2 sc0 ls0 ws0">echo $callableObject(10); // 100</div><div class="t m0 x23 h10 yf12 ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Caution<span class="ff4b ls47"> <span class="_ _2c"> </span> Thi<span class="_ _0"></span>s syntax may be confused with variable function names so wa<span class="_ _0"></span>tch out for that.</span></span></span></div><div class="t m0 x3 h26 yf13 ff46 fse fc2 sc0 ls0 ws0">__debugI<span class="_ _1"></span>nfo</div><div class="t m0 x3 h3c yf14 ff46 fsa fc2 sc0 ls0 ws0">This magic method is called by <span class="ff4f">var_dump()</span> when dum<span class="_ _1"></span>ping the object to determine which </div><div class="t m0 x3 h12 yf15 ff46 fsa fc2 sc0 ls0 ws0">properties should be output.</div><div class="t m0 x1a h3c yf16 ff46 fsa fc2 sc0 ls0 ws0">By default <span class="ff4f">var_dump()</span> will output all public, pr<span class="_ _1"></span>otected, and private properties of the </div><div class="t m0 x3 h12 yf17 ff46 fsa fc2 sc0 ls0 ws0">object.</div><div class="t m0 x3 h3c yf18 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yf19 ff4f fsa fc2 sc0 ls0 ws0">class Dictatorship {</div><div class="t m0 x3 h3c yf1a ff4f fsa fc2 sc0 ls0 ws0">    private $wmd = &apos;Nuke&apos;;</div><div class="t m0 x3 h3c yf1b ff4f fsa fc2 sc0 ls0 ws0">    public $oil = &apos;Lots&apos;;</div><div class="t m0 x3 h3c yf1c ff4f fsa fc2 sc0 ls0 ws0">    // we are going to hide our wmd</div><div class="t m0 x3 h3c yf1d ff4f fsa fc2 sc0 ls0 ws0">    public function __debugInfo() {</div><div class="t m0 x3 h3c yf1e ff4f fsa fc2 sc0 ls0 ws0">        return [</div><div class="t m0 x3 h3c yf1f ff4f fsa fc2 sc0 ls0 ws0">            &apos;oil&apos; =&gt; $this-&gt;oil</div><div class="t m0 x3 h3c yf20 ff4f fsa fc2 sc0 ls0 ws0">        ];</div><div class="t m0 x3 h3c yf21 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c yf22 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c yf23 ff4f fsa fc2 sc0 ls0 ws0">$country = new Dictatorship();</div><div class="t m0 x3 h3c yf24 ff4f fsa fc2 sc0 ls0 ws0">var_dump($country);</div><div class="t m0 x3 h3c yf25 ff4f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h3c yf26 ff4f fsa fc2 sc0 ls0 ws0">object(Dictatorship)#1 (1) {</div><div class="t m0 x3 h3c yf27 ff4f fsa fc2 sc0 ls0 ws0">  [&quot;oil&quot;]=&gt;</div><div class="t m0 x3 h3c yf28 ff4f fsa fc2 sc0 ls0 ws0">  string(4) &quot;Lots&quot;</div><div class="t m0 x3 h3c yf29 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c yf2a ff4f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h3c yf2b ff46 fsa fc2 sc0 ls0 ws0">This example will prevent the <span class="ff4f">$wmd</span> v<span class="_ _1"></span>ariable from being included in the <span class="ff4f">var_dump()</span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9b" class="pf w2 h4" data-page-no="9b"><div class="pc pc9b w2 h4"><img class="bi x8 y175 w3 h71" alt="" src="bg9b.png"/><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">136</div><div class="t m0 x8 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">Mor<span class="_ _1"></span>e M<span class="_ _1"></span>agic F<span class="_ _1"></span>unctions</div><div class="t m0 x8 h3c y3c0 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e hav<span class="_ _1"></span>e dealt with the <span class="ff4f">__construct()</span> and <span class="ff4f">__destruct()</span> functions in the section on </div><div class="t m0 x8 h12 y3c1 ff46 fsa fc2 sc0 ls0 ws0">“<span class="_ _1"></span>Constructors and Destructors”<span class="_ _e"></span>.</div><div class="t m0 x3 h3c y531 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e hav<span class="_ _1"></span>e dealt with <span class="ff4f">__sleep()</span> and <span class="ff4f">__wake()</span> in the section on “Serializing Objects”<span class="_ _e"></span>.</div><div class="t m0 x3 h3c y450 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e looked at <span class="ff4f">__clone()</span> when discussing “<span class="_ _1"></span>Copying Objects<span class="_ _1"></span>” and <span class="ff4f">__toString()</span> in </div><div class="t m0 x8 h12 y451 ff46 fsa fc2 sc0 ls0 ws0">the section named “C<span class="_ _1"></span>asting Objects to String”<span class="_ _40"></span>.</div><div class="t m0 x8 h19 yf2c ff4e fsd fc2 sc0 ls0 ws0">Standard PHP Library (SPL)</div><div class="t m0 x8 h12 yf2d ff46 fsa fc2 sc0 ls0 ws0">The standard PHP libr<span class="_ _1"></span>ary is a colle<span class="_ _0"></span>ction of classes and interfaces tha<span class="_ _1"></span>t are recipes for </div><div class="t m0 x8 h12 yf2e ff46 fsa fc2 sc0 ls0 ws0">solving common programmin<span class="_ _1"></span>g problems. I<span class="_ _1"></span>t is availa<span class="_ _1"></span>ble and compiled in PHP from </div><div class="t m0 x8 h12 yf2f ff46 fsa fc2 sc0 ls0 ws0">version 5.0.0.</div><div class="t m0 x3 h12 yf30 ff46 fsa fc2 sc0 ls0 ws0">The classes fall into categories<span class="_ _1"></span>. For a complete list of the classes<span class="_ _1"></span>, refer to the PHP </div><div class="t m0 x8 h12 yf31 ff46 fsa fc2 sc0 ls0 ws0">Man<span class="_ _1"></span>ual on SPL<span class="_ _0"></span>.</div><div class="t m0 x79 h15 yf32 ff46 fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x8 h20 yf33 ff4a fs6 fc2 sc0 ls0 ws0">Category<span class="_ _a4"> </span>Used for</div><div class="t m0 x8 h12 yf34 ff46 fsa fc2 sc0 ls0 ws0">Data Structur<span class="_ _1"></span>es<span class="_ _54"> </span>Standard da<span class="_ _1"></span>ta structures, like link<span class="_ _1"></span>ed lists, doubly </div><div class="t m0 x33 h12 yf35 ff46 fsa fc2 sc0 ls0 ws0">linked lists, queues<span class="_ _1"></span>, stacks, heaps<span class="_ _1"></span>, etc.</div><div class="t m0 x8 h12 yf36 ff46 fsa fc2 sc0 ls11 wse8">Itera<span class="_ _1"></span>tors</div><div class="t m0 x8 h12 yf37 ff46 fsa fc2 sc0 ls0 ws0">Exceptions</div><div class="t m0 x8 h12 yf38 ff46 fsa fc2 sc0 ls0 ws0">File H<span class="_ _1"></span>andling</div><div class="t m0 x8 h3c yf39 ff4f fsa fc2 sc0 ls0 ws0">ArrayObject<span class="_ _a5"> </span><span class="ff46">Accessing object with array functions<span class="_ _1"></span>.</span></div><div class="t m0 x8 h3c yf3a ff4f fsa fc2 sc0 ls0 ws0">SplObserver<span class="ff46"> and </span>SplSubject<span class="_ _58"> </span><span class="ff46">Implementing the observer pattern.</span></div><div class="t m0 x3 h12 yf3b ff46 fsa fc2 sc0 ls0 ws0">SPL also provides sever<span class="_ _1"></span>al functions. They mostly fall into br<span class="_ _1"></span>oad reflection and </div><div class="t m0 x8 h12 yf3c ff46 fsa fc2 sc0 ls0 ws0">autoloading categories<span class="_ _1"></span>.</div><div class="t m0 x8 h26 yf3d ff46 fse fc2 sc0 ls0 ws0">Data S<span class="_ _1"></span>tructures</div><div class="t m0 x8 h12 yf3e ff46 fsa fc2 sc0 ls0 ws0">The first category of functions is data structures<span class="_ _1"></span>. If you’re familiar with data structur<span class="_ _1"></span>es </div><div class="t m0 x8 h12 yf3f ff46 fsa fc2 sc0 ls0 ws0">already, you’ll be pleased to know th<span class="_ _1"></span>at the SPL implements a variety of them. These </div><div class="t m0 x8 h12 yf40 ff46 fsa fc2 sc0 ls0 ws0">include doubly linked lists, he<span class="_ _1"></span>aps, arrays<span class="_ _1"></span>, and maps<span class="_ _1"></span>.</div><div class="t m0 x3 h12 yf41 ff46 fsa fc2 sc0 ls0 ws0">Data structures ar<span class="_ _1"></span>e widely useful in programming algorithms<span class="_ _1"></span>.</div><div class="t m0 x8 h26 yf42 ff46 fse fc2 sc0 ls48 ws122">Iter<span class="_ _1"></span>ators</div><div class="t m0 x8 h12 yf43 ff46 fsa fc2 sc0 ls0 ws0">Iter<span class="_ _1"></span>ators allow you to tra<span class="_ _1"></span>verse over objects and collections<span class="_ _1"></span>. Iterat<span class="_ _1"></span>ors maintain a cursor </div><div class="t m0 x8 h12 yf44 ff46 fsa fc2 sc0 ls0 ws0">that points to an element<span class="_ _1"></span>.</div><div class="t m0 x8 h16 y26d ff51 fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h43 y26e ff4f fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/book.spl.php</div><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",39,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:100.394000px;bottom:425.685000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/book.spl.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.828300px;width:161.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9c" class="pf w2 h4" data-page-no="9c"><div class="pc pc9c w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">137</div><div class="t m0 x1a h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">PHP iterators will allow yo<span class="_ _1"></span>u to advance or rewind the cursor through all of the </div><div class="t m0 x3 h12 y1b9 ff46 fsa fc2 sc0 ls0 ws0">elements in the container<span class="_ _2"></span>. They will also let you perform other actions, for example, the </div><div class="t m0 x3 h3c y1ba ff4f fsa fc2 sc0 ls0 ws0">ArrayIterator<span class="ff46"> will let you perform sorts on ar<span class="_ _0"></span>ra<span class="_ _1"></span>ys.</span></div><div class="t m0 x1a h12 y1bb ff46 fsa fc2 sc0 ls0 ws0">Without the classes pr<span class="_ _1"></span>ovided by PHP<span class="_ _11"></span>, you would need to implement these iter<span class="_ _1"></span>ators </div><div class="t m0 x3 h12 y1bc ff46 fsa fc2 sc0 ls0 ws0">yourself, but luc<span class="_ _1"></span>kily all of that hard wor<span class="_ _1"></span>k has been done by the kind authors of PHP<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y1bd ff46 fsa fc2 sc0 ls0 ws0">There<span class="_ _1"></span>’<span class="_ _1"></span>s quite an extens<span class="_ _1"></span>ive list of iterators<span class="_ _1"></span>. I shouldn’t imagine that you’ll need to </div><div class="t m0 x3 h12 y1be ff46 fsa fc2 sc0 ls0 ws0">be able to list them, but yo<span class="_ _1"></span>u should know that they’re part of the SPL. They will at a </div><div class="t m0 x3 h12 y1bf ff46 fsa fc2 sc0 ls0 ws0">minimum pro<span class="_ _1"></span>vide cursor movement abilities and possibly some extr<span class="_ _1"></span>a functionality.</div><div class="t m0 x3 h26 yf45 ff46 fse fc2 sc0 ls0 ws0">Exceptions</div><div class="t m0 x3 h3c yf46 ff46 fsa fc2 sc0 ls0 ws0">The SPL also includes standard <span class="ff4f">Exception</span> classes<span class="_ _1"></span>. It’<span class="_ _2"></span>s good practice to throw exceptions </div><div class="t m0 x3 h3c yf47 ff46 fsa fc2 sc0 ls0 ws0">that ar<span class="_ _1"></span>e specific to the type of error that has occurred. This m<span class="_ _1"></span>akes it easier to code <span class="ff4f">catch</span> </div><div class="t m0 x3 h12 yf48 ff46 fsa fc2 sc0 ls0 ws0">blocks that will properly deal with the exception.</div><div class="t m0 x1a h12 yf49 ff46 fsa fc2 sc0 ls0 ws0">The SPL intr<span class="_ _1"></span>oduces some exception classes that make it a lot more con<span class="_ _1"></span>venient for </div><div class="t m0 x3 h12 yf4a ff46 fsa fc2 sc0 ls0 ws0">you to thro<span class="_ _1"></span>w specific exceptions.</div><div class="t m0 x1a h12 yf4b ff46 fsa fc2 sc0 ls0 ws0">SPL exceptions fall under two categories—logic exceptions and runtime exceptions<span class="_ _1"></span>. </div><div class="t m0 x3 h12 yf4c ff46 fsa fc2 sc0 ls0 ws0">Each of these categories has a number of exception classes tha<span class="_ _1"></span>t focus on specific sorts of </div><div class="t m0 x3 h12 yf4d ff46 fsa fc2 sc0 ls0 ws0">errors that c<span class="_ _1"></span>an occur<span class="_ _2"></span>.</div><div class="t m0 x1a h12 yf4e ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should at least be able to recognize them if they come up in a question.</div><div class="t m0 x3 h1c yf4f ff4e fse fc2 sc0 ls0 ws0">Logic Exceptions</div><div class="t m0 x7 h3c yf50 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">LogicException<span class="ff46"> (ex<span class="_ _1"></span>tends <span class="ff4f">Exception</span>)</span></span></div><div class="t m0 x7 h3c yf51 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">BadFunctionCallException</span></div><div class="t m0 x7 h3c yf52 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">BadMethodCallException</span></div><div class="t m0 x7 h3c yf53 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">DomainException</span></div><div class="t m0 x7 h3c yf54 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">InvalidArgumentException</span></div><div class="t m0 x7 h3c yf55 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">LengthException</span></div><div class="t m0 x7 h3c yf56 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">OutOfRangeException</span></div><div class="t m0 x7 h3c yf57 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">Runtime<span class="ff46"> exceptions</span></span></div><div class="t m0 x7 h3c yf58 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">RuntimeException<span class="ff46"> (ex<span class="_ _1"></span>tends <span class="ff4f">Exception</span>)</span></span></div><div class="t m0 x7 h3c yf59 ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">OutOfBoundsException</span></div><div class="t m0 x7 h3c yf5a ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">OverflowException</span></div><div class="t m0 x7 h3c yf5b ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">RangeException</span></div><div class="t m0 x7 h3c yf5c ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">UnderflowException</span></div><div class="t m0 x7 h3c yf5d ff50 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff4f">UnexpectedValueException</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9d" class="pf w2 h4" data-page-no="9d"><div class="pc pc9d w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">13<span class="_ _0"></span>8</div><div class="t m0 x8 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">File H<span class="_ _1"></span>andling</div><div class="t m0 x8 h12 y3c0 ff46 fsa fc2 sc0 ls0 ws0">SPL also offers classes to help with handling files.</div><div class="t m0 x3 h3c y44f ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">SplFileInfo</span> class offers a high-level object<span class="_ _1"></span>-oriented interface to information for </div><div class="t m0 x8 h12 y46e ff46 fsa fc2 sc0 ls0 ws0">an individual file. I<span class="_ _1"></span>t has methods that you c<span class="_ _1"></span>an use to find the name, size<span class="_ _1"></span>, permissions, and </div><div class="t m0 x8 h12 y450 ff46 fsa fc2 sc0 ls0 ws0">other attributes for a file. Y<span class="_ _2"></span>ou can also tell if the file is a directory, if it’<span class="_ _1"></span>s executable<span class="_ _1"></span>, and a </div><div class="t m0 x8 h12 y451 ff46 fsa fc2 sc0 ls0 ws0">lot of other functions.</div><div class="t m0 x3 h3c y46f ff46 fsa fc2 sc0 ls29 ws10f">The <span class="ff4f">SplFileObject</span><span class="ws0"> class offers an object<span class="_ _1"></span>-oriented interface for a file. Y<span class="_ _2"></span>ou can use it to </span></div><div class="t m0 x8 h12 y452 ff46 fsa fc2 sc0 ls29 ws0">open and read fr<span class="_ _1"></span>om a file. There ar<span class="_ _1"></span>e methods to advance or rewind thro<span class="_ _1"></span>ugh the file, seek to </div><div class="t m0 x8 h12 y453 ff46 fsa fc2 sc0 ls29 ws0">specific positions, and other functions that ar<span class="_ _1"></span>e useful when you’re pr<span class="_ _1"></span>ocessing a file.</div><div class="t m0 x3 h3c y454 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">SplTempFileObject</span> class offers an object<span class="_ _1"></span>-oriented interface for a temporary file. </div><div class="t m0 x8 h12 y470 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use this file as you would any other output file, but it is deleted after yo<span class="_ _1"></span>ur script </div><div class="t m0 x8 h12 y455 ff46 fsa fc2 sc0 ls0 ws0">finishes. Y<span class="_ _2"></span>ou could use this when image processing or v<span class="_ _1"></span>erifying file uploads, for example.</div><div class="t m0 x8 h26 yf5e ff46 fse fc2 sc0 ls0 ws0">ArrayObject</div><div class="t m0 x8 h12 yf5f ff46 fsa fc2 sc0 ls0 ws0">The SPL also includes miscellaneous classes and interfaces. The first of these<span class="_ _1"></span>, the </div><div class="t m0 x8 h3c yf60 ff4f fsa fc2 sc0 ls0 ws0">ArrayObject<span class="ff46">, allows objects to work as arrays<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c yf61 ff46 fsa fc2 sc0 ls0 ws0">When you construct an <span class="ff4f">ArrayObject</span>, you can pass an arra<span class="_ _1"></span>y as its parameter<span class="_ _2"></span>. The </div><div class="t m0 x8 h12 yf62 ff46 fsa fc2 sc0 ls0 ws0">resulting object will ha<span class="_ _1"></span>ve methods on it that mimic the PHP array functions<span class="_ _1"></span>.</div><div class="t m0 x3 h3c yf63 ff46 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e quite a few limitations to the <span class="ff4f">ArrayObject</span> but one of the strengths is th<span class="_ _1"></span>at </div><div class="t m0 x8 h12 yf64 ff46 fsa fc2 sc0 ls0 ws0">you’re a<span class="_ _1"></span>ble to define your own way of itera<span class="_ _1"></span>ting through it.</div><div class="t m0 x8 h26 yf65 ff46 fse fc2 sc0 ls0 ws0">Obser<span class="_ _0"></span>ver P<span class="_ _1"></span>attern</div><div class="t m0 x8 h3c yf66 ff46 fsa fc2 sc0 ls0 ws0">Finally, let’<span class="_ _2"></span>s look at two interfaces included in the SPL—<span class="ff4f">SplObserver</span> and <span class="ff4f">SplSubject</span>. </div><div class="t m0 x8 h12 yf67 ff46 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t these are interfaces and not classes, so you’ll need to implemen<span class="_ _1"></span>t the actual </div><div class="t m0 x8 h12 yf68 ff46 fsa fc2 sc0 ls0 ws0">behavior<span class="_ _11"></span>.</div><div class="t m0 x3 h12 yf69 ff46 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ogether these two interfaces implement the obser<span class="_ _0"></span>ver pattern.</div><div class="t m0 x3 h12 yf6a ff46 fsa fc2 sc0 ls0 ws0">The observer pattern is a software design pattern in which an object, c<span class="_ _1"></span>alled </div><div class="t m0 x8 h12 yf6b ff46 fsa fc2 sc0 ls0 ws0">the <span class="ff52 ls49 ws123">subject</span>, maintains a list of its dependents, called <span class="ff52">observers</span>, and notifies them </div><div class="t m0 x8 h12 yf6c ff46 fsa fc2 sc0 ls0 ws0">automaticall<span class="_ _1"></span>y of any state changes<span class="_ _1"></span>, usually by calling one of their methods<span class="_ _1"></span>. This pattern is </div><div class="t m0 x8 h12 yf6d ff46 fsa fc2 sc0 ls0 ws0">mainly used to implement distributed event handlin<span class="_ _1"></span>g systems.</div><div class="t m0 x3 h12 yf6e ff46 fsa fc2 sc0 ls0 ws0">Using these interfaces will make your code mor<span class="_ _1"></span>e portable because other libraries will </div><div class="t m0 x8 h12 yf6f ff46 fsa fc2 sc0 ls0 ws0">be able to interact with your subject and observers.</div><div class="t m0 x8 h19 yf70 ff4e fsd fc2 sc0 ls0 ws0">Generators</div><div class="t m0 x8 h12 yf71 ff46 fsa fc2 sc0 ls0 ws0">Generators pro<span class="_ _1"></span>vide you with an easy way to cr<span class="_ _1"></span>eate iterator objects<span class="_ _1"></span>.</div><div class="t m0 x3 h12 yf72 ff46 fsa fc2 sc0 ls0 ws0">The advantage to using an iter<span class="_ _1"></span>ator with a generator is that y<span class="_ _1"></span>ou can build an object </div><div class="t m0 x8 h12 yf73 ff46 fsa fc2 sc0 ls0 ws0">that you can tr<span class="_ _1"></span>averse o<span class="_ _1"></span>ver without needing to calculate the entire da<span class="_ _1"></span>ta set. This saves </div><div class="t m0 x8 h12 yf74 ff46 fsa fc2 sc0 ls0 ws0">processing time and memory.</div><div class="t m0 x3 h12 yf75 ff46 fsa fc2 sc0 ls0 ws0">The use-case could be to replace a function tha<span class="_ _1"></span>t normally returns an array. T<span class="_ _1"></span>he </div><div class="t m0 x8 h12 yf76 ff46 fsa fc2 sc0 ls0 ws0">function would calculate all the values<span class="_ _1"></span>, allocating an array v<span class="_ _1"></span>ariable to store them, and </div><div class="t m0 x8 h12 yf77 ff46 fsa fc2 sc0 ls0 ws0">return the arra<span class="_ _1"></span>y.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9e" class="pf w2 h4" data-page-no="9e"><div class="pc pc9e w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls18 wsf4">139</div><div class="t m0 x1a h12 y1b8 ff46 fsa fc2 sc0 ls0 ws0">A generator only calcula<span class="_ _1"></span>tes and stores one value and yields it to the iter<span class="_ _1"></span>ator<span class="_ _2"></span>. When </div><div class="t m0 x3 h12 y1b9 ff46 fsa fc2 sc0 ls0 ws0">the iterator r<span class="_ _1"></span>equires the next value<span class="_ _1"></span>, it calls the generator<span class="_ _2"></span>. When the generator runs out of </div><div class="t m0 x3 h12 y1ba ff46 fsa fc2 sc0 ls0 ws0">values, it can either j<span class="_ _1"></span>ust exit or return a final value<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1bb ff46 fsa fc2 sc0 ls0 ws0">Generators can be itera<span class="_ _1"></span>ted over as with any iterator<span class="_ _11"></span>, as in this example:</div><div class="t m0 x3 h3c y1bd ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1be ff4f fsa fc2 sc0 ls0 ws0">function generator() {</div><div class="t m0 x3 h3c y1bf ff4f fsa fc2 sc0 ls0 ws0">    for ($i = 0; $i &lt; 99; $i++) {</div><div class="t m0 x3 h3c y1c0 ff4f fsa fc2 sc0 ls0 ws0">        yield $i;</div><div class="t m0 x3 h3c y1c1 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y1c2 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c4 ff4f fsa fc2 sc0 ls0 ws0">foreach (generator() as $value) {</div><div class="t m0 x3 h3c y1c5 ff4f fsa fc2 sc0 ls0 ws0">    echo $value . &quot; &quot;;</div><div class="t m0 x3 h3c y1c6 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h26 y483 ff46 fse fc2 sc0 ls0 ws0">Yield K<span class="_ _1"></span>eyword</div><div class="t m0 x3 h3c y484 ff46 fsa fc2 sc0 ls0 ws0">The <span class="ff4f">yield</span> keyword is like a function r<span class="_ _1"></span>eturn, except that it is used to yield a value back to </div><div class="t m0 x3 h12 y485 ff46 fsa fc2 sc0 ls0 ws0">the iterator while pa<span class="_ _1"></span>using execution of the generator<span class="_ _2"></span>.</div><div class="t m0 x1a h12 yf78 ff46 fsa fc2 sc0 ls0 ws0">The scope of the generator is main<span class="_ _1"></span>tained between calls. V<span class="_ _2"></span>ar<span class="_ _0"></span>iables will not lose their </div><div class="t m0 x3 h12 y486 ff46 fsa fc2 sc0 ls0 ws0">value after the generator yields<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y488 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c yf79 ff4f fsa fc2 sc0 ls0 ws0">function exampleGenerator() {</div><div class="t m0 x3 h3c y489 ff4f fsa fc2 sc0 ls0 ws0">  // some functions</div><div class="t m0 x3 h3c y48a ff4f fsa fc2 sc0 ls0 ws0">  $data = yield $value;</div><div class="t m0 x3 h3c y48b ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h26 y4c4 ff46 fse fc2 sc0 ls0 ws0">Yieldin<span class="_ _1"></span>g with Keys</div><div class="t m0 x3 h12 y4c5 ff46 fsa fc2 sc0 ls0 ws0">It is possible to yield key-<span class="_ _1"></span>value pairs th<span class="_ _1"></span>at perform as associative arrays for functions using </div><div class="t m0 x3 h12 y4c6 ff46 fsa fc2 sc0 ls0 ws0">the generator<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y4c7 ff46 fsa fc2 sc0 ls0 ws0">If you don’t explicitly yield with keys, then PHP will pair yielded values with </div><div class="t m0 x3 h12 y4c8 ff46 fsa fc2 sc0 ls0 ws0">increasing sequential keys<span class="_ _1"></span>, just as for an enumera<span class="_ _1"></span>tive array.</div><div class="t m0 x1a h12 y4c9 ff46 fsa fc2 sc0 ls0 ws0">The syntax to yield a key-<span class="_ _1"></span>value pair is similar to declaring associative arr<span class="_ _1"></span>ays<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y4cb ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y4cc ff4f fsa fc2 sc0 ls0 ws0">function myGenerator() {</div><div class="t m0 x3 h3c y4cd ff4f fsa fc2 sc0 ls0 ws0">    // some functions</div><div class="t m0 x3 h3c y4ce ff4f fsa fc2 sc0 ls0 ws0">    yield $key =&gt; $value;</div><div class="t m0 x3 h3c y4cf ff4f fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9f" class="pf w2 h4" data-page-no="9f"><div class="pc pc9f w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _72"></span>0</div><div class="t m0 x8 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">Yieldin<span class="_ _1"></span>g NULL</div><div class="t m0 x8 h3c y3c0 ff46 fsa fc2 sc0 ls0 ws0">Calling yield without an argument c<span class="_ _1"></span>auses it to yield a <span class="ff4f">NULL</span> value with an automatic </div><div class="t m0 x8 h12 y44f ff46 fsa fc2 sc0 ls0 ws0">increasing sequential key.</div><div class="t m0 x8 h26 yf7a ff46 fse fc2 sc0 ls0 ws0">Yieldin<span class="_ _1"></span>g by Refer<span class="_ _1"></span>ence</div><div class="t m0 x8 h12 yf7b ff46 fsa fc2 sc0 ls0 ws0">Generator functions can yield variables by r<span class="_ _1"></span>eference and the syntax to do so is to pr<span class="_ _1"></span>epend </div><div class="t m0 x8 h12 yf7c ff46 fsa fc2 sc0 ls0 ws0">an ampersand to the function name<span class="_ _1"></span>.</div><div class="t m0 x8 h3c yf7d ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yf7e ff4f fsa fc2 sc0 ls0 ws0">function &amp;referenceGenerator() {</div><div class="t m0 x8 h3c yf7f ff4f fsa fc2 sc0 ls0 ws0">    // some functions</div><div class="t m0 x8 h3c yf80 ff4f fsa fc2 sc0 ls0 ws0">    yield $value;</div><div class="t m0 x8 h3c yf81 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h26 yf82 ff46 fse fc2 sc0 ls0 ws0">Returning fr<span class="_ _1"></span>om a Generator</div><div class="t m0 x8 h12 yf83 ff46 fsa fc2 sc0 ls0 ws0">After your generator h<span class="_ _1"></span>as finished processing, you can r<span class="_ _1"></span>eturn a value from it<span class="_ _1"></span>. This makes it </div><div class="t m0 x8 h12 yf84 ff46 fsa fc2 sc0 ls0 ws0">more explicit as to wha<span class="_ _1"></span>t the final value of the generator was<span class="_ _1"></span>.</div><div class="t m0 x8 h3c yf85 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yf86 ff4f fsa fc2 sc0 ls0 ws0">function sowCrops() { return &apos;wheat&apos;; }</div><div class="t m0 x8 h3c yf87 ff4f fsa fc2 sc0 ls0 ws0">function millWheat() { return &apos;flour&apos;; }</div><div class="t m0 x8 h3c yf88 ff4f fsa fc2 sc0 ls0 ws0">function bake($flour) { return &apos;cupcake&apos;; }</div><div class="t m0 x8 h3c yf89 ff4f fsa fc2 sc0 ls0 ws0">function generator() {</div><div class="t m0 x8 h3c yf8a ff4f fsa fc2 sc0 ls0 ws0">    $wheat = yield sowCrops();</div><div class="t m0 x8 h3c yf8b ff4f fsa fc2 sc0 ls0 ws0">    $flour = yield millWheat();</div><div class="t m0 x8 h3c yf8c ff4f fsa fc2 sc0 ls0 ws0">    return bake($flour);</div><div class="t m0 x8 h3c yf8d ff4f fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x8 h3c yf8e ff4f fsa fc2 sc0 ls0 ws0">$gen = generator();</div><div class="t m0 x8 h3c yf8f ff4f fsa fc2 sc0 ls0 ws0">foreach ($gen as $key =&gt; $value) {</div><div class="t m0 x8 h3c yf90 ff4f fsa fc2 sc0 ls0 ws0">    echo $key . &apos; =&gt; &apos; . $value . PHP_EOL;</div><div class="t m0 x8 h3c yf91 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yf92 ff4f fsa fc2 sc0 ls0 ws0">echo $gen-&gt;getReturn();</div><div class="t m0 x8 h3c yf93 ff4f fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h3c yf94 ff4f fsa fc2 sc0 ls0 ws0">0 =&gt; wheat</div><div class="t m0 x8 h3c yf95 ff4f fsa fc2 sc0 ls0 ws0">1 =&gt; flour</div><div class="t m0 x8 h3c yf96 ff4f fsa fc2 sc0 ls0 ws0">cupcake</div><div class="t m0 x8 h3c yf97 ff4f fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h12 yf98 ff46 fsa fc2 sc0 ls0 ws0">This syntax makes it explicit wh<span class="_ _1"></span>at the return value of the gener<span class="_ _1"></span>ator was. W<span class="_ _1"></span>ithout it, </div><div class="t m0 x8 h12 yf99 ff46 fsa fc2 sc0 ls0 ws0">you would need to assume that the last yielded value w<span class="_ _1"></span>as the return value<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa0" class="pf w2 h4" data-page-no="a0"><div class="pc pca0 w2 h4"><img class="bi x3 yf9a w5 h32" alt="" src="bga0.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _0"></span>1</div><div class="t m0 x3 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">Generator Delegation</div><div class="t m0 x3 h12 y3c0 ff46 fsa fc2 sc0 ls0 ws0">Generator delegation let’<span class="_ _2"></span>s you delegate the res<span class="_ _1"></span>ponsibility for processing values to another </div><div class="t m0 x3 h12 y44f ff46 fsa fc2 sc0 ls0 ws0">tra<span class="_ _1"></span>versable object or array.</div><div class="t m0 x1a h3c y46e ff46 fsa fc2 sc0 ls0 ws0">The syntax to do so is <span class="ff4f">yield from &lt;expression&gt;</span>:</div><div class="t m0 x3 h3c y451 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y46f ff4f fsa fc2 sc0 ls0 ws0">function generator() {</div><div class="t m0 x3 h3c y452 ff4f fsa fc2 sc0 ls0 ws0">    $a = [1,2,3];</div><div class="t m0 x3 h3c y453 ff4f fsa fc2 sc0 ls0 ws0">    yield from $a;</div><div class="t m0 x3 h3c y454 ff4f fsa fc2 sc0 ls0 ws0">    yield from range(4,6);</div><div class="t m0 x3 h3c y470 ff4f fsa fc2 sc0 ls0 ws0">    yield from sevenAteNine();</div><div class="t m0 x3 h3c y455 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y456 ff4f fsa fc2 sc0 ls0 ws0">function sevenAteNine() {</div><div class="t m0 x3 h3c y457 ff4f fsa fc2 sc0 ls0 ws0">    for ($i=7; $i&lt;10;$i++) {</div><div class="t m0 x3 h3c y499 ff4f fsa fc2 sc0 ls0 ws0">        yield $i;</div><div class="t m0 x3 h3c y458 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y459 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y45a ff4f fsa fc2 sc0 ls0 ws0">$gen = generator();</div><div class="t m0 x3 h3c y45b ff4f fsa fc2 sc0 ls0 ws0">foreach ($gen as $value) {</div><div class="t m0 x3 h3c y45c ff4f fsa fc2 sc0 ls0 ws0">    echo $value . PHP_EOL;</div><div class="t m0 x3 h3c y49a ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 y45e ff46 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we’re using thr<span class="_ _1"></span>ee ways to delegate genera<span class="_ _1"></span>tion to another travers<span class="_ _1"></span>able </div><div class="t m0 x3 h12 y45f ff46 fsa fc2 sc0 ls0 ws0">object or array.</div><div class="t m0 x1a h12 y460 ff46 fsa fc2 sc0 ls0 ws0">The result of running this code is to coun<span class="_ _1"></span>t from 1 to 9.</div><div class="t m0 x3 h19 yf9b ff4e fsd fc2 sc0 ls0 ws0">T<span class="_ _11"></span>r<span class="_ _1"></span>aits</div><div class="t m0 x3 h12 yf9c ff46 fsa fc2 sc0 ls0 ws0">Traits were in<span class="_ _1"></span>troduced in PHP 5.4.0 and are designed to alleviate some of the limitations </div><div class="t m0 x3 h12 yf9d ff46 fsa fc2 sc0 ls0 ws0">of a single inheritance language.</div><div class="t m0 x23 h10 yf9e ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Note<span class="ff4b"> <span class="_ _2c"> </span> <span class="_ _1"></span>T<span class="_ _2"></span>raits do not satisfy the “is-a”<span class="_ _2"></span> rela<span class="_ _0"></span>tionship of true inheritance.<span class="_ _1"></span> If you’re familiar </span></span></span></div><div class="t m0 x3 h10 yf9f ff4b fs6 fc2 sc0 ls0 ws0">with mixins from other languages,<span class="_ _1"></span> they are more similar to those.</div><div class="t m0 x1a h12 yfa0 ff46 fsa fc2 sc0 ls0 ws0">A trait contains a set of methods and properties just lik<span class="_ _1"></span>e a class, but cannot be </div><div class="t m0 x3 h12 yfa1 ff46 fsa fc2 sc0 ls0 ws0">instantiated by itself<span class="_ _1"></span>. Instead, the trait is included into a clas<span class="_ _1"></span>s and the class can then use </div><div class="t m0 x3 h12 yfa2 ff46 fsa fc2 sc0 ls0 ws0">its methods and properties as if they were declared in the class itself<span class="_ _1"></span>.</div><div class="t m0 x1a h12 yfa3 ff46 fsa fc2 sc0 ls0 ws0">In other words<span class="_ _1"></span>, traits are fla<span class="_ _1"></span>ttened into a class and it doesn’t matter if a method is </div><div class="t m0 x3 h12 yfa4 ff46 fsa fc2 sc0 ls0 ws0">defined in the trait or in the class that uses the tr<span class="_ _1"></span>ait. Y<span class="_ _2"></span>ou could copy and paste the code </div><div class="t m0 x3 h12 yfa5 ff46 fsa fc2 sc0 ls0 ws0">from the trait in<span class="_ _1"></span>to the class and it would be used in the same manner<span class="_ _2"></span>.</div><div class="t m0 x1a h12 yfa6 ff46 fsa fc2 sc0 ls0 ws0">The code that is included in a trait is in<span class="_ _1"></span>tended to encapsulate reus<span class="_ _1"></span>able properties </div><div class="t m0 x3 h12 yfa7 ff46 fsa fc2 sc0 ls0 ws0">and methods that can be applied to multiple clas<span class="_ _1"></span>ses.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa1" class="pf w2 h4" data-page-no="a1"><div class="pc pca1 w2 h4"><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _0"></span>2</div><div class="t m0 x8 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">Declaring and Using Traits</div><div class="t m0 x8 h3c y3c0 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e use the <span class="ff4f">trait</span> keyword to declare a tr<span class="_ _1"></span>ait<span class="_ _0"></span>; to include it in a class, we employ the <span class="ff4f">use</span> </div><div class="t m0 x8 h12 y44f ff46 fsa fc2 sc0 ls0 ws0">keyword. A class ma<span class="_ _1"></span>y use multiple traits.</div><div class="t m0 x8 h3c y450 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y451 ff4f fsa fc2 sc0 ls0 ws0">trait Singleton</div><div class="t m0 x8 h3c y46f ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y452 ff4f fsa fc2 sc0 ls0 ws0">    private static $instance;</div><div class="t m0 x8 h3c y454 ff4f fsa fc2 sc0 ls0 ws0">    public static function getInstance() {</div><div class="t m0 x8 h3c y470 ff4f fsa fc2 sc0 ls0 ws0">        if (!(self::$instance instanceof self)) {</div><div class="t m0 x8 h3c y455 ff4f fsa fc2 sc0 ls0 ws0">            self::$instance = new self;</div><div class="t m0 x8 h3c y456 ff4f fsa fc2 sc0 ls0 ws0">        }</div><div class="t m0 x8 h3c y457 ff4f fsa fc2 sc0 ls0 ws0">        return self::$instance;</div><div class="t m0 x8 h3c y499 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y458 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y45a ff4f fsa fc2 sc0 ls0 ws0">class UsingTraitExample</div><div class="t m0 x8 h3c y45b ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y45c ff4f fsa fc2 sc0 ls0 ws0">    use Singleton;</div><div class="t m0 x8 h3c y49a ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y45e ff4f fsa fc2 sc0 ls0 ws0">$object = UsingTraitExample::getInstance();</div><div class="t m0 x8 h3c y45f ff4f fsa fc2 sc0 ls0 ws0">var_dump($object instanceof UsingTraitExample); // true</div><div class="t m0 x3 h12 y461 ff46 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we declare a trait that includes the methods and pr<span class="_ _1"></span>operties needed </div><div class="t m0 x8 h12 y462 ff46 fsa fc2 sc0 ls0 ws0">to implement the singleton pat<span class="_ _1"></span>tern.</div><div class="t m0 x3 h12 y463 ff46 fsa fc2 sc0 ls0 ws0">When we want to make a new class follo<span class="_ _1"></span>w the singleton pattern, we can do so just </div><div class="t m0 x8 h12 y49b ff46 fsa fc2 sc0 ls0 ws0">by using the trait<span class="_ _1"></span>. W<span class="_ _1"></span>e don’t have to implemen<span class="_ _1"></span>t the pattern within the class, and we don’t </div><div class="t m0 x8 h12 y464 ff46 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e to include the pattern in the inheritance hierarch<span class="_ _1"></span>y.</div><div class="t m0 x8 h26 yfa8 ff46 fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>amespacing Tr<span class="_ _1"></span>aits</div><div class="t m0 x8 h12 yfa9 ff46 fsa fc2 sc0 ls0 ws0">PHP will generate a fatal error if tr<span class="_ _1"></span>aits have conflictin<span class="_ _1"></span>g names, but tr<span class="_ _1"></span>aits may be defined in </div><div class="t m0 x8 h12 yfaa ff46 fsa fc2 sc0 ls0 ws0">namespaces.</div><div class="t m0 x3 h12 yfab ff46 fsa fc2 sc0 ls0 ws0">If you are trying to use the trait in a class tha<span class="_ _1"></span>t is not in the same namespace </div><div class="t m0 x8 h12 yfac ff46 fsa fc2 sc0 ls0 ws0">hierarch<span class="_ _1"></span>y, then you will need to specify the fully-qualified name when you include it.</div><div class="t m0 x8 h26 y510 ff46 fse fc2 sc0 ls0 ws0">Inheritance and Precedence</div><div class="t m0 x8 h12 y511 ff46 fsa fc2 sc0 ls0 ws0">Traits ma<span class="_ _1"></span>y not extend other traits or classes, but y<span class="_ _1"></span>ou can simply use a trait inside another<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y512 ff46 fsa fc2 sc0 ls0 ws0">Methods declared in a class usin<span class="_ _1"></span>g a trait take precedence o<span class="_ _1"></span>ver methods declared in </div><div class="t m0 x8 h12 y513 ff46 fsa fc2 sc0 ls0 ws0">the trait. H<span class="_ _1"></span>owever<span class="_ _2"></span>, methods in a trait will override methods inherited by a class.</div><div class="t m0 x3 h12 y514 ff46 fsa fc2 sc0 ls0 ws0">Expressed more simply, pr<span class="_ _1"></span>ecedence in traits and classes is as follows:</div><div class="t m0 x3 h12 yfad ff46 fsa fc2 sc0 ls0 ws0">Class members <span class="ff50">&gt;</span> trait methods <span class="ff50">&gt;</span> inherited methods</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa2" class="pf w2 h4" data-page-no="a2"><div class="pc pca2 w2 h4"><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _0"></span>3</div><div class="t m0 x3 h26 y3bf ff46 fse fc2 sc0 ls0 ws0">Conflict Resolution</div><div class="t m0 x3 h12 y3c0 ff46 fsa fc2 sc0 ls0 ws0">PHP will generate a fatal error if two tr<span class="_ _1"></span>aits attempt to insert a method with the same name </div><div class="t m0 x3 h12 y44f ff46 fsa fc2 sc0 ls0 ws0">unless you explicitly resolve the conflict<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y46e ff46 fsa fc2 sc0 ls0 ws0">PHP allows you to use the <span class="ff4f">insteadof</span> opera<span class="_ _1"></span>tor to specify which of the conflicting </div><div class="t m0 x3 h12 y450 ff46 fsa fc2 sc0 ls0 ws0">methods you want it to use<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y451 ff46 fsa fc2 sc0 ls0 ws0">This lets you exclude one of the tr<span class="_ _1"></span>ait methods, but if you want to k<span class="_ _1"></span>eep both methods, </div><div class="t m0 x3 h3c y46f ff46 fsa fc2 sc0 ls0 ws0">you need to use the <span class="ff4f">as</span> operator<span class="_ _11"></span>. The <span class="ff4f">as</span> operator allows you to include one of the </div><div class="t m0 x3 h12 y452 ff46 fsa fc2 sc0 ls0 ws0">conflicting methods, but use a differ<span class="_ _1"></span>ent name to refer<span class="_ _1"></span>ence it.</div><div class="t m0 x1a h12 y453 ff46 fsa fc2 sc0 ls0 ws0">Here is a r<span class="_ _1"></span>ather long example that sho<span class="_ _1"></span>ws this usage:</div><div class="t m0 x3 h3c y470 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y455 ff4f fsa fc2 sc0 ls0 ws0"> trait Dog {</div><div class="t m0 x3 h3c y456 ff4f fsa fc2 sc0 ls0 ws0">    public function makeNoise() {</div><div class="t m0 x3 h3c y457 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;Woof&quot;;</div><div class="t m0 x3 h3c y499 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y459 ff4f fsa fc2 sc0 ls0 ws0">    public function wantWalkies() {</div><div class="t m0 x3 h3c y45a ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;Yes please!&quot;;</div><div class="t m0 x3 h3c y45b ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y45c ff4f fsa fc2 sc0 ls0 ws0"> }</div><div class="t m0 x3 h3c y45d ff4f fsa fc2 sc0 ls0 ws0">trait Cat {</div><div class="t m0 x3 h3c y45e ff4f fsa fc2 sc0 ls0 ws0">    public function makeNoise() {</div><div class="t m0 x3 h3c y45f ff4f fsa fc2 sc0 ls0 ws0">       echo &quot;Purr&quot;;</div><div class="t m0 x3 h3c y460 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y462 ff4f fsa fc2 sc0 ls0 ws0">    public function wantWalkies() {</div><div class="t m0 x3 h3c y463 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;No thanks!&quot;;</div><div class="t m0 x3 h3c y49b ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y464 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y466 ff4f fsa fc2 sc0 ls0 ws0">class DomesticPet</div><div class="t m0 x3 h3c y467 ff4f fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c y468 ff4f fsa fc2 sc0 ls0 ws0">    use Dog, Cat {</div><div class="t m0 x3 h3c y469 ff4f fsa fc2 sc0 ls0 ws0">        Cat::makeNoise insteadof Dog;</div><div class="t m0 x3 h3c y46a ff4f fsa fc2 sc0 ls0 ws0">        Cat::wantWalkies as kittyWalk;</div><div class="t m0 x3 h3c y46b ff4f fsa fc2 sc0 ls0 ws0">        Dog::wantWalkies insteadof Cat;</div><div class="t m0 x3 h3c y46c ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y49c ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c ye3e ff4f fsa fc2 sc0 ls0 ws0">$obj = new DomesticPet();</div><div class="t m0 x3 h3c y49e ff4f fsa fc2 sc0 ls0 ws0">$obj-&gt;makeNoise();   // Purr</div><div class="t m0 x3 h3c y49f ff4f fsa fc2 sc0 ls0 ws0">$obj-&gt;wantWalkies(); // Yes please!</div><div class="t m0 x3 h3c y4a0 ff4f fsa fc2 sc0 ls0 ws0">$obj-&gt;kittyWalk();   // No thanks!</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa3" class="pf w2 h4" data-page-no="a3"><div class="pc pca3 w2 h4"><img class="bi x8 yfae w3 h72" alt="" src="bga3.png"/><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _72"></span>4</div><div class="t m0 x1e h10 y198 ff4b fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff4c">■<span class="_ _c"> </span><span class="ff4d fc2">Note<span class="ff4b"> <span class="_ _2c"> </span> It is not enough to use <span class="ff4f fsa">as</span> by itself.<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou still need to use <span class="ff4f fsa">insteadof</span> to exclude </span></span></span></div><div class="t m0 x8 h10 y199 ff4b fs6 fc2 sc0 ls0 ws0">the method you don’t want to use,<span class="_ _1"></span> and you can only then use <span class="ff4f fsa">as</span> to make a new way to </div><div class="t m0 x8 h10 yfaf ff4b fs6 fc2 sc0 ls0 ws0">reference the old method.</div><div class="t m0 x8 h26 yfb0 ff46 fse fc2 sc0 ls0 ws0">Visibility</div><div class="t m0 x8 h3c yfb1 ff46 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can apply a visibility modifier to functions by extending the <span class="ff4f">use</span> keyword, as in this </div><div class="t m0 x8 h12 yfb2 ff46 fsa fc2 sc0 ls0 ws0">example:</div><div class="t m0 x8 h3c yfb3 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c yfb4 ff4f fsa fc2 sc0 ls0 ws0">trait Example {</div><div class="t m0 x8 h3c yfb5 ff4f fsa fc2 sc0 ls0 ws0">    public function myFunction() {</div><div class="t m0 x8 h3c yfb6 ff4f fsa fc2 sc0 ls0 ws0">        // do stuff</div><div class="t m0 x8 h3c yfb7 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c yfb8 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yfb9 ff4f fsa fc2 sc0 ls0 ws0">class VisbilityExample {</div><div class="t m0 x8 h3c yfba ff4f fsa fc2 sc0 ls0 ws0">    use Example {</div><div class="t m0 x8 h3c yfbb ff4f fsa fc2 sc0 ls0 ws0">        myFunction as protected;</div><div class="t m0 x8 h3c yfbc ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c yfbd ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c yfbe ff4f fsa fc2 sc0 ls0 ws0">$obj = new VisbilityExample();</div><div class="t m0 x8 h3c yfbf ff4f fsa fc2 sc0 ls0 ws0">$obj-&gt;myFunction(); // PHP Fatal error:  Call to protected method</div><div class="t m0 x3 h12 yfc0 ff46 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e specify that the method should be made pr<span class="_ _1"></span>otected in the class, even though it is </div><div class="t m0 x8 h12 yfc1 ff46 fsa fc2 sc0 ls0 ws0">declared as public in the trait<span class="_ _1"></span>. Y<span class="_ _1"></span>ou can inc<span class="_ _1"></span>lude multiple functions in the block, each of </div><div class="t m0 x8 h12 yfc2 ff46 fsa fc2 sc0 ls0 ws0">which may ha<span class="_ _1"></span>ve its own visibility.</div><div class="t m0 x4a hf yfc3 ff49 fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">5</span> QUIZ</div><div class="t m0 x4b h10 yfc4 ff4b fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Which of these is NOT a valid PHP class name?</div><div class="t m0 x4b h3c yfc5 ff4f fsa fc2 sc0 ls0 ws0">exampleClass</div><div class="t m0 x4b h3c yfc6 ff4f fsa fc2 sc0 ls0 ws0">Example_Class</div><div class="t m0 x4b h3c yfc7 ff4f fsa fc2 sc0 ls0 ws0">Example_1_Class</div><div class="t m0 x4b h3c yfc8 ff4f fsa fc2 sc0 ls0 ws0">1_Example_Class</div><div class="t m0 x4b h10 yfc9 ff4b fs6 fc2 sc0 ls0 ws0">They are all valid class names</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_5"><div class="d m1" style="border-style:none;position:absolute;left:222.216000px;bottom:223.955000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa4" class="pf w2 h4" data-page-no="a4"><div class="pc pca4 w2 h4"><img class="bi x5 yfca w14 h73" alt="" src="bga4.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _0"></span>5</div><div class="t m0 x5 h10 y5ae ff4b fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>What will the property </div><div class="t m0 x32 h10 y609 ff4f fsa fc2 sc0 ls0 ws0">$name<span class="ff4b fs6"> contain after this code is run?</span></div><div class="t m0 x5 h3c y5af ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y5b0 ff4f fsa fc2 sc0 ls0 ws0">class SleepyHead {</div><div class="t m0 x5 h3c y5b1 ff4f fsa fc2 sc0 ls0 ws0">    protected $name = &quot;Dozy&quot;;</div><div class="t m0 x5 h3c y5ce ff4f fsa fc2 sc0 ls0 ws0">    public function __serialize() {</div><div class="t m0 x5 h3c y5cf ff4f fsa fc2 sc0 ls0 ws0">        $this-&gt;name = &quot;Asleep&quot;;</div><div class="t m0 x5 h3c y5d0 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x5 h3c y5d2 ff4f fsa fc2 sc0 ls0 ws0">    public function __unserialize() {</div><div class="t m0 x5 h3c yfcb ff4f fsa fc2 sc0 ls0 ws0">        $this-&gt;name = &quot;Rested&quot;;</div><div class="t m0 x5 h3c y5d3 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x5 h3c y5d4 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h3c yfcc ff4f fsa fc2 sc0 ls0 ws0">$obj = unserialize(serialize(new SleepyHead()));</div><div class="t m0 x5 h3c yfcd ff4f fsa fc2 sc0 ls0 ws0">Dozy</div><div class="t m0 x5 h3c yfce ff4f fsa fc2 sc0 ls0 ws0">Asleep</div><div class="t m0 x5 h3c yfcf ff4f fsa fc2 sc0 ls0 ws0">Rested</div><div class="t m0 x5 h10 yfd0 ff4b fs6 fc2 sc0 ls0 ws0">This code won’t run</div><div class="t m0 x5 h10 yfd1 ff4b fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>Which of the following statements can we replace the commented line with in </div><div class="t m0 x5 h10 yfd2 ff4b fs6 fc2 sc0 ls0 ws0">order for the script to output <span class="ff4f fsa">&quot;Castor&quot;</span>?</div><div class="t m0 x5 h3c yfd3 ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c yfd4 ff4f fsa fc2 sc0 ls0 ws0">$star = new StdClass;</div><div class="t m0 x5 h3c yfd5 ff4f fsa fc2 sc0 ls0 ws0">// replace this line</div><div class="t m0 x5 h3c yfd6 ff4f fsa fc2 sc0 ls0 ws0">$star-&gt;name = &quot;Castor&quot;;</div><div class="t m0 x5 h3c yfd7 ff4f fsa fc2 sc0 ls0 ws0">$twin-&gt;name = &quot;Pollux&quot;;</div><div class="t m0 x5 h3c yfd8 ff4f fsa fc2 sc0 ls0 ws0">echo $star-&gt;name; // must be Castor</div><div class="t m0 x5 h3c yfd9 ff4f fsa fc2 sc0 ls0 ws0">$twin = $star;</div><div class="t m0 x5 h3c yfda ff4f fsa fc2 sc0 ls0 ws0">$twin = clone($star);</div><div class="t m0 x5 h3c yfdb ff4f fsa fc2 sc0 ls0 ws0">$twin &amp;= $star;</div><div class="t m0 x5 h3c yfdc ff4f fsa fc2 sc0 ls0 ws0">$twin = new clone($star);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa5" class="pf w2 h4" data-page-no="a5"><div class="pc pca5 w2 h4"><img class="bi x4b yfdd w14 h74" alt="" src="bga5.png"/><div class="t m0 x8 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x8 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _72"></span>6</div><div class="t m0 x4b h10 y5ae ff4b fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> Let’<span class="_ _2"></span>s say tha<span class="_ _0"></span>t object <span class="_ _1"></span>A has a property that is an instance of object B.<span class="_ _1"></span> If we clone </div><div class="t m0 x4b h10 ya2e ff4b fs6 fc2 sc0 ls0 ws0">object <span class="_ _1"></span>A,<span class="_ _1"></span> then will PHP also clone B,<span class="_ _2"></span> which is one of its properties?</div><div class="t m0 x4b h10 yfde ff4b fs6 fc2 sc0 ls4a ws124">Ye<span class="_ _72"></span>s</div><div class="t m0 x4b h10 yfdf ff4b fs6 fc2 sc0 ls0 ws0">No</div><div class="t m0 x4b h10 yfe0 ff4b fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can’t clone objects that contain references to other objects</div><div class="t m0 x4b h10 yfe1 ff4b fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou cannot declare two functions with the same name.<span class="_ _1"></span> Choose as many as </div><div class="t m0 x4b h10 yfe2 ff4b fs6 fc2 sc0 ls0 ws0">apply<span class="_ _1"></span>.</div><div class="t m0 x4b h10 yfe3 ff4b fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 yfe4 ff4b fs6 fc2 sc0 ls0 ws0">False; you can dec<span class="_ _1"></span>lare them in different namespaces</div><div class="t m0 x4b h10 yfe5 ff4b fs6 fc2 sc0 ls0 ws0">False; you can dec<span class="_ _1"></span>lare them with different number of parameters in their </div><div class="t m0 x4b h10 y788 ff4b fs6 fc2 sc0 ls0 ws0">constructor and PHP will pick the definition that matches your instantia<span class="_ _0"></span>tion</div><div class="t m0 x4b h10 yfe6 ff4b fs6 fc2 sc0 ls0 ws0">False; you can dec<span class="_ _1"></span>lare them in different scopes</div><div class="t m0 x4b h10 yfe7 ff4b fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>When you call the <span class="ff4f fsa">json_encode</span> function on an object to serialize it,<span class="_ _1"></span> which magic </div><div class="t m0 x4b h10 yfe8 ff4b fs6 fc2 sc0 ls0 ws0">method will PHP call?</div><div class="t m0 x4b h3c yfe9 ff4f fsa fc2 sc0 ls0 ws0">__sleep</div><div class="t m0 x4b h3c yfea ff4f fsa fc2 sc0 ls0 ws0">__wake</div><div class="t m0 x4b h3c yfeb ff4f fsa fc2 sc0 ls0 ws0">__get</div><div class="t m0 x4b h3c yfec ff4f fsa fc2 sc0 ls0 ws0">__clone</div><div class="t m0 x4b h10 yfed ff4b fs6 fc2 sc0 ls0 ws0">None of these</div><div class="t m0 x4b h10 yfee ff4b fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> <span class="_ _1"></span>T<span class="_ _2"></span>rue or false:<span class="_ _1"></span> Interfaces can only specify public methods,<span class="_ _1"></span> but your class can </div><div class="t m0 x4b h10 yfef ff4b fs6 fc2 sc0 ls0 ws0">implement them however you like.</div><div class="t m0 x4b h10 yff0 ff4b fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 yff1 ff4b fs6 fc2 sc0 ls0 ws0">False; interfaces can specify any visibility</div><div class="t m0 x4b h10 yff2 ff4b fs6 fc2 sc0 ls0 ws0">False; you cannot change the visibility when you implement at all</div><div class="t m0 x4b h10 yff3 ff4b fs6 fc2 sc0 ls0 ws0">False; you can only change the visibility to one that is less visible</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa6" class="pf w2 h4" data-page-no="a6"><div class="pc pca6 w2 h4"><img class="bi x3 yff4 w5 h75" alt="" src="bga6.png"/><div class="t m0 x76 h11 y54 ff4b fs9 fc2 sc0 ls0 ws0">CHAPTER 5 <span class="ff4c fc5">■</span> OBJECT<span class="_ _1"></span>-ORIENTED PHP</div><div class="t m0 x21 hd y55 ff46 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _0"></span>7</div><div class="t m0 x5 h10 y609 ff4b fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> <span class="_ _1"></span>What will the output of this code be?</div><div class="t m0 x5 h3c y5af ff4f fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y5b0 ff4f fsa fc2 sc0 ls0 ws0">class World {</div><div class="t m0 x5 h3c y5b1 ff4f fsa fc2 sc0 ls0 ws0">    public static function hello() {</div><div class="t m0 x5 h3c y5b2 ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;Hello &quot; . __CLASS__;</div><div class="t m0 x5 h3c y5ce ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x5 h3c y5cf ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h3c y5d1 ff4f fsa fc2 sc0 ls0 ws0">class Meek extends World {</div><div class="t m0 x5 h3c y5d2 ff4f fsa fc2 sc0 ls0 ws0">    public function __call($method, $arguments) {</div><div class="t m0 x5 h3c yfcb ff4f fsa fc2 sc0 ls0 ws0">        echo &quot;I have the world&quot;;</div><div class="t m0 x5 h3c y5d3 ff4f fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x5 h3c y5d4 ff4f fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h3c y5d5 ff4f fsa fc2 sc0 ls0 ws0">Meek::hello();</div><div class="t m0 x5 h3c yff5 ff4f fsa fc2 sc0 ls0 ws0">Hello World</div><div class="t m0 x5 h3c yff6 ff4f fsa fc2 sc0 ls0 ws0">I have the world</div><div class="t m0 x5 h10 yff7 ff4b fs6 fc2 sc0 ls0 ws0">An error</div><div class="t m0 x5 h10 yff8 ff4b fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 yff9 ff4b fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> <span class="_ _1"></span>The precedence of functions declared in traits,<span class="_ _2"></span> classes,<span class="_ _1"></span> and inherited methods is </div><div class="t m0 x5 h10 yffa ff4b fs6 fc2 sc0 ls0 ws0">which of the following?</div><div class="t m0 x5 h10 yffb ff4b fs6 fc2 sc0 ls0 ws0">Inherited methods <span class="ff4c fsa">➤</span> trait methods <span class="ff4c fsa">➤</span> class members</div><div class="t m0 x5 h10 yffc ff4b fs6 fc2 sc0 ls0 ws0">Class members <span class="ff4c fsa">➤</span> trait methods <span class="ff4c fsa">➤</span> inherited methods</div><div class="t m0 x5 h10 yffd ff4b fs6 fc2 sc0 ls0 ws0">Class members </div><div class="t m0 x6d h10 yffe ff4c fsa fc2 sc0 ls0 ws0">➤<span class="ff4b fs6"> trait methods </span>➤<span class="ff4b fs6"> inherited methods</span></div><div class="t m0 x5 h10 yfff ff4b fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rait methods <span class="ff4c fsa">➤</span> class members <span class="ff4c fsa">➤</span> inherited methods</div><div class="t m0 x5 h10 yce6 ff4b fs6 fc2 sc0 ls0 ws0">Q10:<span class="_ _1"></span> <span class="_ _1"></span>T<span class="_ _2"></span>rue or False:<span class="_ _1"></span> <span class="_ _1"></span>A protected method cannot call private methods,<span class="_ _1"></span> even if they’re </div><div class="t m0 x5 h10 y1000 ff4b fs6 fc2 sc0 ls0 ws0">in the same class.</div><div class="t m0 x5 h10 y1001 ff4b fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y1002 ff4b fs6 fc2 sc0 ls0 ws0">False</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa7" class="pf w2 h4" data-page-no="a7"><div class="pc pca7 w2 h4"><img class="bi x0 y1003 w4 h37" alt="" src="bga7.png"/><div class="t m0 x21 hd y3e ff53 fs6 fc2 sc0 ls19 wsf5">14<span class="_ _0"></span>9</div><div class="t m0 x3 h1b y1ca ff54 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff54 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff55">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff54 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_6<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff56 fse fc2 sc0 ls0 ws0">CHAPTER 6</div><div class="t m0 x3 h1d y1ce ff57 fs7 fc2 sc0 ls0 ws0">Security</div><div class="t m0 x3 h12 y612 ff53 fsa fc2 sc0 ls0 ws0">Security is a major concern for web applications<span class="_ _1"></span>. Even ma<span class="_ _1"></span>jor organizations such as the </div><div class="t m0 x3 h12 y613 ff53 fsa fc2 sc0 ls0 ws0">United N<span class="_ _1"></span>ations have been hac<span class="_ _1"></span>ked using very simple securit<span class="_ _0"></span>y fla<span class="_ _1"></span>ws.</div><div class="t m0 x1a h12 y614 ff53 fsa fc2 sc0 ls0 ws0">I’m of the opinion that ther<span class="_ _1"></span>e is no such thing as a completely secure system<span class="_ _1"></span>. My aim </div><div class="t m0 x3 h12 y615 ff53 fsa fc2 sc0 ls0 ws0">when securing an application is two-fold. First<span class="_ _1"></span>, I aim to make it take as long as possible </div><div class="t m0 x3 h12 y616 ff53 fsa fc2 sc0 ls0 ws0">for an attacker to g<span class="_ _1"></span>ain access. My nex<span class="_ _1"></span>t aim is to minimize the value of any information </div><div class="t m0 x3 h12 y617 ff53 fsa fc2 sc0 ls0 ws0">they can retrieve. I<span class="_ _1"></span>n other words, I never ass<span class="_ _1"></span>ume that my system is impenetr<span class="_ _1"></span>able and I </div><div class="t m0 x3 h12 y618 ff53 fsa fc2 sc0 ls0 ws0">always use defense in depth.</div><div class="t m0 x1a h12 y1004 ff53 fsa fc2 sc0 ls0 ws0">This reduces the feasibility of hac<span class="_ _1"></span>king my application for a hac<span class="_ _1"></span>ker<span class="_ _1"></span>—it will take a </div><div class="t m0 x3 h12 y1005 ff53 fsa fc2 sc0 ls0 ws0">long time to get in, and when they do<span class="_ _1"></span>, they need to expend considerable effort to get any </div><div class="t m0 x3 h12 y1006 ff53 fsa fc2 sc0 ls0 ws0">valuable information.</div><div class="t m0 x1a h12 y1007 ff53 fsa fc2 sc0 ls0 ws0">When you are being ch<span class="_ _1"></span>ased by a tiger you don’t need to run faster than the tiger<span class="_ _2"></span>. Y<span class="_ _2"></span>ou </div><div class="t m0 x3 h12 y1008 ff53 fsa fc2 sc0 ls0 ws0">just need to run faster than the chap next to y<span class="_ _1"></span>ou.</div><div class="t m0 x23 h10 y1009 ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2">Note<span class="ff58"> <span class="_ _2c"> </span> One of the major flaws in security is social engineering.<span class="_ _1"></span> <span class="_ _1"></span>A discussion of social </span></span></span></div><div class="t m0 x3 h10 y100a ff58 fs6 fc2 sc0 ls0 ws0">engineering is not in scope for your Zend exam,<span class="_ _1"></span> but you must always remember that it is not </div><div class="t m0 x3 h10 y100b ff58 fs6 fc2 sc0 ls0 ws0">just your code and servers tha<span class="_ _0"></span>t are entry points to your data.</div><div class="t m0 x3 h19 y100c ff5b fsd fc2 sc0 ls0 ws0">Configuration</div><div class="t m0 x3 h12 y100d ff53 fsa fc2 sc0 ls0 ws0">The best approach when confi<span class="_ _1"></span>guring PHP is to make sure tha<span class="_ _1"></span>t you keep up to date with </div><div class="t m0 x3 h12 y100e ff53 fsa fc2 sc0 ls0 ws0">the releases and use the impro<span class="_ _1"></span>vements they bring.</div><div class="t m0 x1a h12 y100f ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should have a very strong r<span class="_ _1"></span>eason if you are not using the most curren<span class="_ _1"></span>t stable </div><div class="t m0 x3 h12 y1010 ff53 fsa fc2 sc0 ls0 ws0">release of PHP in fa<span class="_ _1"></span>vor of an older version.</div><div class="t m0 x1a h12 y1011 ff53 fsa fc2 sc0 ls0 ws0">Make s<span class="_ _1"></span>ure that you k<span class="_ _1"></span>eep your operating system pa<span class="_ _1"></span>tched. Apply security updates </div><div class="t m0 x3 h12 y1012 ff53 fsa fc2 sc0 ls0 ws0">regularly and mak<span class="_ _1"></span>e sure that yo<span class="_ _1"></span>u keep abreast of security news.</div><div class="t m0 x1a h12 y1013 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should apply other package updates only once you’<span class="_ _1"></span>ve had a chance to make </div><div class="t m0 x3 h12 y1014 ff53 fsa fc2 sc0 ls0 ws0">sure they don’t negativ<span class="_ _1"></span>ely affect your stack or test envir<span class="_ _1"></span>onments. The odds ar<span class="_ _1"></span>e that the </div><div class="t m0 x3 h12 y1015 ff53 fsa fc2 sc0 ls0 ws0">curators of yo<span class="_ _1"></span>ur distro repository will take care not to bork commonly used stacks<span class="_ _1"></span>, but if </div><div class="t m0 x3 h12 y1016 ff53 fsa fc2 sc0 ls0 ws0">you’re usin<span class="_ _1"></span>g an uncommon stack or have installed softwar<span class="_ _1"></span>e from outside your r<span class="_ _1"></span>epo<span class="_ _1"></span>, then </div><div class="t m0 x3 h12 y1017 ff53 fsa fc2 sc0 ls0 ws0">take care when upgr<span class="_ _1"></span>ading.</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa8" class="pf w2 h4" data-page-no="a8"><div class="pc pca8 w2 h4"><img class="bi x8 y653 w15 h76" alt="" src="bga8.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">15<span class="_ _0"></span>0</div><div class="t m0 x8 h26 y3bf ff53 fse fc2 sc0 ls0 ws0">Errors and W<span class="_ _2"></span>arnings</div><div class="t m0 x8 h12 y3c0 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should configure PHP to hide warnings and errors while in pr<span class="_ _1"></span>oduction. Errors and </div><div class="t m0 x8 h12 y3c1 ff53 fsa fc2 sc0 ls0 ws0">warnings can give a person a clue about the intern<span class="_ _1"></span>al workings of your code such as </div><div class="t m0 x8 h12 y531 ff53 fsa fc2 sc0 ls0 ws0">directory names and what libraries you ar<span class="_ _1"></span>e using. This sort of information can help them </div><div class="t m0 x8 h12 y450 ff53 fsa fc2 sc0 ls0 ws0">exploit vulnerabilities in your stac<span class="_ _1"></span>k.</div><div class="t m0 x3 h3c y451 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can set error reporting either in your <span class="ff5c">php.ini</span> file or at runtime with the </div><div class="t m0 x8 h3c y46f ff5c fsa fc2 sc0 ls0 ws0">error_reporting()<span class="ff53"> function. Both take a numeric argument, usuall<span class="_ _1"></span>y in the form of an </span></div><div class="t m0 x8 h12 y452 ff53 fsa fc2 sc0 ls0 ws0">expression built fr<span class="_ _1"></span>om the predefined error constants<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y8a5 ff53 fsa fc2 sc0 ls0 ws0">These are the r<span class="_ _1"></span>ecommended production settings, and the PHP 7.1 default</div><div class="t m0 x59 h15 y1018 ff53 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x7c h12 y1019 ff53 fsa fc2 sc0 ls0 ws0"> </div><div class="t m0 x8 h12 y101a ff53 fsa fc2 sc0 ls0 ws0">production settings:</div><div class="t m0 x8 h20 y101b ff57 fs6 fc2 sc0 ls0 ws0">Setting<span class="_ _a6"> </span>V<span class="_ _1"></span>alue</div><div class="t m0 x8 h3c y101c ff5c fsa fc2 sc0 ls0 ws0">display_errors<span class="_ _80"> </span>Off</div><div class="t m0 x8 h3c y101d ff5c fsa fc2 sc0 ls0 ws0">log_errors<span class="_ _3b"> </span>On</div><div class="t m0 x8 h3c y101e ff5c fsa fc2 sc0 ls0 ws0">error_reporting<span class="_ _82"> </span>E_ALL &amp; ~E_DEPRECATED &amp; ~E_STRICT</div><div class="t m0 x3 h12 y101f ff53 fsa fc2 sc0 ls0 ws0">These are also the settings tha<span class="_ _1"></span>t you can assume to be set in your Zend exam, unless </div><div class="t m0 x8 h12 y1020 ff53 fsa fc2 sc0 ls0 ws0">of course the question states otherwise.</div><div class="t m0 x3 h3c y1021 ff53 fsa fc2 sc0 ls0 ws0">In development, y<span class="_ _1"></span>our <span class="ff5c">error_reporting</span> setting should be <span class="ff5c">E_ALL</span> and your code must </div><div class="t m0 x8 h12 y1022 ff53 fsa fc2 sc0 ls0 ws0">run without warnings—don’t use deprecated functions<span class="_ _1"></span>.</div><div class="t m0 x8 h1c y1023 ff5b fse fc2 sc0 ls0 ws0">How the Flags <span class="_ _2"></span>Work</div><div class="t m0 x8 h12 y1024 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou might be wondering how the flags are set and why we’r<span class="_ _1"></span>e using bitwise operators on </div><div class="t m0 x8 h12 y1025 ff53 fsa fc2 sc0 ls0 ws0">them. I’ll try to explain just to make it easier to under<span class="_ _1"></span>stand your config settings.</div><div class="t m0 x3 h12 y1026 ff53 fsa fc2 sc0 ls0 ws0">Picture a num<span class="_ _1"></span>ber in binary for<span class="_ _0"></span>ma<span class="_ _1"></span>t as a series of 1s and 0s. Each position in the binary </div><div class="t m0 x8 h12 y1027 ff53 fsa fc2 sc0 ls0 ws0">number is a flag tha<span class="_ _1"></span>t is associated with an option. If the number in that position is 1, then </div><div class="t m0 x8 h12 y1028 ff53 fsa fc2 sc0 ls0 ws0">the flag is on and the option is set.</div><div class="t m0 x3 h3c y1029 ff53 fsa fc2 sc0 ls0 ws0">Now, <span class="ff5c">E_ALL</span> is a n<span class="_ _1"></span>umber that is chosen so that all the flags associated. If yo<span class="_ _1"></span>u <span class="ff5c">var_</span></div><div class="t m0 x8 h3c y102a ff5c fsa fc2 sc0 ls0 ws0">dump(E_ALL)<span class="ff53">, you get the output </span>int(32767)<span class="ff53">, which is </span>0b111111111111111<span class="ff53">.</span></div><div class="t m0 x3 h12 y102b ff53 fsa fc2 sc0 ls0 ws0">Each of the options is a number chosen to ha<span class="_ _1"></span>ve one and only one bit set. For </div><div class="t m0 x8 h3c y102c ff53 fsa fc2 sc0 ls0 ws0">example, <span class="ff5c">E_NOTICE</span> is <span class="ff5c">8</span>, which in binary is <span class="ff5c">0b1000</span> and <span class="ff5c">E_DEPRECATED</span> is <span class="ff5c">8192</span>, which in </div><div class="t m0 x8 h3c y102d ff53 fsa fc2 sc0 ls0 ws0">binary is <span class="ff5c">0b10000000000000</span>. Note that you c<span class="_ _1"></span>an pad <span class="ff5c">8</span> on the left with as many 0s as you </div><div class="t m0 x8 h12 y102e ff53 fsa fc2 sc0 ls0 ws0">need to make it the same length.</div><div class="t m0 x3 h3c y102f ff53 fsa fc2 sc0 ls0 ws0">The bitwise operator <span class="ff5c">~</span> flips the bits in a number<span class="_ _11"></span>, s<span class="_ _0"></span>o <span class="ff5c">~E_NOTICE</span> is <span class="ff5c">0b0111</span>.</div><div class="t m0 x3 h3c y1030 ff53 fsa fc2 sc0 ls0 ws0">The bitwise operator <span class="ff5c">&amp;</span> compar<span class="_ _1"></span>es the bit positions of two numbers. If both numbers </div><div class="t m0 x8 h3c y1031 ff53 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e a bit in the position set, then the result is <span class="ff5c">true</span>. So<span class="_ _1"></span>, <span class="ff5c">E_ALL &amp; ~E_NOTICE</span> has all the </div><div class="t m0 x8 h3c y1032 ff53 fsa fc2 sc0 ls0 ws0">bits set, except for the one that sa<span class="_ _1"></span>ys that <span class="ff5c">E_NOTI</span>CE is on.</div><div class="t m0 x3 h3c y1033 ff53 fsa fc2 sc0 ls0 ws0">The result is th<span class="_ _1"></span>at you set <span class="ff5c">error_reporting</span> to a number that h<span class="_ _1"></span>as the bits set for the </div><div class="t m0 x8 h12 y1034 ff53 fsa fc2 sc0 ls0 ws0">options you want to be turned on.</div><div class="t m0 x8 h16 y1035 ff5d fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x26 h43 y1036 ff5c fs5 fc4 sc0 ls0 ws0">https://github.com/php/php-src/blob/master/php.ini-production</div><a class="l" href="#pfa8" data-dest-detail='[168,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:337.694000px;bottom:491.685000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://github.com/php/php-src/blob/master/php.ini-production"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.018100px;width:259.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa9" class="pf w2 h4" data-page-no="a9"><div class="pc pca9 w2 h4"><img class="bi x3 y1037 w5 h77" alt="" src="bga9.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls32 ws10b">151</div><div class="t m0 x3 h26 y3bf ff53 fse fc2 sc0 ls0 ws0">Disabling F<span class="_ _1"></span>unctions and Classes</div><div class="t m0 x3 h3c y3c0 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the <span class="ff5c">disable_functions</span> and <span class="ff5c">disable_classes</span> directives in your <span class="ff5c">php.ini</span> file </div><div class="t m0 x3 h12 y3c1 ff53 fsa fc2 sc0 ls0 ws0">to prevent functions and clas<span class="_ _1"></span>ses from being used. These settings can only be set in your </div><div class="t m0 x3 h3c y531 ff5c fsa fc2 sc0 ls0 ws0">php.ini<span class="ff53"> file and cannot be changed at runtime or in dir<span class="_ _1"></span>ector<span class="_ _0"></span>y <span class="ff5c">ini</span> files<span class="_ _1"></span>.</span></div><div class="t m0 x1a h12 y450 ff53 fsa fc2 sc0 ls0 ws0">Common functions to disable include those that allow P<span class="_ _1"></span>HP to execute system </div><div class="t m0 x3 h3c y451 ff53 fsa fc2 sc0 ls0 ws0">commands: <span class="ff5c">exec</span>, <span class="ff5c">passthru</span>, <span class="ff5c">shell_exec</span>, and <span class="ff5c">system</span>.</div><div class="t m0 x1a h3c y46f ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">DirectoryIterator</span> and <span class="ff5c">Directory</span> classes are also commonly disabled as these </div><div class="t m0 x3 h12 y452 ff53 fsa fc2 sc0 ls0 ws0">can be used by an attacker<span class="_ _11"></span>.</div><div class="t m0 x23 h10 y1038 ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2">Hint<span class="ff58"> <span class="_ _2c"> </span>Disabling these functions is a &quot;blacklisting&quot; approach.<span class="_ _1"></span> <span class="_ _1"></span>An inventive opponent will </span></span></span></div><div class="t m0 x3 h10 y1039 ff58 fs6 fc2 sc0 ls0 ws0">see this as a hurdle,<span class="_ _1"></span> but not an insurmountable obstacle.</div><div class="t m0 x3 h26 y103a ff53 fse fc2 sc0 ls0 ws0">PHP as an Apache M<span class="_ _1"></span>odule</div><div class="t m0 x3 h12 y103b ff53 fsa fc2 sc0 ls0 ws0">If PHP is running as an Apache module, it will be run using the same user as the A<span class="_ _1"></span>pache </div><div class="t m0 x3 h12 y103c ff53 fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>. This means that it will have the same permissions and access as the Apache user<span class="_ _11"></span>.</div><div class="t m0 x1a h12 y103d ff53 fsa fc2 sc0 ls0 ws0">It is best pr<span class="_ _1"></span>actice to set up a user for Apache rather than run it as “<span class="_ _1"></span>nobody”<span class="_ _e"></span>. The </div><div class="t m0 x3 h12 y103e ff53 fsa fc2 sc0 ls0 ws0">Apache user should ha<span class="_ _1"></span>ve limited access to the file system, and should not be on the </div><div class="t m0 x3 h3c y103f ff5c fsa fc2 sc0 ls0 ws0">sudoers<span class="ff53"> list.</span></div><div class="t m0 x1a h3c y1040 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should use the PHP <span class="ff5c">open_basedir</span> setting to limit what directories PHP can </div><div class="t m0 x3 h3c y1041 ff53 fsa fc2 sc0 ls0 ws0">access. Y<span class="_ _2"></span>ou can contrast it to the settin<span class="_ _1"></span>g <span class="ff5c">doc_root</span>, which affects which directories PHP </div><div class="t m0 x3 h12 y1042 ff53 fsa fc2 sc0 ls0 ws0">will ser<span class="_ _0"></span>ve files fr<span class="_ _1"></span>om.</div><div class="t m0 x23 h10 y1043 ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2">Note<span class="ff58"> <span class="_ _2c"> </span> Setting <span class="ff5c fsa">open_basedir</span> is not affected by safe mode,<span class="_ _1"></span> but <span class="ff5c fsa">doc_root</span> is.</span></span></span></div><div class="t m0 x1a h12 y1044 ff53 fsa fc2 sc0 ls0 ws0">If you keep the directory where you st<span class="_ _1"></span>ore files that ar<span class="_ _1"></span>e uploaded by users outside of </div><div class="t m0 x3 h12 y1045 ff53 fsa fc2 sc0 ls0 ws0">this directory, you can make it much mor<span class="_ _1"></span>e difficult for an attacker to be able to upload </div><div class="t m0 x3 h12 y1046 ff53 fsa fc2 sc0 ls0 ws0">and execute a file.</div><div class="t m0 x3 h26 y1047 ff53 fse fc2 sc0 ls0 ws0">PHP as a CGI Bin<span class="_ _1"></span>ar<span class="_ _0"></span>y</div><div class="t m0 x3 h12 y1048 ff53 fsa fc2 sc0 ls0 ws0">I don’t know if anybody still runs PHP as a CGI binary but the topic is still in the Zend </div><div class="t m0 x3 h12 y1049 ff53 fsa fc2 sc0 ls0 ws0">syllabus<span class="_ _1"></span>. I was trying to understand why Zend felt it was important to understand them.</div><div class="t m0 x1a h12 y104a ff53 fsa fc2 sc0 ls0 ws0">I think that the value of understanding these pr<span class="_ _1"></span>oblems in a legacy configuration </div><div class="t m0 x3 h12 y104b ff53 fsa fc2 sc0 ls0 ws0">is that ther<span class="_ _1"></span>e are analogs in modern setups. F<span class="_ _1"></span>or example, the &quot;P<span class="_ _1"></span>assing Uncontr<span class="_ _1"></span>olled </div><div class="t m0 x3 h12 y104c ff53 fsa fc2 sc0 ls0 ws0">Requests to PHP&quot; configura<span class="_ _1"></span>tion flaw</div><div class="t m0 x44 h15 y104d ff53 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x38 h12 y104e ff53 fsa fc2 sc0 ls0 ws0"> seems to be very much alike the trick to bypass </div><div class="t m0 x3 h12 y104f ff53 fsa fc2 sc0 ls0 ws0">permission checking in CGI (<span class="_ _1"></span>covered shortly).</div><div class="t m0 x3 h16 y1050 ff5d fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h43 y1051 ff5c fs5 fc4 sc0 ls0 ws0">https://www.nginx.com/resources/wiki/start/topics/tutorials/config_ </div><div class="t m0 x3 h43 y1052 ff5c fs5 fc4 sc0 ls0 ws0">pitfalls/#passing-uncontrolled-requests-to-php</div><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",57,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:195.731000px;bottom:126.685000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#passing-uncontrolled-requests-to-php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:82.589000px;width:289.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#passing-uncontrolled-requests-to-php"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:72.589000px;width:195.500000px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfaa" class="pf w2 h4" data-page-no="aa"><div class="pc pcaa w2 h4"><img class="bi x8 y1053 w3 h78" alt="" src="bgaa.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">152</div><div class="t m0 x3 h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">PHP<span class="_ _1"></span>-FPM runs using the F<span class="_ _1"></span>astCGI prot<span class="_ _1"></span>ocol, which is an improvemen<span class="_ _1"></span>t on CGI. This </div><div class="t m0 x8 h12 y1b9 ff53 fsa fc2 sc0 ls0 ws0">section is not relevant to PHP<span class="_ _2"></span>-FPM, as requests are passed to it over a socket and c<span class="_ _1"></span>annot </div><div class="t m0 x8 h12 y2d2 ff53 fsa fc2 sc0 ls0 ws0">be influenced by the URL.</div><div class="t m0 x3 h12 y2d3 ff53 fsa fc2 sc0 ls0 ws0">For exam purposes<span class="_ _1"></span>, you’ll need to know the three configur<span class="_ _1"></span>ation parameters and </div><div class="t m0 x8 h12 y2d4 ff53 fsa fc2 sc0 ls0 ws0">what they do in the context of CGI a<span class="_ _1"></span>ttacks. I list them her<span class="_ _1"></span>e and then explain them in more </div><div class="t m0 x8 h12 y1bd ff53 fsa fc2 sc0 ls0 ws0">detail.</div><div class="t m0 x8 h20 y1054 ff57 fs6 fc2 sc0 ls0 ws0">Setting<span class="_ _a7"> </span>Function</div><div class="t m0 x8 h3c y1055 ff5c fsa fc2 sc0 ls0 ws0">cgi.force_redirect<span class="_ _a8"> </span><span class="ff53">Prevents PHP fr<span class="_ _1"></span>om executing unless the web server calls it. </span></div><div class="t m0 x7d h12 y1056 ff53 fsa fc2 sc0 ls0 ws0">If it’<span class="_ _1"></span>s set to on, then PHP will not res<span class="_ _1"></span>pond to requests like </div><div class="t m0 x7d h3c y1057 ff5c fsa fc4 sc0 ls0 ws0">http://yoursite.com/cgi-bin/php/<span class="fc2">...<span class="ff53">.</span></span></div><div class="t m0 x8 h3c y1058 ff5c fsa fc2 sc0 ls0 ws0">doc_root<span class="_ _a9"> </span><span class="ff53">Sets the document root. If yo<span class="_ _1"></span>u have <span class="ff5c">safe_mode</span> set to on, then </span></div><div class="t m0 x7d h12 y1059 ff53 fsa fc2 sc0 ls0 ws0">PHP will not ser<span class="_ _0"></span>ve files tha<span class="_ _1"></span>t are outside of this dir<span class="_ _1"></span>ector<span class="_ _0"></span>y.</div><div class="t m0 x8 h3c y105a ff5c fsa fc2 sc0 ls0 ws0">user_dir<span class="_ _a9"> </span><span class="ff53">Sets the home directory for the web user<span class="_ _2"></span>.</span></div><div class="t m0 x3 h3c y105b ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">doc_root</span> and <span class="ff5c">user_dir</span> settings are not exclus<span class="_ _1"></span>ively associated with CGI security </div><div class="t m0 x8 h12 y105c ff53 fsa fc2 sc0 ls0 ws0">and should be set as part of your general security settings.</div><div class="t m0 x8 h1c y105d ff5b fse fc2 sc0 ls0 ws0">Malicious CGI Parameters</div><div class="t m0 x8 h12 y105e ff53 fsa fc2 sc0 ls0 ws0">Usually the query information in a URL after the question mark is passed as command-</div><div class="t m0 x8 h12 y105f ff53 fsa fc2 sc0 ls0 wsf0">line arguments to the interpr<span class="_ _1"></span>eter by the CGI interface. T<span class="_ _1"></span>his applies to any binary file being </div><div class="t m0 x8 h12 y1060 ff53 fsa fc2 sc0 ls0 ws0">used as a CGI by the web server<span class="_ _2"></span>.</div><div class="t m0 x3 h3c y1061 ff53 fsa fc2 sc0 ls0 ws0">Because of the convention, the URL <span class="ff5c fc4">http://my.host/cgi-bin/php?/etc/passwd</span> </div><div class="t m0 x8 h3c y1062 ff53 fsa fc2 sc0 ls0 ws0">would attempt to pass <span class="ff5c">/etc/passwd</span> to the PHP bin<span class="_ _1"></span>ar<span class="_ _0"></span>y. Usuall<span class="_ _1"></span>y, CGI interpreters open </div><div class="t m0 x8 h12 y1063 ff53 fsa fc2 sc0 ls0 ws0">and execute the file specified as the first argument on the command line<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y1064 ff53 fsa fc2 sc0 ls0 ws0">However<span class="_ _11"></span>, PHP refuses to interpret the command-line argumen<span class="_ _1"></span>ts when invoked as a </div><div class="t m0 x8 h12 y1065 ff53 fsa fc2 sc0 ls0 ws0">CGI binary. This makes it immune to attacks th<span class="_ _1"></span>at rely on being able to pass a p<span class="_ _1"></span>arameter </div><div class="t m0 x8 h12 y1066 ff53 fsa fc2 sc0 ls0 ws0">to the binary.</div><div class="t m0 x8 h1c y1067 ff5b fse fc2 sc0 ls0 ws0">Bypassing Permission Checking</div><div class="t m0 x8 h12 y1068 ff53 fsa fc2 sc0 ls0 ws0">It is common to use “friendly” URLs that send a search en<span class="_ _1"></span>gine friendly human-readable </div><div class="t m0 x8 h3c y1069 ff53 fsa fc2 sc0 ls0 ws0">URL to a script. For example<span class="_ _1"></span>, the URL <span class="ff5c fc4">https://yourhost.com/user/nico.php</span> might map </div><div class="t m0 x8 h3c y106a ff53 fsa fc2 sc0 ls0 ws0">to an actual request to <span class="ff5c fc4">https://yourhost.com/cgi-bin/php/user/belieber.php</span>.</div><div class="t m0 x3 h12 y106b ff53 fsa fc2 sc0 ls0 ws0">Normally, the web server will check the permission and verify that the visitor must </div><div class="t m0 x8 h3c y106c ff53 fsa fc2 sc0 ls0 ws0">access the <span class="ff5c">/user/</span> directory. If the visitor is allowed, it will create the r<span class="_ _1"></span>edirected request.</div><div class="t m0 x3 h3c y106d ff53 fsa fc2 sc0 ls0 ws0">If the visitor accesses the target of the redir<span class="_ _1"></span>ect, that is the full URL including <span class="ff5c">cgi-bin</span>, </div><div class="t m0 x8 h3c y106e ff53 fsa fc2 sc0 ls0 ws0">then the web server checks the permission the<span class="_ _0"></span>y ha<span class="_ _1"></span>ve to access the <span class="ff5c">/cgi-bin/</span> directory </div><div class="t m0 x8 h12 y106f ff53 fsa fc2 sc0 ls0 ws0">and not the actual directory that will be served up.</div><div class="t m0 x3 h12 y1070 ff53 fsa fc2 sc0 ls0 ws0">This means that a visitor can b<span class="_ _1"></span>ypass the permission check that protects the user </div><div class="t m0 x8 h3c y1071 ff53 fsa fc2 sc0 ls0 ws0">directory by simply requesting the file fr<span class="_ _1"></span>om PHP in <span class="ff5c">cgi-bin</span>. The malicious visitor can </div><div class="t m0 x8 h12 y1072 ff53 fsa fc2 sc0 ls0 ws0">access any file on the web server that PHP can read.</div><a class="l" href="http://yoursite.com/cgi-bin/php/"><div class="d m1" style="border-style:none;position:absolute;left:134.870000px;bottom:471.789000px;width:144.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://my.host/cgi-bin/php?/etc/passwd"><div class="d m1" style="border-style:none;position:absolute;left:195.559000px;bottom:305.539000px;width:171.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://yourhost.com/user/nico.php"><div class="d m1" style="border-style:none;position:absolute;left:184.480000px;bottom:188.539000px;width:153.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://yourhost.com/cgi-bin/php/user/belieber.php"><div class="d m1" style="border-style:none;position:absolute;left:126.332000px;bottom:177.539000px;width:225.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfab" class="pf w2 h4" data-page-no="ab"><div class="pc pcab w2 h4"><img class="bi x3 y1073 w5 h32" alt="" src="bgab.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">15<span class="_ _0"></span>3</div><div class="t m0 x1a h3c y2a8 ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">cgi.force_redirect</span>, <span class="ff5c">doc_root</span>, and <span class="ff5c">user_dir</span> directives ar<span class="_ _1"></span>e used to prevent </div><div class="t m0 x3 h12 y3e3 ff53 fsa fc2 sc0 ls0 ws0">access to private documents by PHP<span class="_ _11"></span>.</div><div class="t m0 x1a h3c y424 ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">cgi.force_redirect</span> setting blocks PHP from bein<span class="_ _1"></span>g able to be called directly </div><div class="t m0 x3 h12 y2ab ff53 fsa fc2 sc0 ls0 ws0">from a URL—it will execute only if it is being called on a redir<span class="_ _1"></span>ect from a web server like </div><div class="t m0 x3 h12 y2ac ff53 fsa fc2 sc0 ls11 wse8">Apache.</div><div class="t m0 x1a h12 y3e4 ff53 fsa fc2 sc0 ls0 ws0">When working with PHP as a CGI binary, you should consider moving the PHP </div><div class="t m0 x3 h12 y3e5 ff53 fsa fc2 sc0 ls0 ws0">binary outside of the document tree and separatin<span class="_ _1"></span>g your executable PHP scripts from </div><div class="t m0 x3 h12 y425 ff53 fsa fc2 sc0 ls0 ws0">your static scripts.</div><div class="t m0 x3 h26 yb0b ff53 fse fc2 sc0 ls0 ws0">Runnin<span class="_ _1"></span>g PHP<span class="_ _2"></span>-FPM</div><div class="t m0 x3 h12 yb0c ff53 fsa fc2 sc0 ls0 ws0">PHP<span class="_ _1"></span>-FPM allows you to easily set up m<span class="_ _1"></span>ultiple pools, each of which can be run under </div><div class="t m0 x3 h12 yb0d ff53 fsa fc2 sc0 ls0 ws0">a different user<span class="_ _11"></span>. If you’re hosting multiple clients then you sho<span class="_ _1"></span>uld make sure th<span class="_ _1"></span>at each </div><div class="t m0 x3 h12 yb0e ff53 fsa fc2 sc0 ls0 ws0">client’<span class="_ _2"></span>s web site is running as its own user<span class="_ _1"></span>. The clien<span class="_ _1"></span>t users should not have any acces<span class="_ _1"></span>s to </div><div class="t m0 x3 h12 yb0f ff53 fsa fc2 sc0 ls0 ws0">files outside of their home directory.</div><div class="t m0 x1a h12 y1074 ff53 fsa fc2 sc0 ls0 ws0">Here ar<span class="_ _1"></span>e some example settings from a pool file:</div><div class="t m0 x3 h3c yb11 ff5c fsa fc2 sc0 ls0 ws0">[pool1]</div><div class="t m0 x3 h3c yb12 ff5c fsa fc2 sc0 ls0 ws0">user = site1</div><div class="t m0 x3 h3c yb13 ff5c fsa fc2 sc0 ls0 ws0">group = site1</div><div class="t m0 x3 h3c yb14 ff5c fsa fc2 sc0 ls0 ws0">listen = /var/run/php5-fpm-site1.sock</div><div class="t m0 x3 h3c yb15 ff5c fsa fc2 sc0 ls0 ws0">listen.owner = www-data</div><div class="t m0 x3 h3c yb16 ff5c fsa fc2 sc0 ls0 ws0">listen.group = www-data</div><div class="t m0 x1a h3c yb17 ff53 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e are setting the pool named <span class="ff5c">pool1</span> up to run as the user <span class="ff5c">site1</span> in the group <span class="ff5c">site1</span>. </div><div class="t m0 x3 h12 yb18 ff53 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e set the listening owner and group to be the web server user so that N<span class="_ _1"></span>ginx/Apache can </div><div class="t m0 x3 h12 yb19 ff53 fsa fc2 sc0 ls0 ws0">read and write to the socket.</div><div class="t m0 x1a h12 yb1a ff53 fsa fc2 sc0 ls0 ws0">Once we’ve set the user tha<span class="_ _1"></span>t the pool runs, we’ll configure file permissions to r<span class="_ _1"></span>estrict </div><div class="t m0 x3 h12 yb1b ff53 fsa fc2 sc0 ls0 ws0">it to only accessing the directory that the web site is in. This will pr<span class="_ _1"></span>event customers from </div><div class="t m0 x3 h12 yb1c ff53 fsa fc2 sc0 ls0 ws0">using file-reading functions to r<span class="_ _1"></span>ead the contents of another customer&apos;s dir<span class="_ _1"></span>ector<span class="_ _0"></span>y.</div><div class="t m0 x23 h10 y1075 ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff58 fc2"> <span class="_ _2c"> </span> Some files,<span class="_ _1"></span> such as <span class="ff5c fsa">wp-config.php</span> in a <span class="_ _1"></span>W<span class="_ _1"></span>ordPress site,<span class="_ _1"></span> have predictable names </span></span></div><div class="t m0 x3 h10 y1076 ff58 fs6 fc2 sc0 ls0 ws0">and it’<span class="_ _1"></span>s very important to protect user directories from other users.</div><div class="t m0 x1a h12 y1077 ff53 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e configure N<span class="_ _1"></span>ginx to pass PHP requests lik<span class="_ _1"></span>e this<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y1078 ff5c fsa fc2 sc0 ls0 ws0">location ~ \.php$ {</div><div class="t m0 x3 h3c y1079 ff5c fsa fc2 sc0 ls0 ws0">  try_files $uri = 404;</div><div class="t m0 x3 h3c yb4d ff5c fsa fc2 sc0 ls0 ws0">  fastcgi_split_path_info ^(.+\.php)(/.+)$;</div><div class="t m0 x3 h3c y107a ff5c fsa fc2 sc0 ls0 ws0">  if (!-f $document_root$fastcgi_script_name) {</div><div class="t m0 x3 h3c y107b ff5c fsa fc2 sc0 ls0 ws0">    return 404;</div><div class="t m0 x3 h3c y107c ff5c fsa fc2 sc0 ls0 ws0">  }</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfac" class="pf w2 h4" data-page-no="ac"><div class="pc pcac w2 h4"><img class="bi x8 y107d w3 h79" alt="" src="bgac.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">15<span class="_ _0"></span>4</div><div class="t m0 x8 h3c y2a8 ff5c fsa fc2 sc0 ls0 ws0">  include         fastcgi_params;</div><div class="t m0 x8 h3c y2a9 ff5c fsa fc2 sc0 ls0 ws0">  fastcgi_index   index.php;</div><div class="t m0 x8 h3c y2aa ff5c fsa fc2 sc0 ls0 ws0">  fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;</div><div class="t m0 x8 h3c y2ab ff5c fsa fc2 sc0 ls0 ws0">  fastcgi_param   SERVER_NAME $host;</div><div class="t m0 x8 h3c y2ac ff5c fsa fc2 sc0 ls0 ws0">  fastcgi_pass unix:/var/run/php5-fpm-pool1.sock;</div><div class="t m0 x8 h3c y2ad ff5c fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y425 ff53 fsa fc2 sc0 ls0 ws0">Each site passes requests to the socket associated with its own pool. The PHP script </div><div class="t m0 x8 h12 y4e6 ff53 fsa fc2 sc0 ls0 ws0">runs as the user specified in the pool and is locked into the file permissions that we’<span class="_ _1"></span>ve set </div><div class="t m0 x8 h12 y4e7 ff53 fsa fc2 sc0 ls0 ws0">for them.</div><div class="t m0 x1e h10 y107e ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2">Note<span class="ff58"> <span class="_ _2c"> </span> In our Nginx config,<span class="_ _1"></span> we’re including <span class="ff5c fsa">try_files $uri = 404;</span> to prevent the </span></span></span></div><div class="t m0 x8 h10 y107f ff58 fs6 fc2 sc0 ls0 ws0">attacks mentioned in the Nginx Manual.</div><div class="t m0 x7e h35 y1080 ff58 fsf fc4 sc0 ls0 ws0">3</div><div class="t m0 x3 h12 y1081 ff53 fsa fc2 sc0 ls0 ws0">An additional layer of security can be obtained by locking e<span class="_ _1"></span>ach pool into its own </div><div class="t m0 x8 h3c y1082 ff5c fsa fc2 sc0 ls0 ws0">chroot<span class="ff53"> jail. Remember tha<span class="_ _1"></span>t you&apos;ll need to make sure th<span class="_ _1"></span>at files that PHP needs to access </span></div><div class="t m0 x8 h12 y1083 ff53 fsa fc2 sc0 ls0 ws0">(such as log directories or binaries like ImageM<span class="_ _1"></span>agick) are a<span class="_ _1"></span>vailable inside the j<span class="_ _1"></span>ail.</div><div class="t m0 x8 h19 y1084 ff5b fsd fc2 sc0 ls0 ws0">Session Security</div><div class="t m0 x8 h12 y1085 ff53 fsa fc2 sc0 ls0 ws0">The two areas of focus tha<span class="_ _1"></span>t you need to be aware of ar<span class="_ _1"></span>e “<span class="_ _1"></span>session hijackin<span class="_ _1"></span>g<span class="_ _0"></span>” and “<span class="_ _2"></span>s<span class="_ _0"></span>ession </div><div class="t m0 x8 h12 y1086 ff53 fsa fc2 sc0 ls0 ws0">fixation”<span class="_ _e"></span>. Y<span class="_ _2"></span>ou should study the PHP Manual page on session security in addition to this </div><div class="t m0 x8 h12 y1087 ff53 fsa fc2 sc0 ls11 wse8">chapter<span class="_ _2"></span>.</div><div class="t m0 x8 h26 yb45 ff53 fse fc2 sc0 ls0 ws0">Session Hij<span class="_ _1"></span>acking</div><div class="t m0 x8 h12 y1088 ff53 fsa fc2 sc0 ls0 ws0">HTTP is a stateless protocol and a web server can be expected to be ser<span class="_ _0"></span>ving multiple </div><div class="t m0 x8 h12 y1089 ff53 fsa fc2 sc0 ls0 ws0">different visitors a<span class="_ _1"></span>t the same time.</div><div class="t m0 x3 h12 y108a ff53 fsa fc2 sc0 ls0 ws0">The server needs to be able to tell clients apart and does so by assigning each client </div><div class="t m0 x8 h3c y108b ff53 fsa fc2 sc0 ls0 ws0">a session identifier<span class="_ _2"></span>. The session identifier can be r<span class="_ _1"></span>etrieved by calling <span class="ff5c">session_id()</span>. It is </div><div class="t m0 x8 h3c y108c ff53 fsa fc2 sc0 ls0 ws0">created after the <span class="ff5c">session_start()</span> function is called.</div><div class="t m0 x3 h12 y108d ff53 fsa fc2 sc0 ls0 ws0">When the client makes subsequent r<span class="_ _1"></span>equests to the ser<span class="_ _0"></span>ver<span class="_ _11"></span>, they provide the session </div><div class="t m0 x8 h12 y108e ff53 fsa fc2 sc0 ls0 ws0">identifier<span class="_ _2"></span>, which allows the server associate the request with a session.</div><div class="t m0 x3 h12 y108f ff53 fsa fc2 sc0 ls0 ws0">Clients can pro<span class="_ _1"></span>vide the session either with cookies or with a URL parameter<span class="_ _2"></span>. </div><div class="t m0 x8 h12 y1090 ff53 fsa fc2 sc0 ls0 ws0">Cookies are pr<span class="_ _1"></span>eferable but are not alw<span class="_ _1"></span>ays availa<span class="_ _1"></span>ble. If PHP cannot use a cookie, it will </div><div class="t m0 x8 h3c y1091 ff53 fsa fc2 sc0 ls0 ws0">automaticall<span class="_ _1"></span>y and transparently use the URL, unless you set the <span class="ff5c">session.use_only_</span></div><div class="t m0 x8 h3c y1092 ff5c fsa fc2 sc0 ls0 ws0">cookies<span class="ff53"> setting in your </span>php.ini<span class="ff53"> file.</span></div><div class="t m0 x3 h12 y1093 ff53 fsa fc2 sc0 ls0 ws0">It should be appar<span class="_ _1"></span>ent that if yo<span class="_ _1"></span>u are able to present some<span class="_ _1"></span>body else’<span class="_ _2"></span>s s<span class="_ _0"></span>ession </div><div class="t m0 x8 h12 y1094 ff53 fsa fc2 sc0 ls0 ws0">identifier to the server<span class="_ _2"></span>, you can masquerade as that user<span class="_ _11"></span>.</div><div class="t m0 x8 h16 y1095 ff5d fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h43 y1096 ff5c fs5 fc4 sc0 ls0 ws0">https://www.nginx.com/resources/wiki/start/topics/examples/phpfcgi/</div><a class="l" href="#pfac" data-dest-detail='[172,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:186.637000px;bottom:440.829000px;width:2.798000px;height:11.440000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.nginx.com/resources/wiki/start/topics/examples/phpfcgi/"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:73.122500px;width:284.750200px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfad" class="pf w2 h4" data-page-no="ad"><div class="pc pcad w2 h4"><img class="bi x3 y1097 w16 h7a" alt="" src="bgad.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">155</div><div class="t m0 x1a h12 y1b8 ff53 fsa fc2 sc0 ls29 ws10f">Figur<span class="_ _1"></span>e<span class="fc4">6-1</span><span class="ws0"> shows a scenario where malicious user Bob is able to in<span class="_ _1"></span>tercept Alice<span class="_ _1"></span>&apos;s </span></div><div class="t m0 x3 h12 y1b9 ff53 fsa fc2 sc0 ls29 ws0">message to the server<span class="_ _2"></span>. Bad Bob reads the request and extr<span class="_ _1"></span>acts the session identifier (which </div><div class="t m0 x3 h12 y2d2 ff53 fsa fc2 sc0 ls29 ws0">is contained in the cookie headings of the HTTP request). He is then able t<span class="_ _1"></span>o present that </div><div class="t m0 x3 h12 y2d3 ff53 fsa fc2 sc0 ls29 ws0">session identifier to the server<span class="_ _2"></span>, which is now unable to distinguish him from Alice<span class="_ _1"></span>.</div><div class="t m0 x3 h7b y1098 ff5e fsa fc2 sc0 ls0 ws0">Figure 6-1.<span class="ff5f"> <span class="_ _aa"> </span>Bob steals Alice’<span class="_ _2"></span>s session identifier and masquerades as her</span></div><div class="t m0 x1a h12 y1099 ff53 fsa fc2 sc0 ls0 ws0">Obtaining the session identifier of another user can be accomplished in several wa<span class="_ _1"></span>ys.</div><div class="t m0 x7 h12 y109a ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">If the session identifier follows a pr<span class="_ _1"></span>edictable pattern then the </span></div><div class="t m0 x19 h12 y109b ff53 fsa fc2 sc0 ls0 ws0">attacker could try to determine what it will be for a user<span class="_ _2"></span>. PHP uses </div><div class="t m0 x19 h12 y109c ff53 fsa fc2 sc0 ls0 ws0">a very random way to generate session iden<span class="_ _1"></span>tifiers, so you don’t </div><div class="t m0 x19 h12 y109d ff53 fsa fc2 sc0 ls0 ws0">need to worr<span class="_ _0"></span>y about this<span class="_ _1"></span>.</div><div class="t m0 x7 h12 y109e ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">By inspecting network traffic between the client and the </span></div><div class="t m0 x19 h12 y109f ff53 fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>, the attacker could read the session identifier<span class="_ _11"></span>. Y<span class="_ _1"></span>ou can </div><div class="t m0 x19 h3c y10a0 ff53 fsa fc2 sc0 ls0 ws0">set <span class="ff5c">session.cookie_secure=On</span> to make session cookies only </div><div class="t m0 x19 h12 y10a1 ff53 fsa fc2 sc0 ls0 ws0">availa<span class="_ _1"></span>ble over HTTPS to mitigate this<span class="_ _1"></span>. HTTPS w<span class="_ _0"></span>ill also encrypt </div><div class="t m0 x19 h12 y10a2 ff53 fsa fc2 sc0 ls0 ws0">the URL being requested, and so if the session identifier is being </div><div class="t m0 x19 h12 y10a3 ff53 fsa fc2 sc0 ls0 ws0">passed as a parameter in the request<span class="_ _1"></span>, it will be encr<span class="_ _0"></span>ypted.</div><div class="t m0 x7 h12 y10a4 ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">Attacks m<span class="_ _1"></span>ade against the client, such as an XSS attack or Tr<span class="_ _1"></span>ojan </span></div><div class="t m0 x19 h12 y10a5 ff53 fsa fc2 sc0 ls0 ws0">program running on their comp<span class="_ _1"></span>uter<span class="_ _2"></span>, could also reveal the session </div><div class="t m0 x19 h3c y10a6 ff53 fsa fc2 sc0 ls0 ws0">identifier<span class="_ _2"></span>. This can be partially mitigated b<span class="_ _1"></span>y setting the <span class="ff5c">session.</span></div><div class="t m0 x19 h3c y10a7 ff5c fsa fc2 sc0 ls0 ws0">cookie_httponly<span class="ff53"> directive on.</span></div><div class="t m0 x1a h12 y10a8 ff53 fsa fc2 sc0 ls0 ws0">For<span class="_ _1"></span>cing PHP to only use cookies will not mitigate an exploit of this attack<span class="_ _1"></span>. The </div><div class="t m0 x3 h12 y10a9 ff53 fsa fc2 sc0 ls0 ws0">opponent can easily set a cookie value<span class="_ _1"></span>.</div><a class="l" href="#pfad" data-dest-detail='[173,"XYZ",47,542,null]'><div class="d m1" style="border-style:none;position:absolute;left:101.493000px;bottom:589.325000px;width:12.177000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfae" class="pf w2 h4" data-page-no="ae"><div class="pc pcae w2 h4"><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">15<span class="_ _0"></span>6</div><div class="t m0 x8 h26 y3bf ff53 fse fc2 sc0 ls0 ws0">Session Fixa<span class="_ _1"></span>tion</div><div class="t m0 x8 h12 y3c0 ff53 fsa fc2 sc0 ls0 ws0">Session fixation exploits a weakness in the web application. Some applica<span class="_ _1"></span>tions do not </div><div class="t m0 x8 h12 y3c1 ff53 fsa fc2 sc0 ls0 ws0">generate a new session ID for a user when authentic<span class="_ _1"></span>ating them. Instead they allo<span class="_ _1"></span>w an </div><div class="t m0 x8 h12 y531 ff53 fsa fc2 sc0 ls0 ws0">existing session ID to be used.</div><div class="t m0 x3 h12 y450 ff53 fsa fc2 sc0 ls0 ws0">The attack occurs when an opponent cr<span class="_ _1"></span>eates a session on the web server<span class="_ _2"></span>. They </div><div class="t m0 x8 h12 y451 ff53 fsa fc2 sc0 ls0 ws0">know the session ID for this session. They then trick a user into using this session and </div><div class="t m0 x8 h12 y46f ff53 fsa fc2 sc0 ls0 ws0">authenticatin<span class="_ _1"></span>g themselves. The attack<span class="_ _1"></span>er is then able to use the known session ID and has </div><div class="t m0 x8 h12 y452 ff53 fsa fc2 sc0 ls0 ws0">the privileges of the authenticated user<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y8a5 ff53 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several ways to set the session ID and the actual method used will depend </div><div class="t m0 x8 h12 y454 ff53 fsa fc2 sc0 ls0 ws0">on how the application accepts the iden<span class="_ _1"></span>tifier<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y8a6 ff53 fsa fc2 sc0 ls0 ws0">The simplest way to do it would be to pas<span class="_ _1"></span>s the session identifier in the URL<span class="_ _0"></span>, like this </div><div class="t m0 x8 h3c y455 ff5c fsa fc4 sc0 ls0 ws0">http://example.org/index.php?PHPSESSID=1234<span class="ff53 fc2">.</span></div><div class="t m0 x3 h3c y8a7 ff53 fsa fc2 sc0 ls0 ws0">The best way to mitig<span class="_ _1"></span>ate the risk of session fixation is to call the function <span class="ff5c">session_</span></div><div class="t m0 x8 h3c y457 ff5c fsa fc2 sc0 ls0 ws0">regenerate_id()<span class="ff53"> every time the privile<span class="_ _0"></span>ge level ch<span class="_ _1"></span>anges, for example after logging in.</span></div><div class="t m0 x3 h3c y8a8 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can set <span class="ff5c">session.use_strict_mode=On</span> in your config file. This setting will force </div><div class="t m0 x8 h12 y8a9 ff53 fsa fc2 sc0 ls0 ws0">PHP to only use session identifiers that it cr<span class="_ _1"></span>eates itself. I<span class="_ _1"></span>t will reject a user<span class="_ _1"></span>-supplied </div><div class="t m0 x8 h12 y8aa ff53 fsa fc2 sc0 ls0 ws0">session identifier<span class="_ _2"></span>. This will mitigate att<span class="_ _1"></span>empts to manipulate the cookie.</div><div class="t m0 x3 h3c y8ab ff53 fsa fc2 sc0 ls0 ws0">The settings <span class="ff5c">session.use_cookies=On</span> and <span class="ff5c">session.use_only_cookies=On</span> will </div><div class="t m0 x8 h12 y8ac ff53 fsa fc2 sc0 ls0 ws0">prevent PHP fr<span class="_ _1"></span>om accepting the session identifier from the URL.</div><div class="t m0 x8 h26 y471 ff53 fse fc2 sc0 ls0 ws0">Impr<span class="_ _1"></span>oving Session Security</div><div class="t m0 x8 h12 y472 ff53 fsa fc2 sc0 ls0 ws0">Don’t rely on a single str<span class="_ _1"></span>ategy to mitigate attacks<span class="_ _1"></span>, rather use several la<span class="_ _1"></span>yers of security. In </div><div class="t m0 x8 h12 y10aa ff53 fsa fc2 sc0 ls0 ws0">addition to the mitigation str<span class="_ _1"></span>ategies that I ha<span class="_ _1"></span>ve already mentioned, yo<span class="_ _1"></span>u should also do </div><div class="t m0 x8 h12 y10ab ff53 fsa fc2 sc0 ls0 ws0">the following:</div><div class="t m0 x2b h12 y10ac ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">Check that the IP addr<span class="_ _1"></span>ess remains the same between calls<span class="_ _1"></span>. This is </span></div><div class="t m0 x18 h12 y10ad ff53 fsa fc2 sc0 ls0 ws0">not always feasible for mobile phones tha<span class="_ _1"></span>t move between towers </div><div class="t m0 x18 h12 y10ae ff53 fsa fc2 sc0 ls0 ws0">and so change connections, so check your use-c<span class="_ _1"></span>ases before you </div><div class="t m0 x18 h12 y10af ff53 fsa fc2 sc0 ls0 ws0">do this.</div><div class="t m0 x2b h12 y10b0 ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">Use short session timeout values to reduce the window for </span></div><div class="t m0 x18 h12 y10b1 ff53 fsa fc2 sc0 ls0 ws0">fixation.</div><div class="t m0 x2b h3c y10b2 ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53 ws125">Pro<span class="_ _1"></span>vide a means for users to log out that calls <span class="ff5c ws0">session_destroy()<span class="ff53">.</span></span></span></div><div class="t m0 x3 h12 y10b3 ff53 fsa fc2 sc0 ls0 ws0">None of these is particularly effective by itself but each c<span class="_ _1"></span>an contribute toward </div><div class="t m0 x8 h12 y10b4 ff53 fsa fc2 sc0 ls0 ws0">impro<span class="_ _1"></span>ving your over<span class="_ _1"></span>all security.</div><div class="t m0 x8 h19 yf71 ff5b fsd fc2 sc0 ls0 ws0">Cross-Site Scripting</div><div class="t m0 x8 h12 y10b5 ff53 fsa fc2 sc0 ls0 ws0">Cross-<span class="_ _1"></span>site scripting (XSS) attacks are attac<span class="_ _1"></span>ks where malicious code is injected onto an </div><div class="t m0 x8 h12 y10b6 ff53 fsa fc2 sc0 ls0 ws0">otherw<span class="_ _0"></span>ise benign site<span class="_ _1"></span>. Usually malicious br<span class="_ _1"></span>owser<span class="_ _1"></span>-side code like J<span class="_ _1"></span>a<span class="_ _1"></span>vaScript is placed onto </div><div class="t m0 x8 h12 y10b7 ff53 fsa fc2 sc0 ls0 ws0">the web site to be downloaded and run by clients<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y10b8 ff53 fsa fc2 sc0 ls0 ws0">The attack is effective because the clien<span class="_ _1"></span>t thinks that the code originated from the web </div><div class="t m0 x8 h12 y10b9 ff53 fsa fc2 sc0 ls0 ws0">site that it trusts<span class="_ _1"></span>. The code can access session identifiers, cookies<span class="_ _1"></span>, HTML storage data, </div><div class="t m0 x8 h12 y10ba ff53 fsa fc2 sc0 ls0 ws0">and other information rela<span class="_ _1"></span>ted to the site.</div><a class="l" href="http://example.org/index.php?PHPSESSID=1234"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:458.649000px;width:193.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfaf" class="pf w2 h4" data-page-no="af"><div class="pc pcaf w2 h4"><img class="bi x3 y653 w5 h7c" alt="" src="bgaf.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">157</div><div class="t m0 x1a h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e a few broad types of XSS attacks: stored, reflected, and DOM.</div><div class="t m0 x1a h12 y1b9 ff53 fsa fc2 sc0 ls0 ws0">In a stored XSS attack<span class="_ _1"></span>, the opponent can place input into a stor<span class="_ _1"></span>ed location on the </div><div class="t m0 x3 h12 y2d2 ff53 fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>. E<span class="_ _0"></span>xamples could be in user comments displa<span class="_ _1"></span>yed on the site and stored in the </div><div class="t m0 x3 h12 y2d3 ff53 fsa fc2 sc0 ls0 ws0">database. When the site o<span class="_ _1"></span>utputs the list of user comments to another visitor<span class="_ _2"></span>, they would </div><div class="t m0 x3 h12 y2d4 ff53 fsa fc2 sc0 ls0 ws0">receive the malicious code<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1bd ff53 fsa fc2 sc0 ls0 ws0">In a reflected XSS attack, the opponen<span class="_ _1"></span>t can get the web site to output something </div><div class="t m0 x3 h12 y1be ff53 fsa fc2 sc0 ls0 ws0">directly. The most common form of this attack is a form fill err<span class="_ _1"></span>or that prefills the input </div><div class="t m0 x3 h12 y2d5 ff53 fsa fc2 sc0 ls0 ws0">fields with the previously submitted fields<span class="_ _1"></span>, or outputs the erroneous field value<span class="_ _1"></span>. By </div><div class="t m0 x3 h12 y2d6 ff53 fsa fc2 sc0 ls0 ws0">sending the visitor to a crafted URL that includes m<span class="_ _1"></span>alicious code as an error message </div><div class="t m0 x3 h12 y2d7 ff53 fsa fc2 sc0 ls0 ws0">(for example), the attacker c<span class="_ _1"></span>an trick the client into executing it within the context of the </div><div class="t m0 x3 h12 y2d8 ff53 fsa fc2 sc0 ls0 ws0">trusted site.</div><div class="t m0 x1a h12 y2d9 ff53 fsa fc2 sc0 ls0 ws0">A DOM attack is one that res<span class="_ _1"></span>ts entirely within the page. The m<span class="_ _1"></span>alicious code is read </div><div class="t m0 x3 h12 y2da ff53 fsa fc2 sc0 ls0 ws0">from an element in the page and the c<span class="_ _1"></span>all to the code is made within the page itself.</div><div class="t m0 x1a h12 y43c ff53 fsa fc2 sc0 ls4b ws0">Furthermore<span class="_ _1"></span>, XSS attacks can be classed either as server-<span class="_ _1"></span>side or client<span class="_ _1"></span>-side attac<span class="_ _1"></span>ks. </div><div class="t m0 x3 h12 y2db ff53 fsa fc2 sc0 ls4b ws0">A server-<span class="_ _1"></span>side attack is one wher<span class="_ _1"></span>e the ser<span class="_ _0"></span>ver delivers the malicio<span class="_ _1"></span>us code. Client XSS </div><div class="t m0 x3 h12 y2dc ff53 fsa fc2 sc0 ls4b ws0">occurs when untrusted user supplied data is used to update the DOM with an unsafe </div><div class="t m0 x3 h12 y2dd ff53 fsa fc2 sc0 ls4b ws0">J<span class="_ _1"></span>avaScript call.</div><div class="t m0 x3 h26 y4bb ff53 fse fc2 sc0 ls0 ws0">Miti<span class="_ _1"></span>gating XSS At<span class="_ _1"></span>tacks</div><div class="t m0 x3 h12 y4bc ff53 fsa fc2 sc0 ls0 ws0">The most important rule to follow is never allow unescaped data to be o<span class="_ _1"></span>utput to the </div><div class="t m0 x3 h12 y4bd ff53 fsa fc2 sc0 ls0 ws0">client. Alwa<span class="_ _1"></span>ys filter data and strip out harmful tags before allowing it to be sent to the </div><div class="t m0 x3 h12 y4be ff53 fsa fc2 sc0 ls0 ws0">client.</div><div class="t m0 x23 h10 y10bb ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff58 fc2"> <span class="_ _2c"> </span> Remember this mantra <span class="_ _1"></span>“F<span class="_ _1"></span>ilter input,<span class="_ _1"></span> escape output”.</span></span></div><div class="t m0 x1a h3c y10bc ff53 fsa fc2 sc0 ls0 ws0">Three useful functions for this are <span class="ff5c">htmlspecialchars()</span>, <span class="ff5c">htmlentities()</span>, and </div><div class="t m0 x3 h3c y10bd ff5c fsa fc2 sc0 ls0 ws0">strip_tags()<span class="ff53">. Refer to the section entitled “Escape Output” later in this cha<span class="_ _1"></span>pter for more </span></div><div class="t m0 x3 h12 y10be ff53 fsa fc2 sc0 ls0 ws0">details on how to use these functions to help mitigate XSS<span class="_ _1"></span>.</div><div class="t m0 x23 h10 y10bf ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff58 fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>The safest method to escape output before displaying it is to use <span class="ff5c fsa">filter_</span></span></span></div><div class="t m0 x3 h3c y10c0 ff5c fsa fc2 sc0 ls0 ws0">var($string, FILTER_SANITIZE_STRING)</div><div class="t m0 x7a h10 y10c1 ff58 fs6 fc2 sc0 ls0 ws0">.</div><div class="t m0 x1a h12 y10c2 ff53 fsa fc2 sc0 ls0 ws0">Because of the wide variety of formats that can be used in URLs and HTML to output </div><div class="t m0 x3 h12 y10c3 ff53 fsa fc2 sc0 ls0 ws0">data, it is not safe to blac<span class="_ _1"></span>klist codes. Y<span class="_ _2"></span>ou should rather whitelist the specific tags that y<span class="_ _1"></span>ou </div><div class="t m0 x3 h12 y10c4 ff53 fsa fc2 sc0 ls0 ws0">want to allow. Look at the OW<span class="_ _2"></span>ASP filter evasion cheat sheet</div><div class="t m0 x54 h15 y10c5 ff53 fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x76 h12 y10c6 ff53 fsa fc2 sc0 ls0 ws0"> to see just how many wa<span class="_ _1"></span>ys </div><div class="t m0 x3 h12 y10c7 ff53 fsa fc2 sc0 ls0 ws0">there ar<span class="_ _1"></span>e to evade a blacklist.</div><div class="t m0 x1a h12 y10c8 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou also nee<span class="_ _0"></span>d to mitig<span class="_ _1"></span>ate XSS within your Ja<span class="_ _1"></span>vaScript on your HTML page, but this is </div><div class="t m0 x3 h12 y10c9 ff53 fsa fc2 sc0 ls0 ws0">out of scope for this manual.</div><div class="t m0 x3 h16 y10ca ff5d fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x1d h43 y10cb ff5c fs5 fc4 sc0 ls0 ws0">https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet</div><a class="l" href="#pfaf" data-dest-detail='[175,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:282.993000px;bottom:146.325000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.014200px;width:263.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb0" class="pf w2 h4" data-page-no="b0"><div class="pc pcb0 w2 h4"><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">15<span class="_ _0"></span>8</div><div class="t m0 x8 h19 y24e ff5b fsd fc2 sc0 ls0 ws0">Cross-Site Request Forgeries</div><div class="t m0 x8 h12 y24f ff53 fsa fc2 sc0 ls0 ws0">CSRF attacks exploit the trust that a web site has in a clien<span class="_ _1"></span>t. In these attacks<span class="_ _1"></span>, the opponent </div><div class="t m0 x8 h12 y337 ff53 fsa fc2 sc0 ls0 ws0">tricks the client into executing a comm<span class="_ _1"></span>and on a web site that trusts that client<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y338 ff53 fsa fc2 sc0 ls0 ws0">The most common form would be to send a <span class="ff5c">POST</span> request to a form input.</div><div class="t m0 x3 h12 y516 ff53 fsa fc2 sc0 ls0 ws0">Imagine that Alice is logged onto her b<span class="_ _1"></span>ank web site that has a form that allows her </div><div class="t m0 x8 h12 y517 ff53 fsa fc2 sc0 ls0 ws0">to transfer money to another account. C<span class="_ _1"></span>huck knows the endpoint of that form and wha<span class="_ _1"></span>t </div><div class="t m0 x8 h3c y518 ff53 fsa fc2 sc0 ls0 ws0">input fields it has<span class="_ _1"></span>. He somehow manages to trick Alice<span class="_ _1"></span>’<span class="_ _2"></span>s w<span class="_ _0"></span>eb br<span class="_ _1"></span>owser into sending a <span class="ff5c">POST</span> </div><div class="t m0 x8 h12 y519 ff53 fsa fc2 sc0 ls0 ws0">request to tha<span class="_ _1"></span>t form instructing the bank to transfer money into his account. The bank </div><div class="t m0 x8 h12 y51a ff53 fsa fc2 sc0 ls0 ws0">trusts Alice’<span class="_ _2"></span>s web browser because it has a valid session and performs the request.</div><div class="t m0 x3 h12 ybd4 ff53 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e many ways for Ch<span class="_ _1"></span>uck to trick Alice’<span class="_ _2"></span>s web browser<span class="_ _2"></span>, including using iframes </div><div class="t m0 x8 h12 yeb9 ff53 fsa fc2 sc0 ls0 ws0">and J<span class="_ _1"></span>avaScript.</div><div class="t m0 x3 h12 ybd5 ff53 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o mitigate these requests<span class="_ _1"></span>, you should generate a unique and very random token </div><div class="t m0 x8 h12 ybd6 ff53 fsa fc2 sc0 ls0 ws0">that you stor<span class="_ _1"></span>e in Alice’<span class="_ _2"></span>s session. When you output the form, you include this token so th<span class="_ _1"></span>at </div><div class="t m0 x8 h12 y6fc ff53 fsa fc2 sc0 ls0 ws0">when Alice submits the form, she also submits the token. Before y<span class="_ _1"></span>ou process the form, </div><div class="t m0 x8 h12 ybd7 ff53 fsa fc2 sc0 ls0 ws0">you check that the s<span class="_ _1"></span>ubmitted token matches the token stor<span class="_ _1"></span>ed in her session.</div><div class="t m0 x3 h12 yeba ff53 fsa fc2 sc0 ls0 ws0">Chuck has no wa<span class="_ _1"></span>y of knowing what token is in Alice<span class="_ _1"></span>’<span class="_ _1"></span>s session and so won’t be able to </div><div class="t m0 x8 h3c ybd8 ff53 fsa fc2 sc0 ls0 ws0">include it in his <span class="ff5c">POST</span>. Y<span class="_ _2"></span>our code will reject the request that he tricked Alice into mak<span class="_ _1"></span>ing </div><div class="t m0 x8 h12 y6ff ff53 fsa fc2 sc0 ls0 ws0">because it doesn’t ha<span class="_ _1"></span>ve a valid token.</div><div class="t m0 x3 h12 ybd9 ff53 fsa fc2 sc0 ls0 ws0">Actual banks often r<span class="_ _1"></span>equire a person to re-authentic<span class="_ _1"></span>ate when performing a sensitive </div><div class="t m0 x8 h12 ybda ff53 fsa fc2 sc0 ls0 ws0">operation and will often requir<span class="_ _1"></span>e two-factor authentication as part of this pr<span class="_ _1"></span>ocess.</div><div class="t m0 x8 h19 y521 ff5b fsd fc2 sc0 ls0 ws0">SQL Injection</div><div class="t m0 x8 h12 y10cc ff53 fsa fc2 sc0 ls0 ws0">SQL injection is the most common form of attack on the web, and one of the eas<span class="_ _1"></span>iest to </div><div class="t m0 x8 h12 y10cd ff53 fsa fc2 sc0 ls0 ws0">defend against. SQL injection occurs when the attacker can insert malicious comm<span class="_ _1"></span>ands </div><div class="t m0 x8 h12 y10ce ff53 fsa fc2 sc0 ls0 ws0">into a SQL statement for execution by the da<span class="_ _1"></span>tabase.</div><div class="t m0 x3 h12 y10cf ff53 fsa fc2 sc0 ls0 ws0">Many da<span class="_ _1"></span>tabase setups allow the database to write files to disk. This featur<span class="_ _1"></span>e allows </div><div class="t m0 x8 h12 y10d0 ff53 fsa fc2 sc0 ls0 ws0">hackers to cr<span class="_ _1"></span>eate a backdoor by using the d<span class="_ _1"></span>atabase to write PHP scripts to a directory </div><div class="t m0 x8 h12 y10d1 ff53 fsa fc2 sc0 ls0 ws0">where the web server will ser<span class="_ _0"></span>ve it.</div><div class="t m0 x3 h12 y10d2 ff53 fsa fc2 sc0 ls0 ws0">This means that the effect of SQL injection is not limited to having y<span class="_ _1"></span>our database </div><div class="t m0 x8 h12 y10d3 ff53 fsa fc2 sc0 ls0 ws0">compromised, but could lead to the a<span class="_ _1"></span>ttacker being able to execute arbitrary code on your </div><div class="t m0 x8 h12 y10d4 ff53 fsa fc2 sc0 ls11 wse8">database.</div><div class="t m0 x3 h12 y10d5 ff53 fsa fc2 sc0 ls0 ws0">At its heart the problem with SQL injection comes from the fact tha<span class="_ _1"></span>t a SQL statement </div><div class="t m0 x8 h12 y10d6 ff53 fsa fc2 sc0 ls0 ws0">has a mix of data and syntax. By allowing user<span class="_ _1"></span>-<span class="_ _1"></span>supplied data to be incorporated with </div><div class="t m0 x8 h12 y10d7 ff53 fsa fc2 sc0 ls0 wsf0">function syntax, we create the possibility that m<span class="_ _1"></span>alicious data can interfere with the syntax.</div><div class="t m0 x8 h26 y10d8 ff53 fse fc2 sc0 ls0 ws0">Prepar<span class="_ _1"></span>ed Sta<span class="_ _1"></span>tements</div><div class="t m0 x8 h12 y10d9 ff53 fsa fc2 sc0 ls0 ws0">The most effective way to start to mitig<span class="_ _1"></span>ate SQL injection in the PHP language is to </div><div class="t m0 x8 h12 y10da ff53 fsa fc2 sc0 ls0 ws0">exclusively use prepar<span class="_ _1"></span>ed statements to inter<span class="_ _1"></span>act with your database. This will help exclude </div><div class="t m0 x8 h12 y10db ff53 fsa fc2 sc0 ls0 ws0">the majority of SQL injection attacks, but is not s<span class="_ _1"></span>ufficient by itself to be foolproof.</div><div class="t m0 x3 h12 y10dc ff53 fsa fc2 sc0 ls0 ws0">Prepar<span class="_ _1"></span>ed statements are so important tha<span class="_ _1"></span>t the PDO dr<span class="_ _0"></span>iver will emula<span class="_ _1"></span>te them if the </div><div class="t m0 x8 h12 y10dd ff53 fsa fc2 sc0 ls0 ws0">underlying driver does not support them.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb1" class="pf w2 h4" data-page-no="b1"><div class="pc pcb1 w2 h4"><img class="bi x3 y1037 w5 h7d" alt="" src="bgb1.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1b wsf7">159</div><div class="t m0 x1a h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">Prepar<span class="_ _1"></span>ed statements work in three steps:</div><div class="t m0 x3 h12 y81f ff5b fsa fc2 sc0 ls0 wseb"> 1. <span class="_ _2b"></span><span class="ff53 ws0">Set up the statement with placeholders for data.</span></div><div class="t m0 x3 h12 y10de ff5b fsa fc2 sc0 ls0 wseb"> 2. <span class="_ _2b"></span><span class="ff53 ws0">Bind actual data to the sta<span class="_ _1"></span>tement.</span></div><div class="t m0 x3 h12 y10df ff5b fsa fc2 sc0 ls0 wseb"> 3. <span class="_ _2b"></span><span class="ff53 ws0">Execute the prepared sta<span class="_ _1"></span>tement.</span></div><div class="t m0 x1a h12 y10e0 ff53 fsa fc2 sc0 ls0 ws0">It is possible to bind new da<span class="_ _1"></span>ta to a statement that you h<span class="_ _1"></span>ave alr<span class="_ _1"></span>eady executed and </div><div class="t m0 x3 h12 y10e1 ff53 fsa fc2 sc0 ls0 ws0">then run it again with the new statement. The da<span class="_ _1"></span>tabase engine does not have to par<span class="_ _1"></span>se the </div><div class="t m0 x3 h12 y822 ff53 fsa fc2 sc0 ls0 ws0">SQL again, which gives a performance improvemen<span class="_ _1"></span>t in addition to the security benefits.</div><div class="t m0 x1a h12 y10e2 ff53 fsa fc2 sc0 ls0 ws0">This code gives an example of how to pr<span class="_ _1"></span>epare, bind, and execute a sta<span class="_ _1"></span>tement<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y10e3 ff5c fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y10e4 ff5c fsa fc2 sc0 ls0 ws0">$stmt = $dbh-&gt;prepare(&quot;SELECT * FROM REGISTRY where name = ?&quot;);</div><div class="t m0 x3 h3c y10e5 ff5c fsa fc2 sc0 ls0 ws0">$stmt-&gt;bindParam(&apos;:name&apos;, $_GET[&apos;name&apos;], PDO::PARAM_STR, 12);</div><div class="t m0 x3 h3c y10e6 ff5c fsa fc2 sc0 ls0 ws0">$stmt-&gt;execute();</div><div class="t m0 x23 h10 y10e7 ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2">Note<span class="ff58 wsf"> <span class="_ _2a"> </span> The <span class="_ _0"></span></span><span class="ff5c fsa">PDO::prepare()</span><span class="ff58"> function returns an object of type <span class="ff5c fsa">PDOStatement</span>.</span></span></span></div><div class="t m0 x1a h3c y10e8 ff53 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e are using the <span class="ff5c">GET</span> variable dir<span class="_ _1"></span>ectly, so we don’t need to escape it because it is </div><div class="t m0 x3 h3c y10e9 ff53 fsa fc2 sc0 ls0 ws0">being bound as a variable with <span class="ff5c">PDOStatement::bindParam()</span> and cannot alter the syntax </div><div class="t m0 x3 h12 y10ea ff53 fsa fc2 sc0 ls0 ws0">of the SQL that is going to be run.</div><div class="t m0 x1a h12 y10eb ff53 fsa fc2 sc0 ls0 ws0">Other database drivers in PHP also support prepar<span class="_ _1"></span>ed statements. H<span class="_ _1"></span>ere is an example </div><div class="t m0 x3 h12 y10ec ff53 fsa fc2 sc0 ls0 ws0">from the man<span class="_ _1"></span>ual for MySQL</div><div class="t m0 x3f h15 y10ed ff53 fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x61 h12 y10ee ff53 fsa fc2 sc0 ls0 ws0">:</div><div class="t m0 x3 h3c y10ef ff5c fsa fc2 sc0 ls0 ws0">/* Prepared statement, stage 1: prepare */</div><div class="t m0 x3 h3c y10f0 ff5c fsa fc2 sc0 ls0 ws0">if (!($stmt = $mysqli-&gt;prepare(&quot;INSERT INTO test(id) VALUES (?)&quot;))) {</div><div class="t m0 x3 h3c y10f1 ff5c fsa fc2 sc0 ls0 ws0">  echo &quot;Prepare failed: (&quot; . $mysqli-&gt;errno . &quot;) &quot; . $mysqli-&gt;error;</div><div class="t m0 x3 h3c y10f2 ff5c fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y10f3 ff5c fsa fc2 sc0 ls0 ws0">/* Prepared statement, stage 2: bind and execute */</div><div class="t m0 x3 h3c y10f4 ff5c fsa fc2 sc0 ls0 ws0">$id = 1;</div><div class="t m0 x3 h3c y10f5 ff5c fsa fc2 sc0 ls0 ws0">if (!$stmt-&gt;bind_param(&quot;i&quot;, $id)) {</div><div class="t m0 x3 h3c y10f6 ff5c fsa fc2 sc0 ls0 ws0">  echo &quot;Binding parameters failed: (&quot; . $stmt-&gt;errno . &quot;) &quot; . $stmt-&gt;error;</div><div class="t m0 x3 h3c y10f7 ff5c fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y10f8 ff5c fsa fc2 sc0 ls0 ws0">if (!$stmt-&gt;execute()) {</div><div class="t m0 x3 h3c y10f9 ff5c fsa fc2 sc0 ls0 ws0">  echo &quot;Execute failed: (&quot; . $stmt-&gt;errno . &quot;) &quot; . $stmt-&gt;error;</div><div class="t m0 x3 h3c y10fa ff5c fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h16 y10fb ff5d fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x1d h43 y10fc ff5c fs5 fc4 sc0 ls0 ws0">https://dev.mysql.com/doc/apis-php/en/apis-php-mysqli.quickstart.prepared-</div><div class="t m0 x3 h43 y10fd ff5c fs5 fc4 sc0 ls0 ws0">statements.html</div><a class="l" href="#pfb1" data-dest-detail='[177,"XYZ",57,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:164.456000px;bottom:321.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://dev.mysql.com/doc/apis-php/en/apis-php-mysqli.quickstart.prepared-statements.html"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:82.518100px;width:314.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://dev.mysql.com/doc/apis-php/en/apis-php-mysqli.quickstart.prepared-statements.html"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:72.518100px;width:63.750000px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb2" class="pf w2 h4" data-page-no="b2"><div class="pc pcb2 w2 h4"><img class="bi x8 y653 w3 h7e" alt="" src="bgb2.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>0</div><div class="t m0 x8 h26 y3bf ff53 fse fc2 sc0 ls0 ws0">Escaping</div><div class="t m0 x8 h12 y3c0 ff53 fsa fc2 sc0 ls0 ws0">A less effective way to mitig<span class="_ _1"></span>ate SQL injection is to escape special characters before </div><div class="t m0 x8 h12 y3c1 ff53 fsa fc2 sc0 ls0 ws0">sending them to the database. T<span class="_ _1"></span>his is more prone to err<span class="_ _1"></span>or than using prepar<span class="_ _1"></span>ed </div><div class="t m0 x8 h12 y531 ff53 fsa fc2 sc0 ls0 ws0">statements<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y450 ff53 fsa fc2 sc0 ls0 ws0">If you are going to try escaping special char<span class="_ _1"></span>acters, you must use the da<span class="_ _1"></span>tabase specific </div><div class="t m0 x8 h3c y451 ff53 fsa fc2 sc0 ls0 ws0">function (e<span class="_ _1"></span>.g., <span class="ff5c">mysqli_real_escape_string()</span>) or <span class="ff5c">PDO::quote()</span> and not a generic </div><div class="t m0 x8 h3c y46f ff53 fsa fc2 sc0 ls0 ws0">function like <span class="ff5c">addslashes()</span>.</div><div class="t m0 x8 h26 y10fe ff53 fse fc2 sc0 ls0 ws0">General Principles</div><div class="t m0 x8 h12 y10ff ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should also always connect to the database with a user who has the least amount </div><div class="t m0 x8 h12 y1100 ff53 fsa fc2 sc0 ls0 ws0">of privileges that are r<span class="_ _1"></span>equired for the application to function. N<span class="_ _1"></span>ever allow your web </div><div class="t m0 x8 h12 y1101 ff53 fsa fc2 sc0 ls0 ws0">application to connect to the data<span class="_ _1"></span>base as its root user<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y1102 ff53 fsa fc2 sc0 ls0 ws0">If you host multiple data<span class="_ _1"></span>bases on your ser<span class="_ _0"></span>ver<span class="_ _11"></span>, use a different user for each database </div><div class="t m0 x8 h12 y1103 ff53 fsa fc2 sc0 ls0 ws0">on your server and make sure tha<span class="_ _1"></span>t their passwords are unique<span class="_ _1"></span>. This will help prevent a </div><div class="t m0 x8 h12 y1104 ff53 fsa fc2 sc0 ls0 ws0">SQL injection attack on one site from affecting the datab<span class="_ _1"></span>ases of other sites.</div><div class="t m0 x3 h12 y1105 ff53 fsa fc2 sc0 ls0 ws0">Make s<span class="_ _1"></span>ure that you’r<span class="_ _1"></span>e using an up-to-date version of M<span class="_ _1"></span>ySQL and enforce the use of </div><div class="t m0 x8 h12 y1106 ff53 fsa fc2 sc0 ls0 ws0">a character set in the client DSN<span class="_ _1"></span>. There is a very subtle way to use mismatching c<span class="_ _1"></span>haracter </div><div class="t m0 x8 h12 y1107 ff53 fsa fc2 sc0 ls0 ws0">sets in certain vulnerable encoding schemes to deploy a SQL injection; see the second </div><div class="t m0 x8 h3c y1108 ff53 fsa fc2 sc0 ls0 ws0">answer (not the accepted one) on this <span class="ff5c">StackOverflow</span> article</div><div class="t m0 x7f h15 y1109 ff53 fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x80 h12 y110a ff53 fsa fc2 sc0 ls0 ws0"> for an exposition.</div><div class="t m0 x8 h19 y110b ff5b fsd fc2 sc0 ls0 ws0">Remote Code Injection</div><div class="t m0 x8 h12 y110c ff53 fsa fc2 sc0 ls0 ws0">Remote code injection is an attack wher<span class="_ _1"></span>e an opponent can get the ser<span class="_ _0"></span>ver to include and </div><div class="t m0 x8 h12 y110d ff53 fsa fc2 sc0 ls0 ws0">execute their code.</div><div class="t m0 x8 h26 y545 ff53 fse fc2 sc0 ls0 ws0">F<span class="_ _1"></span>unctions That E<span class="_ _1"></span>valuate S<span class="_ _1"></span>trings as Code</div><div class="t m0 x8 h3c y546 ff53 fsa fc2 sc0 ls0 ws0">Certain functions like <span class="ff5c">eval()</span>, <span class="ff5c">exec()</span>, and <span class="ff5c">system()</span> are susceptible to r<span class="_ _1"></span>emote code </div><div class="t m0 x8 h12 y547 ff53 fsa fc2 sc0 ls0 wsf0">injection exploits. If you ar<span class="_ _1"></span>e executing a variable that includes user input<span class="_ _1"></span>, they will be able </div><div class="t m0 x8 h12 y548 ff53 fsa fc2 sc0 ls0 ws0">to inject commands using escape char<span class="_ _1"></span>acters.</div><div class="t m0 x3 h3c y549 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can mitigate this by using <span class="ff5c">escapeshellargs()</span> to escape the ar<span class="_ _1"></span>guments passed </div><div class="t m0 x8 h3c y110e ff53 fsa fc2 sc0 ls0 ws0">to the shell command. The <span class="ff5c">escapeshellcmd()</span> function will escape the shell command </div><div class="t m0 x8 h12 y54a ff53 fsa fc2 sc0 ls0 ws0">itself.</div><div class="t m0 x1e h10 y110f ff58 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff59">■<span class="_ _c"> </span><span class="ff5a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff58 fc2"> <span class="_ _2c"> </span> If you’re not explicitly using these functions,<span class="_ _1"></span> you should disable them in your <span class="ff5c fsa">php.</span></span></span></div><div class="t m0 x8 h3c y1110 ff5c fsa fc2 sc0 ls0 ws0">ini</div><div class="t m0 x4b h10 y1111 ff58 fs6 fc2 sc0 ls0 ws0">.<span class="_ _1"></span> It’<span class="_ _2"></span>s not foolproof, but it can help.</div><div class="t m0 x8 h16 y1112 ff5d fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h43 y1113 ff5c fs5 fc4 sc0 ls0 ws0">https://stackoverflow.com/a/12202218/821275</div><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:270.258000px;bottom:363.649000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://stackoverflow.com/a/12202218/821275"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.047700px;width:182.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb3" class="pf w2 h4" data-page-no="b3"><div class="pc pcb3 w2 h4"><img class="bi x3 y26f w7 h27" alt="" src="bgb3.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">161</div><div class="t m0 x1a h3c y2a8 ff53 fsa fc2 sc0 ls4b ws125">The <span class="ff5c">assert()</span><span class="ws0"> function is used to make sure th<span class="_ _1"></span>at a certain condition is true and take </span></div><div class="t m0 x3 h12 y2a9 ff53 fsa fc2 sc0 ls4b wsf0">some action if it is not. It&apos;s useful for debuggin<span class="_ _1"></span>g, but you should turn it off for production.<span class="_ _1"></span> </div><div class="t m0 x3 h3c y2aa ff53 fsa fc2 sc0 ls4b ws0">Y<span class="_ _2"></span>ou can use the <span class="ff5c ws125">assert_options()</span></div><div class="t m0 x75 h15 y1114 ff53 fsb fc4 sc0 ls0 ws0">7</div><div class="t m0 x44 h12 y1115 ff53 fsa fc2 sc0 ls4b ws0"> function to configure ho<span class="_ _1"></span>w assert behaves and to </div><div class="t m0 x3 h12 y1116 ff53 fsa fc2 sc0 ls4b ws0">turn it off.</div><div class="t m0 x1a h3c y1117 ff53 fsa fc2 sc0 ls0 ws0">If you pass a string value to <span class="ff5c">assert()</span> then PHP will evaluate the string as if it wer<span class="_ _1"></span>e </div><div class="t m0 x3 h12 y1118 ff53 fsa fc2 sc0 ls0 ws0">PHP code. This would let an at<span class="_ _1"></span>tacker execute code on your server if they could control </div><div class="t m0 x3 h3c y1119 ff53 fsa fc2 sc0 ls0 ws0">what argumen<span class="_ _1"></span>t you pass into <span class="ff5c">assert()</span>.</div><div class="t m0 x3 h3c y111a ff5c fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y111b ff5c fsa fc2 sc0 ls0 ws0">function rce(string $a) {</div><div class="t m0 x3 h3c y111c ff5c fsa fc2 sc0 ls0 ws0">    assert($a);</div><div class="t m0 x3 h3c y111d ff5c fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y111e ff5c fsa fc2 sc0 ls0 ws0">rce(&apos;print(&quot;hello&quot;)&apos;); // hello</div><div class="t m0 x1a h3c y111f ff53 fsa fc2 sc0 ls0 ws0">In PHP 7.2, passing a string to <span class="ff5c">assert</span> is depr<span class="_ _1"></span>ecated and this code generates a </div><div class="t m0 x3 h12 y1120 ff53 fsa fc2 sc0 ls0 ws0">warning but still evaluates the par<span class="_ _1"></span>ameter<span class="_ _2"></span>.</div><div class="t m0 x3 h26 y1121 ff53 fse fc2 sc0 ls0 ws0">Gaming include and r<span class="_ _1"></span>equire</div><div class="t m0 x3 h3c y1122 ff53 fsa fc2 sc0 ls0 ws0">Both <span class="ff5c">include()</span> and <span class="ff5c">require()</span> allow the possibility of including files specified by URL if </div><div class="t m0 x3 h3c y1123 ff53 fsa fc2 sc0 ls0 ws0">the PHP configuration settin<span class="_ _1"></span>g <span class="ff5c">allow_url_include</span> is on.</div><div class="t m0 x1a h3c y1124 ff53 fsa fc2 sc0 ls40 ws0">The most common occurrence of this is when people use a <span class="ff5c ws9b">GET</span> variable in the<span class="_ _1"></span> </div><div class="t m0 x3 h12 y1125 ff53 fsa fc2 sc0 ls40 ws0">URL to determine some dynamic content to include<span class="_ _1"></span>. This is very much an amateur </div><div class="t m0 x3 h12 y1126 ff53 fsa fc2 sc0 ls40 ws9b">mistake.</div><div class="t m0 x1a h3c y1127 ff53 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, a site could ha<span class="_ _1"></span>ve a URL such as <span class="ff5c fc4">http://example.com/index.php? </span></div><div class="t m0 x3 h3c y1128 ff5c fsa fc4 sc0 ls0 ws0">sidebar=welcome<span class="ff53 fc2"> and then dynamically include the <span class="ff5c">welcome.php</span> file into the side<span class="_ _1"></span>bar<span class="_ _2"></span>.</span></div><div class="t m0 x1a h12 y1129 ff53 fsa fc2 sc0 ls0 ws0">An opponent could pro<span class="_ _1"></span>vide an URL instead of the “welcome” string and ha<span class="_ _1"></span>ve their </div><div class="t m0 x3 h12 y112a ff53 fsa fc2 sc0 ls0 ws0">own code executed on the ser<span class="_ _0"></span>ver with the same privilege level as the web server user<span class="_ _2"></span>.</div><div class="t m0 x1a h3c y112b ff53 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o counter this sort of problem, you c<span class="_ _1"></span>an turn <span class="ff5c">allow_url_fopen</span><span class="ls11 wse8"> to </span><span class="ff5c">OFF</span>, use </div><div class="t m0 x3 h3c y112c ff5c fsa fc2 sc0 ls0 ws0">basename()<span class="ff53"> against the variable you ar<span class="_ _1"></span>e including so that paths ar<span class="_ _1"></span>e remov<span class="_ _1"></span>ed, and only </span></div><div class="t m0 x3 h12 y112d ff53 fsa fc2 sc0 ls0 ws0">include against a whitelist.</div><div class="t m0 x3 h3c y112e ff5c fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y112f ff5c fsa fc2 sc0 ls0 ws0">$page = $_GET[&apos;page&apos;];</div><div class="t m0 x3 h3c y1130 ff5c fsa fc2 sc0 ls0 ws0">$allowedPages = array(&apos;adverts&apos;,&apos;contacts&apos;,&apos;information&apos;);</div><div class="t m0 x3 h3c y1131 ff5c fsa fc2 sc0 ls0 ws0">if ( in_array($page, $allowedPages) ) {</div><div class="t m0 x3 h3c y1132 ff5c fsa fc2 sc0 ls0 ws0">    include basename($page . &apos;.html&apos;);</div><div class="t m0 x3 h3c y1133 ff5c fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h16 y1134 ff5d fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x1d h43 y1135 ff5c fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.assert-options.php</div><a class="l" href="#pfb3" data-dest-detail='[179,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:192.689000px;bottom:567.145000px;width:2.650000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://example.com/index.php?sidebar=welcome"><div class="d m1" style="border-style:none;position:absolute;left:247.309000px;bottom:318.145000px;width:135.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://example.com/index.php?sidebar=welcome"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:307.145000px;width:67.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.assert-options.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.547700px;width:255.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb4" class="pf w2 h4" data-page-no="b4"><div class="pc pcb4 w2 h4"><img class="bi x8 y107d w6 h27" alt="" src="bgb4.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>2</div><div class="t m0 x8 h19 y24e ff5b fsd fc2 sc0 ls0 ws0">Email Injection</div><div class="t m0 x8 h12 y24f ff53 fsa fc2 sc0 ls0 ws0">It is possible for users to supply hexadecimal con<span class="_ _1"></span>trol charact<span class="_ _1"></span>ers that allow them to change </div><div class="t m0 x8 h12 y337 ff53 fsa fc2 sc0 ls0 ws0">the message body or recipient list<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y338 ff53 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, if your form allows the person to enter their e-mail addr<span class="_ _1"></span>ess as a “from<span class="_ _2"></span>” </div><div class="t m0 x8 h12 y6f5 ff53 fsa fc2 sc0 ls0 ws0">field for the e-mail, the following string will cause additional r<span class="_ _1"></span>ecipients to be included as </div><div class="t m0 x8 h12 y517 ff53 fsa fc2 sc0 ls0 ws0">cc and blind carbon copy r<span class="_ _1"></span>ecipients of the message:</div><div class="t m0 x8 h3c y6f6 ff5c fsa fc2 sc0 ls0 ws0">sender@example.com%0ACc:target@email.com%0ABcc:anotherperson@emailexample.</div><div class="t m0 x8 h3c y6f7 ff5c fsa fc2 sc0 ls0 ws0">com,stranger@shouldhavefiltered.com</div><div class="t m0 x3 h12 y1136 ff53 fsa fc2 sc0 ls0 ws0">It is also possible for the attac<span class="_ _1"></span>ker to provide their o<span class="_ _1"></span>wn body, and even to change </div><div class="t m0 x8 h12 y1137 ff53 fsa fc2 sc0 ls0 ws0">the MIME type of the message being sent. This means tha<span class="_ _1"></span>t your form could be used by </div><div class="t m0 x8 h12 y1138 ff53 fsa fc2 sc0 ls0 ws0">spammers to send mail.</div><div class="t m0 x3 h12 y1139 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can protect against this in a couple of wa<span class="_ _1"></span>ys.</div><div class="t m0 x3 h12 y113a ff53 fsa fc2 sc0 ls0 ws0">Make s<span class="_ _1"></span>ure that you pr<span class="_ _1"></span>operly filter input that yo<span class="_ _1"></span>u use when sending mails. The </div><div class="t m0 x8 h3c y113b ff5c fsa fc2 sc0 ls0 ws0">filter_var()<span class="ff53 wsf0"> function pro<span class="_ _1"></span>vides a number of flags that you c<span class="_ _1"></span>an use to make sure tha<span class="_ _1"></span>t your </span></div><div class="t m0 x8 h12 y113c ff53 fsa fc2 sc0 ls0 ws0">input data conforms to a desired pa<span class="_ _1"></span>ttern.</div><div class="t m0 x8 h3c y113d ff5c fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y113e ff5c fsa fc2 sc0 ls0 ws0">$from = $_POST[&quot;sender&quot;];</div><div class="t m0 x8 h3c y113f ff5c fsa fc2 sc0 ls0 ws0">$from = filter_var($from, FILTER_SANITIZE_EMAIL);</div><div class="t m0 x8 h3c y1140 ff5c fsa fc2 sc0 ls0 ws0">// send the email</div><div class="t m0 x3 h3c y1141 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou could also install and use the Suhosin PHP extension. It pr<span class="_ _1"></span>ovides the <span class="ff5c">suhosin.</span></div><div class="t m0 x8 h3c y1142 ff5c fsa fc2 sc0 ls0 ws0">mail.protect<span class="ff53"> directive tha<span class="_ _1"></span>t will guard against this<span class="_ _1"></span>.</span></div><div class="t m0 x3 h12 y1143 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou could implement a tarpit to slow bots down or trap them indefinitely. Look at </div><div class="t m0 x8 h3c y1144 ff5c fsa fc2 sc0 ls0 ws0">msigley/PHP-HTTP-Tarpit<span class="ff53"> on GitH<span class="_ _1"></span>ub</span></div><div class="t m0 x81 h15 y1145 ff53 fsb fc4 sc0 ls0 ws0">8</div><div class="t m0 x82 h12 y1146 ff53 fsa fc2 sc0 ls0 ws0"> as an example of a tarpit.</div><div class="t m0 x3 h12 y1147 ff53 fsa fc2 sc0 ls0 ws0">When setting up your mail server<span class="_ _2"></span>, you must make sur<span class="_ _1"></span>e it is not configured as an open </div><div class="t m0 x8 h12 y1148 ff53 fsa fc2 sc0 ls0 ws0">relay th<span class="_ _1"></span>at allows anybody on the Internet to use it to send mail. Y<span class="_ _2"></span>ou should also consider </div><div class="t m0 x8 h12 y1149 ff53 fsa fc2 sc0 ls0 ws0">closing port 25 (SMTP) on your firewall so tha<span class="_ _1"></span>t outside hosts are unable to r<span class="_ _1"></span>each your </div><div class="t m0 x8 h12 y114a ff53 fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>.</div><div class="t m0 x8 h19 y114b ff5b fsd fc2 sc0 ls0 ws0">Filter Input</div><div class="t m0 x8 h12 y114c ff53 fsa fc2 sc0 ls0 ws0">When approaching security, it is best to plan for the worst<span class="_ _1"></span>-case scenario and assume that </div><div class="t m0 x8 h12 y114d ff53 fsa fc2 sc0 ls0 ws0">all input is tainted, and that all user beh<span class="_ _1"></span>avior is malicious<span class="_ _1"></span>. Y<span class="_ _1"></span>ou sho<span class="_ _1"></span>uld only use input that </div><div class="t m0 x8 h12 y114e ff53 fsa fc2 sc0 ls0 ws0">you’v<span class="_ _1"></span>e manually confirmed to be safe.</div><div class="t m0 x3 h12 y114f ff53 fsa fc2 sc0 ls0 ws0">It is possible for input t<span class="_ _1"></span>o be in a format that will be ignored by a filter and then parsed </div><div class="t m0 x8 h12 y1150 ff53 fsa fc2 sc0 ls0 ws0">by the bro<span class="_ _1"></span>wser<span class="_ _2"></span>. The XSS evasion cheat sheet that I referred to earlier h<span class="_ _1"></span>as a great many </div><div class="t m0 x8 h12 y1151 ff53 fsa fc2 sc0 ls0 ws0">examples of where special char<span class="_ _1"></span>acters are used to evade detection.</div><div class="t m0 x8 h16 y1152 ff5d fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x26 h43 y1153 ff5c fs5 fc4 sc0 ls0 ws0">https://github.com/msigley/PHP-HTTP-Tarpit</div><a class="l" href="#pfb4" data-dest-detail='[180,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:185.517000px;bottom:294.729000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://github.com/msigley/PHP-HTTP-Tarpit"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.939400px;width:178.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb5" class="pf w2 h4" data-page-no="b5"><div class="pc pcb5 w2 h4"><img class="bi x3 y1154 w17 h7f" alt="" src="bgb5.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>3</div><div class="t m0 x1a h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">It is possible for input t<span class="_ _1"></span>o use a non-standard ch<span class="_ _1"></span>aracter set that might not be pr<span class="_ _1"></span>operly </div><div class="t m0 x3 h12 y1b9 ff53 fsa fc2 sc0 ls0 ws0">understood by filtering functions. Y<span class="_ _2"></span>ou should use the database na<span class="_ _1"></span>tive filter functions </div><div class="t m0 x3 h12 y1ba ff53 fsa fc2 sc0 ls0 ws0">when working with filtering SQL<span class="_ _0"></span>.</div><div class="t m0 x1a h3c y1bb ff53 fsa fc2 sc0 ls0 ws0">PHP has a very robust filtering function, <span class="ff5c">filter_var()</span>, which can be used to </div><div class="t m0 x3 h12 y1bc ff53 fsa fc2 sc0 ls0 ws0">perform a number of different filtering and sanitizing oper<span class="_ _1"></span>ations. Y<span class="_ _2"></span>ou can find a list of the </div><div class="t m0 x3 h12 y1bd ff53 fsa fc2 sc0 ls0 ws0">filters in the PHP Man<span class="_ _1"></span>ual.</div><div class="t m0 x1a h12 y1be ff53 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e also several functions that can be used to check for individual types of </div><div class="t m0 x3 h12 y1bf ff53 fsa fc2 sc0 ls0 ws0">strings. They ar<span class="_ _1"></span>e locale-aware and so will take lang<span class="_ _1"></span>uage characters into accoun<span class="_ _1"></span>t. The </div><div class="t m0 x3 h3c y1c0 ff53 fsa fc2 sc0 ls0 ws0">functions will return <span class="ff5c">true</span> if the string contains only char<span class="_ _1"></span>acters in the filter and <span class="ff5c">false</span> </div><div class="t m0 x3 h12 y1c1 ff53 fsa fc2 sc0 ls0 ws0">otherw<span class="_ _0"></span>ise<span class="_ _1"></span>.</div><div class="t m0 x3 h20 y1155 ff57 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _3a"> </span>Filters</div><div class="t m0 x3 h3c y1156 ff5c fsa fc2 sc0 ls0 ws0">ctype_alnum()<span class="_ _86"> </span><span class="ff53">Alphanumeric characters only</span></div><div class="t m0 x3 h3c y1157 ff5c fsa fc2 sc0 ls0 ws0">ctype_alpha()<span class="_ _86"> </span><span class="ff53">Alphabetic characters only</span></div><div class="t m0 x3 h3c y1158 ff5c fsa fc2 sc0 ls0 ws0">ctype_cntrl()<span class="_ _86"> </span><span class="ff53">String is control ch<span class="_ _1"></span>aracters only</span></div><div class="t m0 x3 h3c y1159 ff5c fsa fc2 sc0 ls0 ws0">ctype_digit()<span class="_ _86"> </span><span class="ff53">String is digits only</span></div><div class="t m0 x3 h3c y115a ff5c fsa fc2 sc0 ls0 ws0">ctype_graph()<span class="_ _86"> </span><span class="ff53">Only printable characters and space</span></div><div class="t m0 x3 h3c y115b ff5c fsa fc2 sc0 ls0 ws0">ctype_lower()<span class="_ _86"> </span><span class="ff53">Only lowercase letters</span></div><div class="t m0 x3 h3c y115c ff5c fsa fc2 sc0 ls0 ws0">ctype_print()<span class="_ _86"> </span><span class="ff53">Printable characters</span></div><div class="t m0 x3 h3c y115d ff5c fsa fc2 sc0 ls0 ws0">ctype_punct()<span class="_ _86"> </span><span class="ff53">Any printable that’<span class="_ _2"></span>s not whitespace or alphanumeric</span></div><div class="t m0 x3 h3c y115e ff5c fsa fc2 sc0 ls0 ws0">ctype_space()<span class="_ _86"> </span><span class="ff53">Check for whitespace characters</span></div><div class="t m0 x3 h3c y115f ff5c fsa fc2 sc0 ls0 ws0">ctype_upper()<span class="_ _86"> </span><span class="ff53">Only uppercase letters</span></div><div class="t m0 x3 h3c y1160 ff5c fsa fc2 sc0 ls0 ws0">ctype_xdigit()<span class="_ _ab"> </span><span class="ff53">Hexadecimal digits</span></div><div class="t m0 x1a h12 y1161 ff53 fsa fc2 sc0 ls14 ws0">It is common to perform filtering on the client side, for exam<span class="_ _1"></span>ple using Ja<span class="_ _1"></span>vaScript in the </div><div class="t m0 x3 h12 y1162 ff53 fsa fc2 sc0 ls14 ws0">browser<span class="_ _11"></span>. This is not sufficient and you must filter and validate on the server side as well.</div><div class="t m0 x3 h19 y1163 ff5b fsd fc2 sc0 ls0 ws0">Escape Output</div><div class="t m0 x3 h12 y1164 ff53 fsa fc2 sc0 ls0 ws0">One of the cardinal rules for writing secure PHP code is to filter input and esca<span class="_ _1"></span>pe output.</div><div class="t m0 x1a h12 y1165 ff53 fsa fc2 sc0 ls0 ws0">Before you emit da<span class="_ _1"></span>ta, you must make s<span class="_ _1"></span>ure that it is safe for the clien<span class="_ _1"></span>t. Recall how XSS </div><div class="t m0 x3 h12 y1166 ff53 fsa fc2 sc0 ls0 ws0">attacks work as an example of wh<span class="_ _1"></span>y you need to make sure th<span class="_ _1"></span>at what you send to the clien<span class="_ _1"></span>t </div><div class="t m0 x3 h12 y1167 ff53 fsa fc2 sc0 ls0 ws0">is properly sanitized.</div><div class="t m0 x1a h12 y1168 ff53 fsa fc2 sc0 ls0 ws0">If the data you send to a client includes instructions for it to execute code<span class="_ _1"></span>, then it will </div><div class="t m0 x3 h12 y1169 ff53 fsa fc2 sc0 ls0 ws0">do so blindly. Y<span class="_ _2"></span>ou must make sure tha<span class="_ _1"></span>t you send only code you intend for the client to </div><div class="t m0 x3 h12 y116a ff53 fsa fc2 sc0 ls0 ws0">execute, and not code injected by an a<span class="_ _1"></span>ttacker<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y116b ff53 fsa fc2 sc0 ls0 ws0">As with filtering input, you must not r<span class="_ _1"></span>ely on the client to filter output sent to it<span class="_ _1"></span>. Not all </div><div class="t m0 x3 h12 y116c ff53 fsa fc2 sc0 ls0 ws0">clients will hav<span class="_ _1"></span>e Ja<span class="_ _1"></span>vaScript enabled, and it’<span class="_ _2"></span>s p<span class="_ _0"></span>ossible for a h<span class="_ _1"></span>acker to bypass client filtering.</div><div class="t m0 x1a h3c y116d ff53 fsa fc2 sc0 ls0 ws0">The most secure wa<span class="_ _1"></span>y to filter output is using <span class="ff5c">filter_var()</span> with the <span class="ff5c">FILTER_</span></div><div class="t m0 x3 h3c y116e ff5c fsa fc2 sc0 ls0 ws0">SANITIZE_STRING<span class="ff53"> flag. Ther<span class="_ _1"></span>e might be use-cases where this is too restrictive for yo<span class="_ _1"></span>u, in </span></div><div class="t m0 x3 h3c y116f ff53 fsa fc2 sc0 ls0 ws0">which case you will need to look at functions like <span class="ff5c">htmlspecialchars()</span>, <span class="ff5c">strip_tags()</span>, </div><div class="t m0 x3 h3c y1170 ff53 fsa fc2 sc0 ls0 ws0">and <span class="ff5c">htmlentities()</span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb6" class="pf w2 h4" data-page-no="b6"><div class="pc pcb6 w2 h4"><img class="bi x8 y1171 w18 h80" alt="" src="bgb6.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>4</div><div class="t m0 x3 h3c y2a8 ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">htmlspecialchars()</span> and <span class="ff5c">htmlentities()</span> functions ha<span class="_ _1"></span>ve similar effects and </div><div class="t m0 x8 h12 y3e3 ff53 fsa fc2 sc0 ls0 ws0">you should make sur<span class="_ _1"></span>e you understand the difference<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y424 ff53 fsa fc2 sc0 ls0 ws0">The difference is tha<span class="_ _1"></span>t <span class="ff5c">htmlentities()</span> will encode anything that has an HTML entity </div><div class="t m0 x8 h3c y2ab ff53 fsa fc2 sc0 ls0 ws0">repr<span class="_ _1"></span>esentation, whereas <span class="ff5c">htmlspecialchars()</span> will only encode character<span class="_ _1"></span>s that ha<span class="_ _1"></span>ve </div><div class="t m0 x8 h12 y2ac ff53 fsa fc2 sc0 ls0 ws0">special significance in HTML.</div><div class="t m0 x8 h3c y3e5 ff5c fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y425 ff5c fsa fc2 sc0 ls0 ws0">$string = &apos;© 1982 Sinclair Research Ltd.&apos;;</div><div class="t m0 x8 h3c y3e6 ff5c fsa fc2 sc0 ls0 ws0">echo htmlentities($string); // &amp;copy; 1982 Sinclair Research Ltd.</div><div class="t m0 x8 h3c y426 ff5c fsa fc2 sc0 ls0 ws0">echo PHP_EOL;</div><div class="t m0 x8 h3c y3e7 ff5c fsa fc2 sc0 ls0 ws0">echo htmlspecialchars($string); // © 1982 Sinclair Research Ltd.</div><div class="t m0 x3 h3c y3e9 ff53 fsa fc2 sc0 ls0 ws0">This table shows the char<span class="_ _1"></span>acters that will be converted by <span class="ff5c">htmlspecialchars()</span>.</div><div class="t m0 x8 h20 y1172 ff57 fs6 fc2 sc0 ls0 ws0">Character<span class="_ _ac"> </span>Becomes</div><div class="t m0 x8 h3c y1173 ff5c fsa fc2 sc0 ls0 ws0">&amp;<span class="ff53"> (Ampersand)<span class="_ _ad"> </span></span>&amp;amp;</div><div class="t m0 x8 h3c y1174 ff5c fsa fc2 sc0 ls0 ws0">&quot;<span class="ff53"> (Double quote)<span class="_ _ae"> </span></span>&amp;quot;</div><div class="t m0 x8 h3c y1175 ff5c fsa fc2 sc0 ls0 ws0">&apos;<span class="ff53"> (Single quote)<span class="_ _6e"> </span></span>&amp;#039;</div><div class="t m0 x8 h3c y1176 ff5c fsa fc2 sc0 ls0 ws0">&lt;<span class="ff53"> (Less than)<span class="_ _33"> </span></span>&amp;lt;</div><div class="t m0 x8 h3c y1177 ff5c fsa fc2 sc0 ls0 ws0">&gt;<span class="ff53"> (Greater th<span class="_ _1"></span>an)<span class="_ _af"> </span><span class="ff5c">&amp;gt;</span></span></div><div class="t m0 x3 h12 y1178 ff53 fsa fc2 sc0 ls0 ws0">Both functions take a flag as their second parameter<span class="_ _2"></span>. Y<span class="_ _2"></span>ou should make sure th<span class="_ _1"></span>at </div><div class="t m0 x8 h12 y1179 ff53 fsa fc2 sc0 ls0 ws0">you know at least these thr<span class="_ _1"></span>ee flags as they are important for escaping J<span class="_ _1"></span>a<span class="_ _1"></span>vaScript you’re </div><div class="t m0 x8 h12 y117a ff53 fsa fc2 sc0 ls0 ws0">outputting:</div><div class="t m0 x8 h20 y117b ff57 fs6 fc2 sc0 ls0 ws0">Flag<span class="_ _b0"> </span>Description</div><div class="t m0 x8 h3c y117c ff5c fsa fc2 sc0 ls0 ws0">ENT_COMPAT<span class="_ _7c"> </span><span class="ff53">Converts double quotes, not sin<span class="_ _1"></span>gle quotes</span></div><div class="t m0 x8 h3c y117d ff5c fsa fc2 sc0 ls0 ws0">ENT_QUOTES<span class="_ _7c"> </span><span class="ff53">Converts double quotes and single quotes</span></div><div class="t m0 x8 h3c y117e ff5c fsa fc2 sc0 ls0 ws0">ENT_NOQUOTES<span class="_ _b1"> </span><span class="ff53">Does not convert any quotes</span></div><div class="t m0 x3 h3c y117f ff53 fsa fc2 sc0 ls0 ws0">When escaping a J<span class="_ _1"></span>avaScript string, you should use the <span class="ff5c">ENT_QUOTES</span><span class="ls10 wsea"> flag.</span></div><div class="t m0 x3 h12 y1180 ff53 fsa fc2 sc0 ls0 ws0">The encoding of the string can be specified in the third par<span class="_ _1"></span>ameter<span class="_ _2"></span>. In PHP 7.1, the </div><div class="t m0 x8 h12 y1181 ff53 fsa fc2 sc0 ls0 ws0">default encoding for both functions is UTF-8.</div><div class="t m0 x8 h26 y1182 ff53 fse fc2 sc0 ls0 ws0">A<span class="_ _2"></span>void Log Poisoning</div><div class="t m0 x8 h12 y1183 ff53 fsa fc2 sc0 ls0 ws0">If you’re logging err<span class="_ _1"></span>or messages, information mess<span class="_ _1"></span>ages, and the like, y<span class="_ _1"></span>ou need to take </div><div class="t m0 x8 h12 y1184 ff53 fsa fc2 sc0 ls0 ws0">some precautions with what y<span class="_ _1"></span>ou log.</div><div class="t m0 x3 h12 y1185 ff53 fsa fc2 sc0 ls0 ws0">Obviously, you m<span class="_ _1"></span>ust never log sensitive information like user passwords or cr<span class="_ _1"></span>edit </div><div class="t m0 x8 h12 y1186 ff53 fsa fc2 sc0 ls0 ws0">cards<span class="_ _1"></span>. If you’re passing this t<span class="_ _1"></span>o a logging function, then make sure yo<span class="_ _1"></span>u obfuscate it. So<span class="_ _1"></span>, </div><div class="t m0 x8 h12 y1187 ff53 fsa fc2 sc0 ls0 ws0">a credit car<span class="_ _1"></span>d number would be a sequence of asterisks in your log file, ra<span class="_ _1"></span>ther than the </div><div class="t m0 x8 h12 y1188 ff53 fsa fc2 sc0 ls0 ws0">actual number<span class="_ _2"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb7" class="pf w2 h4" data-page-no="b7"><div class="pc pcb7 w2 h4"><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>5</div><div class="t m0 x1a h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">Make s<span class="_ _1"></span>ure that you filter o<span class="_ _1"></span>ut executable code and personal information before </div><div class="t m0 x3 h12 y1b9 ff53 fsa fc2 sc0 ls0 ws0">logging it.</div><div class="t m0 x1a h12 y1ba ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should also be aware of how a log poisoning attac<span class="_ _1"></span>k works. The vulner<span class="_ _1"></span>ability rests </div><div class="t m0 x3 h12 y1bb ff53 fsa fc2 sc0 ls0 ws0">on your code improperly includin<span class="_ _1"></span>g local files. If you allow user inp<span class="_ _1"></span>ut to determine which </div><div class="t m0 x3 h12 y1bc ff53 fsa fc2 sc0 ls0 ws0">file is included then an attacker could m<span class="_ _1"></span>anipulate that input to include a log file<span class="_ _1"></span>. If the log </div><div class="t m0 x3 h12 y1bd ff53 fsa fc2 sc0 ls0 ws0">file contains malicious code then it will be interpr<span class="_ _1"></span>eted and run.</div><div class="t m0 x1a h12 y1be ff53 fsa fc2 sc0 ls0 ws0">All that an attac<span class="_ _1"></span>ker needs to do is get their code into your log file, which can be very </div><div class="t m0 x3 h12 y1bf ff53 fsa fc2 sc0 ls0 ws0">easy to do<span class="_ _1"></span>. For example<span class="_ _1"></span>, they can poison your web server log by crafting a request tha<span class="_ _1"></span>t </div><div class="t m0 x3 h12 y1c0 ff53 fsa fc2 sc0 ls0 ws0">will inject a string containing the commands they want to run into the log. As another </div><div class="t m0 x3 h12 y1c1 ff53 fsa fc2 sc0 ls0 ws0">example of the attacker c<span class="_ _1"></span>an SSH onto your server and use malicious code as their </div><div class="t m0 x3 h12 y1c2 ff53 fsa fc2 sc0 ls0 ws0">username to poison your authentica<span class="_ _1"></span>tion log file.</div><div class="t m0 x1a h12 y1c3 ff53 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o help you understand the impact, let’<span class="_ _2"></span>s run through an example of an exploit. </div><div class="t m0 x3 h12 y1c4 ff53 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s assume tha<span class="_ _1"></span>t your code is running on your localhost and is vulnerable to local file </div><div class="t m0 x3 h12 y1c5 ff53 fsa fc2 sc0 ls0 ws0">inclusion and accepts the name of an image tha<span class="_ _1"></span>t needs to be displayed.</div><div class="t m0 x1a h3c y1c6 ff53 fsa fc2 sc0 ls0 ws0">First, we use the command <span class="ff5c">nc localhost 80</span> to connect to the web server<span class="_ _2"></span>. W<span class="_ _1"></span>e then </div><div class="t m0 x3 h12 y1c7 ff53 fsa fc2 sc0 ls0 ws0">issue the following request to the server<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y733 ff5c fsa fc2 sc0 ls0 ws0">GET /&lt;?php passthru($_GET[&apos;cmd&apos;]); ?&gt; HTTP/1.1</div><div class="t m0 x3 h3c y734 ff5c fsa fc2 sc0 ls0 ws0">Host: localhost</div><div class="t m0 x1a h12 y735 ff53 fsa fc2 sc0 ls0 ws0">Apache will write a line in the log file that looks something like this:</div><div class="t m0 x3 h3c y737 ff5c fsa fc2 sc0 ls0 ws0">127.0.0.1 - - [08/Apr/2016:13:57:38 +0000]</div><div class="t m0 x3 h3c y738 ff5c fsa fc2 sc0 ls0 ws0">&quot;GET /&lt;?php system($_GET[&apos;cmd&apos;]); ?&gt;</div><div class="t m0 x3 h3c y739 ff5c fsa fc2 sc0 ls0 ws0">HTTP/1.1&quot; 400 226</div><div class="t m0 x3 h3c y73a ff5c fsa fc2 sc0 ls0 ws0">&quot;&lt;?php passthru($_GET[&apos;cmd2&apos;]); ?&gt;&quot;</div><div class="t m0 x3 h3c y73b ff5c fsa fc2 sc0 ls0 ws0">&quot;&lt;?php passthru($_GET[&apos;cmd&apos;]); ?&gt;&quot;</div><div class="t m0 x1a h12 y73d ff53 fsa fc2 sc0 ls0 ws0">I&apos;m splitting my log entry over m<span class="_ _1"></span>ultiple lines but obviously in your log file<span class="_ _1"></span>, it will all </div><div class="t m0 x3 h12 ya6b ff53 fsa fc2 sc0 ls0 ws0">be on the same line.</div><div class="t m0 x1a h12 ya6c ff53 fsa fc2 sc0 ls0 ws0">The next step of the exploit is to issue a r<span class="_ _1"></span>equest to the site that includes the log file </div><div class="t m0 x3 h12 ya6d ff53 fsa fc2 sc0 ls0 ws0">(this requires ther<span class="_ _1"></span>e to be such a vulnerability in your s<span class="_ _1"></span>ite).</div><div class="t m0 x3 h3c y1189 ff5c fsa fc2 sc0 ls0 ws0">http://localhost/?file=/var/log/apache2/access.log&amp;cmd=ls<span class="ff53"> </span>-la</div><div class="t m0 x1a h12 y118a ff53 fsa fc2 sc0 ls0 ws0">Quite a lot needs to go wrong for yo<span class="_ _1"></span>u to be vulnerable to this:</div><div class="t m0 x7 h12 y118b ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">The web server user nee<span class="_ _0"></span>ds r<span class="_ _1"></span>ead access to the targeted log file</span></div><div class="t m0 x7 h12 y118c ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">Y<span class="_ _2"></span>our code must allow the attacker to include a targeted file</span></div><div class="t m0 x7 h3c y118d ff60 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff53">Y<span class="_ _2"></span>ou cannot have disabled <span class="ff5c">exec</span>, <span class="ff5c">passthru</span>, and <span class="ff5c">system</span> in your </span></div><div class="t m0 x19 h12 y118e ff53 fsa fc2 sc0 ls0 ws0">configuration</div><div class="t m0 x3 h19 y118f ff5b fsd fc2 sc0 ls0 ws0">Encr<span class="_ _0"></span>yption and Hashing <span class="_ _2"></span>Algorithms</div><div class="t m0 x3 h12 y1190 ff53 fsa fc2 sc0 ls0 ws0">Encryption and hashing are differen<span class="_ _1"></span>t concepts and you should make sur<span class="_ _1"></span>e you understand </div><div class="t m0 x3 h12 y1191 ff53 fsa fc2 sc0 ls0 ws0">the difference<span class="_ _1"></span>. Encryption is a t<span class="_ _0"></span>wo-wa<span class="_ _1"></span>y operation; you can encrypt and decrypt. Hashing </div><div class="t m0 x3 h12 y1192 ff53 fsa fc2 sc0 ls0 ws0">is a one-way opera<span class="_ _1"></span>tion and by design it is difficult or time-consuming to take a hash and </div><div class="t m0 x3 h12 y1193 ff53 fsa fc2 sc0 ls0 ws0">reverse it to the original string.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb8" class="pf w2 h4" data-page-no="b8"><div class="pc pcb8 w2 h4"><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>6</div><div class="t m0 x3 h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should store passwords in the data<span class="_ _1"></span>base as hashes. This wa<span class="_ _1"></span>y, if attackers get a </div><div class="t m0 x8 h12 y1b9 ff53 fsa fc2 sc0 ls0 ws0">copy of your data<span class="_ _1"></span>base, they are still una<span class="_ _1"></span>ble to obtain user passwords unless they can </div><div class="t m0 x8 h12 y1ba ff53 fsa fc2 sc0 ls0 ws0">reverse the hash<span class="_ _1"></span>. Typically, r<span class="_ _1"></span>eversing the hash will take a significant amoun<span class="_ _1"></span>t of time, and </div><div class="t m0 x8 h12 y1bb ff53 fsa fc2 sc0 ls0 ws0">hopefully you will hav<span class="_ _1"></span>e enough time to notice the breach of security and alert your users </div><div class="t m0 x8 h12 y1bc ff53 fsa fc2 sc0 ls0 ws0">that they need to change their passwor<span class="_ _1"></span>ds.</div><div class="t m0 x3 h12 y1bd ff53 fsa fc2 sc0 ls0 ws0">The amount of time tha<span class="_ _1"></span>t it takes to calculate a hash will determine how long a hack<span class="_ _1"></span>er </div><div class="t m0 x8 h12 y1be ff53 fsa fc2 sc0 ls0 ws0">will take to guess passwords b<span class="_ _1"></span>y brute force.</div><div class="t m0 x8 h26 y1194 ff53 fse fc2 sc0 ls0 ws0">Encryption in PHP</div><div class="t m0 x8 h3c y1195 ff53 fsa fc2 sc0 ls0 ws0">Encryption in PHP is provided by the <span class="ff5c">mcrypt</span> module<span class="_ _1"></span>, which needs to be installed and </div><div class="t m0 x8 h3c y1196 ff53 fsa fc2 sc0 ls0 ws0">enabled separately. T<span class="_ _1"></span>he <span class="ff5c">mcrypt</span> module makes availa<span class="_ _1"></span>ble a wide range of encryption </div><div class="t m0 x8 h12 y1197 ff53 fsa fc2 sc0 ls0 ws0">functions and constants.</div><div class="t m0 x3 h12 y1198 ff53 fsa fc2 sc0 ls0 ws0">The algorithms that ar<span class="_ _1"></span>e available ar<span class="_ _1"></span>e dependent on the operating system on which </div><div class="t m0 x8 h12 y1199 ff53 fsa fc2 sc0 ls0 ws0">PHP is installed. Y<span class="_ _2"></span>ou should not attempt to write your own implementation of an </div><div class="t m0 x8 h12 y119a ff53 fsa fc2 sc0 ls0 ws0">encryption algorithm.</div><div class="t m0 x3 h12 y119b ff53 fsa fc2 sc0 ls0 ws0">The Zend certification examination does not ha<span class="_ _1"></span>ve a heavy em<span class="_ _1"></span>phasis on encryption.</div><div class="t m0 x8 h26 y292 ff53 fse fc2 sc0 ls0 ws0">H<span class="_ _1"></span>ash Functions</div><div class="t m0 x8 h12 y293 ff53 fsa fc2 sc0 ls0 ws0">Older hashes like MD5 and SHA1 are very quick to calculate and so you m<span class="_ _1"></span>ust not use </div><div class="t m0 x8 h12 y294 ff53 fsa fc2 sc0 ls0 ws0">them in any place where security is involved. They ar<span class="_ _1"></span>e still very useful in other areas </div><div class="t m0 x8 h12 y295 ff53 fsa fc2 sc0 ls0 ws0">of programmin<span class="_ _1"></span>g, but not in any place where you’r<span class="_ _1"></span>e relying on them being a one-wa<span class="_ _1"></span>y </div><div class="t m0 x8 h12 y296 ff53 fsa fc2 sc0 ls0 ws0">operation.</div><div class="t m0 x3 h3c y119c ff53 fsa fc2 sc0 ls0 ws0">PHP 5.5.0 introduces the <span class="ff5c">password_hash()</span> function, which pr<span class="_ _1"></span>ovides a convenien<span class="_ _1"></span>t </div><div class="t m0 x8 h12 y119d ff53 fsa fc2 sc0 ls0 ws0">way to genera<span class="_ _1"></span>te secure hashes.</div><div class="t m0 x3 h3c y119e ff53 fsa fc2 sc0 ls0 ws0">For older versions of P<span class="_ _1"></span>HP<span class="_ _11"></span>, you should use the <span class="ff5c">crypt()</span> function.</div><div class="t m0 x3 h3c y119f ff53 fsa fc2 sc0 ls0 ws0">By default the <span class="ff5c">password_hash()</span> function uses the <span class="ff5c">bcrypt</span> algorithm to hash the </div><div class="t m0 x8 h3c y11a0 ff53 fsa fc2 sc0 ls0 ws0">password. The <span class="ff5c">bcrypt</span> algorithm has a par<span class="_ _1"></span>ameter that includes how man<span class="_ _1"></span>y times it should </div><div class="t m0 x8 h12 y11a1 ff53 fsa fc2 sc0 ls0 ws0">run on the password before r<span class="_ _1"></span>eturning the hashed result<span class="_ _1"></span>. This is referred to as the “<span class="_ _2"></span>cost” of </div><div class="t m0 x8 h12 y11a2 ff53 fsa fc2 sc0 ls0 ws0">the algorithm.</div><div class="t m0 x3 h12 y11a3 ff53 fsa fc2 sc0 ls0 ws0">By increasin<span class="_ _1"></span>g the number of times that the algorithm must run, you can incr<span class="_ _1"></span>ease </div><div class="t m0 x8 h12 y11a4 ff53 fsa fc2 sc0 ls0 ws0">the length of time that it takes to c<span class="_ _1"></span>alculate a hash. This means th<span class="_ _1"></span>at as computers get </div><div class="t m0 x8 h3c y11a5 ff53 fsa fc2 sc0 ls0 ws0">faster<span class="_ _2"></span>, you can incre<span class="_ _1"></span>ase the number of iterations in your <span class="ff5c">bcrypt</span> algorithm to keep your </div><div class="t m0 x8 h12 y11a6 ff53 fsa fc2 sc0 ls0 ws0">passwords secure fr<span class="_ _1"></span>om brute force attacks<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y11a7 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the <span class="ff5c">password_info()</span> function to retrieve information about how a hash </div><div class="t m0 x8 h12 y11a8 ff53 fsa fc2 sc0 ls0 ws0">was calculated. This function will tell you the n<span class="_ _1"></span>ame of algorithm, the cost, and the salt.</div><div class="t m0 x3 h3c y11a9 ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">password_needs_rehash()</span> function will compare a hash a<span class="_ _1"></span>gainst the options </div><div class="t m0 x8 h12 y11aa ff53 fsa fc2 sc0 ls0 ws0">you specify to see if it needs to be rehashed. This will let you chan<span class="_ _1"></span>ge the algorithm used to </div><div class="t m0 x8 h12 y11ab ff53 fsa fc2 sc0 ls0 ws0">hash your passwor<span class="_ _1"></span>ds, for example increas<span class="_ _1"></span>ing the cost over time.</div><div class="t m0 x8 h26 y11ac ff53 fse fc2 sc0 ls0 ws0">Secure Random S<span class="_ _1"></span>trings and Integers</div><div class="t m0 x8 h12 y11ad ff53 fsa fc2 sc0 ls0 ws0">PHP has two functions that allow y<span class="_ _1"></span>ou to conveniently genera<span class="_ _1"></span>te cr<span class="_ _0"></span>yptogr<span class="_ _1"></span>aphically secure </div><div class="t m0 x8 h12 y11ae ff53 fsa fc2 sc0 ls0 ws0">integers and strings. These functions will work on any pla<span class="_ _1"></span>tform where PHP runs.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb9" class="pf w2 h4" data-page-no="b9"><div class="pc pcb9 w2 h4"><img class="bi x3 y653 w5 h61" alt="" src="bgb9.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>7</div><div class="t m0 x3 h20 yc67 ff57 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _5d"> </span>Parameters<span class="_ _22"> </span>Returns<span class="_ _b2"> </span>Description</div><div class="t m0 x3 h3c yc68 ff5c fsa fc2 sc0 ls0 ws0">random_bytes<span class="_ _73"> </span>Int $length<span class="_ _33"> </span><span class="ff53">String of bytes<span class="_ _ab"> </span>Generates a random </span></div><div class="t m0 x83 h3c y11af ff53 fsa fc2 sc0 ls0 ws0">string that is <span class="ff5c">$length</span> </div><div class="t m0 x83 h12 y11b0 ff53 fsa fc2 sc0 ls0 ws0">bytes long</div><div class="t m0 x3 h3c y11b1 ff5c fsa fc2 sc0 ls0 ws0">random_int<span class="_ _96"> </span>Int $min<span class="ff53">, </span>int $max<span class="_ _6a"> </span><span class="ff53">Random integer<span class="_ _5f"> </span>Generates a random </span></div><div class="t m0 x83 h12 y11b2 ff53 fsa fc2 sc0 ls0 ws0">integer in the range </div><div class="t m0 x83 h3c y11b3 ff53 fsa fc2 sc0 ls0 ws0">specified by <span class="ff5c">$min</span> and </div><div class="t m0 x83 h3c y11b4 ff5c fsa fc2 sc0 ls0 ws0">$max</div><div class="t m0 x1a h3c y11b5 ff53 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple of using <span class="ff5c">random_bytes</span>:</div><div class="t m0 x3 h3c y11b6 ff5c fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y11b7 ff5c fsa fc2 sc0 ls0 ws0">// get a string that contains 8 random bytes</div><div class="t m0 x3 h3c y11b8 ff5c fsa fc2 sc0 ls0 ws0">$randomBytes = random_bytes(8);</div><div class="t m0 x3 h3c y11b9 ff5c fsa fc2 sc0 ls0 ws0">$printableVersion = bin2hex($randomBytes);</div><div class="t m0 x3 h3c y11ba ff5c fsa fc2 sc0 ls0 ws0">echo $printableVersion; // d7e263202be1b99b</div><div class="t m0 x1a h12 y11bb ff53 fsa fc2 sc0 ls0 ws0">The string that PHP genera<span class="_ _1"></span>tes will not necessarily be printable, so I&apos;m using the </div><div class="t m0 x3 h3c y11bc ff5c fsa fc2 sc0 ls0 ws0">bin2hex()<span class="ff53"> function to convert it to a hexadecimal string. H<span class="_ _1"></span>exadecimal requires two </span></div><div class="t m0 x3 h12 y11bd ff53 fsa fc2 sc0 ls0 ws0">characters to displa<span class="_ _1"></span>y a byte so the string that we output at the end is 16 ch<span class="_ _1"></span>aracters long </div><div class="t m0 x3 h12 y11be ff53 fsa fc2 sc0 ls0 ws0">(twice the number of random bytes we gener<span class="_ _1"></span>ated).</div><div class="t m0 x3 h26 y11bf ff53 fse fc2 sc0 ls0 ws0">Salting P<span class="_ _1"></span>asswor<span class="_ _1"></span>ds</div><div class="t m0 x3 h12 y11c0 ff53 fsa fc2 sc0 ls0 ws0">A <span class="ff5f">salt string</span> is an additional string that is added to the passwor<span class="_ _1"></span>d. It should be randoml<span class="_ _1"></span>y </div><div class="t m0 x3 h12 y11c1 ff53 fsa fc2 sc0 ls0 ws0">generated for every password. I<span class="_ _1"></span>t is used to help make dictionary attacks and pre-</div><div class="t m0 x3 h12 y11c2 ff53 fsa fc2 sc0 ls0 ws0">computed rainbow a<span class="_ _1"></span>ttacks more difficult.</div><div class="t m0 x1a h3c y11c3 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify a salt for the <span class="ff5c">password_hash()</span> function, but if you omit it then PHP </div><div class="t m0 x3 h12 y11c4 ff53 fsa fc2 sc0 ls0 ws0">will create one for you. T<span class="_ _1"></span>he PHP Manual notes tha<span class="_ _1"></span>t the intended mode of operation is for </div><div class="t m0 x3 h12 y11c5 ff53 fsa fc2 sc0 ls0 ws0">you to let it crea<span class="_ _1"></span>te the random salt for the password.</div><div class="t m0 x1a h3c y11c6 ff53 fsa fc2 sc0 ls0 ws0">The <span class="ff5c">crypt()</span> function accepts a salt string as a second parameter<span class="_ _2"></span>, but will not </div><div class="t m0 x3 h12 y11c7 ff53 fsa fc2 sc0 ls0 ws0">automaticall<span class="_ _1"></span>y generate a salt if you don’t pr<span class="_ _1"></span>ovide your own. PHP 5.6.0+ will issue a notice </div><div class="t m0 x3 h12 y11c8 ff53 fsa fc2 sc0 ls0 ws0">if you fail to pro<span class="_ _1"></span>vide a salt.</div><div class="t m0 x3 h26 y11c9 ff53 fse fc2 sc0 ls0 ws0">Checking a P<span class="_ _1"></span>asswor<span class="_ _1"></span>d</div><div class="t m0 x3 h12 y11ca ff53 fsa fc2 sc0 ls0 ws0">If it is possible for an attacker to accur<span class="_ _1"></span>ately measure the time it takes to run yo<span class="_ _1"></span>ur </div><div class="t m0 x3 h12 y11cb ff53 fsa fc2 sc0 ls0 ws0">password checking r<span class="_ _1"></span>outine, they will be able to glean information tha<span class="_ _1"></span>t can help them in </div><div class="t m0 x3 h12 y11cc ff53 fsa fc2 sc0 ls0 ws0">breaking the passwor<span class="_ _1"></span>d. These attacks are r<span class="_ _1"></span>eferred to as <span class="ff5f">timing attacks</span>.</div><div class="t m0 x1a h3c y11cd ff53 fsa fc2 sc0 ls0 ws0">The PHP 5.5.0 <span class="ff5c">password_verify()</span> function is a timing attack</div><div class="t m0 x84 h15 y11ce ff53 fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x85 h12 y11cf ff53 fsa fc2 sc0 ls0 ws0">-safe wa<span class="_ _1"></span>y to compare </div><div class="t m0 x3 h3c y11d0 ff53 fsa fc2 sc0 ls0 ws0">hashes crea<span class="_ _1"></span>ted by <span class="ff5c">password_hash()</span>.</div><div class="t m0 x3 h16 y11d1 ff5d fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x1d h43 y11d2 ff5c fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Timing_attack</div><a class="l" href="#pfb9" data-dest-detail='[185,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:308.491000px;bottom:123.091000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Timing_attack"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.222900px;width:182.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfba" class="pf w2 h4" data-page-no="ba"><div class="pc pcba w2 h4"><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>8</div><div class="t m0 x3 h12 y1b8 ff53 fsa fc2 sc0 ls0 ws0">If you’re un<span class="_ _1"></span>able to use this function, you will need to calculate the hash for the </div><div class="t m0 x8 h12 y1b9 ff53 fsa fc2 sc0 ls0 ws0">password supplied by the user and then comp<span class="_ _1"></span>are the hash against the one stor<span class="_ _1"></span>ed. </div><div class="t m0 x8 h12 y1ba ff53 fsa fc2 sc0 ls0 ws0">Comparing the hashes is vulnerable to timin<span class="_ _1"></span>g attacks.</div><div class="t m0 x3 h3c y1bb ff53 fsa fc2 sc0 ls0 ws0">PHP 5.6.0 introduced the <span class="ff5c">hash_equals()</span> function, which is a timing a<span class="_ _1"></span>ttack<span class="_ _1"></span>-<span class="_ _1"></span>safe way </div><div class="t m0 x8 h3c y1bc ff53 fsa fc2 sc0 ls0 ws0">of comparing strings. Y<span class="_ _2"></span>ou should use this function when comparing <span class="ff5c">crypt()</span> generated </div><div class="t m0 x8 h12 y1bd ff53 fsa fc2 sc0 ls0 ws0">hashes.</div><div class="t m0 x8 h26 y595 ff53 fse fc2 sc0 ls0 ws0">A Quick N<span class="_ _1"></span>ote on Err<span class="_ _1"></span>or Messages</div><div class="t m0 x8 h12 y596 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should never confirm to a person that they have enter<span class="_ _1"></span>ed an incorrect username. </div><div class="t m0 x8 h12 y597 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>our error message should be that they ha<span class="_ _1"></span>ve entered either an incorrect username or </div><div class="t m0 x8 h12 y598 ff53 fsa fc2 sc0 ls0 ws0">password. The less informa<span class="_ _1"></span>tion you give to an attacker<span class="_ _11"></span>, the longer it will take for them to </div><div class="t m0 x8 h12 y599 ff53 fsa fc2 sc0 ls0 ws0">gain access to your system<span class="_ _1"></span>.</div><div class="t m0 x8 h19 y96c ff5b fsd fc2 sc0 ls0 ws0">File Uploads</div><div class="t m0 x8 h12 y96d ff53 fsa fc2 sc0 ls0 ws0">File uploads ar<span class="_ _1"></span>e a major risk for a web application and need to be secured in several w<span class="_ _1"></span>ays.</div><div class="t m0 x3 h3c y96e ff53 fsa fc2 sc0 ls0 ws0">Recall that the <span class="ff5c">$_FILES[]</span> superglob<span class="_ _1"></span>al contains information about the files that wer<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y96f ff53 fsa fc2 sc0 ls0 ws0">uploaded by the client. Y<span class="_ _2"></span>ou should trea<span class="_ _1"></span>t everything in this ar<span class="_ _0"></span>r<span class="_ _1"></span>ay as suspicious and make </div><div class="t m0 x8 h12 y970 ff53 fsa fc2 sc0 ls0 ws0">sure tha<span class="_ _1"></span>t you manually confirm every piece of information.</div><div class="t m0 x3 h12 y971 ff53 fsa fc2 sc0 ls0 ws0">The way PHP handles file uploads is t<span class="_ _1"></span>o save them to a temporary directory. Y<span class="_ _2"></span>ou can </div><div class="t m0 x8 h12 y972 ff53 fsa fc2 sc0 ls0 ws0">operate on them ther<span class="_ _1"></span>e and then move them to the location wher<span class="_ _1"></span>e you want them.</div><div class="t m0 x3 h12 y973 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should check that the file you’re wor<span class="_ _1"></span>king with is a valid uploaded file and that </div><div class="t m0 x8 h12 y11d3 ff53 fsa fc2 sc0 ls0 ws0">the client has tried to forge its filename and location in the tem<span class="_ _1"></span>porary folder<span class="_ _2"></span>.</div><div class="t m0 x3 h3c y11d4 ff53 fsa fc2 sc0 ls0 ws0">Use the <span class="ff5c">is_uploaded_file()</span> function to make sur<span class="_ _1"></span>e that the file you’r<span class="_ _1"></span>e referencing </div><div class="t m0 x8 h3c y11d5 ff53 fsa fc2 sc0 ls0 ws0">was actually uploaded. Use the <span class="ff5c">move_uploaded_file()</span> instead of other methods to mo<span class="_ _1"></span>ve </div><div class="t m0 x8 h12 y11d6 ff53 fsa fc2 sc0 ls0 ws0">it from the tempor<span class="_ _1"></span>ar<span class="_ _0"></span>y dir<span class="_ _1"></span>ector<span class="_ _0"></span>y to your fin<span class="_ _1"></span>al location.</div><div class="t m0 x3 h3c y11d7 ff53 fsa fc2 sc0 ls0 ws0">When referring to a file, use the <span class="ff5c">basename()</span> function to strip out paths to pr<span class="_ _1"></span>event a </div><div class="t m0 x8 h12 y11d8 ff53 fsa fc2 sc0 ls0 ws0">person from spoofing the filename<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y11d9 ff53 fsa fc2 sc0 ls0 ws0">Don’t trust the MIME type specified by the user<span class="_ _2"></span>. Ignore the MIME type supplied by </div><div class="t m0 x8 h3c y11da ff53 fsa fc2 sc0 ls0 ws0">the user and use <span class="ff5c">finfo_file()</span> to determine the MIME type if you need it.</div><div class="t m0 x3 h12 y11db ff53 fsa fc2 sc0 ls0 ws0">If you’re allo<span class="_ _1"></span>wing a user to upload an image, you should use a GD ima<span class="_ _1"></span>ge function </div><div class="t m0 x8 h3c y11dc ff53 fsa fc2 sc0 ls0 ws0">like <span class="ff5c">getimagesize()</span> on it to confirm that it is a valid ima<span class="_ _1"></span>ge. If this function fails, then the </div><div class="t m0 x8 h12 y11dd ff53 fsa fc2 sc0 ls0 ws0">file is not a valid image<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y11de ff53 fsa fc2 sc0 ls0 ws0">Generate your own filename to stor<span class="_ _1"></span>e the file as and do not use the one supplied by </div><div class="t m0 x8 h12 y11df ff53 fsa fc2 sc0 ls0 ws0">the user<span class="_ _2"></span>. Using a random hash for the filen<span class="_ _1"></span>ame and setting the extension manually by </div><div class="t m0 x8 h12 y11e0 ff53 fsa fc2 sc0 ls0 ws0">inspecting the MIME type is strongly suggested.</div><div class="t m0 x3 h12 y11e1 ff53 fsa fc2 sc0 ls0 wsf0">Make s<span class="_ _1"></span>ure that the folder wher<span class="_ _1"></span>e you are storing the files only allows access to the web </div><div class="t m0 x8 h12 y11e2 ff53 fsa fc2 sc0 ls0 ws0">server user<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y11e3 ff53 fsa fc2 sc0 ls0 ws0">If you don’t need to serve the files that are uploaded, then keep the uploads folder </div><div class="t m0 x8 h12 y11e4 ff53 fsa fc2 sc0 ls0 ws0">outside of the document root<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfbb" class="pf w2 h4" data-page-no="bb"><div class="pc pcbb w2 h4"><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1c wsf8">16<span class="_ _0"></span>9</div><div class="t m0 x3 h19 y24e ff5b fsd fc2 sc0 ls0 ws0">Database Storage</div><div class="t m0 x3 h12 y24f ff53 fsa fc2 sc0 ls0 ws0">In addition to a<span class="_ _1"></span>voiding SQL injection, you should apply some security pr<span class="_ _0"></span>inciples to how </div><div class="t m0 x3 h12 y337 ff53 fsa fc2 sc0 ls0 ws0">you interact with the da<span class="_ _1"></span>tabase.</div><div class="t m0 x1a h12 y338 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should separate your database servers for your different code en<span class="_ _1"></span>vironments<span class="_ _1"></span>. </div><div class="t m0 x3 h12 y516 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>our QA<span class="_ _0"></span>, test, development, and pr<span class="_ _1"></span>oduction servers should all use different database </div><div class="t m0 x3 h12 y517 ff53 fsa fc2 sc0 ls0 ws0">servers and should not be able to access each other<span class="_ _0"></span>’<span class="_ _2"></span>s databases.</div><div class="t m0 x1a h12 y518 ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou must prevent the In<span class="_ _1"></span>ternet from ha<span class="_ _1"></span>ving access to your database server<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y519 ff53 fsa fc2 sc0 ls0 ws0">This can be accomplished by using a fir<span class="_ _1"></span>ewall to close the port from outside traffic, </div><div class="t m0 x3 h12 y51a ff53 fsa fc2 sc0 ls0 ws0">using a private subnet tha<span class="_ _1"></span>t has no route to the In<span class="_ _1"></span>ternet, or configuring your database </div><div class="t m0 x3 h12 ybd4 ff53 fsa fc2 sc0 ls0 ws0">server to listen only to specific hosts.</div><div class="t m0 x1a h12 yeb9 ff53 fsa fc2 sc0 ls0 ws0">It’<span class="_ _2"></span>s not sufficient to change the port that your da<span class="_ _1"></span>tabase listens on. I’<span class="_ _2"></span>d go as far as to </div><div class="t m0 x3 h12 ybd5 ff53 fsa fc2 sc0 ls0 ws0">say it’<span class="_ _2"></span>s not worth b<span class="_ _0"></span>othering because it’<span class="_ _2"></span>s not even a speed bump to an attacker and just </div><div class="t m0 x3 h12 ybd6 ff53 fsa fc2 sc0 ls0 ws0">makes your server environmen<span class="_ _1"></span>t harder for your colleag<span class="_ _1"></span>ues to use.</div><div class="t m0 x1a h12 y6fc ff53 fsa fc2 sc0 ls0 ws0">If you run several applications on a sin<span class="_ _1"></span>gle database server<span class="_ _2"></span>, make sure that each </div><div class="t m0 x3 h12 ybd7 ff53 fsa fc2 sc0 ls0 ws0">application has its o<span class="_ _1"></span>wn username and password on the server<span class="_ _2"></span>. Each application user </div><div class="t m0 x3 h12 yeba ff53 fsa fc2 sc0 ls0 ws0">should ha<span class="_ _1"></span>ve only the least amount of privileges it needs and should never be able to read </div><div class="t m0 x3 h12 ybd8 ff53 fsa fc2 sc0 ls0 ws0">another applications<span class="_ _1"></span>’ databases<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y6ff ff53 fsa fc2 sc0 ls0 ws0">A<span class="_ _1"></span>void using pr<span class="_ _1"></span>edictable usernames and make sur<span class="_ _1"></span>e that you use secure passwor<span class="_ _1"></span>ds. </div><div class="t m0 x3 h12 ybd9 ff53 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, I usually use a randomly genera<span class="_ _1"></span>ted version 4 UUID as a password.</div><div class="t m0 x1a h3c ybda ff53 fsa fc2 sc0 ls0 ws0">Encrypt sensitive data with <span class="ff5c">mcrypt()</span> and <span class="ff5c">mhash()</span> before placing it into the </div><div class="t m0 x3 h12 y11e5 ff53 fsa fc2 sc0 ls11 wse8">database.</div><div class="t m0 x1a h12 ybdb ff53 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should examine your database logs from time to time<span class="_ _1"></span>. Y<span class="_ _1"></span>ou’ll be able to s<span class="_ _1"></span>pot </div><div class="t m0 x3 h12 yebb ff53 fsa fc2 sc0 ls0 ws0">attempted injection attacks and other pa<span class="_ _1"></span>tterns that will let you identify br<span class="_ _1"></span>eaches or </div><div class="t m0 x3 h12 ybdc ff53 fsa fc2 sc0 ls0 ws0">tighten are<span class="_ _1"></span>as of code.</div><div class="t m0 x3 h19 y11e6 ff5b fsd fc2 sc0 ls0 ws0">A<span class="_ _1"></span>void Publishing <span class="_ _2"></span>Y<span class="_ _2"></span>our Password Online</div><div class="t m0 x3 h12 y11e7 ff53 fsa fc2 sc0 ls0 ws0">A good piece of advice is to avoid publishing yo<span class="_ _1"></span>ur database or API credentials online </div><div class="t m0 x3 h12 y11e8 ff53 fsa fc2 sc0 ls0 ws0">where people can r<span class="_ _1"></span>ead them. Okay, I’m being facetious<span class="_ _1"></span>, but seriously when would you be </div><div class="t m0 x3 h12 y11e9 ff53 fsa fc2 sc0 ls0 ws0">likely to publish all your access cr<span class="_ _1"></span>edentials for the world and his dog to read?</div><div class="t m0 x1a h12 y11ea ff53 fsa fc2 sc0 ls0 ws0">One time you could do this is when committing to a Git r<span class="_ _1"></span>epositor<span class="_ _0"></span>y and pushing it to </div><div class="t m0 x3 h12 y11eb ff53 fsa fc2 sc0 ls0 ws0">a service like GitHub or Bitbuc<span class="_ _1"></span>ket.</div><div class="t m0 x1a h12 y11ec ff53 fsa fc2 sc0 ls0 ws0">Make s<span class="_ _1"></span>ure that any config<span class="_ _1"></span>uration files are ignor<span class="_ _1"></span>ed by your version contr<span class="_ _1"></span>ol system </div><div class="t m0 x3 h12 y11ed ff53 fsa fc2 sc0 ls0 ws0">and are never committed or pushed to upstr<span class="_ _1"></span>eam repositories. Ther<span class="_ _1"></span>e are bots tha<span class="_ _1"></span>t scrape </div><div class="t m0 x3 h12 y11ee ff53 fsa fc2 sc0 ls0 ws0">GitH<span class="_ _1"></span>ub for credentials that will punish yo<span class="_ _1"></span>u for these mistakes.</div><div class="t m0 x1a h12 y11ef ff53 fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>ust as an aside related to this link, you sho<span class="_ _1"></span>uld not hard-code Amazon cr<span class="_ _1"></span>edentials </div><div class="t m0 x3 h12 y11f0 ff53 fsa fc2 sc0 ls0 ws0">into an application. Ra<span class="_ _1"></span>ther<span class="_ _2"></span>, set an IAM role that allows access to the service you want to </div><div class="t m0 x3 h12 y11f1 ff53 fsa fc2 sc0 ls0 ws0">use and apply the role to your VM.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfbc" class="pf w2 h4" data-page-no="bc"><div class="pc pcbc w2 h4"><img class="bi x8 y11f2 w5 h81" alt="" src="bgbc.png"/><div class="t m0 x8 h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x8 hd y55 ff53 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>0</div><div class="t m0 x4a hf y11f3 ff56 fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">6</span> QUIZ</div><div class="t m0 x4b h10 y11f4 ff58 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>The recommended production setting for the <span class="ff5c fsa">display_error</span> configuration </div><div class="t m0 x4b h10 y11f5 ff58 fs6 fc2 sc0 ls0 ws0">setting is <span class="ff5c fsa">On</span>.</div><div class="t m0 x4b h10 y11f6 ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 y11f7 ff58 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x4b h10 y11f8 ff58 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> Using HTTPS to encrypt your login pa<span class="_ _0"></span>ge will help to prevent session hijacking </div><div class="t m0 x4b h10 y11f9 ff58 fs6 fc2 sc0 ls0 ws0">and session fixation.</div><div class="t m0 x4b h10 y11fa ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 y11fb ff58 fs6 fc2 sc0 ls0 ws0">False<span class="_ _28"> </span><span class="ff53 fsa">*</span></div><div class="t m0 x4b h10 y11fc ff58 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can force sessions to be contained exclusively in cookies by using the </div><div class="t m0 x4b h10 y11fd ff58 fs6 fc2 sc0 ls0 ws0">_____________ configuration setting.</div><div class="t m0 x4b h3c y11fe ff5c fsa fc2 sc0 ls0 ws0">session.cookie_secure</div><div class="t m0 x4b h3c y11ff ff5c fsa fc2 sc0 ls0 ws0">session.use_cookies</div><div class="t m0 x4b h3c y1200 ff5c fsa fc2 sc0 ls0 ws0">session.use_trans_sid</div><div class="t m0 x4b h10 y1201 ff58 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x4b h10 y1202 ff58 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> CSRF involves an attacker tricking the user&apos;s browser or device into making </div><div class="t m0 x4b h10 y1203 ff58 fs6 fc2 sc0 ls0 ws0">a request without them knowing.<span class="_ _1"></span> It exploits the trust that the ser<span class="_ _0"></span>ver has in the </div><div class="t m0 x4b h10 y1204 ff58 fs6 fc2 sc0 ls0 ws0">browser<span class="_ _2"></span>. <span class="_ _2"></span>Y<span class="_ _1"></span>ou can avoid it by inc<span class="_ _1"></span>luding a CSRF token in your form that increases by </div><div class="t m0 x4b h10 y1205 ff58 fs6 fc2 sc0 ls0 ws0">one every time a visitor loads the pa<span class="_ _0"></span>ge.</div><div class="t m0 x4b h10 y1206 ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 y1207 ff58 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x4b h10 y1208 ff58 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> Both the <span class="ff5c fsa">crypt()</span> and the <span class="ff5c fsa">password_hash()</span> functions allow you to specify the </div><div class="t m0 x4b h10 y1209 ff58 fs6 fc2 sc0 ls0 ws0">salt,<span class="_ _1"></span> but will generate a properly random salt for you if you do not.</div><div class="t m0 x4b h10 y120a ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x4b h10 y120b ff58 fs6 fc2 sc0 ls0 ws0">False</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:222.216000px;bottom:580.395000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfbd" class="pf w2 h4" data-page-no="bd"><div class="pc pcbd w2 h4"><img class="bi x3 y120c w5 h82" alt="" src="bgbd.png"/><div class="t m0 x6e h11 y54 ff58 fs9 fc2 sc0 ls0 ws0">CHAPTER 6 <span class="ff59 fc5">■</span> SECURITY</div><div class="t m0 x21 hd y55 ff53 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>1</div><div class="t m0 x5 h10 y609 ff58 fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>The browser determines the file type by making an OS call and sends this </div><div class="t m0 x5 h10 y120d ff58 fs6 fc2 sc0 ls0 ws0">information with the request.<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can trust this to determine the extension to use </div><div class="t m0 x5 h10 y120e ff58 fs6 fc2 sc0 ls0 ws0">when storing the file.</div><div class="t m0 x5 h10 y120f ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y1210 ff58 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x5 h10 y1211 ff58 fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> Because PHP deletes the temporary file when it finishes running, you should </div><div class="t m0 x5 h10 y1212 ff58 fs6 fc2 sc0 ls0 ws0">first make sure that you use the </div><div class="t m0 x75 h10 y1213 ff5c fsa fc2 sc0 ls0 ws0">copy()<span class="ff58 fs6"> function to place the temporary file in a </span></div><div class="t m0 x5 h10 y1214 ff58 fs6 fc2 sc0 ls0 ws0">permanent location.</div><div class="t m0 x5 h10 y1215 ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y1216 ff58 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x5 h10 y1217 ff58 fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> By default,<span class="_ _1"></span> PHP is configured to be able to include source code that is stored on </div><div class="t m0 x5 h10 y1218 ff58 fs6 fc2 sc0 ls0 ws0">a URL.</div><div class="t m0 x5 h10 y1219 ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y121a ff58 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x5 h10 y121b ff58 fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> <span class="_ _1"></span>A sufficient counter<span class="_ _1"></span>-measure to prevent XSS is to use the <span class="ff5c fsa">strip_tags()</span> </div><div class="t m0 x5 h10 y121c ff58 fs6 fc2 sc0 ls0 ws0">function before your content.</div><div class="t m0 x5 h10 y121d ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y121e ff58 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x5 h10 y121f ff58 fs6 fc2 sc0 ls0 wsf">Q10:<span class="_ _1"></span> The <span class="_ _0"></span><span class="ff5c fsa ws0">open_basedir</span><span class="ws0"> configuration setting has no effect unless PHP safe mode is </span></div><div class="t m0 x5 h10 y1220 ff58 fs6 fc2 sc0 ls0 ws0">on.<span class="_ _1"></span> It restricts which directories PHP can access.</div><div class="t m0 x5 h10 y1221 ff58 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y1222 ff58 fs6 fc2 sc0 ls0 ws0">False</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfbe" class="pf w2 h4" data-page-no="be"><div class="pc pcbe w2 h4"><img class="bi x0 y1c9 w4 h1a" alt="" src="bgbe.png"/><div class="t m0 x21 hd y3e ff61 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>3</div><div class="t m0 x3 h1b y1ca ff62 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff62 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff63">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff62 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_7<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff64 fse fc2 sc0 ls0 ws0">CHAPTER 7</div><div class="t m0 x3 h1d y1ce ff65 fs7 fc2 sc0 ls0 ws0">Data Formats and T<span class="_ _5"></span>ypes</div><div class="t m0 x3 h12 y612 ff61 fsa fc2 sc0 ls0 ws0">This chapter is split into s<span class="_ _1"></span>ix broad areas:</div><div class="t m0 x7 h12 y1223 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">XML</span></div><div class="t m0 x7 h12 y1224 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61 ls49 ws123">SOAP</span></div><div class="t m0 x7 h12 y1225 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">REST web services</span></div><div class="t m0 x7 h12 y1226 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">JSON</span></div><div class="t m0 x7 h12 y1227 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">Date and time</span></div><div class="t m0 x7 h12 y1228 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">PHP SPL data structures</span></div><div class="t m0 x1a h12 y1229 ff61 fsa fc2 sc0 ls0 ws0">Although this topic is not one of the three high importance ar<span class="_ _1"></span>eas for the Zend exam, </div><div class="t m0 x3 h12 y122a ff61 fsa fc2 sc0 ls0 ws0">you can expect to be asked a couple of r<span class="_ _1"></span>elatively detailed questions from this section.</div><div class="t m0 x3 h19 y122b ff67 fsd fc2 sc0 ls0 ws0">XML</div><div class="t m0 x3 h12 y122c ff61 fsa fc2 sc0 ls0 ws0">XML stands for eXtensible M<span class="_ _1"></span>arkup Langua<span class="_ _1"></span>ge and is a way to store data in a s<span class="_ _1"></span>tructured </div><div class="t m0 x3 h12 y122d ff61 fsa fc2 sc0 ls0 ws0">manner<span class="_ _2"></span>. An advantage of using XML is tha<span class="_ _1"></span>t it is a well recognized data standard and so is </div><div class="t m0 x3 h12 y122e ff61 fsa fc2 sc0 ls0 ws0">a convenient wa<span class="_ _1"></span>y to exchange data between systems<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y122f ff61 fsa fc2 sc0 ls0 ws0">In the industry, there has been a shift awa<span class="_ _1"></span>y from XML and towar<span class="_ _1"></span>d JSON as a data </div><div class="t m0 x3 h12 y1230 ff61 fsa fc2 sc0 ls0 ws0">exchange pr<span class="_ _1"></span>ocess, but XML is still relevan<span class="_ _1"></span>t to ever<span class="_ _0"></span>yda<span class="_ _1"></span>y practice and is part of the Zend </div><div class="t m0 x3 h12 y1231 ff61 fsa fc2 sc0 ls0 ws0">examination.</div><div class="t m0 x3 h26 y1232 ff61 fse fc2 sc0 ls0 ws0">The Basics of XML</div><div class="t m0 x3 h12 y1233 ff61 fsa fc2 sc0 ls0 ws0">This isn’t an introductory book on PHP<span class="_ _11"></span>, so I won’t introduce all the elements of XML in </div><div class="t m0 x3 h12 y1234 ff61 fsa fc2 sc0 ls0 ws0">excruciating detail. This book would be far too long if we went into tha<span class="_ _1"></span>t level of detail. </div><div class="t m0 x3 h12 y1235 ff61 fsa fc2 sc0 ls0 ws0">Make s<span class="_ _1"></span>ure that you ar<span class="_ _1"></span>e at least familiar with all the terms in the following table, beca<span class="_ _1"></span>use </div><div class="t m0 x3 h12 y1236 ff61 fsa fc2 sc0 ls0 ws0">we’ll be using them as we examine the XML processing ca<span class="_ _1"></span>pability of PHP<span class="_ _11"></span>.</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_7"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfbf" class="pf w2 h4" data-page-no="bf"><div class="pc pcbf w2 h4"><img class="bi x8 y653 w3 h61" alt="" src="bgbf.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls3c ws115">174</div><div class="t m0 x8 h20 yc67 ff65 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>erm<span class="_ _4a"> </span>Description</div><div class="t m0 x8 h12 yc68 ff61 fsa fc2 sc0 ls0 ws0">SGML<span class="_ _2d"> </span>Standardiz<span class="_ _1"></span>ed General Mark<span class="_ _1"></span>up Language. XML is a subset of this.</div><div class="t m0 x8 h12 yc69 ff61 fsa fc2 sc0 ls0 ws0">Document Type </div><div class="t m0 x8 h12 y1237 ff61 fsa fc2 sc0 ls0 ws0">Declaration</div><div class="t m0 x6c h12 yc69 ff61 fsa fc2 sc0 ls0 ws0">The DTD defines the legal building blocks of an XML document </div><div class="t m0 x6c h12 y1237 ff61 fsa fc2 sc0 ls0 ws0">structure with a list of legal elements and at<span class="_ _1"></span>tributes.</div><div class="t m0 x8 h12 y1238 ff61 fsa fc2 sc0 ls0 ws0">Entity<span class="_ _29"> </span>An en<span class="_ _1"></span>tity can declare names and values th<span class="_ _1"></span>at are not permitted in </div><div class="t m0 x6c h3c y1239 ff61 fsa fc2 sc0 ls0 ws0">the rest of the XML document. F<span class="_ _1"></span>or example, HTML declar<span class="_ _1"></span>es <span class="ff6a">&lt;</span> as an </div><div class="t m0 x6c h3c y123a ff61 fsa fc2 sc0 ls0 ws0">entity to repr<span class="_ _1"></span>esent the less than symbol <span class="ff6a">&lt;</span>. These declara<span class="_ _1"></span>tions can </div><div class="t m0 x6c h12 y123b ff61 fsa fc2 sc0 ls0 ws0">also be used as shortcuts and to maintain consistency of spelling </div><div class="t m0 x6c h12 y123c ff61 fsa fc2 sc0 ls0 ws0">and value througho<span class="_ _1"></span>ut a document.</div><div class="t m0 x8 h12 y123d ff61 fsa fc2 sc0 ls0 ws0">Element<span class="_ _68"> </span>Elements ar<span class="_ _1"></span>e the basic building blocks of an XML document. </div><div class="t m0 x6c h12 y123e ff61 fsa fc2 sc0 ls0 ws0">Elements can be nested and contain elements<span class="_ _1"></span>, or they can contain a </div><div class="t m0 x6c h12 y123f ff61 fsa fc2 sc0 ls0 ws0">value. Elements m<span class="_ _1"></span>ay hav<span class="_ _1"></span>e attributes.</div><div class="t m0 x8 h12 y1240 ff61 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>ell-formed<span class="_ _7f"> </span>A w<span class="_ _0"></span>ell-formed document in XML is a document that adher<span class="_ _1"></span>es to the </div><div class="t m0 x6c h12 y1241 ff61 fsa fc2 sc0 ls0 ws0">syntax rules specified by the XML 1.0 specification in that it m<span class="_ _1"></span>ust </div><div class="t m0 x6c h12 y1242 ff61 fsa fc2 sc0 ls0 ws0">satisfy both physical and logic<span class="_ _1"></span>al structures.</div><div class="t m0 x86 h15 y1243 ff61 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x8 h12 y1244 ff61 fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>alid<span class="_ _4a"> </span>An XML document validated against a DTD is both “W<span class="_ _1"></span>ell F<span class="_ _1"></span>ormed” </div><div class="t m0 x6c h12 y1245 ff61 fsa fc2 sc0 ls0 ws0">and “<span class="_ _0"></span>V<span class="_ _2"></span>alid”<span class="_ _e"></span>.</div><div class="t m0 x3 h12 y1246 ff61 fsa fc2 sc0 ls0 ws0">If you’re a<span class="_ _1"></span>t all shaky about these definitions, then please mak<span class="_ _1"></span>e sure that yo<span class="_ _1"></span>u read a </div><div class="t m0 x8 h12 y1247 ff61 fsa fc2 sc0 ls0 ws0">comprehensive tut<span class="_ _1"></span>orial on XML and read the linked footnotes from this section.</div><div class="t m0 x8 h26 y1248 ff61 fse fc2 sc0 ls0 ws0">W<span class="_ _2"></span>ell-Formed and V<span class="_ _2"></span>alid</div><div class="t m0 x8 h12 y1249 ff61 fsa fc2 sc0 ls0 ws0">Let me expand on what these terms mean because it’<span class="_ _1"></span>s important to kno<span class="_ _1"></span>w the difference.</div><div class="t m0 x3 h12 y124a ff61 fsa fc2 sc0 ls0 ws0">A document is well-formed if<span class="_ _0"></span>:</div><div class="t m0 x2b h12 y124b ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">It has a sin<span class="_ _1"></span>gle root element</span></div><div class="t m0 x2b h12 y124c ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">T<span class="_ _2"></span>ags are opened and closed properly</span></div><div class="t m0 x2b h12 y124d ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">All its entities are well-formed, according t<span class="_ _1"></span>o this list<span class="_ _0"></span>:</span></div><div class="t m0 x18 h12 y124e ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _75"> </span><span class="ff61">They contain only properly encoded Unicode charact<span class="_ _1"></span>ers</span></div><div class="t m0 x18 h3c y124f ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _75"> </span><span class="ff61">No syntax mar<span class="_ _1"></span>ks like <span class="ff6a">&lt;</span> or <span class="ff6a">&amp;</span> appear</span></div><div class="t m0 x18 h12 y1250 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _75"> </span><span class="ff61">T<span class="_ _2"></span>ag names must match exactly and m<span class="_ _1"></span>ay not contain symbols</span></div><div class="t m0 x3 h12 y1251 ff61 fsa fc2 sc0 ls0 ws0">A document is valid if it is well-formed and conforms to the DTD.</div><div class="t m0 x8 h16 y1252 ff6b fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x26 h43 y1253 ff6a fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Well-formed_document</div><a class="l" href="#pfbf" data-dest-detail='[191,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:276.745000px;bottom:408.377000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Well-formed_document"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.117700px;width:212.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc0" class="pf w2 h4" data-page-no="c0"><div class="pc pcc0 w2 h4"><img class="bi x3 y1254 w5 h32" alt="" src="bgc0.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>5</div><div class="t m0 x23 h10 y198 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68"> <span class="_ _2c"> </span> PHP does not require XML documents to be valid but it does require them to be </span></span></span></div><div class="t m0 x3 h10 y199 ff68 fs6 fc2 sc0 ls0 ws0">well formed to parse them with standard libraries.</div><div class="t m0 x3 h26 y1255 ff61 fse fc2 sc0 ls0 ws0">XML Processing I<span class="_ _1"></span>nstructions</div><div class="t m0 x3 h12 y1256 ff61 fsa fc2 sc0 ls0 ws0">Processing instructions allow documen<span class="_ _1"></span>ts to contain instructions for applications. They </div><div class="t m0 x3 h3c y1257 ff61 fsa fc2 sc0 ls0 ws0">are enclosed in <span class="ff6a">&lt;?</span> and <span class="ff6a">?&gt;</span> marks and look lik<span class="_ _1"></span>e this, for example:</div><div class="t m0 x3 h3c y1258 ff6a fsa fc2 sc0 ls0 ws0">&lt;?PITarget PIContent?&gt;</div><div class="t m0 x1a h12 y1259 ff61 fsa fc2 sc0 ls0 ws0">One use-case could be to inform an application that an element is to be a particular </div><div class="t m0 x3 h12 y125a ff61 fsa fc2 sc0 ls0 ws0">data type, as in this example:</div><div class="t m0 x3 h3c y125b ff6a fsa fc2 sc0 ls0 ws0">&lt;?var type=&quot;string&quot; ?&gt;</div><div class="t m0 x1a h12 y125c ff61 fsa fc2 sc0 ls0 ws0">The most common usage is to include an XSL<span class="_ _2"></span>T or CSS stylesheet, like so:</div><div class="t m0 x3 h3c y125d ff6a fsa fc2 sc0 ls0 ws0">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;style.xsl&quot;?&gt;</div><div class="t m0 x3 h3c y125e ff6a fsa fc2 sc0 ls0 ws0">&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;style.css&quot;?&gt;</div><div class="t m0 x3 h26 y125f ff61 fse fc2 sc0 ls0 ws0">XML Transformations with PHP XSL</div><div class="t m0 x3 h12 y1260 ff61 fsa fc2 sc0 ls0 ws0">The PHP XSL extension allows PHP to apply XSL<span class="_ _2"></span>T transformations<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1261 ff61 fsa fc2 sc0 ls0 ws0">Although this is commonly used to apply stylesheets, it is important to kno<span class="_ _1"></span>w that </div><div class="t m0 x3 h12 y1262 ff61 fsa fc2 sc0 ls0 ws0">many other forms of transformation ar<span class="_ _1"></span>e possible.</div><div class="t m0 x1a h12 y1263 ff61 fsa fc2 sc0 ls0 ws0">XSL is a language for expressing stylesheets for XML documents<span class="_ _1"></span>. It is like CSS in that </div><div class="t m0 x3 h12 y1264 ff61 fsa fc2 sc0 ls0 ws0">it describes how to display an XML document.</div><div class="t m0 x1a h12 y1265 ff61 fsa fc2 sc0 ls0 ws0">XSL defines XSL<span class="_ _2"></span>T that is a transformation language for XML documents tha<span class="_ _1"></span>t allows </div><div class="t m0 x3 h12 y1266 ff61 fsa fc2 sc0 ls0 ws0">XML documents to be processed into other documents<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1267 ff61 fsa fc2 sc0 ls0 ws0">An XSL<span class="_ _2"></span>T processor takes an input XML file, some XSL<span class="_ _2"></span>T code, and produces a new </div><div class="t m0 x3 h12 y1268 ff61 fsa fc2 sc0 ls0 ws0">document. F<span class="_ _1"></span>igure<span class="fc4">7-1</span>, taken fr<span class="_ _1"></span>om Wikipedia Creative Commons<span class="_ _1"></span>, illustrates this<span class="_ _1"></span>.</div><a class="l" href="#pfc1" data-dest-detail='[193,"XYZ",29,601,null]'><div class="d m1" style="border-style:none;position:absolute;left:127.421000px;bottom:225.377000px;width:12.312000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc1" class="pf w2 h4" data-page-no="c1"><div class="pc pcc1 w2 h4"><img class="bi x8 y6f4 w3 h83" alt="" src="bgc1.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>6</div><div class="t m0 x3 h12 y1269 ff61 fsa fc2 sc0 ls0 ws0">A use-case for this could be to create an XHTML document tha<span class="_ _1"></span>t can be rendered b<span class="_ _1"></span>y </div><div class="t m0 x8 h12 y126a ff61 fsa fc2 sc0 ls0 ws0">a browser<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y126b ff61 fsa fc2 sc0 ls0 ws0">Input XML would be received fr<span class="_ _1"></span>om a PHP program tha<span class="_ _1"></span>t includes processing </div><div class="t m0 x8 h12 y126c ff61 fsa fc2 sc0 ls0 ws0">instructions about where to r<span class="_ _1"></span>etrieve an XSL stylesheet. The browser would retrieve this </div><div class="t m0 x8 h12 y126d ff61 fsa fc2 sc0 ls0 ws0">stylesheet and apply the XSL<span class="_ _2"></span>T code in it to produce the XHTML<span class="_ _0"></span>.</div><div class="t m0 x8 h20 y126e ff65 fs6 fc2 sc0 ls0 ws0">Acronym<span class="_ _8e"> </span>What It Is</div><div class="t m0 x8 h12 y126f ff61 fsa fc2 sc0 ls11 wse8">XSL<span class="_ _5c"> </span><span class="ls0 ws0">Language to expres<span class="_ _1"></span>s stylesheets</span></div><div class="t m0 x8 h12 y1270 ff61 fsa fc2 sc0 ls4c ws126">X<span class="_ _72"></span>S<span class="_ _72"></span>LT<span class="_ _94"> </span><span class="ls0 ws0">Transforma<span class="_ _1"></span>tion language to process XML into another XML document</span></div><div class="t m0 x3 h12 y1271 ff61 fsa fc2 sc0 ls0 ws0">The PHP manual</div><div class="t m0 x3b h15 y1272 ff61 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x50 h12 y1273 ff61 fsa fc2 sc0 ls0 ws0"> has a simple example of how to use PHP to tr<span class="_ _1"></span>ansform an XML file </div><div class="t m0 x8 h12 y1274 ff61 fsa fc2 sc0 ls0 ws0">using an XSL<span class="_ _0"></span>:</div><div class="t m0 x8 h3c y1275 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1276 ff6a fsa fc2 sc0 ls0 ws0">$xslDoc = new DOMDocument();</div><div class="t m0 x8 h3c y1277 ff6a fsa fc2 sc0 ls0 ws0">$xslDoc-&gt;load(&quot;collection.xsl&quot;);</div><div class="t m0 x8 h84 y1278 ff6d fsa fc2 sc0 ls0 ws0">Figure 7-1.<span class="ff6e"> <span class="_ _aa"> </span>XSL<span class="_ _2"></span>T pro<span class="_ _0"></span>ces<span class="_ _1"></span>sor</span></div><div class="t m0 x8 h16 y1279 ff6b fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x26 h43 y127a ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/xsltprocessor.transformtoxml.php</div><a class="l" href="#pfc1" data-dest-detail='[193,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:123.020000px;bottom:215.284000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/xsltprocessor.transformtoxml.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:71.730700px;width:246.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc2" class="pf w2 h4" data-page-no="c2"><div class="pc pcc2 w2 h4"><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>7</div><div class="t m0 x3 h3c y2a8 ff6a fsa fc2 sc0 ls0 ws0">$xmlDoc = new DOMDocument();</div><div class="t m0 x3 h3c y3e3 ff6a fsa fc2 sc0 ls0 ws0">$xmlDoc-&gt;load(&quot;collection.xml&quot;);</div><div class="t m0 x3 h3c y2ab ff6a fsa fc2 sc0 ls0 ws0">$proc = new XSLTProcessor();</div><div class="t m0 x3 h3c y2ac ff6a fsa fc2 sc0 ls0 ws0">$proc-&gt;importStylesheet($xslDoc);</div><div class="t m0 x3 h3c y3e4 ff6a fsa fc2 sc0 ls0 ws0">echo $proc-&gt;transformToXML($xmlDoc);</div><div class="t m0 x3 h26 y127b ff61 fse fc2 sc0 ls0 ws0">P<span class="_ _1"></span>arsing XML in PHP</div><div class="t m0 x3 h12 y127c ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two types of XML parsers available in PHP<span class="_ _11"></span>. There ar<span class="_ _1"></span>e several PHP extensions </div><div class="t m0 x3 h12 y127d ff61 fsa fc2 sc0 ls0 ws0">that parse XML, but they all fall under one of these tw<span class="_ _0"></span>o types<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y127e ff61 fsa fc2 sc0 ls0 ws0">All the PHP XML extensions use the same underlying library, so it is possible to pass </div><div class="t m0 x3 h12 y127f ff61 fsa fc2 sc0 ls0 ws0">data between them.</div><div class="t m0 x1a h3c y1280 ff61 fsa fc2 sc0 ls0 ws0">All XML routines requir<span class="_ _1"></span>e both the <span class="ff6a">LibXML</span> extension and the <span class="ff6a">Expat</span> library to be </div><div class="t m0 x3 h12 y1281 ff61 fsa fc2 sc0 ls0 ws0">enabled. These are both en<span class="_ _1"></span>abled by default in PHP<span class="_ _11"></span>.</div><div class="t m0 x3 h1c y1282 ff67 fse fc2 sc0 ls0 ws0">T<span class="_ _11"></span>ree Parsers</div><div class="t m0 x3 h12 y1283 ff61 fsa fc2 sc0 ls0 ws0">Tree parsers attempt to p<span class="_ _1"></span>arse the entire document at once and tr<span class="_ _1"></span>ansform it into a tree </div><div class="t m0 x3 h12 y1284 ff61 fsa fc2 sc0 ls0 ws0">structure<span class="_ _1"></span>. It should be clear that this could pr<span class="_ _1"></span>esent problems if yo<span class="_ _1"></span>u’re trying to parse a </div><div class="t m0 x3 h12 y1285 ff61 fsa fc2 sc0 ls0 ws0">very big document.</div><div class="t m0 x1a h12 y1286 ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two tree parsers in PHP<span class="_ _0"></span>:</div><div class="t m0 x7 h12 y1287 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">SimpleXML</span></div><div class="t m0 x7 h12 y1288 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">DOM</span></div><div class="t m0 x3 h1c y1289 ff67 fse fc2 sc0 ls0 ws0">Event-Based Parsers</div><div class="t m0 x3 h12 y128a ff61 fsa fc2 sc0 ls0 ws0">These parsers are quicker and consume les<span class="_ _1"></span>s memor<span class="_ _0"></span>y than tr<span class="_ _1"></span>ee parsers. They work by </div><div class="t m0 x3 h12 y128b ff61 fsa fc2 sc0 ls0 ws0">reading the XML document node b<span class="_ _1"></span>y node and providing you the opportunity to hook into </div><div class="t m0 x3 h12 y128c ff61 fsa fc2 sc0 ls0 ws0">events associated with this reading pr<span class="_ _1"></span>ocess.</div><div class="t m0 x1a h12 y128d ff61 fsa fc2 sc0 ls0 ws0">Two examples of even<span class="_ _1"></span>t-based parsers are:</div><div class="t m0 x7 h12 y128e ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">XMLReader</span></div><div class="t m0 x7 h12 y128f ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">XML Expat parser</span></div><div class="t m0 x1a h12 y1290 ff61 fsa fc2 sc0 ls0 ws0">The XML Expat parser is a non-<span class="_ _1"></span>validating event based parser that is also built in<span class="_ _1"></span>to </div><div class="t m0 x3 h12 y1291 ff61 fsa fc2 sc0 ls0 ws0">PHP’<span class="_ _2"></span>s core. It does not r<span class="_ _1"></span>equire a DTD because it does not validate XML and only r<span class="_ _1"></span>equires </div><div class="t m0 x3 h12 y1292 ff61 fsa fc2 sc0 ls0 ws0">that XML be well-formed.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc3" class="pf w2 h4" data-page-no="c3"><div class="pc pcc3 w2 h4"><img class="bi x8 y26f w3 h85" alt="" src="bgc3.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>8</div><div class="t m0 x8 h1c y654 ff67 fse fc2 sc0 ls0 ws0">Error Codes</div><div class="t m0 x8 h12 y655 ff61 fsa fc2 sc0 ls0 ws0">The PHP manual</div><div class="t m0 x19 h15 y1293 ff61 fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x88 h12 y655 ff61 fsa fc2 sc0 ls0 ws0"> lists several XML error codes. T<span class="_ _1"></span>his list is a subset of the 733 error codes </div><div class="t m0 x8 h3c y656 ff61 fsa fc2 sc0 ls0 ws0">of the underlying <span class="ff6a">libxml</span> library.</div><div class="t m0 x3 h12 y657 ff61 fsa fc2 sc0 ls0 ws0">Here is a p<span class="_ _1"></span>artial list of XML constants that you should be familiar with because </div><div class="t m0 x8 h12 yed2 ff61 fsa fc2 sc0 ls0 ws0">they’re more common th<span class="_ _1"></span>an other codes.</div><div class="t m0 x8 h20 y1294 ff65 fs6 fc2 sc0 ls0 ws0">Prefix Code<span class="_ _7e"> </span>Description</div><div class="t m0 x8 h3c y1295 ff6a fsa fc2 sc0 ls0 ws0">XML_ERROR_SYNTAX<span class="_ _88"> </span><span class="ff61">The XML is not well-forme<span class="_ _0"></span>d.</span></div><div class="t m0 x8 h3c y1296 ff6a fsa fc2 sc0 ls0 ws0">XML_ERROR_INVALID_TOKEN<span class="_ _b3"> </span><span class="ff61">Y<span class="_ _2"></span>ou are using an invalid char<span class="_ _1"></span>acter in XML<span class="_ _0"></span>.</span></div><div class="t m0 x8 h3c y1297 ff6a fsa fc2 sc0 ls0 ws0">XML_ERROR_UNKNOWN_ENCODING<span class="_ _5e"> </span><span class="ff61">Y<span class="_ _2"></span>our XML could not be parsed because the </span></div><div class="t m0 x2d h12 y1298 ff61 fsa fc2 sc0 ls0 ws0">encoding scheme couldn’t be determined.</div><div class="t m0 x8 h3c y1299 ff6a fsa fc2 sc0 ls0 ws0">XML_OPTION_CASE_FOLDING<span class="_ _b3"> </span><span class="ff61">Enabled by defa<span class="_ _1"></span>ult and sets element names to </span></div><div class="t m0 x2d h12 y129a ff61 fsa fc2 sc0 ls0 ws0">uppercase<span class="_ _1"></span>.</div><div class="t m0 x8 h3c y129b ff6a fsa fc2 sc0 ls0 ws0">XML_OPTION_SKIP_WHITE<span class="_ _32"> </span><span class="ff61">Skips excess whites<span class="_ _1"></span>pace in the source document.</span></div><div class="t m0 x8 h1c y129c ff67 fse fc2 sc0 ls0 ws0">Character Encoding</div><div class="t m0 x8 h12 y129d ff61 fsa fc2 sc0 ls0 ws0">When PHP parses an XML document, it performs a process called source encoding to </div><div class="t m0 x8 h12 y129e ff61 fsa fc2 sc0 ls0 ws0">read the document<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y129f ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e three forms of encoding that ar<span class="_ _1"></span>e supported:</div><div class="t m0 x2b h12 y12a0 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">UTF-8</span></div><div class="t m0 x2b h12 y12a1 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">ISO-8859-1 (default)</span></div><div class="t m0 x2b h12 y12a2 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">US-ASCII</span></div><div class="t m0 x3 h12 y12a3 ff61 fsa fc2 sc0 ls0 ws0">UTF-8 is a multib<span class="_ _1"></span>yte encoding scheme, which means that a sin<span class="_ _1"></span>gle character ma<span class="_ _1"></span>y be </div><div class="t m0 x8 h12 y12a4 ff61 fsa fc2 sc0 ls0 ws0">repr<span class="_ _1"></span>esented by more than one b<span class="_ _1"></span>yte. The other two schemes are both single b<span class="_ _1"></span>yte.</div><div class="t m0 x3 h12 y12a5 ff61 fsa fc2 sc0 ls0 ws0">PHP stores the data in<span class="_ _1"></span>ternally and then performs target encoding when it passes the </div><div class="t m0 x8 h12 y12a6 ff61 fsa fc2 sc0 ls0 ws0">data to functions.</div><div class="t m0 x3 h12 y12a7 ff61 fsa fc2 sc0 ls0 ws0">The target encoding is set to the same as the source encoding b<span class="_ _1"></span>y default, but this can </div><div class="t m0 x8 h12 y12a8 ff61 fsa fc2 sc0 ls0 ws0">be changed. The source encoding<span class="_ _1"></span>, however<span class="_ _2"></span>, cannot be changed after the parsing object </div><div class="t m0 x8 h12 y12a9 ff61 fsa fc2 sc0 ls0 ws0">has been created.</div><div class="t m0 x3 h12 y12aa ff61 fsa fc2 sc0 ls0 ws0">If the parser encounters a char<span class="_ _1"></span>acter that the source encoding cannot r<span class="_ _1"></span>epresent, it will </div><div class="t m0 x8 h12 y12ab ff61 fsa fc2 sc0 ls0 ws0">return an error<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y12ac ff61 fsa fc2 sc0 ls0 ws0">If the target encoding scheme cannot contain a char<span class="_ _1"></span>acter<span class="_ _2"></span>, then that character will be </div><div class="t m0 x8 h12 y12ad ff61 fsa fc2 sc0 ls0 ws0">demoted to fit the encoding scheme. In pr<span class="_ _1"></span>actice, this means that they ar<span class="_ _1"></span>e replaced with a </div><div class="t m0 x8 h12 y12ae ff61 fsa fc2 sc0 ls0 ws0">question mark.</div><div class="t m0 x8 h16 y12af ff6b fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h43 y12b0 ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/xml.error-codes.php</div><a class="l" href="#pfc3" data-dest-detail='[195,"XYZ",39,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:105.020000px;bottom:567.901000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/xml.error-codes.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.372500px;width:191.250200px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc4" class="pf w2 h4" data-page-no="c4"><div class="pc pcc4 w2 h4"><img class="bi x3 y12b1 w5 h86" alt="" src="bgc4.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1d wsf9">17<span class="_ _0"></span>9</div><div class="t m0 x3 h1c y654 ff67 fse fc2 sc0 ls0 ws0">The XML Extension</div><div class="t m0 x3 h12 y655 ff61 fsa fc2 sc0 ls0 ws0">The XML extension allows you to cr<span class="_ _1"></span>eate XML parsers and define handlers. Y<span class="_ _2"></span>ou should be </div><div class="t m0 x3 h12 yed1 ff61 fsa fc2 sc0 ls0 ws0">familiar with the following functions.</div><div class="t m0 x3 h20 y12b2 ff65 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _b4"> </span>Use</div><div class="t m0 x3 h3c y12b3 ff6a fsa fc2 sc0 ls0 ws0">xml:parser_create($encoding)<span class="_ _4b"> </span><span class="ff61">Creates an XML parser with the specified </span></div><div class="t m0 x24 h12 y12b4 ff61 fsa fc2 sc0 ls0 ws0">encoding.</div><div class="t m0 x3 h3c y12b5 ff6a fsa fc2 sc0 ls0 ws0">xml:parser_create_ns($encoding, </div><div class="t m0 x3 h3c y12b6 ff6a fsa fc2 sc0 ls0 ws0">$separator=&quot;:&quot;)</div><div class="t m0 x24 h12 y12b5 ff61 fsa fc2 sc0 ls0 ws0">Creates an XML parser with the specified </div><div class="t m0 x24 h12 y12b6 ff61 fsa fc2 sc0 ls0 ws0">encoding that supports XML namespaces<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y12b7 ff6a fsa fc2 sc0 ls0 ws0">xml:parser_free($xmlparser)<span class="_ _2d"> </span><span class="ff61">Fr<span class="_ _1"></span>ees up an XML parser<span class="_ _2"></span>.</span></div><div class="t m0 x3 h3c y12b8 ff6a fsa fc2 sc0 ls0 ws0">xml:set_element_handler($xmlparser, </div><div class="t m0 x3 h3c y12b9 ff6a fsa fc2 sc0 ls0 ws0">$start, $end)</div><div class="t m0 x24 h12 y12b8 ff61 fsa fc2 sc0 ls0 ws0">This tells the parser which functions to </div><div class="t m0 x24 h12 y12b9 ff61 fsa fc2 sc0 ls0 ws0">call at the start and end of each element in </div><div class="t m0 x24 h3c y12ba ff61 fsa fc2 sc0 ls0 ws0">the XML document. Y<span class="_ _2"></span>ou can pass <span class="ff6a">FALSE</span><span class="ls11 wse8"> to </span></div><div class="t m0 x24 h3c y12bb ff61 fsa fc2 sc0 ls0 ws0">disable a particular handler<span class="_ _2"></span>. Both <span class="ff6a">$start</span> </div><div class="t m0 x24 h3c y12bc ff61 fsa fc2 sc0 ls0 ws0">and <span class="ff6a">$end</span> must be callable and ar<span class="_ _1"></span>e usually </div><div class="t m0 x24 h12 y12bd ff61 fsa fc2 sc0 ls0 ws0">the string names of a function that exists </div><div class="t m0 x24 h12 y12be ff61 fsa fc2 sc0 ls0 ws0">in scope.</div><div class="t m0 x1a h12 y12bf ff61 fsa fc2 sc0 ls0 ws0">The function that handles the start of an element m<span class="_ _1"></span>ust accept three parameters:</div><div class="t m0 x7 h12 y12c0 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">The XML parser resource</span></div><div class="t m0 x7 h12 y12c1 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">A string that will contain the name of the element bein<span class="_ _1"></span>g parsed</span></div><div class="t m0 x7 h12 y12c2 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">An array of attributes th<span class="_ _1"></span>at the element has</span></div><div class="t m0 x1a h12 y12c3 ff61 fsa fc2 sc0 ls0 ws0">The end handler function must accept two paramet<span class="_ _1"></span>ers<span class="_ _0"></span>:</div><div class="t m0 x7 h12 y12c4 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">The XML parser resource</span></div><div class="t m0 x7 h12 y12c5 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">A string that will contain the name of the element bein<span class="_ _1"></span>g parsed</span></div><div class="t m0 x1a h3c y12c6 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">xml:set_object($xmlparser, $object)</span> function allows the XML parser to be </div><div class="t m0 x3 h12 y12c7 ff61 fsa fc2 sc0 ls0 wsf0">used within the object. This means that you can set the methods of the object as functions </div><div class="t m0 x3 h12 y12c8 ff61 fsa fc2 sc0 ls0 ws0">for the setting the element handler<span class="_ _11"></span>.</div><div class="t m0 x1a h3c y12c9 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">xml:parse_into_struct($parser, $xml, $valueArr, $indexArr)</span> function </div><div class="t m0 x3 h12 y12ca ff61 fsa fc2 sc0 ls0 ws0">parses an XML string into two parallel array structur<span class="_ _1"></span>es, one (index) containing pointers t<span class="_ _1"></span>o </div><div class="t m0 x3 h12 y12cb ff61 fsa fc2 sc0 ls0 ws0">the location of the appr<span class="_ _1"></span>opriate values in the values array. These last two parameters m<span class="_ _1"></span>ust </div><div class="t m0 x3 h12 y12cc ff61 fsa fc2 sc0 ls0 ws0">be passed by refer<span class="_ _1"></span>ence.</div><div class="t m0 x3 h26 y12cd ff61 fse fc2 sc0 ls0 ws0">DOM</div><div class="t m0 x3 h3c y12ce ff61 fsa fc2 sc0 ls0 ws0">DOM is an acronym of Document Object Model. The <span class="ff6a">DOMDocument</span> class is useful for </div><div class="t m0 x3 h12 y12cf ff61 fsa fc2 sc0 ls0 ws0">working with XML and HTML<span class="_ _0"></span>.</div><div class="t m0 x1a h3c y12d0 ff61 fsa fc2 sc0 ls0 ws0">It uses UTF<span class="_ _1"></span>-8 encoding and requires the <span class="ff6a">libxml2</span> extension (Gnome XML libr<span class="_ _1"></span>ar<span class="_ _0"></span>y) </div><div class="t m0 x3 h3c y12d1 ff61 fsa fc2 sc0 ls0 ws0">and <span class="ff6a">expat</span> library. It is a tree parser and r<span class="_ _1"></span>eads the entire document in<span class="_ _1"></span>to memor<span class="_ _0"></span>y befor<span class="_ _1"></span>e </div><div class="t m0 x3 h12 y12d2 ff61 fsa fc2 sc0 ls0 ws0">creating an in<span class="_ _1"></span>ternal tree r<span class="_ _1"></span>epresentation.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc5" class="pf w2 h4" data-page-no="c5"><div class="pc pcc5 w2 h4"><img class="bi x8 y12d3 w3 h87" alt="" src="bgc5.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>0</div><div class="t m0 x3 h3c y1b8 ff61 fsa fc2 sc0 ls0 ws0">Here is a b<span class="_ _1"></span>asic example of some <span class="ff6a">DOMDocument</span> syntax<span class="_ _0"></span>:</div><div class="t m0 x8 h3c y12d4 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y12d5 ff6a fsa fc2 sc0 ls0 ws0">$domDoc = new DomDocument();</div><div class="t m0 x8 h3c y12d6 ff6a fsa fc2 sc0 ls0 ws0">$domDoc-&gt;load(&quot;library.xml&quot;);</div><div class="t m0 x8 h3c y12d7 ff6a fsa fc2 sc0 ls0 ws0">// $domDoc-&gt;loadXML($xmlString);</div><div class="t m0 x8 h3c y7de ff6a fsa fc2 sc0 ls0 ws0">// $domDoc-&gt;loadHTMLFile(&quot;index.html&quot;);</div><div class="t m0 x8 h3c y7df ff6a fsa fc2 sc0 ls0 ws0">// $domDoc-&gt;loadHTML($htmlDocumentString);</div><div class="t m0 x8 h3c y7e0 ff6a fsa fc2 sc0 ls0 ws0">$domDoc-&gt;save(); // (to a file in XML format)</div><div class="t m0 x8 h3c y7e1 ff6a fsa fc2 sc0 ls0 ws0">$xmlString = $domDoc-&gt;saveXML();</div><div class="t m0 x8 h3c y7e2 ff6a fsa fc2 sc0 ls0 ws0">$htmlDocumentString = $domDoc-&gt;saveHTML();</div><div class="t m0 x8 h3c y12d8 ff6a fsa fc2 sc0 ls0 ws0">$domDoc-&gt;saveHTMLFile(); // (to a file in HTML format)</div><div class="t m0 x8 h3c y7e3 ff6a fsa fc2 sc0 ls0 ws0">$xpath = new DomXpath($dom);</div><div class="t m0 x8 h3c y7e4 ff6a fsa fc2 sc0 ls0 ws0">$elements = $xpath-&gt;query(&quot;//*[@id]&quot;); // find all elements with an id</div><div class="t m0 x8 h3c y7e5 ff6a fsa fc2 sc0 ls0 ws0">echo &quot;I found {$result-&gt;length} elements&lt;br&gt;&quot;;</div><div class="t m0 x8 h3c y7e6 ff6a fsa fc2 sc0 ls0 ws0">if (!is_null($elements)) {</div><div class="t m0 x8 h3c y7e7 ff6a fsa fc2 sc0 ls0 ws0">    foreach ($elements as $element) {</div><div class="t m0 x8 h3c y7e8 ff6a fsa fc2 sc0 ls0 ws0">        echo &quot;&lt;br/&gt;[&quot;. $element-&gt;nodeName. &quot;]&quot;;</div><div class="t m0 x8 h3c y12d9 ff6a fsa fc2 sc0 ls0 ws0">        $nodes = $element-&gt;childNodes;</div><div class="t m0 x8 h3c y12da ff6a fsa fc2 sc0 ls0 ws0">        foreach ($nodes as $node) {</div><div class="t m0 x8 h3c y7eb ff6a fsa fc2 sc0 ls0 ws0">            echo $node-&gt;nodeValue. &quot;\n&quot;;</div><div class="t m0 x8 h3c y7ec ff6a fsa fc2 sc0 ls0 ws0">        }</div><div class="t m0 x8 h3c y7ed ff6a fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y7ee ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y12db ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should be familiar with the following methods of the D<span class="_ _0"></span>OM class:</div><div class="t m0 x8 h20 y12dc ff65 fs6 fc2 sc0 ls0 ws0">Method<span class="_ _a9"> </span>Description</div><div class="t m0 x8 h3c y12dd ff6a fsa fc2 sc0 ls0 ws0">createElement<span class="_ _86"> </span><span class="ff61">Creates a node elemen<span class="_ _1"></span>t that can be appended with the </span></div><div class="t m0 x4 h3c y12de ff6a fsa fc2 sc0 ls0 ws0">appendChild<span class="ff61"> method of the node class.</span></div><div class="t m0 x8 h3c y12df ff6a fsa fc2 sc0 ls0 ws0">createElementNS<span class="_ _87"> </span><span class="ff61">As with </span>createElement<span class="ff61">, but supports documents with </span></div><div class="t m0 x4 h12 y12e0 ff61 fsa fc2 sc0 ls0 ws0">namespaces.</div><div class="t m0 x8 h3c y12e1 ff6a fsa fc2 sc0 ls0 ws0">saveXML<span class="_ _31"> </span><span class="ff61">Dumps the XML tree back in<span class="_ _1"></span>to a string.</span></div><div class="t m0 x8 h3c y12e2 ff6a fsa fc2 sc0 ls0 ws0">save<span class="_ _2f"> </span><span class="ff61">Dumps the XML tree back in<span class="_ _1"></span>to a file.</span></div><div class="t m0 x8 h3c y12e3 ff6a fsa fc2 sc0 ls0 ws0">createTextNode<span class="_ _ab"> </span><span class="ff61">Crea<span class="_ _1"></span>tes a new instance of class <span class="ff6a">DOMText</span>.</span></div><div class="t m0 x8 h1c y12e4 ff67 fse fc2 sc0 ls0 ws0">DOM Nodes</div><div class="t m0 x8 h3c y12e5 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">DOMNode</span> class is used to work with nodes in the DOM tree.</div><div class="t m0 x3 h3c y12e6 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can retrieve nodes by calling one of these methods of the <span class="ff6a">DOMDocument</span>:</div><div class="t m0 x2b h3c y12e7 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">getElementById</span></div><div class="t m0 x2b h3c y12e8 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">getElementsByTagName</span></div><div class="t m0 x2b h3c y12e9 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">getElementsByTagNameNS</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc6" class="pf w2 h4" data-page-no="c6"><div class="pc pcc6 w2 h4"><img class="bi x3 y12ea w5 h88" alt="" src="bgc6.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls41 ws119">181</div><div class="t m0 x1a h3c y2a8 ff61 fsa fc2 sc0 ls0 ws0">These methods return a <span class="ff6a">DOMNodeList</span> object, which can be tr<span class="_ _1"></span>aversed over usin<span class="_ _1"></span>g </div><div class="t m0 x3 h3c y3e3 ff6a fsa fc2 sc0 ls0 ws0">foreach()<span class="ff61">.</span></div><div class="t m0 x1a h3c y424 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">getElementById()</span> function requir<span class="_ _1"></span>es that you specify which attribute will be </div><div class="t m0 x3 h3c y2ab ff61 fsa fc2 sc0 ls0 ws0">of the type <span class="ff6a">id</span>. Y<span class="_ _2"></span>ou can do this either by including a DTD that defines it, or b<span class="_ _1"></span>y calling </div><div class="t m0 x3 h3c y2ac ff61 fsa fc2 sc0 ls0 ws0">the <span class="ff6a">setIdAttribute()</span> function. In either case, the documen<span class="_ _1"></span>t must be validated for the </div><div class="t m0 x3 h12 y3e4 ff61 fsa fc2 sc0 ls0 ws0">function to be called.</div><div class="t m0 x1a h3c y3e5 ff61 fsa fc2 sc0 ls0 ws0">When inserting a node as a sibling using <span class="ff6a">insertBefore()</span>, you need to refer<span class="_ _1"></span>ence the </div><div class="t m0 x3 h12 y425 ff61 fsa fc2 sc0 ls0 ws0">parent node and also specify the sibling node tha<span class="_ _1"></span>t you are wantin<span class="_ _1"></span>g to insert the new node </div><div class="t m0 x3 h12 y3e6 ff61 fsa fc2 sc0 ls0 ws0">before<span class="_ _1"></span>. This example shows the syntax<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y12eb ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y12ec ff6a fsa fc2 sc0 ls0 ws0">$xmlString = &lt;&lt;&lt;XML</div><div class="t m0 x3 h3c y12ed ff6a fsa fc2 sc0 ls0 ws0">&lt;root&gt;</div><div class="t m0 x3 h3c y12ee ff6a fsa fc2 sc0 ls0 ws0">&lt;teams&gt;</div><div class="t m0 x3 h3c y12ef ff6a fsa fc2 sc0 ls0 ws0">&lt;team&gt;Silverbacks&lt;/team&gt;</div><div class="t m0 x3 h3c y12f0 ff6a fsa fc2 sc0 ls0 ws0">&lt;team foo=&quot;winner&quot;&gt;Golden Eyes&lt;/team&gt;</div><div class="t m0 x3 h3c y12f1 ff6a fsa fc2 sc0 ls0 ws0">&lt;/teams&gt;</div><div class="t m0 x3 h3c y12f2 ff6a fsa fc2 sc0 ls0 ws0">&lt;/root&gt;</div><div class="t m0 x3 h3c y12f3 ff6a fsa fc2 sc0 ls0 ws0">XML;</div><div class="t m0 x3 h3c y12f4 ff6a fsa fc2 sc0 ls0 ws0">$domDoc = new DOMDocument();</div><div class="t m0 x3 h3c y12f5 ff6a fsa fc2 sc0 ls0 ws0">$domDoc-&gt;loadXML($xmlString);</div><div class="t m0 x3 h3c y12f6 ff6a fsa fc2 sc0 ls0 ws0">$xpath = new DomXPath($domDoc);</div><div class="t m0 x3 h3c y12f7 ff6a fsa fc2 sc0 ls0 ws0">$team2 = $xpath-&gt;query(&apos;teams/team[2]&apos;);</div><div class="t m0 x3 h3c y12f8 ff6a fsa fc2 sc0 ls0 ws0">$parent = $xpath-&gt;query(&apos;teams&apos;);</div><div class="t m0 x3 h3c y12f9 ff6a fsa fc2 sc0 ls0 ws0">$textElement = $domDoc-&gt;createElement(&apos;team&apos;, &apos;Bearhides&apos;);</div><div class="t m0 x3 h3c y12fa ff6a fsa fc2 sc0 ls0 ws0">$parent-&gt;item(0)-&gt;insertBefore($textElement, $team2-&gt;item(0));</div><div class="t m0 x1a h12 y12fb ff61 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, we want to insert a new team between the tw<span class="_ _0"></span>o existing teams<span class="_ _1"></span>. T<span class="_ _2"></span>o do </div><div class="t m0 x3 h12 y12fc ff61 fsa fc2 sc0 ls0 ws0">so<span class="_ _1"></span>, we find the team and the parent.</div><div class="t m0 x23 h10 y12fd ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68"> <span class="_ _2c"> </span> <span class="_ _1"></span>These variables contain <span class="ff6a fsa">DOMElements</span>.<span class="_ _1"></span> <span class="_ _1"></span>We cannot use the <span class="ff6a fsa">parent()</span> method </span></span></span></div><div class="t m0 x3 h10 y12fe ff68 fs6 fc2 sc0 ls0 ws0">because it is defined on the <span class="ff6a fsa">DOMNode</span> class.</div><div class="t m0 x1a h3c y12ff ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should be familiar with these metho<span class="_ _0"></span>ds of the <span class="ff6a">DOMNode</span><span class="ls11 wse8"> class<span class="_ _1"></span>.</span></div><div class="t m0 x3 h20 y1300 ff65 fs6 fc2 sc0 ls0 ws0">Method<span class="_ _4a"> </span>Description</div><div class="t m0 x3 h3c y1301 ff6a fsa fc2 sc0 ls0 ws0">appendChild<span class="_ _ad"> </span><span class="ff61">Adds a new child node at the end of the childr<span class="_ _1"></span>en.</span></div><div class="t m0 x3 h3c y1302 ff6a fsa fc2 sc0 ls0 ws0">insertBefore<span class="_ _8f"> </span><span class="ff61">Adds a new child before a refer<span class="_ _1"></span>ence node.</span></div><div class="t m0 x3 h3c y1303 ff6a fsa fc2 sc0 ls0 ws0">parentNode<span class="_ _7c"> </span><span class="ff61">The par<span class="_ _1"></span>ent of the node, or null if ther<span class="_ _1"></span>e is no parent.</span></div><div class="t m0 x3 h3c y1304 ff6a fsa fc2 sc0 ls0 ws0">cloneNode<span class="_ _33"> </span><span class="ff61">C<span class="_ _0"></span>lones a node and optionally all of its descenden<span class="_ _1"></span>t nodes.</span></div><div class="t m0 x3 h3c y1305 ff6a fsa fc2 sc0 ls0 ws0">setAttributeNS<span class="_ _8e"> </span><span class="ff61">Sets an attribute with namespace </span>namespaceURI<span class="ff61"> and name </span></div><div class="t m0 x34 h3c y1306 ff6a fsa fc2 sc0 ls0 ws0">name<span class="ff61"> to the given value. If the a<span class="_ _1"></span>ttribute does not exist, it will </span></div><div class="t m0 x34 h12 y1307 ff61 fsa fc2 sc0 ls0 ws0">be created.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc7" class="pf w2 h4" data-page-no="c7"><div class="pc pcc7 w2 h4"><img class="bi x8 y1308 w3 h88" alt="" src="bgc7.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>2</div><div class="t m0 x1e h10 y198 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou need to pass a node as an argument to these functions.</span></span></span></div><div class="t m0 x3 h3c y715 ff61 fsa fc2 sc0 ls0 ws0">If you’re trying to use <span class="ff6a">appendChild()</span> then you must first use a function like </div><div class="t m0 x8 h3c y716 ff6a fsa fc2 sc0 ls0 ws0">DOMDocument::createElement()<span class="ff61"> to create the node<span class="_ _1"></span>.</span></div><div class="t m0 x8 h26 y1309 ff61 fse fc2 sc0 ls0 ws0">SimpleXML</div><div class="t m0 x8 h12 y130a ff61 fsa fc2 sc0 ls0 ws0">SimpleXML is an extension that sacrifices r<span class="_ _1"></span>obust handling of complex r<span class="_ _1"></span>equirements </div><div class="t m0 x8 h12 y130b ff61 fsa fc2 sc0 ls0 ws0">in favor of offering a simple in<span class="_ _1"></span>terface. It r<span class="_ _1"></span>equires the simpleXML extension and only </div><div class="t m0 x8 h12 y130c ff61 fsa fc2 sc0 ls0 ws0">supports version 1.0 of the XML specifications.</div><div class="t m0 x1e h10 y130d ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Caution<span class="ff68 ws127">  <span class="_ _b5"></span><span class="ff6a fsa ws0">SimpleXML<span class="ff68 fs6"> is a tree parser and loads the entire document into memory when </span></span></span></span></span></div><div class="t m0 x8 h10 y130e ff68 fs6 fc2 sc0 ls0 ws0">parsing it.<span class="_ _1"></span> <span class="_ _1"></span>This may make it unsuitable for very large documents.</div><div class="t m0 x3 h12 y130f ff61 fsa fc2 sc0 ls0 ws0">SimpleXML offers an object<span class="_ _1"></span>-oriented approach to accessing XML data. All the </div><div class="t m0 x8 h3c y1310 ff61 fsa fc2 sc0 ls0 ws0">objects that it makes ar<span class="_ _1"></span>e instances of the <span class="ff6a">SimpleXMLElement</span> class. Elements become </div><div class="t m0 x8 h12 y1311 ff61 fsa fc2 sc0 ls0 ws0">properties of these objects and attributes can be accessed as associative arrays<span class="_ _1"></span>.</div><div class="t m0 x8 h1c y1312 ff67 fse fc2 sc0 ls0 ws0">Creating SimpleXML Objects</div><div class="t m0 x8 h12 y1313 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can create SimpleXML objects using pr<span class="_ _1"></span>ocedural methods, or thro<span class="_ _1"></span>ugh an object-</div><div class="t m0 x8 h12 y1314 ff61 fsa fc2 sc0 ls0 ws0">oriented approach:</div><div class="t m0 x8 h3c y1315 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1316 ff6a fsa fc2 sc0 ls0 ws0">// procedural from string variable</div><div class="t m0 x8 h3c y1317 ff6a fsa fc2 sc0 ls0 ws0">$xml = simple_xml:load_string($string_of_xml);</div><div class="t m0 x8 h3c y1318 ff6a fsa fc2 sc0 ls0 ws0">// procedural from file</div><div class="t m0 x8 h3c y1319 ff6a fsa fc2 sc0 ls0 ws0">$xml = simple_xml:load_file(&apos;filename.xml&apos;);</div><div class="t m0 x8 h3c y131a ff6a fsa fc2 sc0 ls0 ws0">// object oriented from variable</div><div class="t m0 x8 h3c y131b ff6a fsa fc2 sc0 ls0 ws0">$xml = new SimpleXMLElement($string_of_xml);</div><div class="t m0 x8 h1c y131c ff67 fse fc2 sc0 ls0 ws0">Iterating Over SimpleXML Objects</div><div class="t m0 x8 h3c y131d ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">children()</span> method returns a tr<span class="_ _1"></span>aversable arra<span class="_ _1"></span>y of child objects.</div><div class="t m0 x3 h12 y131e ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can create an algorithm that inspects the childr<span class="_ _1"></span>en of a node and then iterates </div><div class="t m0 x8 h12 y131f ff61 fsa fc2 sc0 ls0 ws0">through them r<span class="_ _1"></span>ecursively. There is such an example on the PHP M<span class="_ _1"></span>anual page<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc8" class="pf w2 h4" data-page-no="c8"><div class="pc pcc8 w2 h4"><img class="bi x3 y1037 w5 h89" alt="" src="bgc8.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>3</div><div class="t m0 x3 h1c y654 ff67 fse fc2 sc0 ls0 ws0">Retrieving Information</div><div class="t m0 x3 h20 y1320 ff65 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _b4"> </span>Action</div><div class="t m0 x3 h3c y1321 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::construct()<span class="_ _4f"> </span><span class="ff61">Creates a new </span>SimpleXMLElement<span class="ff61"> object<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c y1322 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::attributes()<span class="_ _41"> </span><span class="ff61">Identifies an elemen<span class="_ _1"></span>t’<span class="_ _1"></span>s attributes<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c y1323 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::getName()<span class="_ _2d"> </span><span class="ff61">Retrieves an element’<span class="_ _2"></span>s name.</span></div><div class="t m0 x3 h3c y1324 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::children()<span class="_ _4b"> </span><span class="ff61">Returns the children of the given node<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c y1325 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::count()<span class="_ _78"> </span><span class="ff61">Returns how many children a node h<span class="_ _1"></span>as.</span></div><div class="t m0 x3 h3c y1326 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::asXML()<span class="_ _78"> </span><span class="ff61">Returns the element as a well-formed XML </span></div><div class="t m0 x24 h12 y1327 ff61 fsa fc2 sc0 ls10 wsea">string.</div><div class="t m0 x3 h3c y1328 ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::xpath()<span class="_ _78"> </span><span class="ff61">Runs an </span>xpath<span class="ff61"> query on the current node.</span></div><div class="t m0 x3 h1c y1329 ff67 fse fc2 sc0 ls0 ws0">xpath</div><div class="t m0 x3 h12 y132a ff61 fsa fc2 sc0 ls37 ws128">X<span class="_ _0"></span>Path</div><div class="t m0 xd h15 y132b ff61 fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x2 h12 y132a ff61 fsa fc2 sc0 ls0 ws0"> is a language to define parts of an XML document. I<span class="_ _1"></span>t models an XML document </div><div class="t m0 x3 h12 y132c ff61 fsa fc2 sc0 ls0 ws0">as a series of nodes and uses path expressions for na<span class="_ _1"></span>vigating thr<span class="_ _1"></span>ough and selecting nodes </div><div class="t m0 x3 h12 y132d ff61 fsa fc2 sc0 ls0 ws0">from the document<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y132e ff6a fsa fc2 sc0 ls0 ws0">SimpleXMLElement::xpath()<span class="ff61"> runs an XPath query on XML data and returns an arra<span class="_ _1"></span>y </span></div><div class="t m0 x3 h12 y132f ff61 fsa fc2 sc0 ls0 ws0">of children tha<span class="_ _1"></span>t match the path specified.</div><div class="t m0 x1a h12 y1330 ff61 fsa fc2 sc0 ls0 ws0">W3Cschools has examples of XPa<span class="_ _1"></span>th usage on their web site.</div><div class="t m0 x89 h15 y1331 ff61 fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x1a h12 y1332 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should note that, unlike PHP structures<span class="_ _1"></span>, XPath r<span class="_ _1"></span>esults are not zer<span class="_ _1"></span>o-based. The </div><div class="t m0 x3 h3c y1333 ff61 fsa fc2 sc0 ls0 ws0">XPath <span class="ff6a">/college/student[1]/name</span> will r<span class="_ _1"></span>eturn the first student, not the second, as would </div><div class="t m0 x3 h12 y1334 ff61 fsa fc2 sc0 ls0 ws0">be the case if it were zer<span class="_ _1"></span>o-based.</div><div class="t m0 x1a h3c y1335 ff61 fsa fc2 sc0 ls0 ws0">PHP arrays containing <span class="ff6a">xpath</span> r<span class="_ _1"></span>esults are zer<span class="_ _1"></span>o-based. In other words<span class="_ _1"></span>, if you store your </div><div class="t m0 x3 h3c y1336 ff61 fsa fc2 sc0 ls0 ws0">results in an arra<span class="_ _1"></span>y variable called <span class="ff6a">$array</span> then <span class="ff6a">$array[0]</span> will correspond to the <span class="ff6a">college/</span></div><div class="t m0 x3 h3c y1337 ff6a fsa fc2 sc0 ls0 ws0">student[1]/<span class="ff61"> name in the previous exam<span class="_ _1"></span>ple.</span></div><div class="t m0 x1a h3c y1338 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can retrieve text values by using an XP<span class="_ _1"></span>ath like this: <span class="ff6a">/college/student/</span></div><div class="t m0 x3 h3c y1339 ff6a fsa fc2 sc0 ls0 ws0">name[text()]<span class="ff61">.</span></div><div class="t m0 x1a h3c y133a ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify ranges like this<span class="_ _0"></span>: <span class="ff6a">/college/student[attendance&lt;80]/name</span>.</div><div class="t m0 x3 h1c y133b ff67 fse fc2 sc0 ls0 ws0">Exchanging Data Between DOM and SimpleXML</div><div class="t m0 x3 h3c y133c ff61 fsa fc2 sc0 ls0 ws0">The function <span class="ff6a">simple_xml:import_dom()</span> will convert a DOM node into a <span class="ff6a">SimpleXML</span> </div><div class="t m0 x3 h12 y133d ff61 fsa fc2 sc0 ls0 ws0">object.</div><div class="t m0 x1a h3c y133e ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can convert a <span class="ff6a">SimpleXML</span> object to a DOM w<span class="_ _0"></span>ith <span class="ff6a">dom_import_simplexml()</span>.</div><div class="t m0 x3 h16 y133f ff6b fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x1d h43 y1340 ff6a fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/XPath</div><div class="t m0 x3 h16 y1341 ff6b fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x1d h43 y1342 ff6a fs5 fc4 sc0 ls0 ws0">https://www.w3schools.com/xml/xml:xpath.asp</div><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",57,95,null]'><div class="d m1" style="border-style:none;position:absolute;left:80.612800px;bottom:385.151000px;width:2.623500px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:301.857000px;bottom:330.151000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/XPath"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:82.655900px;width:148.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.w3schools.com/xml/xml:xpath.asp"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.655900px;width:182.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc9" class="pf w2 h4" data-page-no="c9"><div class="pc pcc9 w2 h4"><img class="bi x8 y653 w6 h27" alt="" src="bgc9.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>4</div><div class="t m0 x8 h19 y24e ff67 fsd fc2 sc0 ls0 ws0">SO<span class="_ _1"></span>AP</div><div class="t m0 x8 h12 y24f ff61 fsa fc2 sc0 ls49 ws123">SOAP</div><div class="t m0 x35 h15 y336 ff61 fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 xe h12 y24f ff61 fsa fc2 sc0 ls0 ws0"> was originally an acron<span class="_ _1"></span>ym of Simple Object Access Protocol. V<span class="_ _2"></span>ersions 1.0 and 1.1 </div><div class="t m0 x8 h12 y337 ff61 fsa fc2 sc0 ls0 wsf0">were released b<span class="_ _1"></span>y the industr<span class="_ _0"></span>y. As of version 1.2, the stand<span class="_ _1"></span>ard is controlled b<span class="_ _1"></span>y the W3C and </div><div class="t m0 x8 h12 y338 ff61 fsa fc2 sc0 ls0 ws0">the acronym has fallen a<span class="_ _1"></span>way, making SOAP just a plain n<span class="_ _1"></span>ame.</div><div class="t m0 x3 h12 y6f5 ff61 fsa fc2 sc0 ls0 ws0">The PHP SOAP extension is used to write SOAP s<span class="_ _0"></span>ervers and clients. I<span class="_ _1"></span>t requir<span class="_ _1"></span>es that </div><div class="t m0 x8 h3c y517 ff6a fsa fc2 sc0 ls0 ws0">libxml<span class="ff61"> is enabled, which is the case in default PHP installa<span class="_ _1"></span>tions.</span></div><div class="t m0 x3 h3c y518 ff61 fsa fc2 sc0 ls0 ws0">SOAP cache functions are configur<span class="_ _1"></span>ed in the <span class="ff6a">php.ini</span> file with the <span class="ff6a">soap.wsdl_</span></div><div class="t m0 x8 h3c y6f6 ff6a fsa fc2 sc0 ls0 ws0">cache_*<span class="ff61"> settings.</span></div><div class="t m0 x3 h12 y6f7 ff61 fsa fc2 sc0 ls0 ws0">If SOAP is available<span class="_ _1"></span>, then it makes av<span class="_ _1"></span>ailable a set of predefined constants. T<span class="_ _1"></span>hese </div><div class="t m0 x8 h12 y6f8 ff61 fsa fc2 sc0 ls0 ws0">constants rela<span class="_ _1"></span>te to SOAP versions, encoding, authentic<span class="_ _1"></span>ation, caching, and persistence.</div><div class="t m0 x3 h12 y6f9 ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e only two SOAP functions<span class="_ _0"></span>:</div><div class="t m0 x2b h3c y1138 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">is_soap_fault()<span class="ff61"> returns whether a SOAP call has failed.</span></span></div><div class="t m0 x2b h3c y1343 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">use_soap_error_handler()<span class="ff61"> is used for the SOAP ser<span class="_ _0"></span>ver and sets </span></span></div><div class="t m0 x18 h12 y1344 ff61 fsa fc2 sc0 ls0 ws0">whether PHP should use the SOAP error handler<span class="_ _2"></span>. If it is set to </div><div class="t m0 x18 h12 y1345 ff61 fsa fc2 sc0 ls0 ws0">false, the PHP error handler is used instead of sending a SOAP </div><div class="t m0 x18 h12 y1346 ff61 fsa fc2 sc0 ls0 ws0">error to the client.</div><div class="t m0 x3 h12 y1347 ff61 fsa fc2 sc0 ls0 ws0">The rest of the SOAP functionality is pr<span class="_ _1"></span>ovided in classes.</div><div class="t m0 x8 h26 y1348 ff61 fse fc2 sc0 ls0 ws0">What SOAP Does</div><div class="t m0 x8 h12 y1349 ff61 fsa fc2 sc0 ls0 ws0">SOAP allows complex data types to be defined and exchanged and pro<span class="_ _1"></span>vides a mechanism </div><div class="t m0 x8 h12 y134a ff61 fsa fc2 sc0 ls0 ws0">for various messaging patterns<span class="_ _1"></span>, the most common of which is the Remote Procedur<span class="_ _1"></span>e Call </div><div class="t m0 x8 h12 y134b ff61 fsa fc2 sc0 ls0 ws0">(RPC).</div><div class="t m0 x3 h12 y134c ff61 fsa fc2 sc0 ls0 ws0">This in effect allows a developer to execute a function on a server<span class="_ _2"></span>, pass it complex </div><div class="t m0 x8 h12 y134d ff61 fsa fc2 sc0 ls0 ws0">data as parameters<span class="_ _1"></span>, and receive complex data bac<span class="_ _1"></span>k.</div><div class="t m0 x3 h12 y134e ff61 fsa fc2 sc0 ls0 ws0">SOAP web ser<span class="_ _0"></span>vices are defined b<span class="_ _1"></span>y a WSDL (W<span class="_ _1"></span>eb Ser<span class="_ _0"></span>vice Description Language). </div><div class="t m0 x8 h12 y134f ff61 fsa fc2 sc0 ls0 ws0">Most people prono<span class="_ _1"></span>unce this acronym as “whizz-dill”<span class="_ _e"></span>.</div><div class="t m0 x3 h12 y1350 ff61 fsa fc2 sc0 ls14 ws0">The WSDL defines the data types using an XML structure<span class="_ _1"></span>. It also describes the </div><div class="t m0 x8 h12 y1351 ff61 fsa fc2 sc0 ls14 ws0">methods that ma<span class="_ _1"></span>y be called remotely, specifying their names<span class="_ _1"></span>, parameters, and r<span class="_ _1"></span>eturn types.</div><div class="t m0 x3 h12 y1352 ff61 fsa fc2 sc0 ls0 ws0">SOAP messages between a ser<span class="_ _0"></span>ver and client ar<span class="_ _1"></span>e sent in XML structures called SOAP </div><div class="t m0 x8 h12 y1353 ff61 fsa fc2 sc0 ls0 ws0">envelopes<span class="_ _1"></span>.</div><div class="t m0 x8 h26 y1354 ff61 fse fc2 sc0 ls0 ws0">Using a SOAP Ser<span class="_ _0"></span>vice</div><div class="t m0 x8 h3c y1355 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SoapClient</span> class is used to connect to and use a SOAP ser<span class="_ _0"></span>vice.</div><div class="t m0 x3 h12 y1356 ff61 fsa fc2 sc0 ls0 ws0">It is possible to parse a WSDL file to discover wh<span class="_ _1"></span>at methods are a<span class="_ _1"></span>vailable and then </div><div class="t m0 x8 h12 y1357 ff61 fsa fc2 sc0 ls0 ws0">present these to you in an easy-to-use m<span class="_ _1"></span>anner<span class="_ _2"></span>.</div><div class="t m0 x8 h3c y1358 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1359 ff6a fsa fc2 sc0 ls0 ws0">$client = new SoapClient(&quot;http://example.com/login?wsdl&quot;);</div><div class="t m0 x8 h3c y135a ff6a fsa fc2 sc0 ls0 ws0">$params = array(&apos;username&apos;=&gt;&apos;name&apos;, &apos;password&apos;=&gt;&apos;secret&apos;);</div><div class="t m0 x8 h16 y1112 ff6b fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h43 y1113 ff6a fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/SOAP</div><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:61.928800px;bottom:564.765000px;width:2.623500px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/SOAP"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.047700px;width:144.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfca" class="pf w2 h4" data-page-no="ca"><div class="pc pcca w2 h4"><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>5</div><div class="t m0 x3 h3c y2a8 ff6a fsa fc2 sc0 ls0 ws0">// call the login method directly</div><div class="t m0 x3 h3c y3e3 ff6a fsa fc2 sc0 ls0 ws0">$client-&gt;login($params);</div><div class="t m0 x3 h3c y135b ff6a fsa fc2 sc0 ls0 ws0">// If you want to call __soapCall, you must wrap the arguments in another </div><div class="t m0 x3 h3c y135c ff6a fsa fc2 sc0 ls0 ws0">array as follows:</div><div class="t m0 x3 h3c y135d ff6a fsa fc2 sc0 ls0 ws0">$client-&gt;__soapCall(&apos;login&apos;, array($params));</div><div class="t m0 x1a h12 y135e ff61 fsa fc2 sc0 ls0 ws0">In the previous exam<span class="_ _1"></span>ple, we connect to an example WSDL and call the login method </div><div class="t m0 x3 h3c y135f ff61 fsa fc2 sc0 ls0 ws0">using two different methods<span class="_ _1"></span>. Note tha<span class="_ _1"></span>t using the <span class="ff6a">SoapClient::__soapCall()</span> method </div><div class="t m0 x3 h12 y1360 ff61 fsa fc2 sc0 ls0 ws0">requires y<span class="_ _1"></span>ou to wrap the parameters in an arr<span class="_ _1"></span>ay.</div><div class="t m0 x1a h12 y1361 ff61 fsa fc2 sc0 ls0 ws0">It is not compulsory for a SOAP ser<span class="_ _0"></span>vice to pr<span class="_ _1"></span>ovide a WSDL<span class="_ _0"></span>. If you need to use such </div><div class="t m0 x3 h12 y1362 ff61 fsa fc2 sc0 ls0 ws0">a service you may pass null as the WSDL file but then need to pro<span class="_ _1"></span>vide information about </div><div class="t m0 x3 h12 y1363 ff61 fsa fc2 sc0 ls0 ws0">the service endp<span class="_ _0"></span>oint<span class="_ _1"></span>. Y<span class="_ _1"></span>ou m<span class="_ _1"></span>ust provide the loca<span class="_ _1"></span>tion and URI options and may optionally </div><div class="t m0 x3 h12 y1364 ff61 fsa fc2 sc0 ls0 ws0">pro<span class="_ _1"></span>vide other information about the version of the SOAP ser<span class="_ _0"></span>vice<span class="_ _1"></span>, as in this example:</div><div class="t m0 x3 h3c y1365 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1366 ff6a fsa fc2 sc0 ls0 ws0">$client = new SoapClient(null,</div><div class="t m0 x3 h3c y1367 ff6a fsa fc2 sc0 ls0 ws0">    [&apos;location&apos; =&gt; &apos;http://example.com/soap.php&apos;,</div><div class="t m0 x3 h3c y1368 ff6a fsa fc2 sc0 ls0 ws0">        &apos;uri&apos; =&gt; &apos;http://test-uri/&apos;,</div><div class="t m0 x3 h3c y1369 ff6a fsa fc2 sc0 ls0 ws0">        &apos;style&apos;    =&gt; SOAP_DOCUMENT,</div><div class="t m0 x3 h3c y136a ff6a fsa fc2 sc0 ls0 ws0">        &apos;use&apos;      =&gt; SOAP_LITERAL));</div><div class="t m0 x3 h3c y136b ff6a fsa fc2 sc0 ls0 ws0">    ]);</div><div class="t m0 x1a h3c y136c ff61 fsa fc2 sc0 ls0 ws0">When you construct the <span class="ff6a">SoapClient</span> class, yo<span class="_ _1"></span>u can set the trace parameter to true to </div><div class="t m0 x3 h12 y136d ff61 fsa fc2 sc0 ls0 ws0">enable debugging the r<span class="_ _1"></span>aw SOAP envelope headers and body.</div><div class="t m0 x1a h12 y136e ff61 fsa fc2 sc0 ls0 ws0">The following two debugging commands r<span class="_ _1"></span>equire that the tr<span class="_ _1"></span>ace be true and allow you </div><div class="t m0 x3 h12 y136f ff61 fsa fc2 sc0 ls0 ws0">to inspect details of the request<span class="_ _0"></span>:</div><div class="t m0 x7 h3c y1370 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">SoapClient::__getLastRequestHeaders()</span></div><div class="t m0 x7 h3c y1371 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">SoapClient::__getLastRequest()</span></div><div class="t m0 x3 h26 y1372 ff61 fse fc2 sc0 ls0 ws0">Offering a S<span class="_ _0"></span>OAP Service</div><div class="t m0 x3 h3c y1373 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SoapServer</span> class pro<span class="_ _1"></span>vides a SOAP ser<span class="_ _0"></span>ver<span class="_ _2"></span>. It supports versions 1.1 and 1.2 and c<span class="_ _1"></span>an be </div><div class="t m0 x3 h12 y1374 ff61 fsa fc2 sc0 ls0 ws0">used with or without a WSDL ser<span class="_ _0"></span>vice description.</div><div class="t m0 x1a h12 y1375 ff61 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple of setting up a SOAP ser<span class="_ _0"></span>ver:</div><div class="t m0 x3 h3c y1376 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1377 ff6a fsa fc2 sc0 ls0 ws0">$options = [&apos;uri&apos;=&gt;&apos;http://localhost/test&apos;];</div><div class="t m0 x3 h3c y1378 ff6a fsa fc2 sc0 ls0 ws0">$server = new SoapServer(NULL, $options);</div><div class="t m0 x3 h3c y1379 ff6a fsa fc2 sc0 ls0 ws0">$server-&gt;setClass(&apos;MySoapServer&apos;);</div><div class="t m0 x3 h3c y137a ff6a fsa fc2 sc0 ls0 ws0">$server-&gt;handle();</div><div class="t m0 x1a h12 y137b ff61 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e can see that we first crea<span class="_ _1"></span>te the ser<span class="_ _0"></span>ver with an array of options<span class="_ _1"></span>. In this example<span class="_ _1"></span>, </div><div class="t m0 x3 h12 y137c ff61 fsa fc2 sc0 ls0 ws0">we are not supplying a WSDL in the first par<span class="_ _1"></span>ameter and so we must supply the URI of the </div><div class="t m0 x3 h12 y137d ff61 fsa fc2 sc0 ls0 ws0">server namespace in the options array.</div><div class="t m0 x1a h3c y137e ff61 fsa fc2 sc0 ls0 ws0">Once we have an instance of the <span class="ff6a">SoapServer</span> class<span class="_ _1"></span>, we pass in the name of the class </div><div class="t m0 x3 h12 y137f ff61 fsa fc2 sc0 ls0 ws0">that it will use to serve requests. The methods in the class will be callable b<span class="_ _1"></span>y a SOAP client </div><div class="t m0 x3 h12 y1380 ff61 fsa fc2 sc0 ls0 ws0">connecting to the server<span class="_ _2"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfcb" class="pf w2 h4" data-page-no="cb"><div class="pc pccb w2 h4"><img class="bi x8 y1381 w3 h32" alt="" src="bgcb.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>6</div><div class="t m0 x3 h12 y1b8 ff61 fsa fc2 sc0 ls0 ws0">Instead of setting a class yo<span class="_ _1"></span>u may also use a concrete object to handle SOAP requests </div><div class="t m0 x8 h3c y1b9 ff61 fsa fc2 sc0 ls0 ws0">by passing it as a par<span class="_ _1"></span>ameter with the <span class="ff6a">SoapServer::setObject()</span> function.</div><div class="t m0 x8 h19 y1382 ff67 fsd fc2 sc0 ls0 ws11b">REST W<span class="_ _1"></span>eb <span class="_ _72"></span>Ser<span class="_ _0"></span>vices</div><div class="t m0 x8 h12 y35e ff61 fsa fc2 sc0 ls0 ws0">REST is an acronym for Repr<span class="_ _1"></span>esentational Sta<span class="_ _1"></span>te Transfer and is an architectur<span class="_ _1"></span>al style </div><div class="t m0 x8 h12 y1383 ff61 fsa fc2 sc0 ls0 ws0">rather than a PHP ex<span class="_ _1"></span>tension or set of commands. REST has several cons<span class="_ _1"></span>traints that ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y1384 ff61 fsa fc2 sc0 ls0 ws0">intended to impro<span class="_ _1"></span>ve performance and maintainability of web services.</div><div class="t m0 x1e h10 y1385 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff68 fc2"> <span class="_ _2c"> </span> Compare <span class="_ _1"></span>“Service Oriented <span class="_ _1"></span>Architecture,<span class="_ _1"></span>”<span class="_ _1"></span> which is typically implemented in SOAP </span></span></div><div class="t m0 x8 h10 y1386 ff68 fs6 fc2 sc0 ls0 ws0">to <span class="_ _1"></span>“Microservice Architecture,<span class="_ _2"></span>” which is more often implemented in REST<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y1387 ff61 fsa fc2 sc0 ls0 ws0">REST has several verbs tha<span class="_ _1"></span>t are similar to HTTP request types. T<span class="_ _1"></span>his leads to some </div><div class="t m0 x8 h12 y1388 ff61 fsa fc2 sc0 ls0 ws0">confusion, but it is important to note that REST does not ha<span class="_ _1"></span>ve to use HTTP as a transport </div><div class="t m0 x8 h12 y1389 ff61 fsa fc2 sc0 ls0 ws0">layer to communic<span class="_ _1"></span>ate. HTTP just happens to be very convenient for REST because it is </div><div class="t m0 x8 h12 y138a ff61 fsa fc2 sc0 ls0 ws0">stateless and the request types tr<span class="_ _1"></span>anslate well into REST verbs.</div><div class="t m0 x3 h12 y138b ff61 fsa fc2 sc0 ls0 ws0">REST exposes Uniform Resource Iden<span class="_ _1"></span>tifiers (URI) that are linked to r<span class="_ _1"></span>esources<span class="_ _1"></span>. These </div><div class="t m0 x8 h12 y138c ff61 fsa fc2 sc0 ls0 ws0">links are called REST endpoints<span class="_ _1"></span>. Depending on the HTTP type used to access them, they </div><div class="t m0 x8 h12 y138d ff61 fsa fc2 sc0 ls0 ws0">will perform an action on the resource (<span class="_ _1"></span>change its state). The HTTP type is used to signal </div><div class="t m0 x8 h12 y138e ff61 fsa fc2 sc0 ls0 ws0">the REST verb to be performed.</div><div class="t m0 x3 h12 y138f ff61 fsa fc2 sc0 ls0 ws0">REST focuses on resources and pr<span class="_ _1"></span>oviding access to those r<span class="_ _1"></span>esources. A r<span class="_ _1"></span>esource could </div><div class="t m0 x8 h12 y1390 ff61 fsa fc2 sc0 ls0 ws0">be something like a “user”<span class="_ _e"></span>. Much like a database schema r<span class="_ _1"></span>epresents the user entity, REST </div><div class="t m0 x8 h12 y1391 ff61 fsa fc2 sc0 ls0 ws0">will represent the user in a JSON or XML structure<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y1392 ff61 fsa fc2 sc0 ls0 ws0">A repr<span class="_ _1"></span>esentation should be readable b<span class="_ _1"></span>y both the ser<span class="_ _0"></span>ver and the client<span class="_ _1"></span>. REST can be </div><div class="t m0 x8 h12 y1393 ff61 fsa fc2 sc0 ls0 ws0">used to transfer JSON, XML<span class="_ _0"></span>, or both<span class="_ _1"></span>. We<span class="_ _1"></span>’ll look at this in a bit more detail la<span class="_ _1"></span>ter<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y1394 ff61 fsa fc2 sc0 ls0 ws0">In PHP<span class="_ _11"></span>, one of the most common uses for REST APIs is to pr<span class="_ _1"></span>ovide services for an </div><div class="t m0 x8 h12 y1395 ff61 fsa fc2 sc0 ls0 ws0">AJAX en<span class="_ _1"></span>abled frontend, such as one written in Angular or Re<span class="_ _1"></span>actJS.</div><div class="t m0 x8 h26 y1396 ff61 fse fc2 sc0 ls0 ws0">Applic<span class="_ _1"></span>ation and Resour<span class="_ _1"></span>ce States</div><div class="t m0 x8 h12 y1397 ff61 fsa fc2 sc0 ls0 ws0">A REST server should not remember the state of the application and the clien<span class="_ _1"></span>t should </div><div class="t m0 x8 h12 y1398 ff61 fsa fc2 sc0 ls0 ws0">send all the information necessary for execution.</div><div class="t m0 x3 h12 y1399 ff61 fsa fc2 sc0 ls0 ws0">This means that every request to a server is self-contained. If a request to a server </div><div class="t m0 x8 h12 y139a ff61 fsa fc2 sc0 ls0 ws0">failed it will not affect the success or failure of other requests<span class="_ _1"></span>. This impro<span class="_ _1"></span>ves the reliability </div><div class="t m0 x8 h12 y139b ff61 fsa fc2 sc0 ls0 ws0">of the application.</div><div class="t m0 x3 h12 y139c ff61 fsa fc2 sc0 ls0 ws0">The server is not responsible for remembering what s<span class="_ _1"></span>tate the application is in and </div><div class="t m0 x8 h12 y139d ff61 fsa fc2 sc0 ls0 ws0">relies on the client to send all the information it needs to pr<span class="_ _1"></span>ocess the request. This means </div><div class="t m0 x8 h12 y139e ff61 fsa fc2 sc0 ls0 ws0">that the client stor<span class="_ _1"></span>es and maintains the applica<span class="_ _1"></span>tion state (and not the server).</div><div class="t m0 x3 h12 y139f ff61 fsa fc2 sc0 ls0 ws0">Application s<span class="_ _1"></span>tatelessness has important implications for scalin<span class="_ _1"></span>g horizontally. </div><div class="t m0 x8 h12 y13a0 ff61 fsa fc2 sc0 ls0 ws0">Because no individual server is maintaining state, a r<span class="_ _1"></span>equest can reach any server in a </div><div class="t m0 x8 h12 y13a1 ff61 fsa fc2 sc0 ls0 ws0">group and be handled corr<span class="_ _1"></span>ectly.</div><div class="t m0 x3 h12 y13a2 ff61 fsa fc2 sc0 ls0 ws0">The resour<span class="_ _1"></span>ce that REST is pro<span class="_ _1"></span>viding access to has state tha<span class="_ _1"></span>t is expected to persist </div><div class="t m0 x8 h12 y13a3 ff61 fsa fc2 sc0 ls0 ws0">between requests. Resour<span class="_ _1"></span>ce state is maintained on the server<span class="_ _2"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfcc" class="pf w2 h4" data-page-no="cc"><div class="pc pccc w2 h4"><img class="bi x3 y13a4 w5 h8a" alt="" src="bgcc.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>7</div><div class="t m0 x3 h26 y3bf ff61 fse fc2 sc0 ls0 ws0">REST V<span class="_ _2"></span>erbs</div><div class="t m0 x3 h12 y3c0 ff61 fsa fc2 sc0 ls0 ws0">REST has several verbs tha<span class="_ _1"></span>t are used to alter the state of a r<span class="_ _1"></span>esource on the server<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y44f ff61 fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>erbs operate either on a single resource or a collection of r<span class="_ _1"></span>esources<span class="_ _1"></span>.</div><div class="t m0 x3 h20 y13a5 ff65 fs6 fc2 sc0 ls0 ws0">Resource<span class="_ _b6"> </span><span class="ff6f fsa">GET<span class="_ _b7"> </span>PUT<span class="_ _b8"> </span>POST<span class="_ _24"> </span>DELETE</span></div><div class="t m0 x3 h12 y13a6 ff61 fsa fc2 sc0 ls0 ws0">Collection<span class="_ _87"> </span>Lists the URIs </div><div class="t m0 x40 h12 y13a7 ff61 fsa fc2 sc0 ls0 ws0">where you c<span class="_ _1"></span>an </div><div class="t m0 x40 h12 y13a8 ff61 fsa fc2 sc0 ls0 ws0">retrieve the </div><div class="t m0 x40 h12 y13a9 ff61 fsa fc2 sc0 ls0 ws0">members</div><div class="t m0 x44 h12 y13aa ff61 fsa fc2 sc0 ls0 ws0">Replace the </div><div class="t m0 x44 h12 y13ab ff61 fsa fc2 sc0 ls0 ws0">collection with </div><div class="t m0 x44 h12 y13ac ff61 fsa fc2 sc0 ls0 ws11f">another collection</div><div class="t m0 x7f h12 y13aa ff61 fsa fc2 sc0 ls0 ws0">Create a new </div><div class="t m0 x7f h12 y13ab ff61 fsa fc2 sc0 ls0 ws0">entry in the </div><div class="t m0 x7f h12 y13ac ff61 fsa fc2 sc0 ls0 ws0">collection</div><div class="t m0 x8a h12 y13aa ff61 fsa fc2 sc0 ls0 ws0">Deletes </div><div class="t m0 x8a h12 y13ab ff61 fsa fc2 sc0 ls0 ws0">the entire </div><div class="t m0 x8a h12 y13ac ff61 fsa fc2 sc0 ls0 ws0">collection</div><div class="t m0 x3 h12 y13ad ff61 fsa fc2 sc0 ls0 ws0">Single Entity<span class="_ _b9"> </span>Retrieve a </div><div class="t m0 x40 h12 y13ae ff61 fsa fc2 sc0 ls0 ws0">repr<span class="_ _1"></span>esentation of </div><div class="t m0 x40 h12 y13af ff61 fsa fc2 sc0 ls0 ws0">the single element</div><div class="t m0 x44 h12 y13ad ff61 fsa fc2 sc0 ls0 ws0">Replace the </div><div class="t m0 x44 h12 y13ae ff61 fsa fc2 sc0 ls0 ws0">element, or cr<span class="_ _1"></span>eate </div><div class="t m0 x44 h12 y13af ff61 fsa fc2 sc0 ls0 ws0">it if it doesn’t exist</div><div class="t m0 x7f h12 y13ad ff61 fsa fc2 sc0 ls0 ws0">Creates a new </div><div class="t m0 x7f h12 y13ae ff61 fsa fc2 sc0 ls0 ws0">member</div><div class="t m0 x8a h12 y13ad ff61 fsa fc2 sc0 ls0 ws0">Deletes the </div><div class="t m0 x8a h12 y13ae ff61 fsa fc2 sc0 ls0 ws0">member</div><div class="t m0 x1a h3c y13b0 ff6a fsa fc2 sc0 ls0 ws0">PUT<span class="ff61"> and </span>POST<span class="ff61"> look similar<span class="_ _2"></span>, but hav<span class="_ _1"></span>e an important distinction. <span class="ff6a">POST</span> requires you t<span class="_ _1"></span>o </span></div><div class="t m0 x3 h3c y13b1 ff61 fsa fc2 sc0 ls0 ws0">specify all the required a<span class="_ _1"></span>ttributes for an element and will create a fr<span class="_ _1"></span>esh element. <span class="ff6a">PUT</span> will </div><div class="t m0 x3 h12 y13b2 ff61 fsa fc2 sc0 ls0 ws0">replace the attributes y<span class="_ _1"></span>ou specify for an existing record and you don’t need to supply all </div><div class="t m0 x3 h12 y13b3 ff61 fsa fc2 sc0 ls0 ws0">the attributes unless you’r<span class="_ _1"></span>e creating a new r<span class="_ _1"></span>ecord.</div><div class="t m0 x1a h12 y13b4 ff61 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o explain with an example, let’<span class="_ _2"></span>s consider a us<span class="_ _0"></span>er who has a n<span class="_ _1"></span>ame and a title. First<span class="_ _1"></span>, </div><div class="t m0 x3 h3c y13b5 ff61 fsa fc2 sc0 ls0 ws0">we <span class="ff6a">POST</span> to create a new user with a name “<span class="_ _11"></span>Alice” and the title “Mrs<span class="_ _1"></span>”<span class="_ _e"></span>. Then Alice graduat<span class="_ _1"></span>es </div><div class="t m0 x3 h3c y13b6 ff61 fsa fc2 sc0 ls0 ws0">and becomes a doctor<span class="_ _2"></span>, so we <span class="ff6a">PUT</span> to her record and include just the title as “Dr”<span class="_ _e"></span>. W<span class="_ _1"></span>e don’t </div><div class="t m0 x3 h12 y13b7 ff61 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e to specify her name and, because we don’t, her name will not be changed.</div><div class="t m0 x3 h26 y13b8 ff61 fse fc2 sc0 ls0 ws0">HA<span class="_ _11"></span>TE<span class="_ _0"></span>OAS</div><div class="t m0 x3 h12 y13b9 ff61 fsa fc2 sc0 ls0 ws0">HA<span class="_ _2"></span>TE<span class="_ _0"></span>OAS stands for “H<span class="_ _1"></span>ypertext As The Engine Of Sta<span class="_ _1"></span>te”<span class="_ _e"></span>. In this concept, the res<span class="_ _1"></span>ponse </div><div class="t m0 x3 h12 y13ba ff61 fsa fc2 sc0 ls0 ws0">from the server will include information about what actions the client can tak<span class="_ _1"></span>e next. </div><div class="t m0 x3 h12 y13bb ff61 fsa fc2 sc0 ls0 ws0">These options will be marked up in hypertext.</div><div class="t m0 x1a h3c y13bc ff61 fsa fc2 sc0 ls0 ws0">The aim is for the client not to r<span class="_ _1"></span>equire prior knowledge of the endpoints of the <span class="ff6a">REST</span> </div><div class="t m0 x3 h12 y13bd ff61 fsa fc2 sc0 ls0 ws0">service. Rather<span class="_ _2"></span>, they will be provided with the endpoints they need to proceed through </div><div class="t m0 x3 h12 y13be ff61 fsa fc2 sc0 ls0 ws0">the application when they make a query.</div><div class="t m0 x1a h12 ya25 ff61 fsa fc2 sc0 ls0 ws0">Let&apos;s consider an example:</div><div class="t m0 x3 h3c ya27 ff6a fsa fc2 sc0 ls0 ws0">GET /account/12345 HTTP/1.1</div><div class="t m0 x3 h3c y13bf ff6a fsa fc2 sc0 ls0 ws0">HTTP/1.1 200 OK</div><div class="t m0 x3 h3c y13c0 ff6a fsa fc2 sc0 ls0 ws0">&lt;?xml version=&quot;1.0&quot;?&gt;</div><div class="t m0 x3 h3c y13c1 ff6a fsa fc2 sc0 ls0 ws0">&lt;account&gt;</div><div class="t m0 x3 h3c y13c2 ff6a fsa fc2 sc0 ls0 ws0">&lt;account_number&gt;12345&lt;/account_number&gt;</div><div class="t m0 x3 h3c y13c3 ff6a fsa fc2 sc0 ls0 ws0">&lt;balance currency=&quot;usd&quot;&gt;100.00&lt;/balance&gt;</div><div class="t m0 x3 h3c y13c4 ff6a fsa fc2 sc0 ls0 ws0">&lt;link rel=&quot;deposit&quot; href=&quot;/account/12345/deposit&quot; /&gt;</div><div class="t m0 x3 h3c y13c5 ff6a fsa fc2 sc0 ls0 ws0">&lt;link rel=&quot;withdraw&quot; href=&quot;/account/12345/withdraw&quot; /&gt;</div><div class="t m0 x3 h3c y13c6 ff6a fsa fc2 sc0 ls0 ws0">&lt;link rel=&quot;transfer&quot; href=&quot;/account/12345/transfer&quot; /&gt;</div><div class="t m0 x3 h3c y13c7 ff6a fsa fc2 sc0 ls0 ws0">&lt;link rel=&quot;close&quot; href=&quot;/account/12345/close&quot; /&gt;</div><div class="t m0 x3 h3c y13c8 ff6a fsa fc2 sc0 ls0 ws0">&lt;/account&gt;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfcd" class="pf w2 h4" data-page-no="cd"><div class="pc pccd w2 h4"><img class="bi x8 yc2e w3 h8b" alt="" src="bgcd.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>8</div><div class="t m0 x3 h12 y13c9 ff61 fsa fc2 sc0 ls0 ws0">In the previous exam<span class="_ _1"></span>ple, from the W<span class="_ _1"></span>ikipedia page on HA<span class="_ _1"></span>TEOAS<span class="_ _1"></span>,</div><div class="t m0 x89 h15 y13ca ff61 fsb fc4 sc0 ls0 ws0">7</div><div class="t m0 x8b h12 y13c9 ff61 fsa fc2 sc0 ls0 ws0"> we are retrieving </div><div class="t m0 x8 h12 y13cb ff61 fsa fc2 sc0 ls0 ws0">information about a bank account<span class="_ _1"></span>. The ser<span class="_ _0"></span>ver r<span class="_ _1"></span>esponds with a list of URIs that can be </div><div class="t m0 x8 h12 y13cc ff61 fsa fc2 sc0 ls0 ws0">used for further actions. If the account had a nega<span class="_ _1"></span>tive balance, for example<span class="_ _1"></span>, the ser<span class="_ _0"></span>ver </div><div class="t m0 x8 h12 y13cd ff61 fsa fc2 sc0 ls0 ws0">may not include the link to withdra<span class="_ _1"></span>w money. The ser<span class="_ _0"></span>ver is guidin<span class="_ _1"></span>g the client through the </div><div class="t m0 x8 h12 y13ce ff61 fsa fc2 sc0 ls0 ws0">API by exposing additional URI<span class="_ _1"></span>s that are r<span class="_ _1"></span>elevant to the last opera<span class="_ _1"></span>tion.</div><div class="t m0 x8 h26 y13cf ff61 fse fc2 sc0 ls0 ws0">Request Header<span class="_ _1"></span>s</div><div class="t m0 x8 h12 y13d0 ff61 fsa fc2 sc0 ls0 ws0">HTTP allows passing headers in its request. REST clien<span class="_ _1"></span>ts will use these to indicate to the </div><div class="t m0 x8 h12 y13d1 ff61 fsa fc2 sc0 ls0 ws0">server what they are pro<span class="_ _1"></span>viding and what they are expecting back.</div><div class="t m0 x3 h12 y13d2 ff61 fsa fc2 sc0 ls0 ws0">A REST client should use the accept header to indicate to the server what sort of </div><div class="t m0 x8 h12 y13d3 ff61 fsa fc2 sc0 ls0 ws0">content (r<span class="_ _1"></span>epresentation) it wants bac<span class="_ _1"></span>k. For example<span class="_ _1"></span>, if a client sets the accept header to </div><div class="t m0 x8 h3c y13d4 ff6a fsa fc2 sc0 ls0 ws0">text/xml<span class="ff61">, it is telling the server that it wants an XML-formatted response<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c y13d5 ff61 fsa fc2 sc0 ls0 ws0">The client will also set a <span class="ff6a">Content-Type</span> header to inform the ser<span class="_ _0"></span>ver of the MIME type </div><div class="t m0 x8 h12 y13d6 ff61 fsa fc2 sc0 ls0 ws0">of its payload. See the section in the response header for more detail.</div><div class="t m0 x8 h26 y13d7 ff61 fse fc2 sc0 ls0 ws0">Response Headers and Codes</div><div class="t m0 x8 h3c y13d8 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">Content-Type</span> header is sent by the server and defines the MIME type of the body </div><div class="t m0 x8 h3c y13d9 ff61 fsa fc2 sc0 ls0 ws0">that is being sent. F<span class="_ _1"></span>or example, a server may set the <span class="ff6a">content-type</span><span class="ls11 wse8"> to </span><span class="ff6a">application/json</span> </div><div class="t m0 x8 h12 y13da ff61 fsa fc2 sc0 ls0 ws0">to indicate tha<span class="_ _1"></span>t the body of the response contains JSON formatted text.</div><div class="t m0 x3 h12 y13db ff61 fsa fc2 sc0 ls0 ws0">The server will als<span class="_ _0"></span>o set a status code th<span class="_ _1"></span>at informs the client of the result of the </div><div class="t m0 x8 h12 y13dc ff61 fsa fc2 sc0 ls0 ws0">request. Some of the common codes ar<span class="_ _1"></span>e listed here, but ther<span class="_ _1"></span>e are many mor<span class="_ _1"></span>e.</div><div class="t m0 x8a h15 y13dd ff61 fsb fc4 sc0 ls0 ws0">8</div><div class="t m0 x8 h20 y13de ff65 fs6 fc2 sc0 ls0 ws0">Code<span class="_ _ba"> </span>Meaning</div><div class="t m0 x8 h3c y13df ff6a fsa fc2 sc0 ls0 ws0">200<span class="_ _87"> </span><span class="ff61">The request pr<span class="_ _1"></span>ocessed successfully</span></div><div class="t m0 x8 h3c y13e0 ff6a fsa fc2 sc0 ls0 ws0">201<span class="_ _87"> </span><span class="ff61">The resour<span class="_ _1"></span>ce was created</span></div><div class="t m0 x8 h3c y13e1 ff6a fsa fc2 sc0 ls0 ws0">202<span class="_ _87"> </span><span class="ff61">The resour<span class="_ _1"></span>ce was accepted for processing, but h<span class="_ _1"></span>as not yet been processed</span></div><div class="t m0 x8 h3c y13e2 ff6a fsa fc2 sc0 ls0 ws0">400<span class="_ _87"> </span><span class="ff61">Bad request (<span class="_ _1"></span>client error)</span></div><div class="t m0 x8 h3c y13e3 ff6a fsa fc2 sc0 ls0 ws0">401<span class="_ _87"> </span><span class="ff61">Unauthorized; the client mus<span class="_ _1"></span>t authenticate itself before accessin<span class="_ _1"></span>g this resource</span></div><div class="t m0 x8 h3c y13e4 ff6a fsa fc2 sc0 ls0 ws0">403<span class="_ _87"> </span><span class="ff61">Forbidden; the clien<span class="_ _1"></span>t has authenticated itself but does not ha<span class="_ _1"></span>ve permission to </span></div><div class="t m0 x8c h12 y13e5 ff61 fsa fc2 sc0 ls0 ws0">access this resour<span class="_ _1"></span>ce</div><div class="t m0 x8 h3c y13e6 ff6a fsa fc2 sc0 ls0 ws0">500<span class="_ _87"> </span><span class="ff61">Ser<span class="_ _0"></span>ver or applic<span class="_ _1"></span>ation error</span></div><div class="t m0 x1e h10 y13e7 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff68 fc2"> <span class="_ _2c"> </span> It is very poor practice to send a message in the response bod<span class="_ _0"></span>y that contradicts </span></span></div><div class="t m0 x8 h10 y13e8 ff68 fs6 fc2 sc0 ls0 ws0">the HTTP response code.</div><div class="t m0 x8 h16 y13e9 ff6b fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x26 h43 y13ea ff6a fs5 fc4 sc0 ls0 ws0">Https://en.wikipedia.org/wiki/HATEOAS</div><div class="t m0 x8 h16 y13eb ff6b fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x26 h43 y13ec ff6a fs5 fc4 sc0 ls0 ws0">https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</div><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",39,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.757000px;bottom:589.325000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:335.029000px;bottom:333.325000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/HATEOAS"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:82.081100px;width:157.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.081100px;width:233.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfce" class="pf w2 h4" data-page-no="ce"><div class="pc pcce w2 h4"><img class="bi x3 y653 w5 h8c" alt="" src="bgce.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1e wsfa">18<span class="_ _0"></span>9</div><div class="t m0 x1a h12 y1b8 ff61 fsa fc2 sc0 ls0 ws0">Within the Zend framework the term “<span class="_ _2"></span>context switching” refers to changing the </div><div class="t m0 x3 h12 y1b9 ff61 fsa fc2 sc0 ls0 ws0">output of your pr<span class="_ _1"></span>ogram depending on whether it is responding to a REST r<span class="_ _1"></span>equest or some </div><div class="t m0 x3 h12 y2d2 ff61 fsa fc2 sc0 ls0 ws0">other request.</div><div class="t m0 x1a h12 y2d3 ff61 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, you may r<span class="_ _1"></span>espond with an HTML page for normal requests or respond </div><div class="t m0 x3 h3c y2d4 ff61 fsa fc2 sc0 ls0 ws0">with JSON if the request originated via <span class="ff6a">XMLHttpRequest</span> (AJAX).</div><div class="t m0 x1a h12 y1bd ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou could also respond with XML or JS<span class="_ _0"></span>ON, dependin<span class="_ _1"></span>g on what content type the </div><div class="t m0 x3 h12 y1be ff61 fsa fc2 sc0 ls0 ws0">client indicates it wan<span class="_ _1"></span>ts as a response.</div><div class="t m0 x1a h12 y2d5 ff61 fsa fc2 sc0 ls0 ws0">Another example could be to respond with differ<span class="_ _1"></span>ent layouts<span class="_ _1"></span>, depending on what sort </div><div class="t m0 x3 h12 y2d6 ff61 fsa fc2 sc0 ls0 ws0">of browser is being used (mobile device versus desk<span class="_ _1"></span>top for example).</div><div class="t m0 x1a h12 y2d7 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should be familiar with the concept of the ser<span class="_ _0"></span>ver responding differ<span class="_ _1"></span>ently to a call </div><div class="t m0 x3 h12 y2d8 ff61 fsa fc2 sc0 ls0 ws0">to the same URL, depending on how the client sets up its request.</div><div class="t m0 x3 h26 y13ed ff61 fse fc2 sc0 ls0 ws0">Sending Requests</div><div class="t m0 x3 h3c y13ee ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">curl</span> extension is a common way to send REST r<span class="_ _1"></span>equests in PHP<span class="_ _11"></span>. Curl lets you specify </div><div class="t m0 x3 h12 y13ef ff61 fsa fc2 sc0 ls0 ws0">headers and request types<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y13f0 ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e libraries that wrap the <span class="ff6a">curl</span> functions<span class="_ _1"></span>. One of the popular ones is Guzzle,</div><div class="t m0 x14 h15 y13f1 ff61 fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x8d h12 ya9a ff61 fsa fc2 sc0 ls0 ws0"> </div><div class="t m0 x3 h12 y13f2 ff61 fsa fc2 sc0 ls0 ws0">which is easy to install and use. I<span class="_ _1"></span>t offers a very w<span class="_ _0"></span>ide r<span class="_ _1"></span>ange of features and, at the time of </div><div class="t m0 x3 h12 y13f3 ff61 fsa fc2 sc0 ls0 ws0">writing, is in my opinion the best choice of request clien<span class="_ _1"></span>t for PHP<span class="_ _11"></span>.</div><div class="t m0 x3 h19 y13f4 ff67 fsd fc2 sc0 ls0 ws0">JSON</div><div class="t m0 x3 h12 y13f5 ff61 fsa fc2 sc0 ls0 ws0">JSON is an acronym of J<span class="_ _1"></span>avaScript Object Notation. I<span class="_ _1"></span>n PHP<span class="_ _11"></span>, it is used a lot with Ajax, which </div><div class="t m0 x3 h12 y13f6 ff61 fsa fc2 sc0 ls0 ws0">is an acronym for Asynchr<span class="_ _1"></span>onous J<span class="_ _1"></span>avaScript and XML.</div><div class="t m0 x1a h12 y13f7 ff61 fsa fc2 sc0 ls0 ws0">JSON lets you serialize an object as a string so that it can be transported between </div><div class="t m0 x3 h12 y13f8 ff61 fsa fc2 sc0 ls0 ws0">services. Ajax is a means to transport the string.</div><div class="t m0 x1a h12 y13f9 ff61 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ogether these technologies allow you to communicate between J<span class="_ _1"></span>avaScript </div><div class="t m0 x3 h12 y13fa ff61 fsa fc2 sc0 ls0 ws0">applications in the br<span class="_ _1"></span>owser and PHP applications on the server<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y13fb ff61 fsa fc2 sc0 ls0 ws0">The JSON extension is loaded in PHP by default and pr<span class="_ _1"></span>ovides methods to handle </div><div class="t m0 x3 h12 y13fc ff61 fsa fc2 sc0 ls0 ws0">converting to and fr<span class="_ _1"></span>om JSON.</div><div class="t m0 x1a h12 y13fd ff61 fsa fc2 sc0 ls0 ws0">It pr<span class="_ _1"></span>ovides a number of constants<span class="_ _1"></span>, including:</div><div class="t m0 x3 h20 y13fe ff65 fs6 fc2 sc0 ls0 ws0">Constant<span class="_ _31"> </span>Meaning</div><div class="t m0 x3 h3c y13ff ff6a fsa fc2 sc0 ls0 ws0">JSON_ERROR_NONE<span class="_ _7f"> </span><span class="ff61">Confirms whether a JSON error occurred or not.</span></div><div class="t m0 x3 h3c y1400 ff6a fsa fc2 sc0 ls0 ws0">JSON_ERROR_SYNTAX<span class="_ _bb"> </span><span class="ff61">Confirms if there was a syntax err<span class="_ _1"></span>or parsing JSON and helps </span></div><div class="t m0 x5b h12 y1401 ff61 fsa fc2 sc0 ls0 ws0">detect encoding errors.</div><div class="t m0 x3 h3c y1402 ff6a fsa fc2 sc0 ls0 ws0">JSON_FORCE_OBJECT<span class="_ _bb"> </span><span class="ff61">If an empty PHP array is encoded, this option will force it to be </span></div><div class="t m0 x5b h12 y1403 ff61 fsa fc2 sc0 ls0 ws0">encoded as an object.</div><div class="t m0 x1a h12 y1404 ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e three functions pro<span class="_ _1"></span>vided by the extension.</div><div class="t m0 x1a h3c y1405 ff6a fsa fc2 sc0 ls0 ws0">json_decode()<span class="ff61 wsf0"> takes a string as its first argument and r<span class="_ _1"></span>eturns an object. If the second </span></div><div class="t m0 x3 h12 y1406 ff61 fsa fc2 sc0 ls0 ws0">parameter is set true, it will ret<span class="_ _1"></span>urn an associative array.</div><div class="t m0 x3 h16 y1407 ff6b fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x1d h43 y1408 ff6a fs5 fc4 sc0 ls0 ws0">http://docs.guzzlephp.org/en/stable/</div><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:390.488000px;bottom:408.289000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://docs.guzzlephp.org/en/stable/"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:71.831100px;width:153.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfcf" class="pf w2 h4" data-page-no="cf"><div class="pc pccf w2 h4"><img class="bi x8 y1409 w3 h32" alt="" src="bgcf.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">19<span class="_ _0"></span>0</div><div class="t m0 x3 h3c y2a8 ff61 fsa fc2 sc0 ls0 ws0">From PHP 5.3 onwar<span class="_ _1"></span>d, two additional options are supplied—<span class="ff6a">$depth</span> and <span class="ff6a">$options</span>. </div><div class="t m0 x8 h3c y2a9 ff61 fsa fc2 sc0 ls0 ws0">Depth refers to the recursion depth and c<span class="_ _1"></span>urrently the only option is <span class="ff6a">JSON_BIGINT_AS_</span></div><div class="t m0 x8 h3c y2aa ff6a fsa fc2 sc0 ls0 ws0">STRING<span class="ff61">, which changes casting lar<span class="_ _1"></span>ge integers as floats to be cast as strings.</span></div><div class="t m0 x3 h3c y2ab ff61 fsa fc2 sc0 ls0 ws0">If the recursion depth is exceeded, <span class="ff6a">json_decode()</span> will return <span class="ff6a">NULL</span> and <span class="ff6a">json_last_</span></div><div class="t m0 x8 h3c y2ac ff6a fsa fc2 sc0 ls0 ws0">error_msg()<span class="ff61"> will return </span>&quot;Maximum stack depth exceeded&quot;<span class="ff61">. This will happen if the arra<span class="_ _1"></span>y </span></div><div class="t m0 x8 h12 y2ad ff61 fsa fc2 sc0 ls0 ws0">has more levels th<span class="_ _1"></span>an the depth you have s<span class="_ _1"></span>pecified as acceptable.</div><div class="t m0 x3 h12 ya79 ff61 fsa fc2 sc0 ls0 ws0">As an example, consider this code:</div><div class="t m0 x8 h3c y4e6 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y4e7 ff6a fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x8 h3c y4e8 ff6a fsa fc2 sc0 ls0 ws0">    &quot;fruits&quot; =&gt; [</div><div class="t m0 x8 h3c ya7a ff6a fsa fc2 sc0 ls0 ws0">        &quot;apple&quot; =&gt; [&quot;taste&quot; =&gt; &quot;sweet&quot;, &quot;color&quot; =&gt; &quot;yellow&quot;],</div><div class="t m0 x8 h3c y4e9 ff6a fsa fc2 sc0 ls0 ws0">        &quot;banana&quot; =&gt; [&quot;taste&quot; =&gt; &quot;sour&quot;, &quot;color&quot; =&gt; &quot;green&quot;],</div><div class="t m0 x8 h3c y4ea ff6a fsa fc2 sc0 ls0 ws0">        &quot;cherry&quot; =&gt; [&quot;taste&quot; =&gt; &quot;sweet&quot;, &quot;color&quot; =&gt; &quot;red&quot;]</div><div class="t m0 x8 h3c y3eb ff6a fsa fc2 sc0 ls0 ws0">    ],</div><div class="t m0 x8 h3c y4eb ff6a fsa fc2 sc0 ls0 ws0">    &quot;vegetables&quot; =&gt; &quot;yuck&quot;</div><div class="t m0 x8 h3c y4ec ff6a fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x8 h3c ya7b ff6a fsa fc2 sc0 ls0 ws0">$str = json_encode($arr);</div><div class="t m0 x8 h3c y4ed ff6a fsa fc2 sc0 ls0 ws0">$decode = json_decode($str, true, 1);</div><div class="t m0 x8 h3c ya7c ff6a fsa fc2 sc0 ls0 ws0">echo json_last_error_msg(); // Maximum stack depth exceeded</div><div class="t m0 x3 h12 y4ef ff61 fsa fc2 sc0 ls0 ws0">The array has two levels beca<span class="_ _1"></span>use each of the fruits contains an array. W<span class="_ _1"></span>e specify that </div><div class="t m0 x8 h3c ya7d ff61 fsa fc2 sc0 ls0 ws0">we want to decode only one level of depth and so <span class="ff6a">$decode</span> will be <span class="ff6a">NULL</span> and the script will </div><div class="t m0 x8 h3c ya7e ff61 fsa fc2 sc0 ls0 ws0">output <span class="ff6a">&quot;Maximum stack depth exceeded&quot;</span>.</div><div class="t m0 x3 h3c ya7f ff6a fsa fc2 sc0 ls0 ws0">json_encode()<span class="ff61"> takes a variable of any type (<span class="_ _1"></span>other than a resour<span class="_ _1"></span>ce) as a parameter </span></div><div class="t m0 x8 h3c ya80 ff61 fsa fc2 sc0 ls0 ws0">and returns the JSON repr<span class="_ _1"></span>esentation. It has two option<span class="_ _1"></span>al parameters—<span class="ff6a">$depth</span> and </div><div class="t m0 x8 h3c ya81 ff6a fsa fc2 sc0 ls0 ws0">$options<span class="ff61">—which are the same as described previously.</span></div><div class="t m0 x3 h3c ya82 ff6a fsa fc2 sc0 ls0 ws0">json_last_error()<span class="ff61"> returns the last err<span class="_ _1"></span>or code that occurred in either of the previous </span></div><div class="t m0 x8 h3c y140a ff61 fsa fc2 sc0 ls0 ws0">functions and <span class="ff6a">json_last_error_msg()</span> returns a string message<span class="_ _1"></span>.</div><div class="t m0 x1e h10 y140b ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff68 fc2"> <span class="_ _2c"> </span> Remember from Chapter <span class="fc4">6</span> that JSON is the preferred way to serialize data tha<span class="_ _0"></span>t is </span></span></div><div class="t m0 x8 h10 y140c ff68 fs6 fc2 sc0 ls0 ws0">transported to the client.</div><div class="t m0 x8 h19 y140d ff67 fsd fc2 sc0 ls0 ws11b">Date <span class="_ _0"></span>and Time</div><div class="t m0 x8 h12 y140e ff61 fsa fc2 sc0 ls0 ws0">PHP supplies several functions that r<span class="_ _1"></span>etrieve the date and time from the server<span class="_ _2"></span>. Y<span class="_ _1"></span>ou should </div><div class="t m0 x8 h12 y140f ff61 fsa fc2 sc0 ls0 ws0">set a default time zone in your configur<span class="_ _1"></span>ation or set it at runtime in your script. Y<span class="_ _2"></span>ou should </div><div class="t m0 x8 h12 y1410 ff61 fsa fc2 sc0 ls0 ws0">set the time zone to match the time zone tha<span class="_ _1"></span>t your server is in, so that PHP can correctly </div><div class="t m0 x8 h12 y1411 ff61 fsa fc2 sc0 ls0 ws0">interpret the server time. This also lets your script be aw<span class="_ _1"></span>are of adjustments like da<span class="_ _1"></span>ylight </div><div class="t m0 x8 h12 y1412 ff61 fsa fc2 sc0 ls0 ws0">savings time<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y1413 ff61 fsa fc2 sc0 ls0 ws0">PHP 5.2 introduced the <span class="ff6a">DateTime</span> class<span class="_ _1"></span>, which deals with a wide range of date </div><div class="t m0 x8 h12 y1414 ff61 fsa fc2 sc0 ls0 ws0">and time calculations<span class="_ _1"></span>. It is recommended to use this class instead of work<span class="_ _1"></span>ing with the </div><div class="t m0 x8 h3c y1415 ff61 fsa fc2 sc0 ls0 ws0">functions like <span class="ff6a">date()</span> and <span class="ff6a">time()</span>.</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:168.137000px;bottom:245.709000px;width:4.800000px;height:11.850000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd0" class="pf w2 h4" data-page-no="d0"><div class="pc pcd0 w2 h4"><img class="bi x3 ya99 w19 h8d" alt="" src="bgd0.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls45 ws11e">1<span class="_ _0"></span>91</div><div class="t m0 x1a h3c y2a8 ff61 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o create a new <span class="ff6a">DateTime</span> object, you pass it a s<span class="_ _1"></span>tring that it can parse. I<span class="_ _1"></span>t understands </div><div class="t m0 x3 h12 y3e3 ff61 fsa fc2 sc0 ls0 ws0">a wide range of string formats<span class="_ _1"></span>, such as shown in this example:</div><div class="t m0 x3 h3c y2ab ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y2ac ff6a fsa fc2 sc0 ls0 ws0">$strings = [</div><div class="t m0 x3 h3c y3e4 ff6a fsa fc2 sc0 ls0 ws0">    &apos;Next monday&apos;,</div><div class="t m0 x3 h3c y3e5 ff6a fsa fc2 sc0 ls0 ws0">    &apos;Yesterday&apos;,</div><div class="t m0 x3 h3c y425 ff6a fsa fc2 sc0 ls0 ws0">    &apos;&apos;, // now</div><div class="t m0 x3 h3c y3e6 ff6a fsa fc2 sc0 ls0 ws0">    &apos;2016-12-25&apos;,</div><div class="t m0 x3 h3c y426 ff6a fsa fc2 sc0 ls0 ws0">    &apos;25 December 2016&apos;,</div><div class="t m0 x3 h3c y3e7 ff6a fsa fc2 sc0 ls0 ws0">    &apos;-1 week&apos;,</div><div class="t m0 x3 h3c y3e8 ff6a fsa fc2 sc0 ls0 ws0">    &apos;+1 days&apos;</div><div class="t m0 x3 h3c y3e9 ff6a fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x3 h3c y3ea ff6a fsa fc2 sc0 ls0 ws0">foreach ($strings as $example) {</div><div class="t m0 x3 h3c y3eb ff6a fsa fc2 sc0 ls0 ws0">    $dateTime = new DateTime($example);</div><div class="t m0 x3 h3c y3ec ff6a fsa fc2 sc0 ls0 ws0">    echo $dateTime-&gt;format(DateTime::COOKIE) . PHP_EOL;</div><div class="t m0 x3 h3c y3ed ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 yac6 ff61 fsa fc2 sc0 ls0 ws0">All the strings in the array fr<span class="_ _1"></span>om this example will be understood.</div><div class="t m0 x1a h3c y3ef ff61 fsa fc2 sc0 ls0 ws0">If a date format is ambig<span class="_ _1"></span>uous, then you can use the <span class="ff6a">DateTime::createFromFormat()</span> </div><div class="t m0 x3 h12 y3f0 ff61 fsa fc2 sc0 ls0 ws0">command to crea<span class="_ _1"></span>te the object.</div><div class="t m0 x1a h12 yac7 ff61 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, the date 3 J<span class="_ _1"></span>une 2013 will be written as 06-03-2013 by an American, </div><div class="t m0 x3 h12 y3f1 ff61 fsa fc2 sc0 ls0 ws0">while the rest of the world would write it as 03-06-2013. If you ga<span class="_ _1"></span>ve either of these strings </div><div class="t m0 x3 h12 y3f2 ff61 fsa fc2 sc0 ls0 ws0">to PHP<span class="_ _11"></span>, it would not know whether you mean 3 J<span class="_ _1"></span>une 2013 or 6 M<span class="_ _1"></span>arch 2013.</div><div class="t m0 x1a h12 y3f3 ff61 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o resolve the ambiguity, you can s<span class="_ _1"></span>pecify which format you’re using in your s<span class="_ _1"></span>tring, </div><div class="t m0 x3 h12 y3f4 ff61 fsa fc2 sc0 ls0 ws0">like this:</div><div class="t m0 x3 h3c y3f5 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y3f6 ff6a fsa fc2 sc0 ls0 ws0">$dateTime = DateTime::createFromFormat(&apos;d-m-Y&apos;, &apos;06-03-2013&apos;);</div><div class="t m0 x3 h3c yad6 ff6a fsa fc2 sc0 ls0 ws0">echo $dateTime-&gt;format(DateTime::COOKIE);</div><div class="t m0 x1a h12 yad8 ff61 fsa fc2 sc0 ls0 ws0">This script will output something like W<span class="_ _1"></span>ednesday, 06-Mar<span class="_ _2"></span>-2013 12:56:42 CET<span class="_ _2"></span>. </div><div class="t m0 x3 h3c yad9 ff61 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t if you omit the time when creating a <span class="ff6a">DateTime</span> cl<span class="_ _1"></span>ass, the time that the script is </div><div class="t m0 x3 h12 yada ff61 fsa fc2 sc0 ls0 ws0">running at will be used.</div><div class="t m0 x3 h26 y1416 ff61 fse fc2 sc0 ls0 ws0">F<span class="_ _1"></span>ormatting Da<span class="_ _1"></span>tes</div><div class="t m0 x3 h3c y1417 ff61 fsa fc2 sc0 ls0 ws0">In these examples, we<span class="_ _1"></span>’ve used one of the class constants pr<span class="_ _1"></span>ovided by <span class="ff6a">DateTime</span> to format </div><div class="t m0 x3 h12 y1418 ff61 fsa fc2 sc0 ls11 wse8">our date.</div><div class="t m0 x1a h12 y1419 ff61 fsa fc2 sc0 ls0 ws0">The manual has a list of these constan<span class="_ _1"></span>ts, which are common use-cases for da<span class="_ _1"></span>te </div><div class="t m0 x3 h12 y141a ff61 fsa fc2 sc0 ls0 ws0">display or stora<span class="_ _1"></span>ge. They appear in this table:</div><div class="t m0 x3 h20 y141b ff65 fs6 fc2 sc0 ls0 ws0">Constant<span class="_ _bc"> </span>Format</div><div class="t m0 x3 h3c y141c ff6a fsa fc2 sc0 ls0 ws0">ATOM<span class="_ _29"> </span>Y-m-dTH:i:sP</div><div class="t m0 x3 h3c y141d ff6a fsa fc2 sc0 ls0 ws0">COOKIE<span class="_ _32"> </span>l, d-M-Y H:i:s T</div><div class="t m0 x49 h12 y141e ff61 fsa fc2 sc0 ls0 ws0">(<span class="ff6e">continued</span>)</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd1" class="pf w2 h4" data-page-no="d1"><div class="pc pcd1 w2 h4"><img class="bi x8 ya99 w3 h8e" alt="" src="bgd1.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">192</div><div class="t m0 x8 h20 yc67 ff65 fs6 fc2 sc0 ls0 ws0">Constant<span class="_ _bc"> </span>Format</div><div class="t m0 x8 h3c y141f ff6a fsa fc2 sc0 ls0 ws0">ISO8601<span class="_ _80"> </span>Y-m-dTH:i:sO</div><div class="t m0 x8 h3c y1420 ff6a fsa fc2 sc0 ls0 ws0">RFC822<span class="_ _32"> </span>D, d M y H:i:s O</div><div class="t m0 x8 h3c y1421 ff6a fsa fc2 sc0 ls0 ws0">RFC850<span class="_ _32"> </span>l, d-M-y H:i:s T</div><div class="t m0 x8 h3c y1422 ff6a fsa fc2 sc0 ls0 ws0">RFC1036<span class="_ _80"> </span>D, d M y H:i:s O</div><div class="t m0 x8 h3c y1423 ff6a fsa fc2 sc0 ls0 ws0">RFC1123<span class="_ _80"> </span>D, d M Y H:i:s O</div><div class="t m0 x8 h3c y1424 ff6a fsa fc2 sc0 ls0 ws0">RFC2822<span class="_ _80"> </span>D, d M Y H:i:s O</div><div class="t m0 x8 h3c y1425 ff6a fsa fc2 sc0 ls0 ws0">RFC3339<span class="_ _80"> </span>Y-m-dTH:i:sP</div><div class="t m0 x8 h3c y1426 ff6a fsa fc2 sc0 ls0 ws0">RSS<span class="_ _3b"> </span>D, d M Y H:i:s O</div><div class="t m0 x8 h3c y1427 ff6a fsa fc2 sc0 ls0 ws0">W3C<span class="_ _3b"> </span>Y-m-dTH:i:sP</div><div class="t m0 x3 h12 y1428 ff61 fsa fc2 sc0 ls0 ws0">These are string constants and con<span class="_ _1"></span>tain date and time formatting codes. T<span class="_ _1"></span>he </div><div class="t m0 x8 h3c y1429 ff61 fsa fc2 sc0 ls0 ws0">formatting codes are r<span class="_ _1"></span>eplaced with a value by the <span class="ff6a">DateTime</span> class<span class="_ _1"></span>. For example<span class="_ _1"></span>, the </div><div class="t m0 x8 h12 y142a ff61 fsa fc2 sc0 ls0 ws0">symbol “Y<span class="_ _0"></span>” is replaced with the four<span class="_ _1"></span>-digit year of the d<span class="_ _1"></span>ate being stored.</div><div class="t m0 x3 h12 y142b ff61 fsa fc2 sc0 ls0 ws0">Obviously, the point of declaring the constant is so th<span class="_ _1"></span>at you don’t ha<span class="_ _1"></span>ve to memorize </div><div class="t m0 x8 h12 y142c ff61 fsa fc2 sc0 ls0 ws0">the strings, so don’t worry about studying the formats. I included the format<span class="_ _1"></span>ting strings </div><div class="t m0 x8 h12 y142d ff61 fsa fc2 sc0 ls0 ws0">because they are a good indication of the commonly used ones<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y142e ff61 fsa fc2 sc0 ls0 ws0">Date and time formatting codes ar<span class="_ _1"></span>e case-sensitive<span class="_ _1"></span>. For example<span class="_ _1"></span>, “y” is a two-digit </div><div class="t m0 x8 h12 y142f ff61 fsa fc2 sc0 ls0 ws0">year and “Y<span class="_ _0"></span>” is a four<span class="_ _1"></span>-digit year<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y1430 ff61 fsa fc2 sc0 ls0 ws0">Characters in the forma<span class="_ _1"></span>tting string that are not r<span class="_ _1"></span>ecognized as formatting characters </div><div class="t m0 x8 h12 y1431 ff61 fsa fc2 sc0 ls0 ws0">will be placed into the output unchanged. So<span class="_ _1"></span>, the string “Y<span class="_ _1"></span>-m-d” would include the </div><div class="t m0 x8 h12 y1432 ff61 fsa fc2 sc0 ls0 ws0">hyphens between the year<span class="_ _2"></span>, month, and da<span class="_ _1"></span>y when output—lik<span class="_ _1"></span>e this “2015-12-25”<span class="_ _e"></span>.</div><div class="t m0 x3 h12 y1433 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can find a list of the PHP date and time formatting codes on the manual pa<span class="_ _1"></span>ge,</div><div class="t m0 x8e h15 y1434 ff61 fsb fc4 sc0 ls0 ws0">10</div><div class="t m0 x8f h12 y1435 ff61 fsa fc2 sc0 ls0 ws0"> </div><div class="t m0 x8 h12 y1436 ff61 fsa fc2 sc0 ls0 ws0">but here ar<span class="_ _1"></span>e the ones that are in the pr<span class="_ _1"></span>evious table:</div><div class="t m0 x8 h20 y1437 ff65 fs6 fc2 sc0 ls0 ws0">Code<span class="_ _86"> </span>Replaced With<span class="_ _bd"> </span>Example(s)</div><div class="t m0 x8 h3c y1438 ff6a fsa fc2 sc0 ls0 ws0">Y<span class="_ _be"> </span><span class="ff61">A full four<span class="_ _1"></span>-digit year<span class="_ _bf"> </span>1999</span></div><div class="t m0 x8 h3c y1439 ff6a fsa fc2 sc0 ls0 ws0">M<span class="_ _be"> </span><span class="ff61">Two-digit mon<span class="_ _1"></span>th, with leading zeroes<span class="_ _c0"> </span>06</span></div><div class="t m0 x8 h3c y143a ff6a fsa fc2 sc0 ls0 ws0">d<span class="_ _be"> </span><span class="ff61">Day of the month<span class="_ _1"></span>, two digits with leading zeros<span class="_ _ab"> </span>14</span></div><div class="t m0 x8 h3c y143b ff6a fsa fc2 sc0 ls0 ws0">D<span class="_ _be"> </span><span class="ff61">A three letter textual da<span class="_ _1"></span>y<span class="_ _c1"> </span>Mon, T<span class="_ _1"></span>ue<span class="_ _1"></span>, W<span class="_ _1"></span>ed</span></div><div class="t m0 x8 h3c y143c ff6a fsa fc2 sc0 ls0 ws0">H<span class="_ _be"> </span><span class="ff61">24-hour format hour with leading zer<span class="_ _1"></span>o<span class="_ _c2"> </span>00, 09, 12, 23</span></div><div class="t m0 x8 h3c y143d ff6a fsa fc2 sc0 ls0 ws0">i<span class="_ _be"> </span><span class="ff61">Two-digit min<span class="_ _1"></span>ute, with leading zeroes<span class="_ _c3"> </span>05,15,25,45</span></div><div class="t m0 x8 h3c y143e ff6a fsa fc2 sc0 ls0 ws0">s<span class="_ _be"> </span><span class="ff61">Two-digit seconds<span class="_ _1"></span>, with leading zeroes<span class="_ _15"> </span>05,15,25,45</span></div><div class="t m0 x8 h3c y143f ff6a fsa fc2 sc0 ls0 ws0">P<span class="_ _be"> </span><span class="ff61">Difference to Gr<span class="_ _1"></span>eenwich time (GMT) w<span class="_ _0"></span>ith colon </span></div><div class="t m0 x41 h12 y1440 ff61 fsa fc2 sc0 ls0 ws0">between hours and minutes (PHP 5.1.3+)</div><div class="t m0 x90 h12 y143f ff61 fsa fc2 sc0 ls0 ws0">+02:00</div><div class="t m0 x8 h3c y1441 ff6a fsa fc2 sc0 ls0 ws0">O<span class="_ _be"> </span><span class="ff61">Difference to Gr<span class="_ _1"></span>eenwich time (GMT) in hours<span class="_ _86"> </span>+0200</span></div><div class="t m0 x8 h3c y1442 ff6a fsa fc2 sc0 ls0 ws0">T<span class="_ _be"> </span><span class="ff61">T<span class="_ _1"></span>ime zone abbreviation<span class="_ _57"> </span>EST<span class="_ _11"></span>, CET</span></div><div class="t m0 x8 h16 y1443 ff6b fsc fc2 sc0 ls0 ws0">10</div><div class="t m0 x3c h43 y1444 ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.date.php</div><a class="l" href="#pfd1" data-dest-detail='[209,"XYZ",39,81,null]'><div class="d m1" style="border-style:none;position:absolute;left:368.861000px;bottom:300.777000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.date.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:68.864600px;width:182.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd2" class="pf w2 h4" data-page-no="d2"><div class="pc pcd2 w2 h4"><img class="bi x3 y1445 w5 h8f" alt="" src="bgd2.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">193</div><div class="t m0 x3 h26 y3bf ff61 fse fc2 sc0 ls0 ws0">Date C<span class="_ _1"></span>alculations</div><div class="t m0 x3 h3c y3c0 ff61 fsa fc2 sc0 ls0 ws0">The most simple calculations c<span class="_ _1"></span>an be perfor<span class="_ _0"></span>med using the <span class="ff6a">DateTime</span> class method </div><div class="t m0 x3 h3c y44f ff6a fsa fc2 sc0 ls0 ws0">modify()<span class="ff61">. For example<span class="_ _1"></span>, to find the date and time that is one mon<span class="_ _1"></span>th in the future, y<span class="_ _1"></span>ou can </span></div><div class="t m0 x3 h12 y46e ff61 fsa fc2 sc0 ls0 ws0">do the following:</div><div class="t m0 x3 h3c y451 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y46f ff6a fsa fc2 sc0 ls0 ws0">$dateTime = new DateTime();</div><div class="t m0 x3 h3c y452 ff6a fsa fc2 sc0 ls0 ws0">$dateTime-&gt;modify(&apos;+1 month&apos;);</div><div class="t m0 x3 h3c y453 ff6a fsa fc2 sc0 ls0 ws0">echo $dateTime-&gt;format(DateTime::COOKIE) . PHP_EOL;</div><div class="t m0 x1a h12 y470 ff61 fsa fc2 sc0 ls0 ws0">PHP offers a much more flexible wa<span class="_ _1"></span>y to work with date calculations<span class="_ _1"></span>, however<span class="_ _2"></span>.</div><div class="t m0 x1a h3c y455 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">DateInterval</span> class is used to store either a fixed amoun<span class="_ _1"></span>t of time (in years, </div><div class="t m0 x3 h3c y456 ff61 fsa fc2 sc0 ls0 ws0">months, da<span class="_ _1"></span>ys, hours<span class="_ _1"></span>, etc.) or a relative time string in the forma<span class="_ _1"></span>t that <span class="ff6a">DateTime</span><span class="ls4d ws129">’s<span class="_ _0"></span> </span></div><div class="t m0 x3 h12 y457 ff61 fsa fc2 sc0 ls0 ws0">constructor supports.</div><div class="t m0 x1a h3c y499 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">DateTime</span> class allows you to <span class="ff6a">add()</span> or <span class="ff6a">sub()</span> a <span class="ff6a">DateInterval</span> fr<span class="_ _1"></span>om a <span class="ff6a">DateTime</span>. It </div><div class="t m0 x3 h12 y458 ff61 fsa fc2 sc0 ls0 ws0">will handle leap years and other time adjustments while doin<span class="_ _1"></span>g so.</div><div class="t m0 x1a h3c y459 ff61 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o specify a fixed amount of time when creating a <span class="ff6a">DateInterval</span> object, we pass its </div><div class="t m0 x3 h3c y45a ff61 fsa fc2 sc0 ls0 ws0">constructor a string. The string always starts with <span class="ff6a">P</span> and then lists the number of each </div><div class="t m0 x3 h3c y45b ff61 fsa fc2 sc0 ls0 ws0">individual date unit in descending order<span class="_ _11"></span>. Optionally, the letter <span class="ff6a">T</span> appears and then the </div><div class="t m0 x3 h12 y45c ff61 fsa fc2 sc0 ls0 ws0">time units are included.</div><div class="t m0 x1a h12 y49a ff61 fsa fc2 sc0 ls0 ws0">This makes a lot mor<span class="_ _1"></span>e sense with s<span class="_ _0"></span>ome examples:</div><div class="t m0 x3 h20 y1446 ff65 fs6 fc2 sc0 ls0 ws0">String<span class="_ _22"> </span>Description</div><div class="t m0 x3 h3c y1447 ff6a fsa fc2 sc0 ls0 ws0">P14D<span class="_ _c4"> </span><span class="ff61 ls11 wse8">14 days</span></div><div class="t m0 x3 h3c y1448 ff6a fsa fc2 sc0 ls0 ws0">P2W<span class="_ _70"> </span><span class="ff61">Two weeks</span></div><div class="t m0 x3 h3c y1449 ff6a fsa fc2 sc0 ls0 ws0">P2W5D<span class="_ _1d"> </span><span class="ff61">This is invalid; you ma<span class="_ _1"></span>y not specify weeks and days together in one </span></div><div class="t m0 x4 h12 y144a ff61 fsa fc2 sc0 ls0 ws0">string; the weeks will be ignored</div><div class="t m0 x3 h3c y144b ff6a fsa fc2 sc0 ls0 ws0">P2WT5H<span class="_ _27"> </span><span class="ff61">T<span class="_ _1"></span>wo weeks and five hours</span></div><div class="t m0 x3 h3c y144c ff6a fsa fc2 sc0 ls0 ws0">P1Y2M3DT4H5M<span class="_ _c5"> </span><span class="ff61">One year<span class="_ _2"></span>, two months, three da<span class="_ _1"></span>ys, four hours<span class="_ _1"></span>, five minutes</span></div><div class="t m0 x1a h12 y144d ff61 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t<span class="_ _0"></span>:</div><div class="t m0 x7 h12 y144e ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">Every string begins with P</span></div><div class="t m0 x7 h12 y144f ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">The number of units pr<span class="_ _1"></span>ecedes the letter indicating the unit</span></div><div class="t m0 x7 h12 y1450 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">T<span class="_ _1"></span>ime units are split from the dat<span class="_ _1"></span>e units by the letter T</span></div><div class="t m0 x7 h12 y1451 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">Units are sorted in descending order</span></div><div class="t m0 x1a h12 y1452 ff61 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple in code:</div><div class="t m0 x3 h3c y1453 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1454 ff6a fsa fc2 sc0 ls14 ws0">$dateTime = DateTime::createFromFormat(&apos;d-m-Y H:i:s&apos;, &apos;01-12-2016 13:14:15&apos;);</div><div class="t m0 x3 h3c y1455 ff6a fsa fc2 sc0 ls0 ws0">$dateInterval = new DateInterval(&apos;P1M2DT3H4M5S&apos;);</div><div class="t m0 x3 h3c y1456 ff6a fsa fc2 sc0 ls0 ws0">$dateTime-&gt;add($dateInterval);</div><div class="t m0 x3 h3c y1457 ff6a fsa fc2 sc0 ls0 ws0">echo $dateTime-&gt;format(DateTime::COOKIE) . PHP_EOL;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd3" class="pf w2 h4" data-page-no="d3"><div class="pc pcd3 w2 h4"><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">19<span class="_ _0"></span>4</div><div class="t m0 x3 h12 y1b8 ff61 fsa fc2 sc0 ls0 ws0">This code outputs the date and time tha<span class="_ _1"></span>t is one month, two days<span class="_ _1"></span>, three hours<span class="_ _1"></span>, four </div><div class="t m0 x8 h12 y1b9 ff61 fsa fc2 sc0 ls0 ws0">minutes, and fiv<span class="_ _1"></span>e seconds after 1st December 13:14:15.</div><div class="t m0 x8 h26 y404 ff61 fse fc2 sc0 ls0 ws0">M<span class="_ _1"></span>anual Date C<span class="_ _1"></span>alculations</div><div class="t m0 x8 h12 y405 ff61 fsa fc2 sc0 ls0 ws0">Occasionally, you will need to work with a UNIX style timestamp<span class="_ _1"></span>. This timestamp is a </div><div class="t m0 x8 h12 y406 ff61 fsa fc2 sc0 ls0 ws0">number that holds the n<span class="_ _1"></span>umber of seconds that hav<span class="_ _1"></span>e passed since the UNIX epoch, 1 </div><div class="t m0 x8 h12 y407 ff61 fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>anuary 1970. O<span class="_ _0"></span>ne advan<span class="_ _1"></span>tage of the timestamp is that it is agnostic of time zones<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y408 ff61 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several PHP functions that let you cr<span class="_ _1"></span>eate a timestamp<span class="_ _1"></span>. The <span class="ff6a">strtotime()</span> </div><div class="t m0 x8 h12 y1458 ff61 fsa fc2 sc0 ls0 ws0">function is a very flexible way to convert a date-time description into a timestamp<span class="_ _1"></span>. It is </div><div class="t m0 x8 h12 y1459 ff61 fsa fc2 sc0 ls0 ws0">intelligent enough to r<span class="_ _1"></span>ecognize phrases like “<span class="_ _1"></span>next Monday” or “+1 y<span class="_ _1"></span>ear”<span class="_ _40"></span>, as well as more </div><div class="t m0 x8 h12 y145a ff61 fsa fc2 sc0 ls0 ws0">mundane strings like “1 April 2017”<span class="_ _e"></span>.</div><div class="t m0 x3 h3c y145b ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">mktime()</span> function accepts a parameter for each of hour<span class="_ _11"></span>, minute, second, </div><div class="t m0 x8 h3c y145c ff61 fsa fc2 sc0 ls0 ws0">month, da<span class="_ _1"></span>y, or year<span class="_ _2"></span>. <span class="ff6a">mktime()</span> returns the UNIX timestamp of the arguments given. If the </div><div class="t m0 x8 h3c y145d ff61 fsa fc2 sc0 ls0 ws0">arguments ar<span class="_ _1"></span>e invalid, the function returns <span class="ff6a">FALSE</span>.</div><div class="t m0 x3 h12 y145e ff61 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the order of the parameters does not incr<span class="_ _1"></span>ease in unit size, but is in the </div><div class="t m0 x8 h12 y145f ff61 fsa fc2 sc0 ls0 ws0">order “h i s m d y”<span class="_ _e"></span>.</div><div class="t m0 x3 h12 y1460 ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can leave out parameters righ<span class="_ _1"></span>t to left in which case they will default to the </div><div class="t m0 x8 h3c y1461 ff61 fsa fc2 sc0 ls0 ws0">current date v<span class="_ _1"></span>alue. So if the current year is 2016 and you c<span class="_ _1"></span>all <span class="ff6a">mktime()</span> without specifying </div><div class="t m0 x8 h12 y1462 ff61 fsa fc2 sc0 ls0 ws0">the year<span class="_ _2"></span>, PHP will assume that you mean 2016.</div><div class="t m0 x3 h3c y1463 ff61 fsa fc2 sc0 ls0 ws0">If you pass a parameter to <span class="ff6a">mktime()</span> th<span class="_ _1"></span>at is greater th<span class="_ _1"></span>an the value that should be </div><div class="t m0 x8 h3c y1464 ff61 fsa fc2 sc0 ls0 ws0">allowed, <span class="ff6a">mktime()</span> assumes that you me<span class="_ _1"></span>an that you’re r<span class="_ _1"></span>eferencing the next period.</div><div class="t m0 x3 h3c y1465 ff61 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, there ar<span class="_ _1"></span>e 31 days in December<span class="_ _2"></span>. If you call <span class="ff6a">mktime(0, 0, 0, 12, 32, </span></div><div class="t m0 x8 h3c y1466 ff6a fsa fc2 sc0 ls0 ws0">2016)<span class="ff61"> then you will be given a timestamp for the first day in the next mon<span class="_ _1"></span>th<span class="_ _0"></span>; in other </span></div><div class="t m0 x8 h12 y1467 ff61 fsa fc2 sc0 ls0 ws0">words<span class="_ _1"></span>, for 1 January 2017.</div><div class="t m0 x8 h26 y1468 ff61 fse fc2 sc0 ls0 ws0">Comparing Dates</div><div class="t m0 x8 h3c y1469 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">DateTime::diff()</span> method allows you to compar<span class="_ _1"></span>e the difference between two </div><div class="t m0 x8 h3c y146a ff6a fsa fc2 sc0 ls0 ws0">DateTime<span class="ff61"> objects. I<span class="_ _1"></span>t returns a <span class="ff6a">DateInterval</span> that con<span class="_ _1"></span>tains the period of time betw<span class="_ _0"></span>een the </span></div><div class="t m0 x8 h12 y146b ff61 fsa fc2 sc0 ls0 ws0">two dates being repr<span class="_ _1"></span>esented.</div><div class="t m0 x3 h3c y146c ff61 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the <span class="ff6a">DateTime</span> class handles time zone and dayligh<span class="_ _1"></span>t savings time </div><div class="t m0 x8 h12 y146d ff61 fsa fc2 sc0 ls0 ws0">conversions for you.</div><div class="t m0 x3 h12 y146e ff61 fsa fc2 sc0 ls0 ws0">Let&apos;s tr<span class="_ _0"></span>y to find out ho<span class="_ _1"></span>w long it is to Christmas.</div><div class="t m0 x8 h3c y146f ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1470 ff6a fsa fc2 sc0 ls0 ws0">$now = new DateTime();</div><div class="t m0 x8 h3c y1471 ff6a fsa fc2 sc0 ls0 ws0">$christmas = new DateTime(&apos;25 december&apos;);</div><div class="t m0 x8 h3c y1472 ff6a fsa fc2 sc0 ls0 ws0">if ($now &gt; $christmas) {</div><div class="t m0 x8 h3c y1473 ff6a fsa fc2 sc0 ls0 ws0">    $christmas = new DateTime(&apos;25 december next year&apos;);</div><div class="t m0 x8 h3c y1474 ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1475 ff6a fsa fc2 sc0 ls0 ws0">$interval = $christmas-&gt;diff($now);</div><div class="t m0 x8 h3c y1476 ff6a fsa fc2 sc0 ls0 ws0">// 97 days until Christmas</div><div class="t m0 x8 h3c y1477 ff6a fsa fc2 sc0 ls0 ws0">echo  $interval-&gt;days . &apos; days until Christmas&apos; . PHP_EOL;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd4" class="pf w2 h4" data-page-no="d4"><div class="pc pcd4 w2 h4"><img class="bi x3 y6f4 w1a h90" alt="" src="bgd4.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">195</div><div class="t m0 x1a h12 y1b8 ff61 fsa fc2 sc0 ls0 ws0">Notice the following in this snippet<span class="_ _0"></span>:</div><div class="t m0 x7 h12 y81f ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">Pass<span class="_ _1"></span>ing no parameter to the construct uses the current date and </span></div><div class="t m0 x19 h12 y762 ff61 fsa fc2 sc0 ls0 ws0">time.</div><div class="t m0 x7 h3c y404 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">W<span class="_ _1"></span>e can use mathema<span class="_ _1"></span>tical operators like <span class="ff6a">&gt;</span>, <span class="ff6a">&lt;</span>, and <span class="ff6a">==</span> to compar<span class="_ _1"></span>e </span></div><div class="t m0 x19 h3c y821 ff6a fsa fc2 sc0 ls0 ws0">DateTime<span class="ff61"> objects.</span></div><div class="t m0 x7 h3c y1478 ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">W<span class="_ _1"></span>e can use fairly flexible language when crea<span class="_ _1"></span>ting a <span class="ff6a">DateTime</span>, </span></div><div class="t m0 x19 h12 y1479 ff61 fsa fc2 sc0 ls0 ws0">such as “25 december next year” for the case where the current </div><div class="t m0 x19 h12 y147a ff61 fsa fc2 sc0 ls0 ws0">date is between Christmas and New Y<span class="_ _2"></span>ear<span class="_ _2"></span>.</div><div class="t m0 x7 h3c y147b ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff61">The <span class="ff6a">diff()</span> method returns a <span class="ff6a">DateInterval</span>.</span></div><div class="t m0 x7 h3c y147c ff66 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff6a">TheDateInterval<span class="ff61"> object has a number of public pr<span class="_ _1"></span>operties that </span></span></div><div class="t m0 x19 h12 y147d ff61 fsa fc2 sc0 ls0 ws0">can be accessed to measure years<span class="_ _1"></span>, months, and in this c<span class="_ _1"></span>ase days.</div><div class="t m0 x3 h19 y147e ff67 fsd fc2 sc0 ls0 ws0">PHP SPL Data Structures</div><div class="t m0 x3 h12 y147f ff61 fsa fc2 sc0 ls0 ws0">The standard PHP libr<span class="_ _1"></span>ary (SPL) is a colle<span class="_ _0"></span>ction of int<span class="_ _1"></span>erfaces and classes that are meant </div><div class="t m0 x3 h12 y1480 ff61 fsa fc2 sc0 ls0 ws0">to solve common problems<span class="_ _1"></span>. It includes several classes tha<span class="_ _1"></span>t help you work with standard </div><div class="t m0 x3 h12 y1481 ff61 fsa fc2 sc0 ls0 ws0">data structures<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y1482 ff61 fse fc2 sc0 ls0 ws0">Interfaces Rela<span class="_ _1"></span>ted to Data S<span class="_ _1"></span>tructures</div><div class="t m0 x3 h12 y10ee ff61 fsa fc2 sc0 ls0 ws0">Before we look at the SPL data structur<span class="_ _1"></span>e classes, it is worth looking at some of the </div><div class="t m0 x3 h12 y1483 ff61 fsa fc2 sc0 ls0 ws0">interfaces that they implement<span class="_ _1"></span>. This makes it considerably easier to r<span class="_ _1"></span>emember what </div><div class="t m0 x3 h12 y10ef ff61 fsa fc2 sc0 ls0 ws0">functions the classes hav<span class="_ _1"></span>e.</div><div class="t m0 x3 h1c ye94 ff67 fse fc2 sc0 ls0 ws0">Iterator</div><div class="t m0 x3 h3c y91f ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">Iterator</span> interface extends the <span class="ff6a">Traversable</span> interface.</div><div class="t m0 x1a h3c y920 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">Iterator</span> interface</div><div class="t m0 x3f h15 y1484 ff61 fsb fc4 sc0 ls0 ws0">11</div><div class="t m0 x32 h12 y1485 ff61 fsa fc2 sc0 ls0 ws0"> defines five methods that ar<span class="_ _1"></span>e used to move through the </div><div class="t m0 x3 h12 y1486 ff61 fsa fc2 sc0 ls0 ws0">collection.</div><div class="t m0 x3 h20 y1487 ff65 fs6 fc2 sc0 ls0 ws0">Method<span class="_ _5d"> </span>Purpose</div><div class="t m0 x3 h3c y1488 ff6a fsa fc2 sc0 ls0 ws0">current<span class="_ _c6"> </span><span class="ff61">Returns the current elemen<span class="_ _1"></span>t</span></div><div class="t m0 x3 h3c y1489 ff6a fsa fc2 sc0 ls0 ws0">key<span class="_ _c7"> </span><span class="ff61">Returns the key of the current elemen<span class="_ _1"></span>t</span></div><div class="t m0 x3 h3c y148a ff6a fsa fc2 sc0 ls0 ws0">next<span class="_ _24"> </span><span class="ff61">Moves forward to next element</span></div><div class="t m0 x3 h3c y148b ff6a fsa fc2 sc0 ls0 ws0">rewind<span class="_ _94"> </span><span class="ff61">Rewinds the iterator to the first element</span></div><div class="t m0 x3 h3c y148c ff6a fsa fc2 sc0 ls0 ws0">valid<span class="_ _68"> </span><span class="ff61">Checks if current position is valid</span></div><div class="t m0 x3 h16 y148d ff6b fsc fc2 sc0 ls1a wsf6">11</div><div class="t m0 x35 h43 y148e ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.iterator.php</div><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:164.087000px;bottom:237.289000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.iterator.php"><div class="d m1" style="border-style:none;position:absolute;left:62.372200px;bottom:71.518100px;width:186.999800px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd5" class="pf w2 h4" data-page-no="d5"><div class="pc pcd5 w2 h4"><img class="bi x8 y6f4 w1b h91" alt="" src="bgd5.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">19<span class="_ _0"></span>6</div><div class="t m0 x8 h1c y654 ff67 fse fc2 sc0 ls0 ws0">T<span class="_ _11"></span>raversable</div><div class="t m0 x8 h12 y655 ff61 fsa fc2 sc0 ls0 ws0">A class that implemen<span class="_ _1"></span>ts the traversa<span class="_ _1"></span>ble interface</div><div class="t m0 x62 h15 y1293 ff61 fsb fc4 sc0 ls0 ws0">12</div><div class="t m0 x91 h3c y655 ff61 fsa fc2 sc0 ls0 ws0"> can be looped over using <span class="ff6a">foreach()</span>.</div><div class="t m0 x3 h12 y656 ff61 fsa fc2 sc0 ls0 ws0">This interface cannot be implemented b<span class="_ _1"></span>y itself, it can only be implemented by </div><div class="t m0 x8 h12 y657 ff61 fsa fc2 sc0 ls0 ws0">implementing an interface tha<span class="_ _1"></span>t tells the class how to iterate o<span class="_ _1"></span>ver the collection.</div><div class="t m0 x3 h12 yed2 ff61 fsa fc2 sc0 ls0 ws0">In practical terms<span class="_ _1"></span>, this means that to implement the tr<span class="_ _1"></span>aversable in<span class="_ _1"></span>terface, you must </div><div class="t m0 x8 h3c y658 ff61 fsa fc2 sc0 ls0 ws0">implement either the <span class="ff6a">Iterator</span> or <span class="ff6a">IteratorAggregate</span> interface.</div><div class="t m0 x8 h1c y148f ff67 fse fc2 sc0 ls0 ws0">ArrayAccess</div><div class="t m0 x8 h12 y1490 ff61 fsa fc2 sc0 ls0 ws0">This interface pro<span class="_ _1"></span>vides the ability to access objects as arrays<span class="_ _1"></span>. T<span class="_ _2"></span>o do s<span class="_ _0"></span>o<span class="_ _1"></span>, you need to </div><div class="t m0 x8 h12 y1491 ff61 fsa fc2 sc0 ls0 ws0">implement four methods:</div><div class="t m0 x8 h20 y1492 ff65 fs6 fc2 sc0 ls0 ws0">Method<span class="_ _1f"> </span>Purpose</div><div class="t m0 x8 h3c y1493 ff6a fsa fc2 sc0 ls0 ws0">offsetExists<span class="_ _c8"> </span><span class="ff61">Whether an offset exists</span></div><div class="t m0 x8 h3c y1494 ff6a fsa fc2 sc0 ls0 ws0">offsetGet<span class="_ _c9"> </span><span class="ff61">Offset to retrieve</span></div><div class="t m0 x8 h3c y1495 ff6a fsa fc2 sc0 ls0 ws0">offsetSet<span class="_ _c9"> </span><span class="ff61">Assign a value to the specified offset</span></div><div class="t m0 x8 h3c y1496 ff6a fsa fc2 sc0 ls0 ws0">offsetUnset<span class="_ _19"> </span><span class="ff61">Unset an offset</span></div><div class="t m0 x3 h12 y1497 ff61 fsa fc2 sc0 ls0 ws0">If your class implements this in<span class="_ _1"></span>terface, then you will be able to use array syntax when </div><div class="t m0 x8 h12 y1498 ff61 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>encing an object instantiated from it.</div><div class="t m0 x8 h1c y1499 ff67 fse fc2 sc0 ls0 ws0">Countable</div><div class="t m0 x8 h3c y149a ff61 fsa fc2 sc0 ls0 ws0">If your class implements the <span class="ff6a">Countable</span> in<span class="_ _1"></span>terface, you will be able to use the <span class="ff6a">count()</span> </div><div class="t m0 x8 h12 y149b ff61 fsa fc2 sc0 ls0 ws0">function to find how many elements it h<span class="_ _1"></span>as.</div><div class="t m0 x3 h3c y149c ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">Countable</span> interface has an abstr<span class="_ _1"></span>act method called <span class="ff6a">count</span>. This method will be </div><div class="t m0 x8 h3c y149d ff61 fsa fc2 sc0 ls0 ws0">called when you call the PHP function <span class="ff6a">count()</span> on an object instantia<span class="_ _1"></span>ted from a class that </div><div class="t m0 x8 h12 y149e ff61 fsa fc2 sc0 ls0 ws0">implements the interface.</div><div class="t m0 x8 h3c y149f ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y14a0 ff6a fsa fc2 sc0 ls0 ws0">class BadCount implements Countable</div><div class="t m0 x8 h3c y14a1 ff6a fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y14a2 ff6a fsa fc2 sc0 ls0 ws0">  public function count()</div><div class="t m0 x8 h3c y14a3 ff6a fsa fc2 sc0 ls0 ws0">  {</div><div class="t m0 x8 h3c y14a4 ff6a fsa fc2 sc0 ls0 ws0">    return 42;</div><div class="t m0 x8 h3c y14a5 ff6a fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x8 h3c y14a6 ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y14a7 ff6a fsa fc2 sc0 ls0 ws0">$a = new BadCount;</div><div class="t m0 x8 h3c y14a8 ff6a fsa fc2 sc0 ls0 ws0">echo count($a);  // 42</div><div class="t m0 x8 h16 y14a9 ff6b fsc fc2 sc0 ls0 ws0">12</div><div class="t m0 x3c h43 y14aa ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.traversable.php</div><a class="l" href="#pfd5" data-dest-detail='[213,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:224.908000px;bottom:567.865000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.traversable.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:71.648100px;width:199.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd6" class="pf w2 h4" data-page-no="d6"><div class="pc pcd6 w2 h4"><img class="bi x3 y5ad w5 h92" alt="" src="bgd6.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">197</div><div class="t m0 x1a h3c y2a8 ff61 fsa fc2 sc0 ls0 ws0">In the trivial example, the <span class="ff6a">count()</span> method in this class alw<span class="_ _1"></span>ays returns the num<span class="_ _1"></span>ber </div><div class="t m0 x3 h3c y2a9 ff6a fsa fc2 sc0 ls0 ws0">42<span class="ff61">. In a more com<span class="_ _1"></span>plicated example, we could implement logic her<span class="_ _1"></span>e that defines how yo<span class="_ _1"></span>u </span></div><div class="t m0 x3 h12 y2aa ff61 fsa fc2 sc0 ls0 ws0">want to ret<span class="_ _1"></span>urn the count of your object.</div><div class="t m0 x3 h26 yb2b ff61 fse fc2 sc0 ls0 ws0">Lists</div><div class="t m0 x3 h12 yb2c ff61 fsa fc2 sc0 ls0 ws0">A <span class="ff6e ls11 wse8">list</span> is an order<span class="_ _1"></span>ed collection of elements. The same value ma<span class="_ _1"></span>y appear more than once </div><div class="t m0 x3 h12 y14ab ff61 fsa fc2 sc0 ls0 ws0">in a list. A doubly linked list is list wher<span class="_ _1"></span>e each element contains a link to the previo<span class="_ _1"></span>us and </div><div class="t m0 x3 h12 y14ac ff61 fsa fc2 sc0 ls0 ws0">next element in the chain.</div><div class="t m0 x1a h3c y14ad ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplDoublyLinkedList</span></div><div class="t m0 x92 h15 y14ae ff61 fsb fc4 sc0 ls0 ws0">13</div><div class="t m0 x49 h3c y127c ff61 fsa fc2 sc0 ls0 ws0"> class implements the <span class="ff6a">Iterator</span>, <span class="ff6a">ArrayAccess</span>, and </div><div class="t m0 x3 h3c y127d ff6a fsa fc2 sc0 ls0 ws0">Countable<span class="ff61"> interfaces. In addition, it im<span class="_ _1"></span>plements methods that let you chan<span class="_ _1"></span>ge the iterator </span></div><div class="t m0 x3 h12 y127e ff61 fsa fc2 sc0 ls0 ws0">behavior as well as add or r<span class="_ _1"></span>emove items to the fr<span class="_ _1"></span>ont or back of the list.</div><div class="t m0 x1a h3c y127f ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplStack</span><span class="ls11 wse8"> class</span></div><div class="t m0 x93 h15 y14af ff61 fsb fc4 sc0 ls0 ws0">14</div><div class="t m0 x1f h3c y9e4 ff61 fsa fc2 sc0 ls0 ws0"> extends the <span class="ff6a">SplDoublyLinkedList</span> class. I<span class="_ _1"></span>t is essentially a </div><div class="t m0 x3 h3c y9e5 ff6a fsa fc2 sc0 ls0 ws0">SplDoublyLinkedList<span class="ff61"> where you h<span class="_ _1"></span>ave called <span class="ff6a">setIteratorMode()</span></span></div><div class="t m0 x84 h15 y559 ff61 fsb fc4 sc0 ls0 ws0">15</div><div class="t m0 x94 h12 y55a ff61 fsa fc2 sc0 ls0 ws0"> and set the list to </div><div class="t m0 x3 h3c y55b ff61 fsa fc2 sc0 ls0 ws0">iterate using <span class="ff6a">IT_MODE_LIFO</span> and to beh<span class="_ _1"></span>ave in mode <span class="ff6a">IT_MODE_KEEP</span>. This tells the iter<span class="_ _1"></span>ator </div><div class="t m0 x3 h12 y55c ff61 fsa fc2 sc0 ls0 ws0">to tra<span class="_ _1"></span>verse the list like a stack (last in, first out) and to tra<span class="_ _1"></span>verse the elements instead of </div><div class="t m0 x3 h12 y55d ff61 fsa fc2 sc0 ls0 ws0">deleting them.</div><div class="t m0 x1a h3c y55e ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplQueue</span><span class="ls11 wse8"> class</span></div><div class="t m0 x93 h15 y14b0 ff61 fsb fc4 sc0 ls0 ws0">16</div><div class="t m0 x1f h3c yef2 ff61 fsa fc2 sc0 ls0 ws0"> also extends the <span class="ff6a">SplDoublyLinkedList</span> class. I<span class="_ _1"></span>t implements </div><div class="t m0 x3 h3c yef3 ff61 fsa fc2 sc0 ls0 ws0">the methods <span class="ff6a">enqueue</span> and <span class="ff6a">dequeue</span>, which will add an element to the end of the queue or </div><div class="t m0 x3 h12 yef4 ff61 fsa fc2 sc0 ls0 ws0">remo<span class="_ _1"></span>ve the one at the front of the queue<span class="_ _1"></span>, respectively.</div><div class="t m0 x23 h10 y14b1 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Caution<span class="ff68"> <span class="_ _2c"> </span> Both the <span class="ff6a fsa">SplStack</span> and <span class="ff6a fsa">SplQueue</span> classes inherit from the </span></span></span></div><div class="t m0 x3 h10 y14b2 ff6a fsa fc2 sc0 ls0 ws0">SplDoublyLinkedList<span class="ff68 fs6"> class and so you can mistakenly call the wrong methods on them.</span></div><div class="t m0 x1a h12 y14b3 ff61 fsa fc2 sc0 ls0 ws0">Here<span class="_ _1"></span>’<span class="_ _2"></span>s an example of using a stack that shows some of the methods that y<span class="_ _1"></span>ou can use. </div><div class="t m0 x3 h12 y14b4 ff61 fsa fc2 sc0 ls0 ws0">This table shows the values con<span class="_ _1"></span>tained in the stack.</div><div class="t m0 x3 h20 y14b5 ff65 fs6 fc2 sc0 ls0 ws0">Code<span class="_ _ca"> </span>Stack Contains</div><div class="t m0 x3 h3c y14b6 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y14b7 ff6a fsa fc2 sc0 ls0 ws0">$stack = new SplStack();<span class="_ _cb"> </span>Null</div><div class="t m0 x3 h3c y14b8 ff6a fsa fc2 sc0 ls0 ws0">$stack-&gt;push(5);<span class="_ _38"> </span>5</div><div class="t m0 x3 h3c y14b9 ff6a fsa fc2 sc0 ls0 ws0">// this uses array syntax to add a new element</div><div class="t m0 x3 h3c y14ba ff6a fsa fc2 sc0 ls0 ws0">$stack[] = 4;<span class="_ _cc"> </span>5, 4</div><div class="t m0 x3 h3c y14bb ff6a fsa fc2 sc0 ls0 ws0">// now we push another number to the end of </div><div class="t m0 x3 h3c y14bc ff6a fsa fc2 sc0 ls0 ws0">queue</div><div class="t m0 x3 h3c y14bd ff6a fsa fc2 sc0 ls0 ws0">$stack-&gt;push(3);<span class="_ _38"> </span>5, 4, 3</div><div class="t m0 x3 h16 y14be ff6b fsc fc2 sc0 ls0 ws0">13</div><div class="t m0 x35 h43 y14bf ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.spldoublylinkedlist.php</div><div class="t m0 x3 h16 y14c0 ff6b fsc fc2 sc0 ls0 ws0">14</div><div class="t m0 x35 h43 y14c1 ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.splstack.php</div><div class="t m0 x3 h16 y14c2 ff6b fsc fc2 sc0 ls0 ws0">15</div><div class="t m0 x35 h43 y14c3 ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/spldoublylinkedlist.setiteratormode.php</div><div class="t m0 x3 h16 y14c4 ff6b fsc fc2 sc0 ls0 ws0">16</div><div class="t m0 x35 h43 y14c5 ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.splqueue.php</div><div class="t m0 x36 h12 y14c6 ff61 fsa fc2 sc0 ls0 ws0">(<span class="ff6e">continued</span>)</div><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",57,113,null]'><div class="d m1" style="border-style:none;position:absolute;left:177.822000px;bottom:483.145000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",57,103,null]'><div class="d m1" style="border-style:none;position:absolute;left:148.644000px;bottom:450.145000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",57,93,null]'><div class="d m1" style="border-style:none;position:absolute;left:307.889000px;bottom:439.145000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",57,83,null]'><div class="d m1" style="border-style:none;position:absolute;left:148.644000px;bottom:395.145000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.spldoublylinkedlist.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:100.648000px;width:233.750500px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.splstack.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:90.648100px;width:187.000500px;height:11.168900px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/spldoublylinkedlist.setiteratormode.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:80.648100px;width:276.250500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.splqueue.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:70.648100px;width:187.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd7" class="pf w2 h4" data-page-no="d7"><div class="pc pcd7 w2 h4"><img class="bi x8 y551 w3 h93" alt="" src="bgd7.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">19<span class="_ _0"></span>8</div><div class="t m0 x8 h20 yc67 ff65 fs6 fc2 sc0 ls0 ws0">Code<span class="_ _ca"> </span>Stack Contains</div><div class="t m0 x8 h3c y141f ff6a fsa fc2 sc0 ls0 ws0">// this inserts the number 100 into position 1</div><div class="t m0 x8 h3c y1420 ff6a fsa fc2 sc0 ls0 ws0">// elements below it are shuffled down</div><div class="t m0 x8 h3c y1421 ff6a fsa fc2 sc0 ls0 ws0">$stack-&gt;add(1, 100);<span class="_ _cd"> </span>5, 100, 4, 3</div><div class="t m0 x8 h3c y1422 ff6a fsa fc2 sc0 ls0 ws0">// this returns the last value in the queue</div><div class="t m0 x8 h3c y1423 ff6a fsa fc2 sc0 ls0 ws0">echo &quot;Pop: &quot; . $stack-&gt;pop() . PHP_EOL;<span class="_ _3c"> </span>0, 100, 4</div><div class="t m0 x8 h3c y1424 ff6a fsa fc2 sc0 ls0 ws0">foreach ($stack as $key =&gt; $value) {</div><div class="t m0 x8 h3c y1425 ff6a fsa fc2 sc0 ls0 ws0">echo &quot;$key =&gt; $value&quot; . PHP_EOL;</div><div class="t m0 x8 h3c y14c7 ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h12 y14c8 ff61 fsa fc2 sc0 ls0 ws0">The output of this code is as follows:</div><div class="t m0 x8 h3c y14c9 ff6a fsa fc2 sc0 ls0 ws0">Pop: 3</div><div class="t m0 x8 h3c y14ca ff6a fsa fc2 sc0 ls0 ws0">2 =&gt; 4</div><div class="t m0 x8 h3c y14cb ff6a fsa fc2 sc0 ls0 ws0">1 =&gt; 100</div><div class="t m0 x8 h3c y14cc ff6a fsa fc2 sc0 ls0 ws0">0 =&gt; 5</div><div class="t m0 x1e h10 y14cd ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68"> <span class="_ _2c"> </span> <span class="_ _1"></span>The keys are contained in the stack in descending order (2,1,0).</span></span></span></div><div class="t m0 x8 h26 y14ce ff61 fse fc2 sc0 ls4e ws12a">Hea<span class="_ _0"></span>ps</div><div class="t m0 x8 h12 y14cf ff61 fsa fc2 sc0 ls0 ws0">Heaps ar<span class="_ _1"></span>e tree-like structures wher<span class="_ _1"></span>e parent nodes can h<span class="_ _1"></span>ave zer<span class="_ _1"></span>o, one<span class="_ _1"></span>, or more child </div><div class="t m0 x8 h12 y14d0 ff61 fsa fc2 sc0 ls0 ws0">nodes. He<span class="_ _1"></span>aps define a comparison rule that allows you to determine whether one node </div><div class="t m0 x8 h12 y14d1 ff61 fsa fc2 sc0 ls0 ws0">is greater or less th<span class="_ _1"></span>an another node. In a heap<span class="_ _1"></span>, a par<span class="_ _1"></span>ent node will always be equal to or </div><div class="t m0 x8 h12 y14d2 ff61 fsa fc2 sc0 ls0 ws0">greater th<span class="_ _1"></span>an its children. The comparison function is used to determine whether a node </div><div class="t m0 x8 h12 y14d3 ff61 fsa fc2 sc0 ls0 ws0">is greater th<span class="_ _1"></span>an or less than another<span class="_ _2"></span>.</div><div class="t m0 x1e h10 y14d4 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68 wsf"> <span class="_ _2a"> </span> The <span class="_ _0"></span></span><span class="ff6a fsa">SplHeap</span><span class="ff68"> c<span class="_ _1"></span>lass is an abstract class.<span class="_ _1"></span> <span class="_ _1"></span>When you use it,<span class="_ _1"></span> you need to implement </span></span></span></div><div class="t m0 x8 h10 y14d5 ff68 fs6 fc2 sc0 ls0 ws0">the <span class="ff6a fsa">compare</span> function.</div><div class="t m0 x3 h3c y14d6 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplHeap</span> class implements the <span class="ff6a">Iterator</span></div><div class="t m0 x95 h15 y14d7 ff61 fsb fc4 sc0 ls0 ws0">17</div><div class="t m0 x25 h12 y14d6 ff61 fsa fc2 sc0 ls0 ws0"> interface, which means tha<span class="_ _1"></span>t you can </div><div class="t m0 x8 h3c y14d8 ff61 fsa fc2 sc0 ls0 ws0">use <span class="ff6a">foreach()</span> to move thr<span class="_ _1"></span>ough it.</div><div class="t m0 x3 h3c y14d9 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplMaxHeap</span> class extends fr<span class="_ _1"></span>om <span class="ff6a">SplHeap</span> and keeps the maximum value at </div><div class="t m0 x8 h3c y14da ff61 fsa fc2 sc0 ls0 ws0">the top<span class="_ _1"></span>. It does this by implemen<span class="_ _1"></span>ting the <span class="ff6a">compare()</span> function for you. Similarly, the </div><div class="t m0 x8 h3c y14db ff6a fsa fc2 sc0 ls0 ws0">SplMinHeap<span class="ff61"> class keeps the minimum value at the top<span class="_ _1"></span>.</span></div><div class="t m0 x8 h16 y14dc ff6b fsc fc2 sc0 ls0 ws0">17</div><div class="t m0 x3c h43 y14dd ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.iterator.php</div><a class="l" href="#pfd7" data-dest-detail='[215,"XYZ",39,88,null]'><div class="d m1" style="border-style:none;position:absolute;left:226.385000px;bottom:165.241000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.iterator.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:75.789800px;width:187.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd8" class="pf w2 h4" data-page-no="d8"><div class="pc pcd8 w2 h4"><img class="bi x3 y14de w5 h91" alt="" src="bgd8.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls1b wsf7">19<span class="_ _0"></span>9</div><div class="t m0 x23 h10 y14df ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68 ws127">  <span class="_ _b5"></span><span class="ff6a fsa ws0">SplMinHeap<span class="ff68 fs6"> and </span>SplMaxHeap<span class="ff68 fs6"> are just classes that extend </span>SplHeap<span class="ff68 fs6"> and </span></span></span></span></span></div><div class="t m0 x3 h10 y14e0 ff68 fs6 fc2 sc0 ls0 ws0">implement the <span class="ff6a fsa">compare()</span> to provide directional sorting.</div><div class="t m0 x1a h12 y14e1 ff61 fsa fc2 sc0 ls0 ws0">Let&apos;s look at an example of a straight<span class="_ _1"></span>-forward heap:</div><div class="t m0 x3 h3c y14e2 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y14e3 ff6a fsa fc2 sc0 ls0 ws0">class MyHeap extends SplHeap</div><div class="t m0 x3 h3c y14e4 ff6a fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c y14e5 ff6a fsa fc2 sc0 ls0 ws0">  function compare($a, $b)</div><div class="t m0 x3 h3c y14e6 ff6a fsa fc2 sc0 ls0 ws0">  {</div><div class="t m0 x3 h3c y14e7 ff6a fsa fc2 sc0 ls0 ws0">    return $a &lt;=&gt; $b;</div><div class="t m0 x3 h3c y14e8 ff6a fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x3 h3c y14e9 ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y14ea ff6a fsa fc2 sc0 ls0 ws0">$heapExample = new MyHeap;</div><div class="t m0 x3 h3c y14eb ff6a fsa fc2 sc0 ls0 ws0">$heapExample-&gt;insert(10);</div><div class="t m0 x3 h3c y14ec ff6a fsa fc2 sc0 ls0 ws0">$heapExample-&gt;insert(5);</div><div class="t m0 x3 h3c y14ed ff6a fsa fc2 sc0 ls0 ws0">$heapExample-&gt;insert(15);</div><div class="t m0 x3 h3c y14ee ff6a fsa fc2 sc0 ls0 ws0">while ($heapExample-&gt;valid()) {</div><div class="t m0 x3 h3c y14ef ff6a fsa fc2 sc0 ls0 ws0">  echo $heapExample-&gt;current() . PHP_EOL;</div><div class="t m0 x3 h3c y14f0 ff6a fsa fc2 sc0 ls0 ws0">  $heapExample-&gt;next();</div><div class="t m0 x3 h3c y14f1 ff6a fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 y14f2 ff61 fsa fc2 sc0 ls0 ws0">This code outputs the numbers in sorted descending order<span class="_ _11"></span>, because when we inser<span class="_ _0"></span>t </div><div class="t m0 x3 h3c y14f3 ff61 fsa fc2 sc0 ls0 ws0">them, it applies the <span class="ff6a">compare()</span> function to determine where to place them<span class="_ _1"></span>.</div><div class="t m0 x23 h10 y14f4 ff68 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff69">■<span class="_ _c"> </span><span class="ff6c fc2">Note<span class="ff68"> <span class="_ _2c"> </span> If we were to amend the code and extend <span class="ff6a fsa">SplMinHeap</span> or <span class="ff6a fsa">SplMaxHeap</span> instead of </span></span></span></div><div class="t m0 x3 h10 y14f5 ff6a fsa fc2 sc0 ls0 ws0">SplHeap<span class="ff68 fs6">,<span class="_ _1"></span> the output is the same as the previous code!</span></div><div class="t m0 x1a h3c y14f6 ff61 fsa fc2 sc0 ls0 ws0">I can hear you sayin<span class="_ _1"></span>g with annoyance that <span class="ff6a">SplMinHeap</span> is supposed to keep the </div><div class="t m0 x3 h12 y14f7 ff61 fsa fc2 sc0 ls0 ws0">lowest value on top<span class="_ _1"></span>, so why is the output showing th<span class="_ _1"></span>at 15 is still on top? The answer </div><div class="t m0 x3 h3c y14f8 ff61 fsa fc2 sc0 ls0 ws0">is because all that the <span class="ff6a">SplMinHeap</span> and <span class="ff6a">SplMaxHeap</span> classes pr<span class="_ _1"></span>ovide is a default </div><div class="t m0 x3 h3c y14f9 ff61 fsa fc2 sc0 ls0 ws0">implementation of the <span class="ff6a">compare()</span> function, which we ar<span class="_ _1"></span>e overriding in the class </div><div class="t m0 x3 h12 y14fa ff61 fsa fc2 sc0 ls0 ws0">definition.</div><div class="t m0 x1a h3c y14fb ff61 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can extend <span class="ff6a">SplMinHeap</span> but as long as your <span class="ff6a">compare()</span> function rem<span class="_ _1"></span>ains the </div><div class="t m0 x3 h12 y14fc ff61 fsa fc2 sc0 ls0 ws0">same, as in the pr<span class="_ _1"></span>evious example, you will alwa<span class="_ _1"></span>ys have a max hea<span class="_ _1"></span>p. T<span class="_ _11"></span>o g<span class="_ _0"></span>et a workin<span class="_ _1"></span>g </div><div class="t m0 x3 h12 y14fd ff61 fsa fc2 sc0 ls0 ws0">implementation of a min heap (in our exam<span class="_ _1"></span>ple), you need to either swap the operands for </div><div class="t m0 x3 h3c y14fe ff61 fsa fc2 sc0 ls0 ws0">the spaceship operator or a<span class="_ _1"></span>void implementing the <span class="ff6a">compare()</span> function entir<span class="_ _1"></span>ely and use </div><div class="t m0 x3 h3c y14ff ff61 fsa fc2 sc0 ls0 ws0">the one declared in <span class="ff6a">SplMinHeap</span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd9" class="pf w2 h4" data-page-no="d9"><div class="pc pcd9 w2 h4"><img class="bi x8 y1500 w3 h94" alt="" src="bgd9.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 lsa ws58">200</div><div class="t m0 x8 h26 y3bf ff61 fse fc2 sc0 ls4f ws12b">Ar<span class="_ _0"></span>rays</div><div class="t m0 x8 h3c y3c0 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplFixedArray</span></div><div class="t m0 x6c h15 y1501 ff61 fsb fc4 sc0 ls0 ws0">18</div><div class="t m0 x58 h12 y3c0 ff61 fsa fc2 sc0 ls0 ws0"> structure stor<span class="_ _1"></span>es data in a continuous manner<span class="_ _11"></span>, accessible by indexes. </div><div class="t m0 x8 h12 y3c1 ff61 fsa fc2 sc0 ls0 ws0">It is faster th<span class="_ _1"></span>an normal PHP arrays, but is also less flexible because it is of fixed length and </div><div class="t m0 x8 h12 y531 ff61 fsa fc2 sc0 ls0 ws0">can only use integers as indexes<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y450 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplFixedArray</span> class implements the <span class="ff6a">Iterator</span> interface and the <span class="ff6a">ArrayAccess</span> </div><div class="t m0 x8 h12 y451 ff61 fsa fc2 sc0 ls0 ws0">interface.</div><div class="t m0 x8 h26 y1502 ff61 fse fc2 sc0 ls50 ws12c">Map<span class="_ _0"></span>s</div><div class="t m0 x8 h12 y10fe ff61 fsa fc2 sc0 ls0 ws0">A map is a structure th<span class="_ _1"></span>at holds key-<span class="_ _1"></span>value pairs. A PHP arra<span class="_ _1"></span>y is a sort of map because it </div><div class="t m0 x8 h12 y1503 ff61 fsa fc2 sc0 ls0 ws0">stores values ag<span class="_ _1"></span>ainst integer (or string) k<span class="_ _1"></span>eys.</div><div class="t m0 x3 h3c y1504 ff61 fsa fc2 sc0 ls0 ws0">The <span class="ff6a">SplObjectStorage</span> pro<span class="_ _1"></span>vides a map from objects to data<span class="_ _1"></span>, or if you ignore data<span class="_ _1"></span>, it </div><div class="t m0 x8 h12 y1505 ff61 fsa fc2 sc0 ls0 ws0">can function as an object set.</div><div class="t m0 x3 h3c y1506 ff6a fsa fc2 sc0 ls0 ws0">SplObjectStorage<span class="ff61"> is not an abstract class and can be instan<span class="_ _1"></span>tiated directly. I<span class="_ _1"></span>t </span></div><div class="t m0 x8 h3c y1507 ff61 fsa fc2 sc0 ls0 ws0">implements the <span class="ff6a">Countable</span>, <span class="ff6a">Iterator</span>, <span class="ff6a">Serializable</span>, and <span class="ff6a">ArrayAccess</span> interfaces<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y1508 ff61 fsa fc2 sc0 ls0 ws0">Because it implements the <span class="ff6a">ArrayAccess</span> interface<span class="_ _1"></span>, you can use array syntax to </div><div class="t m0 x8 h12 y1509 ff61 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence the data of objects inside the structure, like this:</div><div class="t m0 x8 h3c y150a ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y150b ff6a fsa fc2 sc0 ls0 ws0">$bucket = new SplObjectStorage();</div><div class="t m0 x8 h3c y150c ff6a fsa fc2 sc0 ls0 ws0">$file = new StdClass;</div><div class="t m0 x8 h3c y150d ff6a fsa fc2 sc0 ls0 ws0">$metaData = [&apos;name&apos; =&gt; &apos;passwords.xslx&apos;, &apos;size&apos; =&gt; &apos;102400&apos;];</div><div class="t m0 x8 h3c y150e ff6a fsa fc2 sc0 ls0 ws0">$bucket[$file] = $metaData;</div><div class="t m0 x3 h12 y150f ff61 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, we are mapping data (the metada<span class="_ _1"></span>ta) against a specific instance of an </div><div class="t m0 x8 h12 y1510 ff61 fsa fc2 sc0 ls0 ws0">object (the file).</div><div class="t m0 x8 h26 y1511 ff61 fse fc2 sc0 ls0 ws0">Summary of SPL Data Structur<span class="_ _1"></span>es</div><div class="t m0 x8 h3c y1512 ff6a fsa fc4 sc0 ls0 ws0">SplHeap<span class="_ _29"> </span><span class="ff61 fc2">A heap is a tree collection wher<span class="_ _1"></span>e the children of a paren<span class="_ _1"></span>t must </span></div><div class="t m0 x3b h12 y1513 ff61 fsa fc2 sc0 ls0 ws0">always ha<span class="_ _1"></span>ve a value lower than their par<span class="_ _1"></span>ent. There ar<span class="_ _1"></span>e different </div><div class="t m0 x3b h12 y1514 ff61 fsa fc2 sc0 ls0 ws0">types of heap<span class="_ _1"></span>.</div><div class="t m0 x8 h3c y1515 ff6a fsa fc4 sc0 ls0 ws0">SplMaxHeap<span class="_ _80"> </span><span class="ff61 fc2">This is a type of heap where the m<span class="_ _1"></span>aximum is kept at the top of the </span></div><div class="t m0 x3b h12 y1516 ff61 fsa fc2 sc0 ls51 ws12d">h<span class="_ _0"></span>ea<span class="_ _0"></span>p.</div><div class="t m0 x8 h3c y1517 ff6a fsa fc2 sc0 ls0 ws0">SplMinHeap<span class="_ _80"> </span><span class="ff61">In this type of heap<span class="_ _1"></span>, the minimum is kept at the top<span class="_ _1"></span>.</span></div><div class="t m0 x8 h3c y1518 ff6a fsa fc2 sc0 ls0 ws0">SplPriorityQueue<span class="_ _ce"> </span><span class="ff61">This is a queue where each elemen<span class="_ _1"></span>t also has a &quot;priority&quot; </span></div><div class="t m0 x3b h12 y1519 ff61 fsa fc2 sc0 ls0 ws0">associated with it. An example of a use-case is bandwidth </div><div class="t m0 x3b h12 y151a ff61 fsa fc2 sc0 ls0 ws0">management wher<span class="_ _1"></span>ein traffic of a certain type has a higher </div><div class="t m0 x3b h12 y151b ff61 fsa fc2 sc0 ls0 ws0">precedence over other tr<span class="_ _1"></span>affic.</div><div class="t m0 x8 h3c y151c ff6a fsa fc2 sc0 ls0 ws0">SplFixedArray<span class="_ _96"> </span><span class="ff61">This is a faster implementa<span class="_ _1"></span>tion of an array, but it limits you to </span></div><div class="t m0 x3b h12 y151d ff61 fsa fc2 sc0 ls0 ws0">using an array of fixed length th<span class="_ _1"></span>at only contains integers.</div><div class="t m0 x8 h3c y151e ff6a fsa fc2 sc0 ls0 ws0">SplObjectStorage<span class="_ _ce"> </span><span class="ff61 ls29">This class pro<span class="_ _1"></span>vides a convenient wa<span class="_ _1"></span>y to map objects and their data.</span></div><div class="t m0 x8 h16 y151f ff6b fsc fc2 sc0 ls0 ws0">18</div><div class="t m0 x3c h43 y1520 ff6a fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.splfixedarray.php</div><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",39,77,null]'><div class="d m1" style="border-style:none;position:absolute;left:115.002000px;bottom:568.649000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://php.net/manual/en/class.splheap.php"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:248.749000px;width:31.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://php.net/manual/en/class.splmaxheap.php"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:211.749000px;width:45.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.splfixedarray.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:64.931500px;width:208.250500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfda" class="pf w2 h4" data-page-no="da"><div class="pc pcda w2 h4"><img class="bi x3 y26f w5 h95" alt="" src="bgda.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x21 hd y55 ff61 fs6 fc2 sc0 ls15 wsf1">2<span class="_ _0"></span>01</div><div class="t m0 x1a h3c y2a8 ff61 fsa fc2 sc0 ls0 ws0">There is also an extension called <span class="ff6a">DS</span> th<span class="_ _1"></span>at provides altern<span class="_ _1"></span>ative data structures<span class="_ _1"></span>. Y<span class="_ _2"></span>ou can </div><div class="t m0 x3 h12 y2a9 ff61 fsa fc2 sc0 ls0 ws0">find its documentation on the PHP web site</div><div class="t m0 x96 h15 ye20 ff61 fsb fc4 sc0 ls0 ws0">19</div><div class="t m0 x24 h12 y1521 ff61 fsa fc2 sc0 ls0 ws0"> and its source code on GitH<span class="_ _1"></span>ub<span class="_ _1"></span>. Y<span class="_ _2"></span>ou won&apos;t </div><div class="t m0 x3 h12 y1522 ff61 fsa fc2 sc0 ls0 ws0">need to know about it for your Zend exam.</div><div class="t m0 x92 hf y1523 ff64 fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">7</span> QUIZ</div><div class="t m0 x5 h10 y1524 ff68 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>T<span class="_ _2"></span>rue or false? Characters that cannot be encoded in the target XML encoding </div><div class="t m0 x5 h10 y1525 ff68 fs6 fc2 sc0 ls0 ws0">scheme generate an error<span class="_ _2"></span>.</div><div class="t m0 x5 h10 y1526 ff68 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y1527 ff68 fs6 fc2 sc0 ls0 ws0">False; they generate a warning</div><div class="t m0 x5 h10 y1528 ff68 fs6 fc2 sc0 ls0 ws0">False; they are fitted into the encoding scheme (converted to question marks)</div><div class="t m0 x5 h10 y1529 ff68 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 y152a ff68 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>T<span class="_ _2"></span>rue or false? It is not possible for a server to send a <span class="ff6a fsa">REST</span> response with HTTP </div><div class="t m0 x5 h10 y152b ff68 fs6 fc2 sc0 ls0 ws0">status code 200 if the request failed.</div><div class="t m0 x5 h10 y152c ff68 fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>rue</div><div class="t m0 x5 h10 y152d ff68 fs6 fc2 sc0 ls0 ws0">False</div><div class="t m0 x5 h10 y152e ff68 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h3c y152f ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y1530 ff6a fsa fc2 sc0 ls0 ws0">$arr = [</div><div class="t m0 x5 h3c y1531 ff6a fsa fc2 sc0 ls0 ws0">  &quot;fruits&quot; =&gt; [</div><div class="t m0 x5 h3c y1532 ff6a fsa fc2 sc0 ls0 ws0">    &quot;apple&quot; =&gt; [&quot;taste&quot; =&gt; &quot;sweet&quot;, &quot;color&quot; =&gt; &quot;yellow&quot;],</div><div class="t m0 x5 h3c y1533 ff6a fsa fc2 sc0 ls0 ws0">    &quot;banana&quot; =&gt; [&quot;taste&quot; =&gt; &quot;sour&quot;, &quot;color&quot; =&gt; &quot;green&quot;],</div><div class="t m0 x5 h3c y1534 ff6a fsa fc2 sc0 ls0 ws0">    &quot;cherry&quot; =&gt; [&quot;taste&quot; =&gt; &quot;sweet&quot;, &quot;color&quot; =&gt; &quot;red&quot;]</div><div class="t m0 x5 h3c y1535 ff6a fsa fc2 sc0 ls0 ws0">  ],</div><div class="t m0 x5 h3c y1536 ff6a fsa fc2 sc0 ls0 ws0">  &quot;vegetables&quot; =&gt; &quot;yuck&quot;</div><div class="t m0 x5 h3c y1537 ff6a fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x5 h3c y1538 ff6a fsa fc2 sc0 ls0 ws0">$str = json_encode($arr);</div><div class="t m0 x5 h3c y1539 ff6a fsa fc2 sc0 ls0 ws0">$decode = json_decode($str, true, 1);</div><div class="t m0 x5 h3c y153a ff6a fsa fc2 sc0 ls0 ws0">echo json_last_error_msg();</div><div class="t m0 x3 h16 y153b ff6b fsc fc2 sc0 ls0 ws0">19</div><div class="t m0 x35 h43 y153c ff6a fs5 fc4 sc0 ls0 ws0">https://docs.php.net/manual/en/book.ds.php</div><a class="l" href="#pfda" data-dest-detail='[218,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:223.360000px;bottom:578.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_7"><div class="d m1" style="border-style:none;position:absolute;left:240.036000px;bottom:534.759000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.php.net/manual/en/book.ds.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.518100px;width:178.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfdb" class="pf w2 h4" data-page-no="db"><div class="pc pcdb w2 h4"><img class="bi x4b y153d wa h96" alt="" src="bgdb.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 lsc ws104">202</div><div class="t m0 x4b h10 y5ec ff68 fs6 fc2 sc0 ls0 ws0">Syntax error; it will not run</div><div class="t m0 x4b h10 ycbd ff68 fs6 fc2 sc0 ls0 ws0">Nothing; there is no error msg so the<span class="ff61 fsa"> <span class="ff6a">echo</span> </span>statement outputs nothing</div><div class="t m0 x4b h10 y153e ff68 fs6 fc2 sc0 ls0 ws0">Maximum stack depth exceeded</div><div class="t m0 x4b h10 y79d ff68 fs6 fc2 sc0 ls0 ws0">Fatal error<span class="_ _2"></span>,<span class="_ _1"></span> the second parameter to<span class="ff61 fsa"> <span class="ff6a">json_decode</span> </span>cannot be<span class="ff61 fsa"> &quot;<span class="ff6a">true</span>&quot;</span></div><div class="t m0 x4b h10 y79e ff68 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou should set the default time zone for your PHP application. <span class="_ _1"></span>Which of the </div><div class="t m0 x4b h10 y79f ff68 fs6 fc2 sc0 ls0 ws0">following methods can you use to do so? Choose as many as a<span class="_ _0"></span>pply<span class="_ _2"></span>.</div><div class="t m0 x4b h10 y153f ff68 fs6 fc2 sc0 ls0 ws0">Using the function<span class="ff61 fsa"> <span class="ff6a">set_date_default_timezone()</span></span></div><div class="t m0 x4b h10 y1540 ff68 fs6 fc2 sc0 ls0 ws0">Editing<span class="ff61 fsa"> <span class="ff6a">php.ini</span></span></div><div class="t m0 x4b h10 y1541 ff68 fs6 fc2 sc0 ls0 ws0">Using the Linux<span class="ff61 fsa"> <span class="ff6a">time()</span> </span>command on PHP</div><div class="t m0 x4b h10 y1542 ff68 fs6 fc2 sc0 ls0 ws0">Using the PHP<span class="ff61 fsa"> <span class="ff6a">ini_set()</span> </span>function,<span class="_ _1"></span> like this:</div><div class="t m0 x4b h3c y1543 ff6a fsa fc2 sc0 ls0 ws0">ini_set(&apos;date.timezone&apos;, &apos;Europe/Edinburgh&apos;);</div><div class="t m0 x4b h10 y1544 ff68 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h3c y1545 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y1546 ff6a fsa fc2 sc0 ls0 ws0">$stack = new SplStack();</div><div class="t m0 x4b h3c y1547 ff6a fsa fc2 sc0 ls0 ws0">$stack-&gt;push(5);</div><div class="t m0 x4b h3c y1548 ff6a fsa fc2 sc0 ls0 ws0">$stack[1] = 4;</div><div class="t m0 x4b h3c y1549 ff6a fsa fc2 sc0 ls0 ws0">echo $stack-&gt;pop();</div><div class="t m0 x4b h3c y154a ff6a fsa fc2 sc0 ls0 ws0">4</div><div class="t m0 x4b h3c y154b ff6a fsa fc2 sc0 ls0 ws0">5</div><div class="t m0 x4b h3c y154c ff6a fsa fc2 sc0 ls0 ws0">A fatal error will occur</div><div class="t m0 x4b h10 y154d ff68 fs6 fc2 sc0 ls0 ws0">Q6:<span class="_ _1"></span> <span class="_ _1"></span>What is wrong with the following PHP code?</div><div class="t m0 x4b h3c y154e ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y154f ff6a fsa fc2 sc0 ls0 ws0">$client = new SoapClient(&quot;http://example.com/login?wsdl&quot;);</div><div class="t m0 x4b h3c y1550 ff6a fsa fc2 sc0 ls0 ws0">$params = array(&apos;username&apos;=&gt;&apos;name&apos;, &apos;password&apos;=&gt;&apos;secret&apos;);</div><div class="t m0 x4b h3c y1551 ff6a fsa fc2 sc0 ls0 ws0">// call the login method directly</div><div class="t m0 x4b h3c y1552 ff6a fsa fc2 sc0 ls0 ws0">$client-&gt;login($params);</div><div class="t m0 x4b h10 y1553 ff68 fs6 fc2 sc0 ls0 ws0">Syntax error; it won’t run at all</div><div class="t m0 x4b h10 y1554 ff68 fs6 fc2 sc0 ls0 ws0">The parameters to the login method need to be passed like this:<span class="ff61 fsa"> <span class="ff6a">$client-</span></span></div><div class="t m0 x4b h3c y1555 ff6a fsa fc2 sc0 ls0 ws0">&gt;login([$params]);</div><div class="t m0 x4b h10 y1556 ff68 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can&apos;t call a method on the <span class="ff6a fsa">SoapClient<span class="ff61"> </span></span>directly</div><div class="t m0 x4b h10 y1557 ff68 fs6 fc2 sc0 ls0 ws0">Nothing is wrong; this will work</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfdc" class="pf w2 h4" data-page-no="dc"><div class="pc pcdc w2 h4"><img class="bi x5 y1558 w1c h97" alt="" src="bgdc.png"/><div class="t m0 x87 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x15 hd y55 ff61 fs6 fc2 sc0 ls21 wsfc">203</div><div class="t m0 x5 h10 y5ae ff68 fs6 fc2 sc0 ls0 ws0">Q7:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h3c y5af ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y5b0 ff6a fsa fc2 sc0 ls0 ws0">$xmlString = &lt;&lt;&lt;XML</div><div class="t m0 x5 h3c y5b1 ff6a fsa fc2 sc0 ls0 ws0">&lt;root&gt;</div><div class="t m0 x5 h3c y5b2 ff6a fsa fc2 sc0 ls0 ws0">&lt;teams&gt;</div><div class="t m0 x5 h3c y5ce ff6a fsa fc2 sc0 ls0 ws0">&lt;team&gt;Silverbacks&lt;/team&gt;</div><div class="t m0 x5 h3c y5cf ff6a fsa fc2 sc0 ls0 ws0">&lt;team&gt;Golden Eyes&lt;/team&gt;</div><div class="t m0 x5 h3c y5d0 ff6a fsa fc2 sc0 ls0 ws0">&lt;/teams&gt;</div><div class="t m0 x5 h3c y5d1 ff6a fsa fc2 sc0 ls0 ws0">&lt;/root&gt;</div><div class="t m0 x5 h3c y5d2 ff6a fsa fc2 sc0 ls0 ws0">XML;</div><div class="t m0 x5 h3c yfcb ff6a fsa fc2 sc0 ls0 ws0">$xml = new SimpleXMLElement($xmlString);</div><div class="t m0 x5 h3c y5d3 ff6a fsa fc2 sc0 ls0 ws0">$result = $xml-&gt;xpath(&apos;teams/team[1]&apos;);</div><div class="t m0 x5 h3c y5d4 ff6a fsa fc2 sc0 ls0 ws0">echo $result[0];</div><div class="t m0 x5 h10 y60f ff68 fs6 fc2 sc0 ls0 ws0">Syntax error; it won’t run</div><div class="t m0 x5 h10 y1559 ff68 fs6 fc2 sc0 ls0 ws0">Silverbacks</div><div class="t m0 x5 h10 y155a ff68 fs6 fc2 sc0 ls0 ws0">Golden Eyes</div><div class="t m0 x5 h10 y155b ff68 fs6 fc2 sc0 ls0 ws0">It will generate a warning because the<span class="ff61 fsa"> <span class="ff6a">xpath</span> </span>will fail to evaluate</div><div class="t m0 x5 h10 y155c ff68 fs6 fc2 sc0 ls0 ws0">Q8:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can convert a SimpleXML object to DOM with the ______ function.</div><div class="t m0 x5 h3c y155d ff6a fsa fc2 sc0 ls0 ws0">dom_import_simplexml()</div><div class="t m0 x5 h3c y155e ff6a fsa fc2 sc0 ls0 ws0">simple_xml:import_dom()</div><div class="t m0 x5 h3c y155f ff6a fsa fc2 sc0 ls0 ws0">simple_xml:export_dom()</div><div class="t m0 x5 h3c y1560 ff6a fsa fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 y1561 ff68 fs6 fc2 sc0 ls0 ws0">Q9:<span class="_ _1"></span> <span class="_ _1"></span>What is the output of this script?</div><div class="t m0 x5 h3c y1562 ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y1563 ff6a fsa fc2 sc0 ls0 ws0">$xmlString = &lt;&lt;&lt;XML</div><div class="t m0 x5 h3c y1564 ff6a fsa fc2 sc0 ls0 ws0">&lt;root&gt;</div><div class="t m0 x5 h3c y1565 ff6a fsa fc2 sc0 ls0 ws0">&lt;teams&gt;</div><div class="t m0 x5 h3c y1566 ff6a fsa fc2 sc0 ls0 ws0">&lt;team&gt;Silverbacks&lt;/team&gt;</div><div class="t m0 x5 h3c y1567 ff6a fsa fc2 sc0 ls0 ws0">&lt;team foo=&quot;winner&quot;&gt;Golden Eyes&lt;/team&gt;</div><div class="t m0 x5 h3c y1568 ff6a fsa fc2 sc0 ls0 ws0">&lt;/teams&gt;</div><div class="t m0 x5 h3c y1569 ff6a fsa fc2 sc0 ls0 ws0">&lt;/root&gt;</div><div class="t m0 x5 h3c y156a ff6a fsa fc2 sc0 ls0 ws0">XML;</div><div class="t m0 x5 h3c y156b ff6a fsa fc2 sc0 ls0 ws0">$domDoc = new DOMDocument();</div><div class="t m0 x5 h3c y156c ff6a fsa fc2 sc0 ls0 ws0">$domDoc-&gt;loadXML($xmlString);</div><div class="t m0 x5 h3c y156d ff6a fsa fc2 sc0 ls0 ws0">$textElement = $domDoc-&gt;createElement(&apos;team&apos;, &apos;Bearhides&apos;);</div><div class="t m0 x5 h3c y156e ff6a fsa fc2 sc0 ls0 ws0">$result = $domDoc-&gt;xpath(&apos;teams/team[2]&apos;);</div><div class="t m0 x5 h3c y156f ff6a fsa fc2 sc0 ls0 ws0">$result[1]-&gt;insertBefore($textElement);</div><div class="t m0 x5 h3c y1570 ff6a fsa fc2 sc0 ls0 ws0">echo $domDoc-&gt;saveXML();</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfdd" class="pf w2 h4" data-page-no="dd"><div class="pc pcdd w2 h4"><img class="bi x8 y1571 w3 h4b" alt="" src="bgdd.png"/><div class="t m0 x8 h11 y54 ff68 fs9 fc2 sc0 ls0 ws0">CHAPTER 7 <span class="ff69 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>DA<span class="_ _2"></span>TA FORMA<span class="_ _1"></span>TS AND TYPES</span></div><div class="t m0 x8 hd y55 ff61 fs6 fc2 sc0 lsa ws58">204</div><div class="t m0 x4b h10 y5ec ff68 fs6 fc2 sc0 ls0 ws0">This will produce a fatal error</div><div class="t m0 x4b h10 ycbd ff68 fs6 fc2 sc0 ls0 ws0">An XML document with a new team at the beginning of the list of teams</div><div class="t m0 x4b h10 y153e ff68 fs6 fc2 sc0 ls0 ws0">An XML document with a new team between the two team<span class="ff61 fsa">s</span></div><div class="t m0 x4b h10 y79d ff68 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x4b h10 y79e ff68 fs6 fc2 sc0 ls0 ws0">Q10:<span class="_ _1"></span> <span class="_ _1"></span>What will the following code output?</div><div class="t m0 x4b h3c ycbf ff6a fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c ycc0 ff6a fsa fc2 sc0 ls0 ws0">$dateTime = new DateTime();</div><div class="t m0 x4b h3c ycc1 ff6a fsa fc2 sc0 ls0 ws0">$interval = new DateInterval(&apos;P1Y2M3D4H5M&apos;);</div><div class="t m0 x4b h3c ycc2 ff6a fsa fc2 sc0 ls0 ws0">$dateTime-&gt;add($interval);</div><div class="t m0 x4b h3c ycc3 ff6a fsa fc2 sc0 ls0 ws0">echo $dateTime-&gt;format(DateTime::COOKIE);</div><div class="t m0 x4b h10 y1572 ff68 fs6 fc2 sc0 ls0 ws0">This will produce a fatal error</div><div class="t m0 x4b h10 y1573 ff68 fs6 fc2 sc0 ls0 ws0">A date one year<span class="_ _2"></span>, two months,<span class="_ _2"></span> three days, four hours,<span class="_ _1"></span> and five minutes in the future</div><div class="t m0 x4b h10 y1574 ff68 fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfde" class="pf w2 h4" data-page-no="de"><div class="pc pcde w2 h4"><img class="bi x0 y1c9 w4 h1a" alt="" src="bgde.png"/><div class="t m0 x15 hd y3e ff70 fs6 fc2 sc0 ls52 ws12e">205</div><div class="t m0 x3 h1b y1ca ff71 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff71 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff72">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff71 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_8<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff73 fse fc2 sc0 ls0 ws0">CHAPTER 8</div><div class="t m0 x3 he y1ce ff74 fs7 fc2 sc0 ls0 ws0">Input-Output</div><div class="t m0 x3 h12 y612 ff70 fsa fc2 sc0 ls0 ws0">In this chapter<span class="_ _11"></span>, we’re going to be looking at how PHP m<span class="_ _1"></span>anages input<span class="_ _1"></span>-output. W<span class="_ _1"></span>e’ll be </div><div class="t m0 x3 h12 y613 ff70 fsa fc2 sc0 ls0 ws0">examining how we can re<span class="_ _1"></span>ad from or write to the file system as well as the network.</div><div class="t m0 x3 h19 y1575 ff75 fsd fc2 sc0 ls0 ws0">Files</div><div class="t m0 x3 h12 ya52 ff70 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two main groups of functions to deal with files: those that work with file </div><div class="t m0 x3 h12 ya53 ff70 fsa fc2 sc0 ls0 ws0">resour<span class="_ _1"></span>ces, and those that work with a filename<span class="_ _1"></span>.</div><div class="t m0 x1a h12 ya54 ff70 fsa fc2 sc0 ls0 ws0">Remember that a r<span class="_ _1"></span>esource is a type of variable that c<span class="_ _1"></span>an’t be stored directly in PHP<span class="_ _11"></span>.  </div><div class="t m0 x3 h12 ya55 ff70 fsa fc2 sc0 ls0 ws0">A file resour<span class="_ _1"></span>ce is an operating system file handle<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y1576 ff70 fsa fc2 sc0 ls0 ws0">All the functions that deal with file resour<span class="_ _1"></span>ces begin with a single <span class="ff76">f</span> letter and then </div><div class="t m0 x3 h3c y1577 ff70 fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e a verb describing their function. For example, <span class="ff76">fopen()</span> opens a file r<span class="_ _1"></span>esource<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y1578 ff70 fsa fc2 sc0 ls0 ws0">Functions tha<span class="_ _1"></span>t work with the string name of a file all start with the word <span class="ff76">file</span> and are </div><div class="t m0 x3 h3c y1579 ff70 fsa fc2 sc0 ls0 ws0">followed by a verb descriptive of what they do<span class="_ _1"></span>. F<span class="_ _1"></span>or example, <span class="ff76">file_get_contents()</span> takes </div><div class="t m0 x3 h12 y157a ff70 fsa fc2 sc0 ls0 ws0">a string filename and returns the con<span class="_ _1"></span>tents of that file.</div><div class="t m0 x3 h26 y157b ff70 fse fc2 sc0 ls0 ws0">Opening F<span class="_ _1"></span>iles</div><div class="t m0 x3 h3c y157c ff70 fsa fc2 sc0 ls0 ws0">The function <span class="ff76">fopen()</span> is used to open files. I<span class="_ _1"></span>t returns a resour<span class="_ _1"></span>ce variable that is a handle </div><div class="t m0 x3 h12 y157d ff70 fsa fc2 sc0 ls0 ws0">to the file.</div><div class="t m0 x1a h3c y157e ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou must pass two parameters to <span class="ff76">fopen()</span>:</div><div class="t m0 x7 h12 y157f ff77 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff70">The name of the file in your file system</span></div><div class="t m0 x7 h12 y1580 ff77 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff70">The file mode that you w<span class="_ _1"></span>ant to open it with</span></div><div class="t m0 x3 h26 y1e2 ff70 fse fc2 sc0 ls0 ws0">File M<span class="_ _1"></span>odes</div><div class="t m0 x3 h12 y1e3 ff70 fsa fc2 sc0 ls0 ws0">Files can be opened in differ<span class="_ _1"></span>ent modes. F<span class="_ _1"></span>ile modes describe how we w<span class="_ _0"></span>ill be inter<span class="_ _1"></span>acting </div><div class="t m0 x3 h12 y1e4 ff70 fsa fc2 sc0 ls0 ws0">with the file.</div><div class="t m0 x1a h12 y1e5 ff70 fsa fc2 sc0 ls0 ws0">File modes r<span class="_ _1"></span>elate to operating system file privileges<span class="_ _1"></span>. For example<span class="_ _1"></span>, if the PHP user </div><div class="t m0 x3 h12 y1e6 ff70 fsa fc2 sc0 ls0 ws0">only has read access to a file then an a<span class="_ _1"></span>ttempt to open it in write mode will be denied </div><div class="t m0 x3 h12 y1e7 ff70 fsa fc2 sc0 ls0 ws0">by the operatin<span class="_ _1"></span>g system. If we try with a lesser pr<span class="_ _0"></span>ivilege (such as r<span class="_ _1"></span>ead only), then the </div><div class="t m0 x3 h12 y1e8 ff70 fsa fc2 sc0 ls0 ws0">operating system will cr<span class="_ _1"></span>eate a file handle for us.</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_8"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfdf" class="pf w2 h4" data-page-no="df"><div class="pc pcdf w2 h4"><img class="bi x8 y7ba w3 h98" alt="" src="bgdf.png"/><div class="t m0 x8 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x8 hd y55 ff70 fs6 fc2 sc0 lsa ws58">206</div><div class="t m0 x3 h12 y1b8 ff70 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e communicate two pieces of information about ho<span class="_ _1"></span>w we intend to use a file when </div><div class="t m0 x8 h12 y1b9 ff70 fsa fc2 sc0 ls0 ws0">we specify a mode:</div><div class="t m0 x2b h12 y820 ff77 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff70">Whether we are readin<span class="_ _1"></span>g, writing, or both</span></div><div class="t m0 x2b h12 y404 ff77 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff70">Whether we want to place the file pointer at the beginning or </span></div><div class="t m0 x18 h12 y821 ff70 fsa fc2 sc0 ls0 ws0">ending of the file</div><div class="t m0 x3 h12 y1581 ff70 fsa fc2 sc0 ls0 ws0">The file pointer is like an itera<span class="_ _1"></span>tor cursor<span class="_ _2"></span>. It stores the file position th<span class="_ _1"></span>at will be </div><div class="t m0 x8 h12 y1582 ff70 fsa fc2 sc0 ls0 ws0">returned on the next r<span class="_ _1"></span>ead.</div><div class="t m0 x3 h12 y1583 ff70 fsa fc2 sc0 ls0 ws0">The following table summarizes the common file modes<span class="_ _1"></span>.</div><div class="t m0 x8 h10 y409 ff74 fs6 fc2 sc0 ls0 ws0">Mode<span class="_ _cf"> </span>Read/Write<span class="_ _d0"> </span>Pointer<span class="_ _cf"> </span>Behavior</div><div class="t m0 x8 h3c y40a ff76 fsa fc2 sc0 ls0 ws0">r<span class="_ _20"> </span>R<span class="_ _67"> </span><span class="ff70">Start</span></div><div class="t m0 x8 h3c y40b ff76 fsa fc2 sc0 ls0 ws0">r+<span class="_ _66"> </span>RW<span class="_ _49"> </span><span class="ff70">Start</span></div><div class="t m0 x8 h3c y40c ff76 fsa fc2 sc0 ls0 ws0">w<span class="_ _20"> </span>W<span class="_ _67"> </span><span class="ff70">Start<span class="_ _7f"> </span>Truncates an existing file or cr<span class="_ _1"></span>eates a new file if it </span></div><div class="t m0 x31 h12 y1584 ff70 fsa fc2 sc0 ls0 ws0">doesn’t exist</div><div class="t m0 x8 h3c y1585 ff76 fsa fc2 sc0 ls0 ws0">w+<span class="_ _66"> </span>RW<span class="_ _49"> </span><span class="ff70">Start</span></div><div class="t m0 x8 h3c y1586 ff76 fsa fc2 sc0 ls0 ws0">a<span class="_ _20"> </span>W<span class="_ _67"> </span><span class="ff70">Start<span class="_ _7f"> </span>Cr<span class="_ _1"></span>eates a new file if it doesn’t exist and preserves the </span></div><div class="t m0 x31 h12 y1587 ff70 fsa fc2 sc0 ls0 ws0">current file if it does</div><div class="t m0 x8 h3c y1588 ff76 fsa fc2 sc0 ls0 ws0">a+<span class="_ _66"> </span>RW<span class="_ _49"> </span><span class="ff70">Start</span></div><div class="t m0 x8 h3c y1589 ff76 fsa fc2 sc0 ls0 ws0">x<span class="_ _20"> </span>W<span class="_ _67"> </span><span class="ff70">N/A<span class="_ _66"> </span>Tries to create a new file for write; r<span class="_ _1"></span>eturns <span class="ff76">FALSE</span> if the </span></div><div class="t m0 x31 h3c y158a ff70 fsa fc2 sc0 ls0 ws0">file already exists and genera<span class="_ _1"></span>tes <span class="ff76">E_WARNING</span></div><div class="t m0 x8 h3c y158b ff76 fsa fc2 sc0 ls0 ws0">x+<span class="_ _66"> </span>RW</div><div class="t m0 x8 h3c y158c ff76 fsa fc2 sc0 ls0 ws0">c<span class="_ _20"> </span>W<span class="_ _67"> </span><span class="ff70">Start<span class="_ _7f"> </span>Tries to crea<span class="_ _1"></span>te the file if it doesn’t exist<span class="_ _0"></span>; if it does ex<span class="_ _0"></span>ist<span class="_ _1"></span>, </span></div><div class="t m0 x31 h12 y158d ff70 fsa fc2 sc0 ls0 ws0">places the cursor at the fron<span class="_ _1"></span>t of the file</div><div class="t m0 x8 h3c y158e ff76 fsa fc2 sc0 ls0 ws0">c+<span class="_ _66"> </span>RW</div><div class="t m0 x3 h3c y158f ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou’ll notice that adding a <span class="ff76">+</span> symbol to a file mode has the effect of indicating th<span class="_ _1"></span>at </div><div class="t m0 x8 h12 y1590 ff70 fsa fc2 sc0 ls0 ws0">you also want to perform the opposite of the default mode. So<span class="_ _1"></span>, when we’r<span class="_ _1"></span>e overwriting a </div><div class="t m0 x8 h3c y1591 ff70 fsa fc2 sc0 ls0 ws0">file, if we add a <span class="ff76">+</span> symbol then we indicate th<span class="_ _1"></span>at we also want to read the file<span class="_ _1"></span>. The behavior </div><div class="t m0 x8 h12 y1592 ff70 fsa fc2 sc0 ls0 ws0">remains the same<span class="_ _1"></span>, however<span class="_ _2"></span>, and so I’ve omit<span class="_ _1"></span>ted it from the table to keep it easier to r<span class="_ _1"></span>ead.</div><div class="t m0 x3 h3c y1593 ff70 fsa fc2 sc0 ls0 ws0">When using the <span class="ff76">w</span> modes to overwrite a file, PHP will truncate the file to zero b<span class="_ _1"></span>ytes. </div><div class="t m0 x8 h12 y1594 ff70 fsa fc2 sc0 ls0 ws0">This is useful if you want to ha<span class="_ _1"></span>ve a file that is o<span class="_ _1"></span>verwr<span class="_ _0"></span>itten with new data<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y1595 ff70 fsa fc2 sc0 ls0 ws0">The <span class="ff76">x</span> modes will return <span class="ff76">FALSE</span> and genera<span class="_ _1"></span>te a warning if the file already exists. T<span class="_ _1"></span>his is </div><div class="t m0 x8 h12 y1596 ff70 fsa fc2 sc0 ls0 ws0">useful if you want to a<span class="_ _1"></span>void overwriting data that you wan<span class="_ _1"></span>t to keep.</div><div class="t m0 x3 h3c y1597 ff70 fsa fc2 sc0 ls0 ws0">The <span class="ff76">c</span> mode will create a file if it exists or open an existing file. T<span class="_ _1"></span>he pointer will be set </div><div class="t m0 x8 h12 y1598 ff70 fsa fc2 sc0 ls0 ws0">to the start of the file for existing files.</div><div class="t m0 x8 h26 y1599 ff70 fse fc2 sc0 ls0 ws0">File M<span class="_ _1"></span>ode Flags</div><div class="t m0 x8 h12 y159a ff70 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two flags that you can specify b<span class="_ _1"></span>y adding them to the end of the mode string. </div><div class="t m0 x8 h12 y159b ff70 fsa fc2 sc0 ls0 ws0">The default flag is defined by y<span class="_ _1"></span>our SAPI and the version of PHP that you’r<span class="_ _1"></span>e using, so for </div><div class="t m0 x8 h12 y159c ff70 fsa fc2 sc0 ls0 ws0">compatibility purposes you should specify them<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe0" class="pf w2 h4" data-page-no="e0"><div class="pc pce0 w2 h4"><img class="bi x3 y159d w5 h99" alt="" src="bge0.png"/><div class="t m0 x85 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x15 hd y55 ff70 fs6 fc2 sc0 ls52 ws12e">207</div><div class="t m0 x1a h3c y2a8 ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify a <span class="ff76">b</span> flag to specify that you’re wor<span class="_ _1"></span>king with binar<span class="_ _0"></span>y files<span class="_ _1"></span>. This means </div><div class="t m0 x3 h12 y3e3 ff70 fsa fc2 sc0 ls0 ws0">that no char<span class="_ _1"></span>acters will be translated. This is necessary when you’re working with images </div><div class="t m0 x3 h12 y424 ff70 fsa fc2 sc0 ls0 ws0">or other binary files.</div><div class="t m0 x1a h3c y2ab ff70 fsa fc2 sc0 ls0 ws0">On a Windows server<span class="_ _2"></span>, you can specify a <span class="ff76">t</span> flag to translate <span class="ff76">\n</span><span class="ls11 wse8"> to </span><span class="ff76">\r\n</span>.</div><div class="t m0 x23 h10 y159e ff78 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff79">■<span class="_ _c"> </span><span class="ff7a fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff78 fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>T<span class="_ _2"></span>o keep your code portable,<span class="_ _1"></span> you should use the <span class="ff76 fsa">b</span> flag and make sure that your </span></span></div><div class="t m0 x3 h10 y159f ff78 fs6 fc2 sc0 ls0 ws0">code uses the correct line endings.</div><div class="t m0 x3 h26 y15a0 ff70 fse fc2 sc0 ls0 ws0">Reading F<span class="_ _1"></span>iles</div><div class="t m0 x3 h3c y15a1 ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can read from a file r<span class="_ _1"></span>esource using the <span class="ff76">fread()</span> function.</div><div class="t m0 x3 h3c y15a2 ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y15a3 ff76 fsa fc2 sc0 ls0 ws0">$handle = fopen(&apos;info.txt&apos;, &apos;r&apos;);</div><div class="t m0 x3 h3c y15a4 ff76 fsa fc2 sc0 ls0 ws0">while (!feof($handle)) {</div><div class="t m0 x3 h3c y15a5 ff76 fsa fc2 sc0 ls0 ws0">    echo fread($handle,1024);</div><div class="t m0 x3 h3c y15a6 ff76 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h3c y15a7 ff70 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we’re using the file function <span class="ff76">feof()</span>, which is a function tha<span class="_ _1"></span>t returns </div><div class="t m0 x3 h3c y15a8 ff76 fsa fc2 sc0 ls0 ws0">TRUE<span class="ff70"> when the file pointer is at the end of the file and </span>FALSE<span class="ff70"> otherwise. Using it in a </span>while<span class="ff70"> </span></div><div class="t m0 x3 h12 y15a9 ff70 fsa fc2 sc0 ls0 ws0">loop has the effect of continuing the loop until we r<span class="_ _1"></span>each the end of the file.</div><div class="t m0 x1a h3c y15aa ff70 fsa fc2 sc0 ls0 ws0">The <span class="ff76">fread()</span> function takes two parameters<span class="_ _1"></span>. The first is the variable holding the file </div><div class="t m0 x3 h12 y15ab ff70 fsa fc2 sc0 ls0 ws0">resour<span class="_ _1"></span>ce, and the second is the number of bytes to r<span class="_ _1"></span>ead. If it reaches the end of the file<span class="_ _1"></span>, </div><div class="t m0 x3 h3c y15ac ff70 fsa fc2 sc0 ls0 ws0">then <span class="ff76">fread()</span> will stop reading.</div><div class="t m0 x1a h12 y15ad ff70 fsa fc2 sc0 ls0 ws0">Here ar<span class="_ _1"></span>e four more PHP functions th<span class="_ _1"></span>at make it more con<span class="_ _1"></span>venient to read files:</div><div class="t m0 x3 h10 y15ae ff74 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _b0"> </span>Used T<span class="_ _1"></span>o</div><div class="t m0 x3 h3c y15af ff76 fsa fc2 sc0 ls0 ws0">fgetcsv()<span class="_ _42"> </span><span class="ff70">Read a line from file pointer and p<span class="_ _1"></span>arse for CS<span class="_ _0"></span>V fields</span></div><div class="t m0 x3 h3c y15b0 ff76 fsa fc2 sc0 ls0 ws0">file_get_contents()<span class="_ _bb"> </span><span class="ff70">T<span class="_ _2"></span>ake a string filename and read the r<span class="_ _1"></span>esults into a string</span></div><div class="t m0 x3 h3c y15b1 ff76 fsa fc2 sc0 ls0 ws0">readfile()<span class="_ _15"> </span><span class="ff70">Read a string filename and write the conten<span class="_ _1"></span>ts to the  </span></div><div class="t m0 x97 h12 y15b2 ff70 fsa fc2 sc0 ls0 ws0">output buffer</div><div class="t m0 x3 h3c y15b3 ff76 fsa fc2 sc0 ls0 ws0">file()<span class="_ _7d"> </span><span class="ff70">Read an entire file into an arra<span class="_ _1"></span>y</span></div><div class="t m0 x3 h26 y15b4 ff70 fse fc2 sc0 ls0 ws0">Writing to Files</div><div class="t m0 x3 h3c y15b5 ff70 fsa fc2 sc0 ls0 ws0">Writing to a file is done with the binary-safe <span class="ff76">fwrite()</span> function. <span class="ff76">fputs()</span> is an alias to this </div><div class="t m0 x3 h12 y15b6 ff70 fsa fc2 sc0 ls0 ws0">function.</div><div class="t m0 x1a h3c y15b7 ff70 fsa fc2 sc0 ls0 ws0">The <span class="ff76">fwrite()</span> function takes two parameters—the file r<span class="_ _1"></span>esource to write to and the </div><div class="t m0 x3 h12 y15b8 ff70 fsa fc2 sc0 ls0 ws0">string to write to the file.</div><div class="t m0 x1a h3c y15b9 ff70 fsa fc2 sc0 ls0 ws0">There is a writing count<span class="_ _1"></span>erpart for the <span class="ff76">fgetcsv()</span> function, namely <span class="ff76">fputcsv()</span> which </div><div class="t m0 x3 h12 y15ba ff70 fsa fc2 sc0 ls0 ws0">formats an array as CSV and writes the line to a file. In addition to p<span class="_ _1"></span>arameters for the file </div><div class="t m0 x3 h12 y15bb ff70 fsa fc2 sc0 ls0 ws0">resour<span class="_ _1"></span>ce and array, it takes optional paramet<span class="_ _1"></span>ers to define the CSV for<span class="_ _0"></span>ma<span class="_ _1"></span>t.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe1" class="pf w2 h4" data-page-no="e1"><div class="pc pce1 w2 h4"><img class="bi x8 y15bc w3 h6b" alt="" src="bge1.png"/><div class="t m0 x8 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x8 hd y55 ff70 fs6 fc2 sc0 lsa ws58">208</div><div class="t m0 x3 h3c y1b8 ff70 fsa fc2 sc0 ls0 ws0">If you want to write formatted strings to a file<span class="_ _1"></span>, you should use <span class="ff76">fprintf()</span>, which </div><div class="t m0 x8 h3c y1b9 ff70 fsa fc2 sc0 ls0 ws0">works like the <span class="ff76">printf()</span> command.</div><div class="t m0 x3 h12 y1ba ff70 fsa fc2 sc0 ls0 ws0">If you want to dump the con<span class="_ _1"></span>tents of a file to a connected client, you can use </div><div class="t m0 x8 h3c y1bb ff76 fsa fc2 sc0 ls0 ws0">fpassthru()<span class="ff70">. This function will start at the current file position and write the rest of the </span></div><div class="t m0 x8 h12 y1bc ff70 fsa fc2 sc0 ls0 ws0">file to the output buffer<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y1bd ff70 fsa fc2 sc0 ls0 ws0">Finally, ther<span class="_ _1"></span>e is a convenient function to quickl<span class="_ _1"></span>y write a string to a file. The function </div><div class="t m0 x8 h3c y1be ff76 fsa fc2 sc0 ls0 ws0">file_put_contents()<span class="ff70"> doesn’t require y<span class="_ _1"></span>ou to provide a file r<span class="_ _1"></span>esource and just r<span class="_ _1"></span>equires the </span></div><div class="t m0 x8 h12 y1bf ff70 fsa fc2 sc0 ls0 ws0">filename and the string you want to write<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y1c0 ff70 fsa fc2 sc0 ls0 ws0">Here is a s<span class="_ _1"></span>imple example of some of these functions being used:</div><div class="t m0 x8 h3c y7e2 ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y12d8 ff76 fsa fc2 sc0 ls0 ws0">$filename = &apos;test.csv&apos;;</div><div class="t m0 x8 h3c y7e3 ff76 fsa fc2 sc0 ls0 ws0">$dataString = &apos;1,2,3,4,5&apos;;</div><div class="t m0 x8 h3c y7e4 ff76 fsa fc2 sc0 ls0 ws0">file_put_contents($filename, $dataString);</div><div class="t m0 x8 h3c y7e5 ff76 fsa fc2 sc0 ls0 ws0">$handle = fopen($filename, &apos;r&apos;);</div><div class="t m0 x8 h3c y7e6 ff76 fsa fc2 sc0 ls0 ws0">$myData = fgetcsv($handle);</div><div class="t m0 x8 h3c y7e7 ff76 fsa fc2 sc0 ls0 ws0">echo gettype($myData); // array</div><div class="t m0 x8 h3c y7e8 ff76 fsa fc2 sc0 ls0 ws0">echo count($myData); // 5</div><div class="t m0 x3 h3c y12d9 ff70 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, we use the shortcut function <span class="ff76">file_put_contents()</span> to output </div><div class="t m0 x8 h3c y12da ff70 fsa fc2 sc0 ls0 ws0">the string to a file. W<span class="_ _1"></span>e don&apos;t need to ha<span class="_ _1"></span>ve a file resour<span class="_ _1"></span>ce available<span class="_ _1"></span>, because <span class="ff76">file_put_</span></div><div class="t m0 x8 h3c y7eb ff76 fsa fc2 sc0 ls0 ws0">contents()<span class="ff70"> handles this for us. After we<span class="_ _1"></span>’ve written the string I open a file resour<span class="_ _1"></span>ce to </span></div><div class="t m0 x8 h3c y7ec ff70 fsa fc2 sc0 ls0 ws0">read fr<span class="_ _1"></span>om it and use <span class="ff76">fgetcsv()</span> to read from the file<span class="_ _1"></span>. The string was a valid CSV list and so </div><div class="t m0 x8 h3c y7ed ff76 fsa fc2 sc0 ls0 ws0">$myData<span class="ff70"> contains an array of five elemen<span class="_ _1"></span>ts.</span></div><div class="t m0 x8 h19 y15bd ff75 fsd fc2 sc0 ls0 ws0">File System Functions</div><div class="t m0 x8 h12 y15be ff70 fsa fc2 sc0 ls0 ws0">PHP has an extensive list of functions tha<span class="_ _1"></span>t connect you to the file system. W<span class="_ _1"></span>e<span class="_ _1"></span>’ll deal with a </div><div class="t m0 x8 h12 y15bf ff70 fsa fc2 sc0 ls0 ws0">few of them in this chapter<span class="_ _2"></span>, but as I so often do<span class="_ _1"></span>, I’m going to r<span class="_ _1"></span>efer you to the PHP manual </div><div class="t m0 x8 h12 y15c0 ff70 fsa fc2 sc0 ls0 ws0">for the exhaustive list.</div><div class="t m0 x8 h26 y1396 ff70 fse fc2 sc0 ls0 ws0">Directories</div><div class="t m0 x8 h12 y1397 ff70 fsa fc2 sc0 ls0 ws0">This group of functions let yo<span class="_ _1"></span>u traverse<span class="_ _1"></span>, create<span class="_ _1"></span>, and delete directories.</div><div class="t m0 x8 h10 y15c1 ff74 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _87"> </span>Use</div><div class="t m0 x8 h3c y15c2 ff76 fsa fc2 sc0 ls0 ws0">chdir()<span class="_ _34"> </span><span class="ff70">Changes PHP’<span class="_ _1"></span>s current wor<span class="_ _1"></span>king directory.</span></div><div class="t m0 x8 h3c y15c3 ff76 fsa fc2 sc0 ls0 ws0">chroot()<span class="_ _5e"> </span><span class="ff70">Ch<span class="_ _1"></span>anges root directory of the running process to the specified directory </span></div><div class="t m0 x98 h3c y15c4 ff70 fsa fc2 sc0 ls0 ws0">and sets PHP’<span class="_ _1"></span>s working dir<span class="_ _1"></span>ectory to <span class="ff76">/</span>.</div><div class="t m0 x8 h3c y15c5 ff76 fsa fc2 sc0 ls0 ws0">rmdir()<span class="_ _34"> </span><span class="ff70">D<span class="_ _0"></span>eletes a dir<span class="_ _1"></span>ectory.</span></div><div class="t m0 x8 h3c y15c6 ff76 fsa fc2 sc0 ls0 ws0">readdir()<span class="_ _d1"> </span><span class="ff70">Returns the name of the next entry in the directory handle passed as a </span></div><div class="t m0 x98 h12 y15c7 ff70 fsa fc2 sc0 ls0 ws0">parameter<span class="_ _2"></span>. The entries ar<span class="_ _1"></span>e returned in the order in which they ar<span class="_ _1"></span>e stored </div><div class="t m0 x98 h12 y15c8 ff70 fsa fc2 sc0 ls0 ws0">by the file system<span class="_ _1"></span>.</div><div class="t m0 x8 h3c y15c9 ff76 fsa fc2 sc0 ls0 ws0">scandir()<span class="_ _d1"> </span><span class="ff70">Reads the directory specified by the string parameter and r<span class="_ _1"></span>eturns a list of </span></div><div class="t m0 x98 h12 y15ca ff70 fsa fc2 sc0 ls0 ws0">the files and directories it contains<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe2" class="pf w2 h4" data-page-no="e2"><div class="pc pce2 w2 h4"><img class="bi x3 yc2e w5 h9a" alt="" src="bge2.png"/><div class="t m0 x85 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x15 hd y55 ff70 fs6 fc2 sc0 lsa ws58">209</div><div class="t m0 x1a h3c y1b8 ff70 fsa fc2 sc0 ls0 ws0">The difference between <span class="ff76">scandir(</span>) and <span class="ff76">readdir(</span>) is the parameter th<span class="_ _1"></span>at they take. </div><div class="t m0 x3 h3c y1b9 ff70 fsa fc2 sc0 ls0 ws0">Where <span class="ff76">readdir()</span> uses a directory handle, <span class="ff76">scandir(</span>) accepts the n<span class="_ _1"></span>ame of the directory as </div><div class="t m0 x3 h12 y2d2 ff70 fsa fc2 sc0 ls0 ws0">a string.</div><div class="t m0 x23 h10 y15cb ff78 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff79">■<span class="_ _c"> </span><span class="ff7a fc2">Caution<span class="ff78"> <span class="_ _2c"> </span> <span class="_ _1"></span>This is possibly confusing because it seems that the naming convention of file </span></span></span></div><div class="t m0 x3 h10 y15cc ff78 fs6 fc2 sc0 ls0 ws0">functions (<span class="ff76 fsa">f*</span> versus <span class="ff76 fsa">file*</span>) doesn’t apply to directories.</div><div class="t m0 x3 h26 y15cd ff70 fse fc2 sc0 ls0 ws0">File I<span class="_ _1"></span>nformation</div><div class="t m0 x3 h12 y15ce ff70 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e referred to these functions in the security chapter<span class="_ _11"></span>, but there are other use cases where </div><div class="t m0 x3 h12 y15cf ff70 fsa fc2 sc0 ls0 ws0">you need to obtain information about a file<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y15d0 ff70 fsa fc2 sc0 ls0 ws0">PHP pro<span class="_ _1"></span>vides the <span class="ff76">finfo_open()</span> function, which returns a new instance of a </div><div class="t m0 x3 h3c y15d1 ff76 fsa fc2 sc0 ls0 ws0">fileinfo<span class="ff70"> resour<span class="_ _1"></span>ce. Y<span class="_ _2"></span>ou provide it with two parameters—a pr<span class="_ _1"></span>edefined option constant </span></div><div class="t m0 x3 h12 y15d2 ff70 fsa fc2 sc0 ls0 ws0">and the string location to a magic da<span class="_ _1"></span>tabase file.</div><div class="t m0 x1a h12 y15d3 ff70 fsa fc2 sc0 ls0 ws0">The magic data<span class="_ _1"></span>base file is a format used to describe file t<span class="_ _0"></span>ypes and is also used by the </div><div class="t m0 x3 h3c y15d4 ff70 fsa fc2 sc0 ls0 ws0">Unix standard comm<span class="_ _1"></span>and, <span class="ff76">file.</span></div><div class="t m0 x6 h15 y15d5 ff70 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x99 h12 y4d2 ff70 fsa fc2 sc0 ls0 ws0"> If you don’t supply a path to the m<span class="_ _1"></span>agic database, then </div><div class="t m0 x3 h12 y15d6 ff70 fsa fc2 sc0 ls0 ws0">PHP will use the one that it comes bundled with.</div><div class="t m0 x1a h3c y15d7 ff70 fsa fc2 sc0 ls0 ws0">Once PHP knows how to identify files you can use the <span class="ff76">finfo_file()</span> function to </div><div class="t m0 x3 h3c y15d8 ff70 fsa fc2 sc0 ls0 ws0">obtain information about the file<span class="_ _1"></span>. It takes at least two par<span class="_ _1"></span>ameters—the <span class="ff76">fileinfo</span> resource </div><div class="t m0 x3 h12 y15d9 ff70 fsa fc2 sc0 ls0 ws0">you just cr<span class="_ _1"></span>eated and a string name of the file you want to check<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y15da ff70 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple from the PHP manual</div><div class="t m0 x5e h15 y15db ff70 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x4e h12 y15dc ff70 fsa fc2 sc0 ls0 ws0">:</div><div class="t m0 x3 h3c y15dd ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y15de ff76 fsa fc2 sc0 ls0 ws0">$finfo = finfo_open(FILEINFO_MIME_TYPE);</div><div class="t m0 x3 h3c y15df ff76 fsa fc2 sc0 ls0 ws0">foreach (glob(&quot;*&quot;) as $filename) {</div><div class="t m0 x3 h3c y15e0 ff76 fsa fc2 sc0 ls0 ws0">    echo finfo_file($finfo, $filename) . &quot;\n&quot;;</div><div class="t m0 x3 h3c y15e1 ff76 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y15e2 ff76 fsa fc2 sc0 ls0 ws0">finfo_close($finfo);</div><div class="t m0 x1a h12 y15e3 ff70 fsa fc2 sc0 ls0 ws0">Both functions have object<span class="_ _1"></span>-oriented styles of use, as in this example fr<span class="_ _1"></span>om the PHP </div><div class="t m0 x3 h12 y15e4 ff70 fsa fc2 sc0 ls0 ws0">manual:</div><div class="t m0 x3 h3c y15e5 ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y15e6 ff76 fsa fc2 sc0 ls0 ws0">// finfo will return the mime type</div><div class="t m0 x3 h3c y15e7 ff76 fsa fc2 sc0 ls0 ws0">$finfo = new finfo(FILEINFO_MIME, &quot;/usr/share/misc/magic&quot;);</div><div class="t m0 x3 h3c y15e8 ff76 fsa fc2 sc0 ls0 ws0">/* get mime-type for a specific file */</div><div class="t m0 x3 h3c y15e9 ff76 fsa fc2 sc0 ls0 ws0">$filename = &quot;/usr/local/something.txt&quot;;</div><div class="t m0 x3 h3c y15ea ff76 fsa fc2 sc0 ls0 ws0">echo $finfo-&gt;file($filename);</div><div class="t m0 x3 h16 y15eb ff7b fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h43 y15ec ff76 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/File_(command<span class="fc2">)</span></div><div class="t m0 x3 h16 y15ed ff7b fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h43 y15ee ff76 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.finfo-file.php</div><a class="l" href="#pfe2" data-dest-detail='[226,"XYZ",57,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:179.657000px;bottom:396.789000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe2" data-dest-detail='[226,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:233.458000px;bottom:341.825000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/File_(command"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:82.185300px;width:182.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.finfo-file.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.185300px;width:208.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe3" class="pf w2 h4" data-page-no="e3"><div class="pc pce3 w2 h4"><img class="bi x8 y15ef w3 h2c" alt="" src="bge3.png"/><div class="t m0 x8 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x8 hd y55 ff70 fs6 fc2 sc0 ls15 wsf1">210</div><div class="t m0 x8 h26 y3bf ff70 fse fc2 sc0 ls0 ws0">M<span class="_ _1"></span>anaging F<span class="_ _1"></span>iles</div><div class="t m0 x8 h12 y3c0 ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use PHP to manage files. Some of the common functions are lis<span class="_ _1"></span>ted in this table.</div><div class="t m0 x8 h10 yae3 ff74 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _34"> </span>Purpose</div><div class="t m0 x8 h3c yae4 ff76 fsa fc2 sc0 ls0 ws0">copy<span class="_ _4f"> </span><span class="ff70">Copies a file<span class="_ _1"></span>.</span></div><div class="t m0 x8 h3c y15f0 ff76 fsa fc2 sc0 ls0 ws0">unlink<span class="_ _20"> </span><span class="ff70">Deletes a file.</span></div><div class="t m0 x8 h3c y15f1 ff76 fsa fc2 sc0 ls0 ws0">rename<span class="_ _20"> </span><span class="ff70">Renames a file<span class="_ _1"></span>. Y<span class="_ _2"></span>ou can use this to move a file between directories.</span></div><div class="t m0 x8 h3c y15f2 ff76 fsa fc2 sc0 ls0 ws0">chmod<span class="_ _41"> </span><span class="ff70">Sets file permissions.</span></div><div class="t m0 x8 h3c y15f3 ff76 fsa fc2 sc0 ls0 ws0">chgrp<span class="_ _41"> </span><span class="ff70">Chan<span class="_ _1"></span>ges the group of the file.</span></div><div class="t m0 x8 h3c y15f4 ff76 fsa fc2 sc0 ls0 ws0">chown<span class="_ _41"> </span><span class="ff70">Chan<span class="_ _1"></span>ges the owner of the file (superuser only).</span></div><div class="t m0 x8 h3c y15f5 ff76 fsa fc2 sc0 ls0 ws0">umask<span class="_ _41"> </span><span class="ff70">Chan<span class="_ _1"></span>ges the current umask.</span></div><div class="t m0 x8 h26 y15f6 ff70 fse fc2 sc0 ls0 ws0">Determining the Type of a F<span class="_ _1"></span>ile System Object</div><div class="t m0 x8 h12 y15f7 ff70 fsa fc2 sc0 ls0 ws0">It is good progr<span class="_ _1"></span>amming practice to verify that files and dir<span class="_ _1"></span>ectories exist and that you ha<span class="_ _1"></span>ve </div><div class="t m0 x8 h12 y15f8 ff70 fsa fc2 sc0 ls0 ws0">the proper permissions to use them in the way you in<span class="_ _1"></span>tend.</div><div class="t m0 x3 h12 y15f9 ff70 fsa fc2 sc0 ls0 ws0">PHP pro<span class="_ _1"></span>vides functions that return Boolean values if the object ma<span class="_ _1"></span>tching the string </div><div class="t m0 x8 h12 y15fa ff70 fsa fc2 sc0 ls0 ws0">you pass as the parameter meets the test<span class="_ _1"></span>. These functions take a string parameter that is </div><div class="t m0 x8 h12 y15fb ff70 fsa fc2 sc0 ls0 ws0">the name of a file or directory.</div><div class="t m0 x3 h12 y15fc ff70 fsa fc2 sc0 ls0 ws0">In the following table<span class="_ _1"></span>, the check is against an object found that m<span class="_ _1"></span>atches the name </div><div class="t m0 x8 h12 y15fd ff70 fsa fc2 sc0 ls0 ws0">given in the parameter<span class="_ _11"></span>.</div><div class="t m0 x8 h10 y15fe ff74 fs6 fc2 sc0 ls0 ws0">Function<span class="_ _d2"> </span>Checks</div><div class="t m0 x8 h3c y15ff ff76 fsa fc2 sc0 ls0 ws0">is_dir<span class="_ _7d"> </span><span class="ff70">I<span class="_ _1"></span>s a directory</span></div><div class="t m0 x8 h3c y1600 ff76 fsa fc2 sc0 ls0 ws0">is_file<span class="_ _d3"> </span><span class="ff70">Is a file</span></div><div class="t m0 x8 h3c y1601 ff76 fsa fc2 sc0 ls0 ws0">is_readable<span class="_ _a3"> </span><span class="ff70">Is a file or directory and can be read</span></div><div class="t m0 x8 h3c y1602 ff76 fsa fc2 sc0 ls0 ws0">is_writeable<span class="_ _3c"> </span><span class="ff70">Is a file or directory and can be written to</span></div><div class="t m0 x8 h3c y1603 ff76 fsa fc2 sc0 ls0 ws0">is_executable<span class="_ _33"> </span><span class="ff70">Is a file or dir<span class="_ _1"></span>ectory and can be executed</span></div><div class="t m0 x8 h3c y1604 ff76 fsa fc2 sc0 ls0 ws0">is_link<span class="_ _d3"> </span><span class="ff70">Is a symlink</span></div><div class="t m0 x8 h3c y1605 ff76 fsa fc2 sc0 ls0 ws0">is_uploaded_file<span class="_ _8f"> </span><span class="ff70">W<span class="_ _1"></span>as uploaded by a <span class="ff76">POST</span> r<span class="_ _1"></span>equest</span></div><div class="t m0 x3 h3c y1606 ff70 fsa fc2 sc0 ls0 ws0">All the functions will return <span class="ff76">FALSE</span> if no file system object was found th<span class="_ _1"></span>at matched the </div><div class="t m0 x8 h12 y1607 ff70 fsa fc2 sc0 ls0 ws0">name given in the parameter<span class="_ _11"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe4" class="pf w2 h4" data-page-no="e4"><div class="pc pce4 w2 h4"><img class="bi x3 y26f w1d h9b" alt="" src="bge4.png"/><div class="t m0 x85 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x21 hd y55 ff70 fs6 fc2 sc0 ls16 wsf2">211</div><div class="t m0 x3 h26 y3bf ff70 fse fc2 sc0 ls0 ws0">M<span class="_ _1"></span>agic File Cons<span class="_ _1"></span>tants</div><div class="t m0 x3 h12 y3c0 ff70 fsa fc2 sc0 ls0 ws0">PHP has several ma<span class="_ _1"></span>gic constants that you can use in r<span class="_ _1"></span>elation to the file currently </div><div class="t m0 x3 h12 y3c1 ff70 fsa fc2 sc0 ls0 ws0">executing.</div><div class="t m0 x3 h10 y3c2 ff74 fs6 fc2 sc0 ls0 ws0">Constant<span class="_ _44"> </span>Refers T<span class="_ _2"></span>o</div><div class="t m0 x3 h3c y3c3 ff76 fsa fc2 sc0 ls0 ws0">__LINE__<span class="_ _24"> </span><span class="ff70">The line of the file currently executing</span></div><div class="t m0 x3 h3c y3c4 ff76 fsa fc2 sc0 ls0 ws0">__FILE__<span class="_ _24"> </span><span class="ff70">The full path and filename of the file</span></div><div class="t m0 x3 h3c y3c5 ff76 fsa fc2 sc0 ls0 ws0">__FUNCTION__<span class="_ _95"> </span><span class="ff70">The current function name</span></div><div class="t m0 x3 h3c y3c6 ff76 fsa fc2 sc0 ls0 ws0">__CLASS__<span class="_ _68"> </span><span class="ff70">The name of the class in scope</span></div><div class="t m0 x3 h3c y1608 ff76 fsa fc2 sc0 ls0 ws0">__METHOD__<span class="_ _94"> </span><span class="ff70">The name of the method being executed</span></div><div class="t m0 x1a h12 y1609 ff70 fsa fc2 sc0 ls0 ws0">These constants are very useful when writing debug logs. F<span class="_ _1"></span>or example, I typic<span class="_ _1"></span>ally </div><div class="t m0 x3 h3c y160a ff70 fsa fc2 sc0 ls0 ws0">start all of my log messages with the <span class="ff76">__METHOD__</span> tag so that it’<span class="_ _2"></span>s immediately clear which </div><div class="t m0 x3 h12 y160b ff70 fsa fc2 sc0 ls0 ws0">class and method the log message is generated in.</div><div class="t m0 x3 h19 y160c ff75 fsd fc2 sc0 ls0 ws0">Streams</div><div class="t m0 x3 h12 y160d ff70 fsa fc2 sc0 ls0 ws0">Streams in PHP ar<span class="_ _1"></span>e a way of generalizin<span class="_ _1"></span>g file, network, data compr<span class="_ _1"></span>ession, and other </div><div class="t m0 x3 h12 y160e ff70 fsa fc2 sc0 ls0 ws0">operations tha<span class="_ _1"></span>t share a set of common functions and uses.</div><div class="t m0 x1a h12 y160f ff70 fsa fc2 sc0 ls0 ws0">A stream is almost like a con<span class="_ _1"></span>veyer belt of things that come to you one b<span class="_ _1"></span>y one. In PHP<span class="_ _11"></span>, </div><div class="t m0 x3 h12 y1610 ff70 fsa fc2 sc0 ls0 ws0">you can also skip along the conv<span class="_ _1"></span>eyer belt and seek to a position instead of waiting for it to </div><div class="t m0 x3 h12 y1611 ff70 fsa fc2 sc0 ls0 ws0">come to you.</div><div class="t m0 x1a h12 y1612 ff70 fsa fc2 sc0 ls0 ws0">Streams ar<span class="_ _1"></span>e refer<span class="_ _1"></span>enced in a format that you might r<span class="_ _1"></span>ecognize:</div><div class="t m0 x3 h3c y1613 ff76 fsa fc2 sc0 ls0 ws0">scheme://target</div><div class="t m0 x1a h3c y1614 ff70 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, <span class="ff76 fc4">http://www.php.net</span> specifies the <span class="ff76">http</span> scheme and the <span class="ff76">target</span> as the </div><div class="t m0 x3 h12 y1615 ff70 fsa fc2 sc0 ls0 ws0">URL of the PHP web site.</div><div class="t m0 x3 h26 y1616 ff70 fse fc2 sc0 ls0 ws0">Str<span class="_ _1"></span>eam Wrappers</div><div class="t m0 x3 h12 y1617 ff70 fsa fc2 sc0 ls0 ws0">Wrappers ar<span class="_ _1"></span>e code objects that translate the str<span class="_ _1"></span>eam into a particular encoding or </div><div class="t m0 x3 h12 y1618 ff70 fsa fc2 sc0 ls0 ws0">protocol. The PHP man<span class="_ _1"></span>ual</div><div class="t m0 x97 h15 y1619 ff70 fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x70 h12 yafe ff70 fsa fc2 sc0 ls0 ws0"> has a list of the wrappers th<span class="_ _1"></span>at are implemented within the </div><div class="t m0 x3 h3c yaff ff70 fsa fc2 sc0 ls0 ws0">language, and the <span class="ff76">stream_wrapper_register()</span> function lets y<span class="_ _1"></span>ou define your own.</div><div class="t m0 x3 h16 y161a ff7b fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x1d h43 y161b ff76 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/wrappers.php</div><a class="l" href="http://www.php.net/"><div class="d m1" style="border-style:none;position:absolute;left:127.106000px;bottom:250.899000px;width:81.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:159.326000px;bottom:177.935000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/wrappers.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.622500px;width:161.500200px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe5" class="pf w2 h4" data-page-no="e5"><div class="pc pce5 w2 h4"><img class="bi x8 y161c w1e h9c" alt="" src="bge5.png"/><div class="t m0 x8 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x8 hd y55 ff70 fs6 fc2 sc0 ls1f wsfb">212</div><div class="t m0 x8 h10 yc67 ff74 fs6 fc2 sc0 ls0 ws0">Protocol<span class="_ _1a"> </span>Use</div><div class="t m0 x8 h3c yc68 ff76 fsa fc2 sc0 ls0 ws0">file://<span class="_ _d4"> </span><span class="ff70">Accessing the local file system</span></div><div class="t m0 x8 h3c yc69 ff76 fsa fc2 sc0 ls0 ws0">http://<span class="_ _d4"> </span><span class="ff70">Accessing HTTP(s) URLs</span></div><div class="t m0 x8 h3c yc6a ff76 fsa fc2 sc0 ls0 ws0">ftp://<span class="_ _63"> </span><span class="ff70">Accessing FTP(s) URLs</span></div><div class="t m0 x8 h3c y161d ff76 fsa fc2 sc0 ls0 ws0">php://<span class="_ _63"> </span><span class="ff70">Accessing various I/O str<span class="_ _1"></span>eams</span></div><div class="t m0 x8 h3c y161e ff76 fsa fc2 sc0 ls0 ws0">compress.zlib://<span class="_ _34"> </span><span class="ff70">Com<span class="_ _1"></span>pression streams</span></div><div class="t m0 x8 h3c y161f ff76 fsa fc2 sc0 ls0 ws0">data://<span class="_ _d4"> </span><span class="ff70">Data (RFC 2397)</span></div><div class="t m0 x8 h3c y1620 ff76 fsa fc2 sc0 ls0 ws0">glob://<span class="_ _d4"> </span><span class="ff70">Find pathn<span class="_ _1"></span>ames matching a pattern</span></div><div class="t m0 x8 h3c y1621 ff76 fsa fc2 sc0 ls0 ws0">phar://<span class="_ _d4"> </span><span class="ff70">PHP archive</span></div><div class="t m0 x8 h3c y1622 ff76 fsa fc2 sc0 ls0 ws0">ssh2://<span class="_ _d4"> </span><span class="ff70">Secure Shell 2</span></div><div class="t m0 x8 h3c y1623 ff76 fsa fc2 sc0 ls0 ws0">rar://<span class="_ _63"> </span><span class="ff70">RAR</span></div><div class="t m0 x8 h3c y1624 ff76 fsa fc2 sc0 ls0 ws0">ogg://<span class="_ _63"> </span><span class="ff70">Audio str<span class="_ _1"></span>eams</span></div><div class="t m0 x8 h3c y1625 ff76 fsa fc2 sc0 ls0 ws0">expect://<span class="_ _35"> </span><span class="ff70">Process interaction str<span class="_ _1"></span>eams</span></div><div class="t m0 x3 h3c y1626 ff70 fsa fc2 sc0 ls0 ws0">The PHP streams th<span class="_ _1"></span>at you can access are <span class="ff76">stdin</span>, <span class="ff76">stdout</span>, <span class="ff76">stderr</span>, <span class="ff76">input</span>, <span class="ff76">output</span>, fd, </div><div class="t m0 x8 h3c y1627 ff76 fsa fc2 sc0 ls0 ws0">memory<span class="ff70">, </span>temp<span class="ff70">, and </span>filter<span class="ff70">.</span></div><div class="t m0 x3 h12 y1628 ff70 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t in order to impro<span class="_ _1"></span>ve readability, I<span class="_ _1"></span>’ve omitted the pr<span class="_ _1"></span>otocol for all of these </div><div class="t m0 x8 h3c y1629 ff70 fsa fc2 sc0 ls0 ws0">streams<span class="_ _1"></span>. When you use them, they should all be prefixed b<span class="_ _1"></span>y the <span class="ff76">php://</span> protocol, for </div><div class="t m0 x8 h3c y162a ff70 fsa fc2 sc0 ls0 ws0">example, <span class="ff76">stdin</span> is <span class="ff76">php://stdin</span>.</div><div class="t m0 x3 h3c y162b ff70 fsa fc2 sc0 ls0 ws0">As an example of reading a str<span class="_ _1"></span>eam, let’<span class="_ _2"></span>s look at how to read the body of a <span class="ff76">PUT</span> </div><div class="t m0 x8 h12 y162c ff70 fsa fc2 sc0 ls0 ws0">request. A<span class="_ _1"></span>t some time in your career you will be coding a REST API and will need to </div><div class="t m0 x8 h3c y162d ff70 fsa fc2 sc0 ls0 ws0">read and parse the body of <span class="ff76">PUT</span> requests th<span class="_ _1"></span>at clients are m<span class="_ _1"></span>aking to your server<span class="_ _2"></span>. There is </div><div class="t m0 x8 h3c y162e ff70 fsa fc2 sc0 ls0 ws0">no superglobal for this request type as ther<span class="_ _1"></span>e is for <span class="ff76">GET</span> and <span class="ff76">POST</span>, so how is it done? The </div><div class="t m0 x8 h3c y162f ff70 fsa fc2 sc0 ls0 ws0">answer is in the <span class="ff76">php://input</span> stream!</div><div class="t m0 x8 h3c y1630 ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1631 ff76 fsa fc2 sc0 ls0 ws0">// reads the PUT body</div><div class="t m0 x8 h3c y1632 ff76 fsa fc2 sc0 ls0 ws0">$input = file_get_contents(&apos;php://input&apos;);</div><div class="t m0 x8 h3c y1633 ff76 fsa fc2 sc0 ls0 ws0">// parses the input into an array</div><div class="t m0 x8 h3c y1634 ff76 fsa fc2 sc0 ls0 ws0">parse_str($input, $params);</div><div class="t m0 x8 h3c y1635 ff76 fsa fc2 sc0 ls0 ws0">print_r($params);</div><div class="t m0 x8 h26 y1636 ff70 fse fc2 sc0 ls0 ws0">Filt<span class="_ _1"></span>ers</div><div class="t m0 x8 h12 y1637 ff70 fsa fc2 sc0 ls0 ws0">Stream filter<span class="_ _1"></span>s can be applied to streams and perform transformation opera<span class="_ _1"></span>tions on data </div><div class="t m0 x8 h12 y1638 ff70 fsa fc2 sc0 ls0 ws0">leaving the str<span class="_ _1"></span>eam.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe6" class="pf w2 h4" data-page-no="e6"><div class="pc pce6 w2 h4"><img class="bi x3 y1639 w5 h9d" alt="" src="bge6.png"/><div class="t m0 x85 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x21 hd y55 ff70 fs6 fc2 sc0 ls1f wsfb">213</div><div class="t m0 x3 h10 yc67 ff74 fs6 fc2 sc0 ls0 ws0">Filter<span class="_ _d5"> </span>Function</div><div class="t m0 x3 h3c yc68 ff76 fsa fc2 sc0 ls0 ws0">string.rot13<span class="_ _24"> </span><span class="ff70">Encodes the data with ROT13</span></div><div class="t m0 x3 h3c yc69 ff76 fsa fc2 sc0 ls0 ws0">string.toupper<span class="_ _94"> </span><span class="ff70">Converts the string to uppercase</span></div><div class="t m0 x3 h3c yc6a ff76 fsa fc2 sc0 ls0 ws0">string.tolower<span class="_ _94"> </span><span class="ff70">Converts the string to lowercase</span></div><div class="t m0 x3 h3c y161d ff76 fsa fc2 sc0 ls0 ws0">string.strip_tags<span class="_ _34"> </span><span class="ff70">Strips XML tags from the s<span class="_ _1"></span>tring</span></div><div class="t m0 x3 h3c y161e ff76 fsa fc2 sc0 ls0 ws0">convert.*<span class="_ _36"> </span><span class="ff70">Converts data according to an algorithm, for exam<span class="_ _1"></span>ple</span></div><div class="t m0 x3 h3c y161f ff76 fsa fc2 sc0 ls0 ws0">mcrypt.*<span class="_ _d4"> </span><span class="ff70">Provides symmetric encryption using </span>libmcrypt</div><div class="t m0 x3 h3c y1620 ff76 fsa fc2 sc0 ls0 ws0">mdecrypt.*<span class="_ _d6"> </span><span class="ff70">The decryption filter using </span>libmcrypt</div><div class="t m0 x3 h3c y163a ff76 fsa fc2 sc0 ls0 ws0">zlib.*<span class="_ _a6"> </span><span class="ff70">Uses the ZLIB librar<span class="_ _0"></span>y to compr<span class="_ _1"></span>ess and uncompress data</span></div><div class="t m0 x1a h3c y163b ff70 fsa fc2 sc0 ls0 ws0">These filters are attac<span class="_ _1"></span>hed to a stream using the <span class="ff76">stream_filter_append()</span> function. </div><div class="t m0 x3 h12 y163c ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can apply the filter to the read and write directions of the str<span class="_ _1"></span>eam independently.</div><div class="t m0 x3 h3c y163d ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y163e ff76 fsa fc2 sc0 ls0 ws0">$handle = fopen(&quot;files.php&quot;, &apos;a+&apos;);</div><div class="t m0 x3 h3c y163f ff76 fsa fc2 sc0 ls0 ws0">stream_filter_append($handle, &apos;string.rot13&apos;);</div><div class="t m0 x3 h3c y1640 ff76 fsa fc2 sc0 ls0 ws0">while (!feof($handle)) {</div><div class="t m0 x3 h3c y1641 ff76 fsa fc2 sc0 ls0 ws0">    echo fread($handle,1024);</div><div class="t m0 x3 h3c y1642 ff76 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h3c y1643 ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can provide a thir<span class="_ _1"></span>d parameter to <span class="ff76">stream_filter_append()</span> to attach it to r<span class="_ _1"></span>eading </div><div class="t m0 x3 h3c y1644 ff70 fsa fc2 sc0 ls0 ws0">or writing the stream. T<span class="_ _1"></span>he parameter is one of the predefined constants <span class="ff76">STREAM_FILTER_</span></div><div class="t m0 x3 h3c y1645 ff76 fsa fc2 sc0 ls0 ws0">READ<span class="ff70">, </span>STREAM_FILTER_WRITE<span class="ff70">, or </span>STREAM_FILTER_ALL<span class="ff70">. By default, the filter is a<span class="_ _1"></span>ttached to </span></div><div class="t m0 x3 h12 y1646 ff70 fsa fc2 sc0 ls0 ws0">reads and writes.</div><div class="t m0 x1a h12 y1647 ff70 fsa fc2 sc0 ls0 ws0">This example will output something like this:</div><div class="t m0 x3 h3c y1648 ff76 fsa fc2 sc0 ls0 ws0">&lt;?cuc</div><div class="t m0 x3 h3c y1649 ff76 fsa fc2 sc0 ls0 ws0">$unaqyr = sbcra(&quot;svyrf.cuc&quot;, &apos;n+&apos;);</div><div class="t m0 x3 h3c y164a ff76 fsa fc2 sc0 ls0 ws0">fgernz_svygre_nccraq($unaqyr, &apos;fgevat.ebg13&apos;);</div><div class="t m0 x3 h3c y164b ff76 fsa fc2 sc0 ls0 ws0">juvyr (!srbs($unaqyr)) {</div><div class="t m0 x3 h3c y164c ff76 fsa fc2 sc0 ls0 ws0">    rpub sernq($unaqyr,1024);</div><div class="t m0 x3 h3c y164d ff76 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h26 y164e ff70 fse fc2 sc0 ls0 ws0">Str<span class="_ _1"></span>eam Contexts</div><div class="t m0 x3 h12 y164f ff70 fsa fc2 sc0 ls0 ws0">Stream con<span class="_ _1"></span>texts are wra<span class="_ _1"></span>ppers for a set of options that can modify a stream<span class="_ _2"></span>’<span class="_ _1"></span>s beha<span class="_ _1"></span>vior<span class="_ _2"></span>.</div><div class="t m0 x1a h3c y1650 ff70 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou create a context with the <span class="ff76">stream_context_create()</span> function. Y<span class="_ _2"></span>ou pass it two </div><div class="t m0 x3 h12 y1651 ff70 fsa fc2 sc0 ls0 ws0">optional parameters<span class="_ _1"></span>, both of which are associative arra<span class="_ _1"></span>ys. The first par<span class="_ _1"></span>ameter is the </div><div class="t m0 x3 h12 y1652 ff70 fsa fc2 sc0 ls0 ws0">options, and the second is an array of con<span class="_ _1"></span>text parameters.</div><div class="t m0 x1a h12 y1653 ff70 fsa fc2 sc0 ls0 ws0">Each type of stream has its o<span class="_ _1"></span>wn set of context options. The PHP man<span class="_ _1"></span>ual has the </div><div class="t m0 x3 h12 y1654 ff70 fsa fc2 sc0 ls0 ws0">exhaustive list of them<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1655 ff70 fsa fc2 sc0 ls0 ws0">The only parameter curren<span class="_ _1"></span>tly available is a c<span class="_ _1"></span>allable that will be called when an event </div><div class="t m0 x3 h3c y1656 ff70 fsa fc2 sc0 ls0 ws0">occurs on a stream<span class="_ _1"></span>. The events are all pr<span class="_ _1"></span>edefined <span class="ff76">STREAM_NOTIFY_*</span> constants.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe7" class="pf w2 h4" data-page-no="e7"><div class="pc pce7 w2 h4"><img class="bi x8 y1657 w5 h9e" alt="" src="bge7.png"/><div class="t m0 x8 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x8 hd y55 ff70 fs6 fc2 sc0 ls19 wsf5">2<span class="_ _0"></span>14</div><div class="t m0 x3 h12 y1b8 ff70 fsa fc2 sc0 ls0 ws0">The prototype for the callbac<span class="_ _1"></span>k function is in the PHP Manual, along with an example </div><div class="t m0 x8 h12 y1b9 ff70 fsa fc2 sc0 ls0 ws0">of notify events for the HTTP stream.</div><div class="t m0 x3 h12 y2d2 ff70 fsa fc2 sc0 ls0 ws0">As an example, if you ar<span class="_ _1"></span>e downloading a file, yo<span class="_ _1"></span>u could set up your callback function </div><div class="t m0 x8 h3c y2d3 ff70 fsa fc2 sc0 ls0 ws0">to respond to the <span class="ff76">STREAM_NOTIFY_FILE_SIZE_IS</span> event and a<span class="_ _1"></span>bort the download if it is too </div><div class="t m0 x8 h3c y2d4 ff70 fsa fc2 sc0 ls0 ws0">big. This example pr<span class="_ _1"></span>events us from downloading the home page of <span class="ff76 fc4">www.example.com</span> if it </div><div class="t m0 x8 h12 y1bd ff70 fsa fc2 sc0 ls0 ws0">is larger than a kilobyte<span class="_ _1"></span>.</div><div class="t m0 x8 h3c y2d5 ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y2d6 ff76 fsa fc2 sc0 ls0 ws0">function callback($notification_code,</div><div class="t m0 x8 h3c y2d7 ff76 fsa fc2 sc0 ls0 ws0">    $severity,</div><div class="t m0 x8 h3c y2d8 ff76 fsa fc2 sc0 ls0 ws0">    $message,</div><div class="t m0 x8 h3c y2d9 ff76 fsa fc2 sc0 ls0 ws0">    $message_code,</div><div class="t m0 x8 h3c y2da ff76 fsa fc2 sc0 ls0 ws0">    $bytes_transferred,</div><div class="t m0 x8 h3c y43c ff76 fsa fc2 sc0 ls0 ws0">    $bytes_max)</div><div class="t m0 x8 h3c y2db ff76 fsa fc2 sc0 ls0 ws0">{  </div><div class="t m0 x8 h3c y2dc ff76 fsa fc2 sc0 ls0 ws0">    if ($notification_code == STREAM_NOTIFY_FILE_SIZE_IS) {</div><div class="t m0 x8 h3c y2dd ff76 fsa fc2 sc0 ls0 ws0">        if ($bytes_max &gt; 1024) {</div><div class="t m0 x8 h3c y2de ff76 fsa fc2 sc0 ls0 ws0">            die(&quot;Download too big!&quot;);</div><div class="t m0 x8 h3c y2df ff76 fsa fc2 sc0 ls0 ws0">        }</div><div class="t m0 x8 h3c y2e0 ff76 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y8bf ff76 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y8c0 ff76 fsa fc2 sc0 ls0 ws0">$context = stream_context_create();</div><div class="t m0 x8 h3c y8c2 ff76 fsa fc2 sc0 ls0 ws0">stream_context_set_params($context,</div><div class="t m0 x8 h3c y8c3 ff76 fsa fc2 sc0 ls0 ws0">    [&quot;notification&quot; =&gt; &quot;callback&quot;]);</div><div class="t m0 x8 h3c y8c5 ff76 fsa fc2 sc0 ls0 ws0">$handle = fopen(&apos;http://www.example.com&apos;, &apos;r&apos;, false, $context);</div><div class="t m0 x8 h3c y8c7 ff76 fsa fc2 sc0 ls0 ws0">fpassthru($handle);</div><div class="t m0 x3 h3c y8c9 ff70 fsa fc2 sc0 ls0 wsf0">Y<span class="_ _2"></span>ou can change the options and parameters with the <span class="ff76 ws0">stream_context_set_params()<span class="ff70"> </span></span></div><div class="t m0 x8 h3c y8ca ff70 fsa fc2 sc0 ls0 ws0">function, while the <span class="ff76">stream_context_get_params()</span> will return the current p<span class="_ _1"></span>arameters for </div><div class="t m0 x8 h12 y1658 ff70 fsa fc2 sc0 ls0 ws0">the stream<span class="_ _1"></span>.</div><div class="t m0 x4a hf y1659 ff73 fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">8</span> QUIZ</div><div class="t m0 x4b h10 y165a ff78 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Assume that the web ser<span class="_ _0"></span>ver user owns the <span class="ff76 fsa">data.csv</span> file and that it contains the </div><div class="t m0 x4b h10 y165b ff78 fs6 fc2 sc0 ls0 ws0">string <span class="ff76 fsa">&quot;Hello World&quot;</span> before this script runs.<span class="_ _1"></span> <span class="_ _1"></span>What will the output of this code be?</div><div class="t m0 x4b h3c y165c ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y165d ff76 fsa fc2 sc0 ls0 ws0">file_put_contents(&apos;data.csv&apos;, &apos;1,2,3,4,5&apos;);</div><div class="t m0 x4b h3c y165e ff76 fsa fc2 sc0 ls0 ws0">$handle = fopen(&apos;data.csv&apos;, &apos;c+&apos;);</div><div class="t m0 x4b h3c y165f ff76 fsa fc2 sc0 ls0 ws0">$data = fgetcsv($handle, 2);</div><div class="t m0 x4b h3c y1660 ff76 fsa fc2 sc0 ls0 ws0">var_dump($data[1]);</div><a class="l" href="http://www.example.com/"><div class="d m1" style="border-style:none;position:absolute;left:295.322000px;bottom:545.289000px;width:67.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_8"><div class="d m1" style="border-style:none;position:absolute;left:222.216000px;bottom:193.903000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe8" class="pf w2 h4" data-page-no="e8"><div class="pc pce8 w2 h4"><img class="bi x5 y1661 w1f h9f" alt="" src="bge8.png"/><div class="t m0 x85 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x21 hd y55 ff70 fs6 fc2 sc0 ls1f wsfb">215</div><div class="t m0 x5 h10 y5ec ff78 fs6 fc2 sc0 ls0 ws0">string(0) &quot;&quot;</div><div class="t m0 x5 h10 ycbd ff78 fs6 fc2 sc0 ls0 ws0">string(1) &quot;,&quot;</div><div class="t m0 x5 h10 y153e ff78 fs6 fc2 sc0 ls0 ws0">string(1) &quot;1&quot;</div><div class="t m0 x5 h10 y1662 ff78 fs6 fc2 sc0 ls0 ws0">string(1) &quot;2&quot;</div><div class="t m0 x5 h10 y1663 ff78 fs6 fc2 sc0 ls0 ws0">This will produce an error</div><div class="t m0 x5 h10 y1664 ff78 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h3c y1665 ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h3c y1666 ff76 fsa fc2 sc0 ls0 ws0">file_put_contents(&apos;test.csv&apos;, &apos;1,2,3,4,5&apos;);</div><div class="t m0 x5 h3c y1667 ff76 fsa fc2 sc0 ls0 ws0">$handle = fopen(&apos;test.csv&apos;, &apos;c&apos;);</div><div class="t m0 x5 h3c y1668 ff76 fsa fc2 sc0 ls0 ws0">fputcsv($handle, [&apos;6&apos;, &apos;7&apos;, &apos;8&apos;]);</div><div class="t m0 x5 h3c y1669 ff76 fsa fc2 sc0 ls0 ws0">fclose($handle);</div><div class="t m0 x5 h3c y166a ff76 fsa fc2 sc0 ls0 ws0">echo file_get_contents(&apos;test.csv&apos;);</div><div class="t m0 x5 h10 y166b ff78 fs6 fc2 sc0 ls0 ws0">This will produce an error</div><div class="t m0 x5 h3c y166c ff76 fsa fc2 sc0 ls0 ws0">1,2,3,4,5,6,7,8</div><div class="t m0 x5 h3c y166d ff76 fsa fc2 sc0 ls0 ws0">6,7,8,1,2,3,4,5</div><div class="t m0 x5 h3c y166e ff76 fsa fc2 sc0 ls0 ws0">6,7,8</div><div class="t m0 x5 h3c y166f ff76 fsa fc2 sc0 ls0 ws0">1,2,3,4,5</div><div class="t m0 x5 h3c y1670 ff76 fsa fc2 sc0 ls0 ws0">6,7,8,1,2,3,4,5</div><div class="t m0 x5 h3c y1671 ff76 fsa fc2 sc0 ls0 ws0">1,2,3,4,5</div><div class="t m0 x5 h3c y1672 ff76 fsa fc2 sc0 ls0 ws0">6,7,8</div><div class="t m0 x5 h10 y1673 ff78 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> If you are writing a REST interface and need to read the parameters sent in a </div><div class="t m0 x5 h10 y1674 ff76 fsa fc2 sc0 ls0 ws0">PUT<span class="ff78 fs6"> request,<span class="_ _1"></span> how can you do this?</span></div><div class="t m0 x5 h10 y1675 ff78 fs6 fc2 sc0 ls0 ws0">Reference the <span class="ff76 fsa">$_REQUEST<span class="ff70"> </span></span>superglobal</div><div class="t m0 x5 h10 y1676 ff78 fs6 fc2 sc0 ls0 ws0">Reference the <span class="ff76 fsa">$_POST</span> superglobal</div><div class="t m0 x5 h10 y1677 ff78 fs6 fc2 sc0 ls0 ws0">Read the <span class="ff76 fsa">php://input stream</span></div><div class="t m0 x5 h10 y1678 ff78 fs6 fc2 sc0 ls0 ws0">Read the <span class="ff76 fsa">http://input stream</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe9" class="pf w2 h4" data-page-no="e9"><div class="pc pce9 w2 h4"><img class="bi x8 y9be w3 ha0" alt="" src="bge9.png"/><div class="t m0 x8 h11 y54 ff78 fs9 fc2 sc0 ls0 ws0">CHAPTER 8 <span class="ff79 fc5">■</span> INPUT<span class="_ _1"></span>-OUTPUT</div><div class="t m0 x8 hd y55 ff70 fs6 fc2 sc0 ls1c wsf8">216</div><div class="t m0 x4b h10 y609 ff78 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> I want to write log entries to a file when my PHP program runs.<span class="_ _1"></span> I do not want </div><div class="t m0 x4b h10 y120d ff78 fs6 fc2 sc0 ls0 ws0">to lose old log entries and I need my log entries to be in proper date order with the </div><div class="t m0 x4b h10 y120e ff78 fs6 fc2 sc0 ls0 ws0">most recent entries following older entries.<span class="_ _1"></span> <span class="_ _1"></span>What file mode should I open my file in?</div><div class="t m0 x4b h10 y1679 ff78 fs6 fc2 sc0 ls0 ws0">r</div><div class="t m0 x4b h10 y167a ff78 fs6 fc2 sc0 ls0 ws0">a</div><div class="t m0 x4b h10 y167b ff78 fs6 fc2 sc0 ls0 ws0">x</div><div class="t m0 x4b h10 y167c ff78 fs6 fc2 sc0 ls0 ws0">c</div><div class="t m0 x4b h10 y167d ff78 fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>Assume that the file I retrieve is a valid GIF format ima<span class="_ _0"></span>ge and that I am running </div><div class="t m0 x4b h10 y167e ff78 fs6 fc2 sc0 ls0 ws0">PHP in Linux.<span class="_ _1"></span> <span class="_ _1"></span>What will the output of this code be?</div><div class="t m0 x4b h3c y167f ff76 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y1680 ff76 fsa fc2 sc0 ls0 ws0">// This is a valid GIF image</div><div class="t m0 x4b h3c y1681 ff76 fsa fc2 sc0 ls0 ws0">$url = &apos; https://goo.gl/QycgqH&apos;;</div><div class="t m0 x4b h3c y1682 ff76 fsa fc2 sc0 ls0 ws0">file_put_contents(&apos;earth.gif&apos;, file_get_contents($url));</div><div class="t m0 x4b h3c y1683 ff76 fsa fc2 sc0 ls0 ws0">if (!rename(&apos;earth.gif&apos;, &apos;earth.jpeg&apos;)) {</div><div class="t m0 x4b h3c y1684 ff76 fsa fc2 sc0 ls0 ws0">    throw new RuntimeException(&apos;Could not rename the file.&apos;);</div><div class="t m0 x4b h3c y1685 ff76 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h3c y1686 ff76 fsa fc2 sc0 ls0 ws0">$finfo = new finfo();</div><div class="t m0 x4b h3c y1687 ff76 fsa fc2 sc0 ls0 ws0">echo $finfo-&gt;file(&apos;earth.jpeg&apos;) . PHP_EOL;</div><div class="t m0 x4b h10 y1688 ff78 fs6 fc2 sc0 ls0 ws0">This produces an error</div><div class="t m0 x4b h10 y1689 ff78 fs6 fc2 sc0 ls0 ws0">GIF image data, version 89a,<span class="_ _1"></span> 400x400</div><div class="t m0 x4b h10 y168a ff78 fs6 fc2 sc0 ls0 ws0">JPEG image data, 400x400</div><div class="t m0 x4b h3c y168b ff76 fsa fc2 sc0 ls0 ws0">image/gif</div><div class="t m0 x4b h3c y168c ff76 fsa fc2 sc0 ls0 ws0">image/jpeg</div><div class="t m0 x4b h10 y168d ff78 fs6 fc2 sc0 ls0 ws0">Could not rename the file</div><div class="t m0 x4b h10 y168e ff78 fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfea" class="pf w2 h4" data-page-no="ea"><div class="pc pcea w2 h4"><img class="bi x0 y168f w4 ha1" alt="" src="bgea.png"/><div class="t m0 x21 hd y3e ff7c fs6 fc2 sc0 ls1d wsf9">2<span class="_ _0"></span>17</div><div class="t m0 x3 h1b y1ca ff7d fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff7d fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff7e">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff7d fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_9<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff7f fse fc2 sc0 ls0 ws0">CHAPTER 9</div><div class="t m0 x3 h1d y1ce ff80 fs7 fc2 sc0 ls0 ws0">W<span class="_ _1"></span>eb Features</div><div class="t m0 x3 h12 y612 ff7c fsa fc2 sc0 ls0 ws0">PHP is a language crea<span class="_ _1"></span>ted for the web. I<span class="_ _1"></span>ts original purpose was to make it easier to m<span class="_ _1"></span>ake </div><div class="t m0 x3 h12 y613 ff7c fsa fc2 sc0 ls0 ws0">web pages and it remains hea<span class="_ _1"></span>vily focused on server-<span class="_ _1"></span>side scripting. This chapter looks at </div><div class="t m0 x3 h12 y614 ff7c fsa fc2 sc0 ls0 ws0">some of the language featur<span class="_ _1"></span>es that make it one of the world<span class="_ _1"></span>&apos;s most popular ser<span class="_ _0"></span>ver<span class="_ _1"></span>-<span class="_ _1"></span>side </div><div class="t m0 x3 h12 y615 ff7c fsa fc2 sc0 ls0 ws0">web programmin<span class="_ _1"></span>g languages.</div><div class="t m0 x3 h19 y1690 ff81 fsd fc2 sc0 ls0 ws11b">Request T<span class="_ _11"></span>ypes</div><div class="t m0 x3 h12 y1691 ff7c fsa fc2 sc0 ls0 ws0">HTTP has several different r<span class="_ _1"></span>equest methods</div><div class="t m0 x62 h15 y1692 ff7c fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x24 h12 y1691 ff7c fsa fc2 sc0 ls0 ws0"> that ar<span class="_ _1"></span>e commonly referred to as HTTP </div><div class="t m0 x3 h12 y1693 ff7c fsa fc2 sc0 ls0 ws0">verbs. The HTTP specification</div><div class="t m0 x31 h15 y1694 ff7c fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x33 h12 y1695 ff7c fsa fc2 sc0 ls0 ws0"> lays out in consider<span class="_ _1"></span>able detail what each verb is intended </div><div class="t m0 x3 h12 y1696 ff7c fsa fc2 sc0 ls0 ws0">for<span class="_ _2"></span>. Y<span class="_ _2"></span>our application should adhere to this specification so tha<span class="_ _1"></span>t it is compatible with the </div><div class="t m0 x3 h12 y1697 ff7c fsa fc2 sc0 ls0 ws0">clients using it.</div><div class="t m0 x3 h20 y1698 ff80 fs6 fc2 sc0 ls0 ws0">V<span class="_ _1"></span>erb<span class="_ _d7"> </span>Used T<span class="_ _2"></span>o</div><div class="t m0 x3 h3c y1699 ff82 fsa fc2 sc0 ls0 ws0">GET<span class="_ _3c"> </span><span class="ff7c">R<span class="_ _1"></span>etrieve a representation of the specified r<span class="_ _1"></span>esource</span></div><div class="t m0 x3 h3c y169a ff82 fsa fc2 sc0 ls0 ws0">HEAD<span class="_ _32"> </span><span class="ff7c">Identical to </span>GET<span class="ff7c"> but without any response body</span></div><div class="t m0 x3 h3c y169b ff82 fsa fc2 sc0 ls0 ws0">POST<span class="_ _32"> </span><span class="ff7c">Submit an entr<span class="_ _0"></span>y to the server<span class="_ _2"></span>, often resulting in a change such as addin<span class="_ _1"></span>g </span></div><div class="t m0 x40 h12 y169c ff7c fsa fc2 sc0 ls0 ws0">a new resour<span class="_ _1"></span>ce</div><div class="t m0 x3 h3c y169d ff82 fsa fc2 sc0 ls0 ws0">PUT<span class="_ _3c"> </span><span class="ff7c">R<span class="_ _1"></span>eplace the specified resource with the one in the request pa<span class="_ _1"></span>yload</span></div><div class="t m0 x3 h3c y169e ff82 fsa fc2 sc0 ls0 ws0">PATCH<span class="_ _80"> </span><span class="ff7c">Apply a partial modification to the specified resour<span class="_ _1"></span>ce</span></div><div class="t m0 x3 h3c y169f ff82 fsa fc2 sc0 ls0 ws0">DELETE<span class="_ _82"> </span><span class="ff7c">Delete the specified resource</span></div><div class="t m0 x3 h3c y16a0 ff82 fsa fc2 sc0 ls0 ws0">CONNECT<span class="_ _59"> </span><span class="ff7c">Initia<span class="_ _1"></span>te an HTTP tunnel</span></div><div class="t m0 x5d h15 y16a1 ff7c fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x3 h3c y16a2 ff82 fsa fc2 sc0 ls0 ws0">OPTIONS<span class="_ _59"> </span><span class="ff7c">Describe the communication options for the target r<span class="_ _1"></span>esource</span></div><div class="t m0 x3 h3c y16a3 ff82 fsa fc2 sc0 ls0 ws0">TRACE<span class="_ _80"> </span><span class="ff7c">Performs a message loop-back test to the target resour<span class="_ _1"></span>ce</span></div><div class="t m0 x3 h16 y16a4 ff83 fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h43 y16a5 ff82 fs5 fc4 sc0 ls0 ws0">https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods</div><div class="t m0 x3 h16 y16a6 ff83 fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h43 y16a7 ff82 fs5 fc4 sc0 ls0 ws0">https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9</div><div class="t m0 x3 h16 y16a8 ff83 fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x1d h43 y16a9 ff82 fs5 fc4 sc0 ls0 ws0">https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_9"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:155.210000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfea" data-dest-detail='[234,"XYZ",57,104,null]'><div class="d m1" style="border-style:none;position:absolute;left:225.186000px;bottom:362.743000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfea" data-dest-detail='[234,"XYZ",57,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:172.501000px;bottom:351.743000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfea" data-dest-detail='[234,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:208.496000px;bottom:188.243000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:91.947300px;width:242.250200px;height:11.168700px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:81.947300px;width:250.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:71.947300px;width:276.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfeb" class="pf w2 h4" data-page-no="eb"><div class="pc pceb w2 h4"><img class="bi x8 y168f w3 ha2" alt="" src="bgeb.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls1e wsfa">218</div><div class="t m0 x8 h19 y24e ff81 fsd fc2 sc0 ls0 ws0">Request Data</div><div class="t m0 x8 h12 y24f ff7c fsa fc2 sc0 ls0 ws0">In a typical pr<span class="_ _1"></span>oduction web environment, P<span class="_ _1"></span>HP accepts requests passed to it by the web </div><div class="t m0 x8 h12 y337 ff7c fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>. It runs and processes the request before termina<span class="_ _1"></span>ting and waiting for the next </div><div class="t m0 x8 h12 y338 ff7c fsa fc2 sc0 ls0 ws0">request. The web server can pass data along with the r<span class="_ _1"></span>equest and this data forms part of </div><div class="t m0 x8 h12 y6f5 ff7c fsa fc2 sc0 ls0 ws0">the context</div><div class="t m0 xd h15 y16aa ff7c fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 x7 h12 y16ab ff7c fsa fc2 sc0 ls0 ws0"> in which PHP runs.</div><div class="t m0 x3 h12 y16ac ff7c fsa fc2 sc0 ls0 ws0">An HTTP request consists of three parts: the URL<span class="_ _0"></span>, the headers, and the body. Da<span class="_ _1"></span>ta </div><div class="t m0 x8 h12 y16ad ff7c fsa fc2 sc0 ls0 ws0">can be included in any of these parts of the request and will be made av<span class="_ _1"></span>ailable to your </div><div class="t m0 x8 h12 y16ae ff7c fsa fc2 sc0 ls0 ws0">PHP application as follows:</div><div class="t m0 x8 h20 y16af ff80 fs6 fc2 sc0 ls0 ws0">Source<span class="_ _b2"> </span>Passed In<span class="_ _d8"> </span>A<span class="_ _1"></span>vailable In</div><div class="t m0 x8 h3c y16b0 ff82 fsa fc2 sc0 ls0 ws0">GET<span class="_ _7a"> </span><span class="ff7c">Parameters in the r<span class="_ _1"></span>equest URL<span class="_ _ab"> </span><span class="ff82">$_GET</span></span></div><div class="t m0 x8 h3c y16b1 ff82 fsa fc2 sc0 ls0 ws0">POST<span class="_ _62"> </span><span class="ff7c">Body of the request<span class="_ _d9"> </span></span>$_POST</div><div class="t m0 x8 h3c y16b2 ff82 fsa fc2 sc0 ls0 ws0">PUT<span class="_ _7a"> </span><span class="ff7c">B<span class="_ _0"></span>ody of the r<span class="_ _1"></span>equest<span class="_ _d9"> </span>Read with <span class="ff82">php://input</span></span></div><div class="t m0 x8 h3c y16b3 ff82 fsa fc2 sc0 ls0 ws0">PATCH<span class="_ _4a"> </span><span class="ff7c">Body of the request<span class="_ _d9"> </span>Read with </span>php://input</div><div class="t m0 x8 h3c y16b4 ff7c fsa fc2 sc0 ls11 wse8">Cookie<span class="_ _2d"> </span><span class="ls0 ws0">The “<span class="_ _2"></span>cookie” header<span class="_ _88"> </span><span class="ff82">$_COOKIE</span></span></div><div class="t m0 x8 h3c y16b5 ff7c fsa fc2 sc0 ls0 ws0">Uploaded file<span class="_ _7f"> </span>Body of the request<span class="_ _d9"> </span><span class="ff82">$_FILES</span></div><div class="t m0 x3 h3c y16b6 ff7c fsa fc2 sc0 ls0 ws0">If PHP is processing a r<span class="_ _1"></span>equest from the command line<span class="_ _1"></span>, then <span class="ff82">$_SERVER[&apos;argv&apos;]</span> </div><div class="t m0 x8 h3c y16b7 ff7c fsa fc2 sc0 ls0 ws0">contains an array of the arg<span class="_ _1"></span>uments passed and <span class="ff82">$_SERVER[&apos;argc&apos;]</span> contains the number </div><div class="t m0 x8 h12 y16b8 ff7c fsa fc2 sc0 ls0 ws0">of arguments tha<span class="_ _1"></span>t were passed.</div><div class="t m0 x3 h12 y16b9 ff7c fsa fc2 sc0 ls0 ws0">In addition to data contained in the HTTP request<span class="_ _1"></span>, PHP can accept data from the </div><div class="t m0 x8 h12 y16ba ff7c fsa fc2 sc0 ls0 ws0">environmen<span class="_ _1"></span>t in which it runs. For exam<span class="_ _1"></span>ple, you could run PHP in a docker container and </div><div class="t m0 x8 h12 y16bb ff7c fsa fc2 sc0 ls0 ws0">set an environmen<span class="_ _1"></span>t variable that contains the addr<span class="_ _1"></span>ess of the database server<span class="_ _2"></span>. Y<span class="_ _1"></span>ou’<span class="_ _2"></span>d be </div><div class="t m0 x8 h3c y16bc ff7c fsa fc2 sc0 ls0 ws0">able to refer<span class="_ _1"></span>ence this in your PHP script using the <span class="ff82">$_ENV</span> superglobal.</div><div class="t m0 x89 h15 y16bd ff7c fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x8 h26 y16be ff7c fse fc2 sc0 ls0 ws0">The Request Super<span class="_ _1"></span>global</div><div class="t m0 x8 h3c y16bf ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">$_REQUEST</span> superglobal is an associative arra<span class="_ _1"></span>y that by default con<span class="_ _1"></span>tains the contents of </div><div class="t m0 x8 h3c y16c0 ff82 fsa fc2 sc0 ls0 ws0">$_GET<span class="ff7c">, </span>$_POST<span class="ff7c">, and </span>$_COOKIE<span class="ff7c">.</span></div><div class="t m0 x3 h3c y16c1 ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">php.ini</span> setting <span class="ff82">variables_order</span> determines which of the <span class="ff82">ENV</span>, <span class="ff82">GET</span>, <span class="ff82">POST</span>, and </div><div class="t m0 x8 h3c y16c2 ff82 fsa fc2 sc0 ls0 ws0">COOKIE<span class="ff7c"> variables are pr<span class="_ _1"></span>esent in the <span class="ff82">$_REQUEST</span> array as well as the order<span class="_ _11"></span>.</span></div><div class="t m0 x85 h15 y16c3 ff7c fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x3 h12 y16c4 ff7c fsa fc2 sc0 ls0 ws0">If the same variable is in multiple r<span class="_ _1"></span>equest types, it will take on the value of the last </div><div class="t m0 x8 h12 y16c5 ff7c fsa fc2 sc0 ls0 ws0">one in the sequence of this settings value.</div><div class="t m0 x3 h3c y16c6 ff7c fsa fc2 sc0 ls0 ws0">So<span class="_ _1"></span>, for example, imagine the configur<span class="_ _1"></span>ation is set to <span class="ff82">EGPCS</span>, indicating tha<span class="_ _1"></span>t <span class="ff82">POST</span> </div><div class="t m0 x8 h3c y16c7 ff7c fsa fc2 sc0 ls0 ws0">comes after <span class="ff82">GET</span>. Then if both <span class="ff82">$_GET[&apos;action&apos;]</span> and <span class="ff82">$_POST[&apos;action&apos;]</span> are set, then </div><div class="t m0 x8 h3c y16c8 ff82 fsa fc2 sc0 ls0 ws0">$_REQUEST[&apos;action&apos;]<span class="ff7c"> will contain the value of </span>$_POST[&apos;action&apos;]<span class="ff7c">.</span></div><div class="t m0 x8 h16 y16c9 ff83 fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x26 h43 y16ca ff82 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Context_(computing<span class="fc2">)</span></div><div class="t m0 x8 h16 y16cb ff83 fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x26 h43 y16cc ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/reserved.variables.environment.php</div><div class="t m0 x8 h16 y16cd ff83 fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x26 h43 y16ce ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/ini.core.php#ini.variables-order</div><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",39,104,null]'><div class="d m1" style="border-style:none;position:absolute;left:82.358700px;bottom:531.765000px;width:2.623500px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",39,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:301.875000px;bottom:286.979000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:311.765000px;bottom:202.979000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Context_(computing"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:92.089000px;width:204.000200px;height:11.169000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/reserved.variables.environment.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:82.089000px;width:255.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/ini.core.php#ini.variables-order"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.089000px;width:246.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfec" class="pf w2 h4" data-page-no="ec"><div class="pc pcec w2 h4"><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x21 hd y55 ff7c fs6 fc2 sc0 ls1f wsfb">219</div><div class="t m0 x1a h3c y2a8 ff7c fsa fc2 sc0 ls0 ws0">Because you won’t be certain of exactly where the data in <span class="ff82">$_REQUEST</span> is coming fr<span class="_ _1"></span>om, </div><div class="t m0 x3 h12 y3e3 ff7c fsa fc2 sc0 ls0 ws0">you should use this array with caution. I<span class="_ _1"></span>ntroducing uncertainty in your code com<span class="_ _1"></span>plicates </div><div class="t m0 x3 h12 y424 ff7c fsa fc2 sc0 ls0 ws0">your testing and could impact security.</div><div class="t m0 x3 h26 yb2b ff7c fse fc2 sc0 ls53 ws12f">PO<span class="_ _0"></span>ST</div><div class="t m0 x3 h3c yb2c ff7c fsa fc2 sc0 ls0 ws0">By conven<span class="_ _1"></span>tion, <span class="ff82">POST</span> requests are used to send data to the web site and instruct it to cr<span class="_ _1"></span>eate </div><div class="t m0 x3 h12 yb2d ff7c fsa fc2 sc0 ls0 ws0">a new entity. It is a write opera<span class="_ _1"></span>tion in the CRUD paradigm<span class="_ _1"></span>.</div><div class="t m0 x3 h1c y16cf ff81 fse fc2 sc0 ls0 ws0">Receiving POST Data</div><div class="t m0 x3 h3c y16d0 ff7c fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iables sent in a <span class="ff82">POST</span> r<span class="_ _1"></span>equest are included in the body. Contr<span class="_ _1"></span>ast this with <span class="ff82">GET</span> requests </div><div class="t m0 x3 h12 y16d1 ff7c fsa fc2 sc0 ls0 ws0">that pass variables in the URL.</div><div class="t m0 x1a h12 y16d2 ff7c fsa fc2 sc0 ls0 ws0">If a user submits a form, then the browser will encode the values into the body of the </div><div class="t m0 x3 h3c y16d3 ff7c fsa fc2 sc0 ls0 ws0">request and send it to you. Similarl<span class="_ _1"></span>y, an application <span class="ff82">POST</span>ing to an API endpoint will need </div><div class="t m0 x3 h12 y16d4 ff7c fsa fc2 sc0 ls0 ws0">to encode the variables into the request body. PHP will mak<span class="_ _1"></span>e them available to you in the </div><div class="t m0 x3 h3c y16d5 ff82 fsa fc2 sc0 ls0 ws0">$_POST<span class="ff7c"> variable.</span></div><div class="t m0 x1a h3c y16d6 ff7c fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, here is an example of a <span class="ff82">POST</span> to a web site th<span class="_ _1"></span>at is sending <span class="ff82">Ronald</span> as the </div><div class="t m0 x3 h3c y16d7 ff7c fsa fc2 sc0 ls0 ws0">value of the name variable<span class="_ _1"></span>. This request would be used to add a person called <span class="ff82">Ron</span> to the </div><div class="t m0 x3 h12 y16d8 ff7c fsa fc2 sc0 ls0 ws0">fan club<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y16d9 ff82 fsa fc2 sc0 ls0 ws0">POST  HTTP/1.1</div><div class="t m0 x3 h3c y16da ff82 fsa fc2 sc0 ls0 ws0">Host: bieberfanclub.com</div><div class="t m0 x3 h3c y16db ff82 fsa fc2 sc0 ls0 ws0">Content-Type: application/x-www-form-urlencoded</div><div class="t m0 x3 h3c y16dc ff82 fsa fc2 sc0 ls0 ws0">Cache-Control: no-cache</div><div class="t m0 x3 h3c y16dd ff82 fsa fc2 sc0 ls0 ws0">name=Ronald</div><div class="t m0 x1a h3c y16de ff7c fsa fc2 sc0 ls0 ws0">If the application running <span class="ff82">bieberfanclub.com</span> were running PHP<span class="_ _11"></span>, then the <span class="ff82">$_POST</span> </div><div class="t m0 x3 h3c y16df ff7c fsa fc2 sc0 ls0 ws0">array would be an array con<span class="_ _1"></span>taining an element called <span class="ff82">name</span> with the value <span class="ff82">Ronald</span>.</div><div class="t m0 x1a h3c y16e0 ff7c fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e three advantages to sending variables with <span class="ff82">POST</span>:</div><div class="t m0 x7 h3c y16e1 ff86 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff82">POST<span class="ff7c"> data can be encoded in a particular character set, which isn’t </span></span></div><div class="t m0 x19 h3c y16e2 ff7c fsa fc2 sc0 ls0 ws0">the case with <span class="ff82">GET</span>.</div><div class="t m0 x7 h12 y16e3 ff86 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff7c">Because your variables ar<span class="_ _1"></span>e being sent in the message body, you’re </span></div><div class="t m0 x19 h12 y16e4 ff7c fsa fc2 sc0 ls0 ws0">not limited as to how much data yo<span class="_ _1"></span>u can send by the length of  </div><div class="t m0 x19 h12 y16e5 ff7c fsa fc2 sc0 ls0 ws0">the URL.</div><div class="t m0 x7 h3c y16e6 ff86 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff82">POST<span class="ff7c"> allows you to upload files but </span>GET<span class="ff7c"> does not.</span></span></div><div class="t m0 x1a h12 y16e7 ff7c fsa fc2 sc0 ls0 ws0">There is no differ<span class="_ _1"></span>ence in security betwe<span class="_ _0"></span>en the two methods<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y16e8 ff7c fsa fc2 sc0 ls0 ws0">There is no limit in the HTTP protocol on the length of the URL, but there ar<span class="_ _1"></span>e limits </div><div class="t m0 x3 h12 y16e9 ff7c fsa fc2 sc0 ls0 ws0">on browsers and other clients<span class="_ _1"></span>. As a general rule, don’t cr<span class="_ _1"></span>eate a URL longer than 2000 </div><div class="t m0 x3 h12 y16ea ff7c fsa fc2 sc0 ls0 ws0">characters<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfed" class="pf w2 h4" data-page-no="ed"><div class="pc pced w2 h4"><img class="bi x8 y6f4 w3 ha3" alt="" src="bged.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">220</div><div class="t m0 x8 h1c y654 ff81 fse fc2 sc0 ls0 ws0">Sending POST Data</div><div class="t m0 x8 h3c y655 ff7c fsa fc2 sc0 ls0 ws0">When you want to mak<span class="_ _1"></span>e a <span class="ff82">POST</span> request to another application, yo<span class="_ _1"></span>u need to take </div><div class="t m0 x8 h12 y656 ff7c fsa fc2 sc0 ls0 ws0">responsibility for encoding the variables in<span class="_ _1"></span>to the body. The simplest way to do this is </div><div class="t m0 x8 h3c y657 ff7c fsa fc2 sc0 ls0 ws0">with the <span class="ff82">curl</span> extension.</div><div class="t m0 x6d h15 y16eb ff7c fsb fc4 sc0 ls0 ws0">7</div><div class="t m0 x7d h12 y16ec ff7c fsa fc2 sc0 ls0 ws0"> Curl supports several pr<span class="_ _1"></span>otocols and makes it easy to set up your </div><div class="t m0 x8 h12 y16ed ff7c fsa fc2 sc0 ls0 ws0">request exactly as you wan<span class="_ _1"></span>t it.</div><div class="t m0 x3 h3c y16ee ff7c fsa fc2 sc0 ls0 ws0">Using <span class="ff82">curl</span> inv<span class="_ _1"></span>olves the following process:</div><div class="t m0 x8 h3c y16ef ff81 fsa fc2 sc0 ls0 wseb"> 1. <span class="_ _2b"></span><span class="ff7c ws0">Initialize a <span class="ff82">curl</span> session.</span></div><div class="t m0 x8 h12 y16f0 ff81 fsa fc2 sc0 ls0 wseb"> 2. <span class="_ _2b"></span><span class="ff7c ws0">Set options for the session.</span></div><div class="t m0 x8 h12 y16f1 ff81 fsa fc2 sc0 ls0 wseb"> 3. <span class="_ _2b"></span><span class="ff7c ws0">Execute the session (make the call).</span></div><div class="t m0 x8 h12 y16f2 ff81 fsa fc2 sc0 ls0 wseb"> 4. <span class="_ _2b"></span><span class="ff7c ws0">Close the session and release the resour<span class="_ _1"></span>ce.</span></div><div class="t m0 x3 h3c y16f3 ff7c fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at how yo<span class="_ _1"></span>u can use <span class="ff82">curl</span> to set up the request you looked at befor<span class="_ _1"></span>e, where </div><div class="t m0 x8 h3c y16f4 ff7c fsa fc2 sc0 ls10 wsea">you <span class="ff82 ls0 ws0">POST<span class="ff7c">ed the variable </span>name<span class="ff7c"> containing the value </span>Ronald<span class="ff7c"> to the Bie<span class="_ _1"></span>ber fan club.</span></span></div><div class="t m0 x8 h3c y16f5 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y16f6 ff82 fsa fc2 sc0 ls0 ws0">// We specify the url when we initialize the curl resource</div><div class="t m0 x8 h3c y16f7 ff82 fsa fc2 sc0 ls0 ws0">$curlResource = curl_init(&quot;https://requestb.in/13fkcqj1&quot;);</div><div class="t m0 x8 h3c y16f8 ff82 fsa fc2 sc0 ls0 ws0">// This array contains the variables we want to POST</div><div class="t m0 x8 h3c y16f9 ff82 fsa fc2 sc0 ls0 ws0">$postData = [&apos;name&apos; =&gt; &apos;Ron&apos;];</div><div class="t m0 x8 h3c y16fa ff82 fsa fc2 sc0 ls0 ws0">// Tell curl to do a application/x-www-form-urlencoded POST</div><div class="t m0 x8 h3c y16fb ff82 fsa fc2 sc0 ls0 ws0">curl_setopt($curlResource, CURLOPT_POST, true);</div><div class="t m0 x8 h3c y16fc ff82 fsa fc2 sc0 ls0 ws0">// We specify the values to POST</div><div class="t m0 x8 h3c y16fd ff82 fsa fc2 sc0 ls0 ws0">curl_setopt($curlResource,CURLOPT_POSTFIELDS, $postData);</div><div class="t m0 x8 h3c y16fe ff82 fsa fc2 sc0 ls0 ws0">// Execute the request and store the response</div><div class="t m0 x8 h3c y16ff ff82 fsa fc2 sc0 ls0 ws0">$response = curl_exec($curlResource);</div><div class="t m0 x8 h3c y1700 ff82 fsa fc2 sc0 ls0 ws0">// If there is an error it will be stored in $err</div><div class="t m0 x8 h3c y1701 ff82 fsa fc2 sc0 ls0 ws0">$err = curl_error($curlResource);</div><div class="t m0 x8 h3c y1702 ff82 fsa fc2 sc0 ls0 ws0">// Close the handle</div><div class="t m0 x8 h3c y1703 ff82 fsa fc2 sc0 ls0 ws0">curl_close($curlResource);</div><div class="t m0 x3 h12 y1704 ff7c fsa fc2 sc0 ls0 ws0">If you run this code, you will be able to see the res<span class="_ _1"></span>ult at  </div><div class="t m0 x8 h3c y1705 ff82 fsa fc4 sc0 ls0 ws0">https://requestb.in/13fkcqj1?inspect<span class="ff7c fc2">.</span></div><div class="t m0 x1e h10 y1706 ff84 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff85">■<span class="_ _c"> </span><span class="ff87 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff84 fc2"> <span class="_ _2c"> </span> It is possible to pass <span class="ff82 fsa">curl_setopt()</span> an array of all the options you want to set </span></span></div><div class="t m0 x8 h10 y1707 ff84 fs6 fc2 sc0 ls0 ws0">instead of calling it multiple times.</div><div class="t m0 x8 h26 y1708 ff7c fse fc2 sc0 ls48 ws122">GET</div><div class="t m0 x8 h3c y1709 ff82 fsa fc2 sc0 ls0 ws0">GET<span class="ff7c"> requests ar<span class="_ _1"></span>e typically used to get either a single entity or a collection of entities from a </span></div><div class="t m0 x8 h12 y170a ff7c fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>. Y<span class="_ _1"></span>ou can think of it as reading d<span class="_ _1"></span>ata from the server<span class="_ _2"></span>.</div><div class="t m0 x8 h16 y170b ff83 fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x26 h43 y170c ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/book.curl.php</div><a class="l" href="#pfed" data-dest-detail='[237,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:132.227000px;bottom:545.865000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://requestb.in/13fkcqj1?inspect"><div class="d m1" style="border-style:none;position:absolute;left:39.780000px;bottom:218.865000px;width:162.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/book.curl.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:71.730700px;width:165.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfee" class="pf w2 h4" data-page-no="ee"><div class="pc pcee w2 h4"><img class="bi x3 ya99 w7 h27" alt="" src="bgee.png"/><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x21 hd y55 ff7c fs6 fc2 sc0 ls1f wsfb">2<span class="_ _0"></span>21</div><div class="t m0 x3 h1c y654 ff81 fse fc2 sc0 ls0 ws0">Receiving GET Data</div><div class="t m0 x3 h3c y655 ff7c fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iables sent in a <span class="ff82">GET</span> r<span class="_ _1"></span>equest are encoded into the URL. Here is an example of ho<span class="_ _1"></span>w </div><div class="t m0 x3 h12 y656 ff7c fsa fc2 sc0 ls0 ws0">variables are encoded into a URL<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y170d ff82 fsa fc4 sc0 ls0 ws0">http://bieberfanclub.com/topfan.php?name=Ron&amp;rank=cheerleader</div><div class="t m0 x1a h12 y170e ff7c fsa fc2 sc0 ls0 ws0">The variables begin with a question mark and ar<span class="_ _1"></span>e delimited by ampersand symbols. </div><div class="t m0 x3 h12 y170f ff7c fsa fc2 sc0 ls0 ws0">Each variable is a key-<span class="_ _1"></span>value pair with the equals sign denoting the value<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y1710 ff7c fsa fc2 sc0 ls0 ws0">PHP will automatically m<span class="_ _1"></span>ake variables passed in the URL available in the <span class="ff82">$_GET</span> </div><div class="t m0 x3 h12 y1711 ff7c fsa fc2 sc0 ls0 ws0">superglobal.</div><div class="t m0 x1a h3c y1712 ff7c fsa fc2 sc0 ls0 ws0">It is possible to pass arra<span class="_ _1"></span>ys through <span class="ff82">GET</span> using syn<span class="_ _1"></span>tax like this<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y1713 ff82 fsa fc4 sc0 ls0 ws0">http://example.com/users.php?sort[col]=name&amp;sort[order]=desc</div><div class="t m0 x1a h12 y1714 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou would be able to access these variables like this<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y1715 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1716 ff82 fsa fc2 sc0 ls0 ws0">echo $_GET[&apos;sort&apos;][&apos;col&apos;];</div><div class="t m0 x3 h3c y1717 ff82 fsa fc2 sc0 ls0 ws0">echo $_GET[&apos;sort&apos;][&apos;order&apos;];</div><div class="t m0 x3 h1c y1718 ff81 fse fc2 sc0 ls0 ws0">Sending GET Data</div><div class="t m0 x3 h12 y1719 ff7c fsa fc2 sc0 ls0 ws0">PHP includes a function that mak<span class="_ _1"></span>es it ver<span class="_ _0"></span>y easy to build the URL s<span class="_ _1"></span>tring to pass your  </div><div class="t m0 x3 h3c y171a ff82 fsa fc2 sc0 ls0 ws0">GET<span class="ff7c lsf wse9"> data.</span></div><div class="t m0 x3 h3c y171b ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y171c ff82 fsa fc2 sc0 ls0 ws0">$getData = [&apos;fans&apos; =&gt; [&apos;Ron&apos;, &apos;Jonathan&apos;, &apos;Anne Frank&apos;]];</div><div class="t m0 x3 h3c y171d ff82 fsa fc2 sc0 ls0 ws0">// fans%5B0%5D=Ron&amp;fans%5B1%5D=Jonathan&amp;fans%5B2%5D=Anne+Frank</div><div class="t m0 x3 h3c y171e ff82 fsa fc2 sc0 ls0 ws0">echo http_build_query($getData);</div><div class="t m0 x1a h3c y171f ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">http_build_query()</span> function converts an array to a pr<span class="_ _1"></span>operly URL-encoded </div><div class="t m0 x3 h12 y1720 ff7c fsa fc2 sc0 ls0 ws0">query string.</div><div class="t m0 x1a h12 y1721 ff7c fsa fc2 sc0 ls29 ws0">The HTTP specification for the URL only allows a very limited set of characters to be </div><div class="t m0 x3 h12 y1722 ff7c fsa fc2 sc0 ls29 wsf0">used. Any character tha<span class="_ _1"></span>t is not in this set must be encoded.</div><div class="t m0 x3a h15 y1723 ff7c fsb fc4 sc0 ls0 ws0">8</div><div class="t m0 x9a h3c y1724 ff7c fsa fc2 sc0 ls29 wsf0"> PHP pro<span class="_ _1"></span>vides the <span class="ff82 ws10f">urlencode()</span><span class="ls0 ws0"> </span></div><div class="t m0 x3 h3c y1725 ff7c fsa fc2 sc0 ls29 ws0">function, which will properly encode a string to be used as part of a URL<span class="_ _0"></span>. The <span class="ff82 ws10f">urldecode()</span><span class="ls0"> </span></div><div class="t m0 x3 h12 y1726 ff7c fsa fc2 sc0 ls29 ws0">function will convert an encoded string back to its original repr<span class="_ _1"></span>esentation.</div><div class="t m0 x3 h3c y1727 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1728 ff82 fsa fc2 sc0 ls0 ws0">$getData = [&apos;fans&apos; =&gt; [&apos;Ron&apos;, &apos;Jonathan&apos;, &apos;Anne Frank&apos;]];</div><div class="t m0 x3 h3c y1729 ff82 fsa fc2 sc0 ls0 ws0">// fans%5B0%5D=Ron&amp;fans%5B1%5D=Jonathan&amp;fans%5B2%5D=Anne+Frank</div><div class="t m0 x3 h3c y172a ff82 fsa fc2 sc0 ls0 ws0">$encodedString = http_build_query($getData);</div><div class="t m0 x3 h3c y172b ff82 fsa fc2 sc0 ls0 ws0">// fans[0]=Ron&amp;fans[1]=Jonathan&amp;fans[2]=Anne Frank</div><div class="t m0 x3 h3c y172c ff82 fsa fc2 sc0 ls0 ws0">echo urldecode($encodedString);</div><div class="t m0 x1a h3c y172d ff7c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we&apos;re decoding the pr<span class="_ _1"></span>operly URL-encoded string that <span class="ff82">http_build_</span></div><div class="t m0 x3 h3c y172e ff82 fsa fc2 sc0 ls0 ws0">query()<span class="ff7c"> generated so that we can see how an arr<span class="_ _1"></span>ay is encoded in a parameter<span class="_ _2"></span>.</span></div><div class="t m0 x3 h16 y172f ff83 fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x1d h43 y1730 ff82 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Percent-encoding</div><a class="l" href="http://bieberfanclub.com/topfan.php?name=Ron&amp;rank=cheerleader"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:539.865000px;width:274.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://example.com/users.php?sort[col]=name&amp;sort[order]=desc"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:461.865000px;width:270.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfee" data-dest-detail='[238,"XYZ",57,81,null]'><div class="d m1" style="border-style:none;position:absolute;left:278.794000px;bottom:228.865000px;width:2.597000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Percent-encoding"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:69.230700px;width:195.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfef" class="pf w2 h4" data-page-no="ef"><div class="pc pcef w2 h4"><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">222</div><div class="t m0 x8 h26 y3bf ff7c fse fc2 sc0 ls54 ws130">PUT</div><div class="t m0 x8 h3c y3c0 ff82 fsa fc2 sc0 ls0 ws0">PUT<span class="ff7c"> requests ar<span class="_ _1"></span>e used to replace an entire entity or collection. T<span class="_ _1"></span>ypically, a <span class="ff82">PUT</span> request </span></div><div class="t m0 x8 h12 y44f ff7c fsa fc2 sc0 ls0 ws0">will require yo<span class="_ _1"></span>u to specify all the mandatory attributes of an entity. It is a write operation </div><div class="t m0 x8 h12 y46e ff7c fsa fc2 sc0 ls0 ws0">because it replaces an entity with the stat<span class="_ _1"></span>e that you pro<span class="_ _1"></span>vide.</div><div class="t m0 x3 h3c y450 ff82 fsa fc2 sc0 ls0 ws0">PATCH<span class="ff7c"> requests ar<span class="_ _1"></span>e similar in that they are used to replace da<span class="_ _1"></span>ta, but a <span class="ff82">PATCH</span> request </span></div><div class="t m0 x8 h12 y451 ff7c fsa fc2 sc0 ls0 ws0">will only replace the part of the entity that y<span class="_ _1"></span>ou provide<span class="_ _1"></span>. For example<span class="_ _1"></span>, if a user has a name, </div><div class="t m0 x8 h3c y46f ff7c fsa fc2 sc0 ls0 ws0">surname, and e-m<span class="_ _1"></span>ail field, you will be able to use a <span class="ff82">PATCH</span> request to change just one of </div><div class="t m0 x8 h3c y452 ff7c fsa fc2 sc0 ls0 ws0">those fields while leaving the others the same<span class="_ _1"></span>. API servers often don’t implement <span class="ff82">PATCH</span> </div><div class="t m0 x8 h3c y453 ff7c fsa fc2 sc0 ls0 ws0">and rather r<span class="_ _1"></span>equire you to use <span class="ff82">PUT</span>.</div><div class="t m0 x8 h1c y1731 ff81 fse fc2 sc0 ls0 ws0">Receiving PUT Data</div><div class="t m0 x8 h3c y1732 ff7c fsa fc2 sc0 ls0 ws0">PHP does not make a superglobal a<span class="_ _1"></span>vailable for <span class="ff82">PUT</span>. T<span class="_ _2"></span>o get access to it, you need to read </div><div class="t m0 x8 h3c y1733 ff7c fsa fc2 sc0 ls0 ws0">the <span class="ff82">php://input</span> stream<span class="_ _1"></span>. Y<span class="_ _1"></span>ou can use the <span class="ff82">parse_str()</span> function to con<span class="_ _1"></span>vert it into an array:</div><div class="t m0 x8 h3c y1734 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1735 ff82 fsa fc2 sc0 ls0 ws0">$putVariables = [];</div><div class="t m0 x8 h3c y1736 ff82 fsa fc2 sc0 ls0 ws0">parse_str(file_get_contents(&quot;php://input&quot;), $putVariables);</div><div class="t m0 x8 h1c y1737 ff81 fse fc2 sc0 ls0 ws0">Sending PUT Data</div><div class="t m0 x8 h3c y1738 ff82 fsa fc2 sc0 ls0 ws0">PUT<span class="ff7c"> data is transmitted exactly as with </span>POST<span class="ff7c">, so </span>curl<span class="ff7c"> is the simplest wa<span class="_ _1"></span>y to send it in PHP<span class="_ _11"></span>.</span></div><div class="t m0 x8 h3c y1739 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y173a ff82 fsa fc2 sc0 ls0 ws0">$data = [&quot;fan&quot; =&gt; &quot;Ron&quot;];</div><div class="t m0 x8 h3c y173b ff82 fsa fc2 sc0 ls0 ws0">$curlResource = curl_init();</div><div class="t m0 x8 h3c y173c ff82 fsa fc2 sc0 ls0 ws0">$options = [</div><div class="t m0 x8 h3c y173d ff82 fsa fc2 sc0 ls0 ws0">    CURLOPT_URL =&gt; &apos;https://requestb.in/oxk2utox&apos;,</div><div class="t m0 x8 h3c y173e ff82 fsa fc2 sc0 ls0 ws0">    CURLOPT_CUSTOMREQUEST =&gt; &apos;PUT&apos;,</div><div class="t m0 x8 h3c y173f ff82 fsa fc2 sc0 ls0 ws0">    CURLOPT_POSTFIELDS =&gt; $data</div><div class="t m0 x8 h3c y1740 ff82 fsa fc2 sc0 ls0 ws0">];</div><div class="t m0 x8 h3c y1741 ff82 fsa fc2 sc0 ls0 ws0">curl_setopt_array($curlResource, $options);</div><div class="t m0 x8 h3c y1742 ff82 fsa fc2 sc0 ls0 ws0">$response = curl_exec($curlResource);</div><div class="t m0 x3 h3c y1743 ff7c fsa fc2 sc0 ls0 ws0">In the previous exam<span class="_ _1"></span>ple, we are telling <span class="ff82">curl</span> to m<span class="_ _1"></span>ake a <span class="ff82">PUT</span> request and we stipulate </div><div class="t m0 x8 h3c y1744 ff7c fsa fc2 sc0 ls0 ws0">the values to pass exactly as we did for <span class="ff82">POST</span>.</div><div class="t m0 x3 h3c y1745 ff7c fsa fc2 sc0 ls0 ws0">Notice tha<span class="_ _1"></span>t we are using the <span class="ff82">curl_setopt_array()</span> function to set multiple <span class="ff82">curl</span> </div><div class="t m0 x8 h3c y1746 ff7c fsa fc2 sc0 ls0 ws0">options at once instead of calling <span class="ff82">curl_setopt()</span> multiple times<span class="_ _1"></span>.</div><div class="t m0 x8 h19 y1747 ff81 fsd fc2 sc0 ls0 ws0">Sessions</div><div class="t m0 x8 h12 y1748 ff7c fsa fc2 sc0 ls0 ws0">HTTP is a stateless protocol, which means tha<span class="_ _1"></span>t the connection between the client and the </div><div class="t m0 x8 h12 y1749 ff7c fsa fc2 sc0 ls0 ws0">server is lost once the transaction ends. F<span class="_ _1"></span>urthermore, PHP terminates when it finishes </div><div class="t m0 x8 h12 y174a ff7c fsa fc2 sc0 ls0 ws0">processing a r<span class="_ _1"></span>equest and its application state is lost<span class="_ _1"></span>.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff0" class="pf w2 h4" data-page-no="f0"><div class="pc pcf0 w2 h4"><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x15 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">223</div><div class="t m0 x1a h12 y1b8 ff7c fsa fc2 sc0 ls0 ws0">A session is a means for the server to persist application state for consecutive </div><div class="t m0 x3 h12 y1b9 ff7c fsa fc2 sc0 ls0 ws0">requests fr<span class="_ _1"></span>om a visitor<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y2d2 ff7c fsa fc2 sc0 ls0 ws0">Information like whether the user is logged in can be stor<span class="_ _1"></span>ed in the session. Another </div><div class="t m0 x3 h12 y2d3 ff7c fsa fc2 sc0 ls0 ws0">example of where a session could be used is with an online shopping site, wher<span class="_ _1"></span>e the </div><div class="t m0 x3 h12 y2d4 ff7c fsa fc2 sc0 ls0 ws0">contents of the visitor’<span class="_ _2"></span>s shopping cart could be stored in a session.</div><div class="t m0 x1a h12 y1bd ff7c fsa fc2 sc0 ls0 ws0">Session information is stored on the server and is associated with a unique identifier<span class="_ _2"></span>. </div><div class="t m0 x3 h12 y1be ff7c fsa fc2 sc0 ls0 ws0">The client will send the session identifier to the server with ever<span class="_ _0"></span>y request and this allo<span class="_ _1"></span>ws </div><div class="t m0 x3 h12 y2d5 ff7c fsa fc2 sc0 ls0 ws0">the server to associate the request with a particular session.</div><div class="t m0 x1a h12 y2d6 ff7c fsa fc2 sc0 ls0 ws0">If you ha<span class="_ _1"></span>ve multiple web servers, then you’ll need to find a way to either shar<span class="_ _1"></span>e the </div><div class="t m0 x3 h12 y2d7 ff7c fsa fc2 sc0 ls0 ws0">session information between them or ensure tha<span class="_ _1"></span>t a visitor is always directed to the server </div><div class="t m0 x3 h12 y2d8 ff7c fsa fc2 sc0 ls0 ws0">that holds her session information.</div><div class="t m0 x1a h12 y2d9 ff7c fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>eb sites that don’t need to r<span class="_ _1"></span>emember who a user is or keep any preferences don’t </div><div class="t m0 x3 h12 y2da ff7c fsa fc2 sc0 ls0 ws0">need to use sessions. An example of such a site would be one tha<span class="_ _1"></span>t ser<span class="_ _0"></span>ves static con<span class="_ _1"></span>tent </div><div class="t m0 x3 h12 y43c ff7c fsa fc2 sc0 ls0 ws0">that is the same for all visitors<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y2db ff7c fsa fc2 sc0 ls0 ws0">PHP supports sessions by default, but they can be disa<span class="_ _1"></span>bled through a configura<span class="_ _1"></span>tion </div><div class="t m0 x3 h3c y2dc ff7c fsa fc2 sc0 ls0 ws0">setting in <span class="ff82">php.ini</span>.</div><div class="t m0 x3 h26 y147f ff7c fse fc2 sc0 ls0 ws0">Starting a Session</div><div class="t m0 x3 h3c y174b ff7c fsa fc2 sc0 ls0 ws0">A session in PHP is started when you call the function <span class="ff82">session_start()</span> or automa<span class="_ _1"></span>tically </div><div class="t m0 x3 h3c y174c ff7c fsa fc2 sc0 ls0 ws0">if your <span class="ff82">php.ini</span> configura<span class="_ _1"></span>tion specifies <span class="ff82">session.auto_start = 1</span>.</div><div class="t m0 x1a h3c y174d ff7c fsa fc2 sc0 ls0 ws0">If you are usin<span class="_ _1"></span>g <span class="ff82">session_start()</span>, then you must make sur<span class="_ _1"></span>e that you call this </div><div class="t m0 x3 h12 y174e ff7c fsa fc2 sc0 ls0 ws0">function before any output is sen<span class="_ _1"></span>t to the client.</div><div class="t m0 x1a h12 y174f ff7c fsa fc2 sc0 ls0 ws0">When the session starts, the user is assigned a random unique session identifier </div><div class="t m0 x3 h3c y1750 ff7c fsa fc2 sc0 ls0 ws0">called the <span class="ff82">session id</span>. The session ID is either stored in a cookie on the client or p<span class="_ _1"></span>assed </div><div class="t m0 x3 h3c y1751 ff7c fsa fc2 sc0 ls0 ws0">through the URL if you en<span class="_ _1"></span>able the <span class="ff82">session.use_trans_sid</span> configuration setting<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1752 ff7c fsa fc2 sc0 ls0 ws0">Accepting sessions from the URL c<span class="_ _1"></span>an be risky and it is better to configure PHP to only </div><div class="t m0 x3 h3c y1753 ff7c fsa fc2 sc0 ls0 ws0">use cookies with the <span class="ff82">session.use_only_cookies</span> setting. Chapter <span class="fc4">6</span> on security has more </div><div class="t m0 x3 h12 y1754 ff7c fsa fc2 sc0 ls0 ws0">information about this<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y91f ff7c fse fc2 sc0 ls0 ws0">Session Identifier and Session V<span class="_ _11"></span>ariables</div><div class="t m0 x3 h12 y1396 ff7c fsa fc2 sc0 ls0 ws0">The session extension makes a<span class="_ _1"></span>vailable the SID predefined constan<span class="_ _1"></span>t that holds the session </div><div class="t m0 x3 h3c y1755 ff7c fsa fc2 sc0 ls0 ws0">identifier<span class="_ _2"></span>. Y<span class="_ _2"></span>ou can also use the <span class="ff82">session_id()</span> function to get or set it.</div><div class="t m0 x1a h3c y1756 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the function <span class="ff82">session_regenerate_id()</span> to make a new session identifier </div><div class="t m0 x3 h3c y1757 ff7c fsa fc2 sc0 ls0 ws0">for a client. Y<span class="_ _2"></span>ou should call this immediately after calling <span class="ff82">session_start()</span> to help </div><div class="t m0 x3 h12 y1758 ff7c fsa fc2 sc0 ls0 ws0">protect against session fixa<span class="_ _1"></span>tion.</div><div class="t m0 x1a h3c y1759 ff7c fsa fc2 sc0 ls0 ws0">Once a session has started, the superglobal <span class="ff82">$_SESSION</span> is available as an as<span class="_ _1"></span>sociative </div><div class="t m0 x3 h12 y175a ff7c fsa fc2 sc0 ls0 ws0">array containing the session v<span class="_ _1"></span>ariables.</div><div class="t m0 x3 h26 y175b ff7c fse fc2 sc0 ls0 ws0">Ending a Session</div><div class="t m0 x3 h12 y175c ff7c fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o properly end a session, you should do thr<span class="_ _1"></span>ee things<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y175d ff81 fsa fc2 sc0 ls0 wseb"> 1. <span class="_ _2b"></span><span class="ff7c ws0">Set the <span class="ff82">$_SESSION</span> array to an empty array.</span></div><div class="t m0 x3 h12 y175e ff81 fsa fc2 sc0 ls0 wseb"> 2. <span class="_ _2b"></span><span class="ff7c ws0">Set the session cookie expir<span class="_ _0"></span>y time to the past<span class="_ _1"></span>.</span></div><div class="t m0 x3 h3c y175f ff81 fsa fc2 sc0 ls0 wseb"> 3. <span class="_ _2b"></span><span class="ff7c ws0">Call the function <span class="ff82">session_destroy()</span>.</span></div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:309.427000px;bottom:289.289000px;width:4.500000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff1" class="pf w2 h4" data-page-no="f1"><div class="pc pcf1 w2 h4"><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">224</div><div class="t m0 x3 h12 y1b8 ff7c fsa fc2 sc0 ls0 ws0">The effect of Step 2 is to let the client br<span class="_ _1"></span>owser know that it can delete the cookie </div><div class="t m0 x8 h12 y1b9 ff7c fsa fc2 sc0 ls0 ws0">containing the session identifier<span class="_ _11"></span>. There is no guarantee that the clien<span class="_ _1"></span>t will do so, however<span class="_ _11"></span>. </div><div class="t m0 x8 h12 y2d2 ff7c fsa fc2 sc0 ls0 ws0">Of course, if you’r<span class="_ _1"></span>e not using cookie-based sessions then there is no need to do this.</div><div class="t m0 x8 h26 y87d ff7c fse fc2 sc0 ls0 ws0">Session H<span class="_ _1"></span>andlers</div><div class="t m0 x8 h12 y87e ff7c fsa fc2 sc0 ls0 ws0">PHP supports creating yo<span class="_ _1"></span>ur own session handler<span class="_ _2"></span>, but by default PHP sessions ar<span class="_ _1"></span>e stored </div><div class="t m0 x8 h3c y87f ff7c fsa fc2 sc0 ls0 ws0">on disk and use the <span class="ff82">serialize()</span> and <span class="ff82">unserialize()</span> commands to encode and decode </div><div class="t m0 x8 h12 y880 ff7c fsa fc2 sc0 ls0 ws0">the data.</div><div class="t m0 x3 h12 y1760 ff7c fsa fc2 sc0 ls0 ws0">In addition to disk<span class="_ _1"></span>-based sessions<span class="_ _1"></span>, PHP also ships with a memcached session </div><div class="t m0 x8 h3c y881 ff7c fsa fc2 sc0 ls0 ws0">handler that can be confi<span class="_ _1"></span>gured in <span class="ff82">php.ini</span>.</div><div class="t m0 x3 h12 y882 ff7c fsa fc2 sc0 ls0 ws0">If you want to write your o<span class="_ _1"></span>wn session handler<span class="_ _2"></span>, you should implement the </div><div class="t m0 x8 h3c y883 ff82 fsa fc2 sc0 ls0 ws0">SessionHandler<span class="ff7c"> interface. This will let you use alterna<span class="_ _1"></span>tive ways of storing your sessions </span></div><div class="t m0 x8 h12 y884 ff7c fsa fc2 sc0 ls0 ws0">and customize how you encode and decode the session data<span class="_ _1"></span>.</div><div class="t m0 x8 h19 y483 ff81 fsd fc2 sc0 ls0 ws0">File Uploads</div><div class="t m0 x8 h12 y484 ff7c fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’ll focus on how file uploads work and the PHP syn<span class="_ _1"></span>tax associated with them in this </div><div class="t m0 x8 h12 y485 ff7c fsa fc2 sc0 ls0 ws0">section. Make sur<span class="_ _1"></span>e that you study the section on file uploads in Cha<span class="_ _1"></span>pter <span class="fc4">6</span> in conjunction </div><div class="t m0 x8 h12 yf78 ff7c fsa fc2 sc0 ls0 ws0">with this section.</div><div class="t m0 x3 h3c y486 ff7c fsa fc2 sc0 ls0 ws0">Forms allow files to be uploaded b<span class="_ _1"></span>y means of a “multi-part” HTTP <span class="ff82">POST</span> transaction.</div><div class="t m0 x3 h3c y487 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify that you want to encode your <span class="ff82">POST</span> usin<span class="_ _1"></span>g multi-part form data in your </div><div class="t m0 x8 h12 y488 ff7c fsa fc2 sc0 ls0 ws0">HTML by declaring a form something like this<span class="_ _0"></span>:</div><div class="t m0 x8 h3c y489 ff82 fsa fc2 sc0 ls0 ws0">&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;&quot; method=&quot;post&quot;&gt;</div><div class="t m0 x3 h3c y48b ff7c fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t I&apos;ve left the &quot;<span class="ff82">action</span>&quot; attribute blank. By default, an HTML form will submit </div><div class="t m0 x8 h12 y48c ff7c fsa fc2 sc0 ls0 ws0">to the URI that it is served from.</div><div class="t m0 x8 h26 y1761 ff7c fse fc2 sc0 ls0 ws0">Limiting the Size of U<span class="_ _1"></span>ploads</div><div class="t m0 x8 h12 y1762 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou do not want people to be able to upload massive files that fill up yo<span class="_ _1"></span>ur disk. T<span class="_ _2"></span>o manage </div><div class="t m0 x8 h12 y1763 ff7c fsa fc2 sc0 ls0 ws0">the size of files that people can upload, you c<span class="_ _1"></span>an limit the size in the browser and on the </div><div class="t m0 x8 h12 y1764 ff7c fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y1765 ff7c fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o tell the client to limit the size of the upload, you can add an input to y<span class="_ _1"></span>our form  </div><div class="t m0 x8 h12 y1766 ff7c fsa fc2 sc0 ls0 ws0">like this:</div><div class="t m0 x8 h3c y1767 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;hidden&quot; name=&quot;MAX_FILE_SIZE&quot; value=&quot; 1000000&quot; /&gt;</div><div class="t m0 x3 h12 y1768 ff7c fsa fc2 sc0 ls0 ws0">Limiting the size in the browser should be done j<span class="_ _1"></span>ust to improv<span class="_ _1"></span>e user experience. It is </div><div class="t m0 x8 h12 y1769 ff7c fsa fc2 sc0 ls0 ws0">very simple for a user to disable or change the limit to bypass the limit.</div><div class="t m0 x3 h3c y176a ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should rather configure PHP to limit the s<span class="_ _1"></span>ize of a <span class="ff82">POST</span> operation. The <span class="ff82">post_</span></div><div class="t m0 x8 h3c y176b ff82 fsa fc2 sc0 ls0 ws0">max_size<span class="ff7c"> setting limits the maximum of data any </span>POST<span class="ff7c"> m<span class="_ _1"></span>ay contain. The <span class="ff82">upload_max_</span></span></div><div class="t m0 x8 h3c y176c ff82 fsa fc2 sc0 ls0 ws0">filesize<span class="ff7c"> is applied to limit the size of files that can be uploaded.</span></div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:313.629000px;bottom:373.325000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff2" class="pf w2 h4" data-page-no="f2"><div class="pc pcf2 w2 h4"><img class="bi x3 y176d w5 ha4" alt="" src="bgf2.png"/><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x15 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">225</div><div class="t m0 x3 h26 y3bf ff7c fse fc2 sc0 ls0 ws0">T<span class="_ _11"></span>emporary Files</div><div class="t m0 x3 h12 y3c0 ff7c fsa fc2 sc0 ls0 ws0">PHP stores the uploaded file in a tempor<span class="_ _1"></span>ar<span class="_ _0"></span>y loca<span class="_ _1"></span>tion and makes it availa<span class="_ _1"></span>ble to the script </div><div class="t m0 x3 h3c y3c1 ff7c fsa fc2 sc0 ls0 ws0">that the form <span class="ff82">POST</span><span class="ls51 ws12d">&apos;e<span class="_ _0"></span>d<span class="_ _0"></span> to.</span></div><div class="t m0 x1a h12 y531 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can process the file in the temporary location and then optionally mov<span class="_ _1"></span>e it to a </div><div class="t m0 x3 h12 y450 ff7c fsa fc2 sc0 ls0 ws0">permanent location. PHP will automa<span class="_ _1"></span>tically delete the temporary file when the script </div><div class="t m0 x3 h12 y451 ff7c fsa fc2 sc0 ls0 ws0">finishes running so if you want to keep it you m<span class="_ _1"></span>ust move it.</div><div class="t m0 x1a h3c y46f ff7c fsa fc2 sc0 ls0 ws0">In addition to crea<span class="_ _1"></span>ting the temporary file, PHP will populate the <span class="ff82">$_FILES</span> superglobal </div><div class="t m0 x3 h12 y452 ff7c fsa fc2 sc0 ls0 ws0">array. Each file tha<span class="_ _1"></span>t was uploaded in the form will have an entry in the array.</div><div class="t m0 x1a h3c y8a5 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou need to be aware that the informa<span class="_ _1"></span>tion in the <span class="ff82">$_FILES</span> array can quite easily be </div><div class="t m0 x3 h12 y454 ff7c fsa fc2 sc0 ls0 ws0">spoofed so you should manually valida<span class="_ _1"></span>te every pie<span class="_ _0"></span>ce of information.</div><div class="t m0 x1a h3c y8a6 ff7c fsa fc2 sc0 ls0 ws0">Each file be repr<span class="_ _1"></span>esented by an array in the <span class="ff82">$_FILES</span> superglobal and will key for the </div><div class="t m0 x3 h12 y455 ff7c fsa fc2 sc0 ls0 ws0">name, type<span class="_ _1"></span>, size, temporary filename, and err<span class="_ _1"></span>or code.</div><div class="t m0 x3 h20 y176e ff80 fs6 fc2 sc0 ls0 ws0">Key<span class="_ _da"> </span>Description</div><div class="t m0 x3 h3c y176f ff82 fsa fc2 sc0 ls0 ws0">name<span class="_ _d9"> </span><span class="ff7c">The original name of the file stor<span class="_ _1"></span>ed on the client</span></div><div class="t m0 x3 h3c y1770 ff82 fsa fc2 sc0 ls0 ws0">type<span class="_ _d9"> </span><span class="ff7c">The MIME type provided b<span class="_ _1"></span>y the client</span></div><div class="t m0 x3 h3c y1771 ff82 fsa fc2 sc0 ls0 ws0">size<span class="_ _d9"> </span><span class="ff7c">The size in bytes of the file</span></div><div class="t m0 x3 h3c y1772 ff82 fsa fc2 sc0 ls0 ws0">tmp_name<span class="_ _47"> </span><span class="ff7c">The name of the file in its temporary location</span></div><div class="t m0 x3 h3c y1773 ff82 fsa fc2 sc0 ls0 ws0">error<span class="_ _b7"> </span><span class="ff7c">An error code, or </span>UPLOAD_ERR_OK<span class="ff7c"> if the upload was s<span class="_ _1"></span>uccessful</span></div><div class="t m0 x23 h10 y1774 ff84 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff85">■<span class="_ _c"> </span><span class="ff87 fc2">Note<span class="ff84"> <span class="_ _2c"> </span> Chapter <span class="fc4">6</span> has more information on dealing with file uploads.</span></span></span></div><div class="t m0 x3 h19 y1775 ff81 fsd fc2 sc0 ls0 ws0">Forms</div><div class="t m0 x3 h12 y1776 ff7c fsa fc2 sc0 ls0 ws0">Forms allow users to submit da<span class="_ _1"></span>ta to your PHP script.</div><div class="t m0 x1a h12 y1777 ff7c fsa fc2 sc0 ls0 ws0">When declaring a form in HTML<span class="_ _0"></span>, you specify the method it uses to send information </div><div class="t m0 x3 h3c y1778 ff7c fsa fc2 sc0 ls0 ws0">to the server<span class="_ _2"></span>. Although you can choose <span class="ff82">GET</span> or <span class="ff82">POST</span>, you should make sure th<span class="_ _1"></span>at you </div><div class="t m0 x3 h12 y1779 ff7c fsa fc2 sc0 ls0 ws0">choose a request method that m<span class="_ _1"></span>atches what you intend to do<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y177a ff7c fsa fc2 sc0 ls0 ws0">PHP automatic<span class="_ _1"></span>ally makes form data availa<span class="_ _1"></span>ble to your script in one of two </div><div class="t m0 x3 h3c y177b ff7c fsa fc2 sc0 ls0 ws0">superglobals—<span class="ff82">$_GET</span> or <span class="ff82">$_POST</span>—depending on which method the form used to make the </div><div class="t m0 x3 h12 y177c ff7c fsa fc2 sc0 ls0 ws0">request.</div><div class="t m0 x3 h26 y177d ff7c fse fc2 sc0 ls0 ws0">F<span class="_ _1"></span>orm Elements</div><div class="t m0 x3 h12 y177e ff7c fsa fc2 sc0 ls0 ws0">These superglobals can easily be edited by the client and so should alw<span class="_ _1"></span>ays be filtered </div><div class="t m0 x3 h12 y177f ff7c fsa fc2 sc0 ls0 ws0">carefully and not trusted.</div><div class="t m0 x1a h12 y1780 ff7c fsa fc2 sc0 ls0 ws0">Dots and space in form field names are conv<span class="_ _1"></span>erted to underscores. As an example, </div><div class="t m0 x3 h12 y1781 ff7c fsa fc2 sc0 ls0 ws0">consider the HTML input tag:</div><div class="t m0 x3 h3c y1782 ff82 fsa fc2 sc0 ls0 ws0">&lt;input name=&quot;email.address&quot; type=&quot;text&quot;&gt;</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:129.519000px;bottom:315.463000px;width:4.800000px;height:11.850000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff3" class="pf w2 h4" data-page-no="f3"><div class="pc pcf3 w2 h4"><img class="bi x8 y653 w6 h27" alt="" src="bgf3.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">226</div><div class="t m0 x3 h3c y2a8 ff7c fsa fc2 sc0 ls0 ws0">The value that it con<span class="_ _1"></span>tains will be placed in either <span class="ff82">$_GET[&apos;email_address&apos;]</span> or </div><div class="t m0 x8 h3c y2a9 ff82 fsa fc2 sc0 ls0 ws0">$_POST[&apos;email_address&apos;]<span class="ff7c"> depending on the forms method.</span></div><div class="t m0 x8 h26 y1783 ff7c fse fc2 sc0 ls0 ws0">Arrays in HTML F<span class="_ _1"></span>orms</div><div class="t m0 x8 h12 y1784 ff7c fsa fc2 sc0 ls0 ws0">Form data c<span class="_ _1"></span>an be turned into an array using syntax like this in HTML<span class="_ _0"></span>:</div><div class="t m0 x8 h3c y1785 ff82 fsa fc2 sc0 ls0 ws0">&lt;form action=&quot;formhandler.php&quot; method=&quot;POST&quot;&gt;</div><div class="t m0 x8 h3c y1786 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;text&quot; name=&quot;name[first]&quot;&gt;</div><div class="t m0 x8 h3c y1787 ff82 fsa fc2 sc0 ls0 ws0">        &lt;input type=&quot;text&quot; name=&quot;name[last]&quot;&gt;</div><div class="t m0 x8 h3c y1788 ff82 fsa fc2 sc0 ls0 ws0">        &lt;input type=&quot;submit&quot;&gt;</div><div class="t m0 x8 h3c y1789 ff82 fsa fc2 sc0 ls0 ws0">&lt;/form&gt;</div><div class="t m0 x3 h3c y178a ff7c fsa fc2 sc0 ls0 ws0">This will result in <span class="ff82">$_POST</span> or <span class="ff82">$_GET</span> being an arra<span class="_ _1"></span>y that looks like this:</div><div class="t m0 x8 h3c y178b ff82 fsa fc2 sc0 ls0 ws0">array(</div><div class="t m0 x8 h3c y178c ff82 fsa fc2 sc0 ls0 ws0">  &apos;name&apos; =&gt; array(</div><div class="t m0 x8 h3c y178d ff82 fsa fc2 sc0 ls0 ws0">    &apos;first&apos; =&gt; &apos;&apos;,</div><div class="t m0 x8 h3c y178e ff82 fsa fc2 sc0 ls0 ws0">    &apos;last&apos; =&gt; &apos;&apos;</div><div class="t m0 x8 h3c y178f ff82 fsa fc2 sc0 ls0 ws0">  )</div><div class="t m0 x8 h3c y1790 ff82 fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h12 y1791 ff7c fsa fc2 sc0 ls0 ws0">One of the most useful ways that arra<span class="_ _1"></span>ys help is in grouping inputs together<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y1792 ff7c fsa fc2 sc0 ls0 ws0">Consider a checkbox tha<span class="_ _1"></span>t can have m<span class="_ _1"></span>ultiple values<span class="_ _0"></span>:</div><div class="t m0 x8 h3c y1793 ff82 fsa fc2 sc0 ls0 ws0">&lt;h1&gt;What pets do you want in your home?&lt;/h1&gt;</div><div class="t m0 x8 h3c y1794 ff82 fsa fc2 sc0 ls0 ws0">&lt;form action=&quot;formhandler.php&quot; method=&quot;POST&quot;&gt;</div><div class="t m0 x8 h3c y1795 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;checkbox&quot; name=&quot;pets[]&quot; value=&quot;cats&quot; id=&quot;lotsacats&quot;&gt;</div><div class="t m0 x8 h3c y1796 ff82 fsa fc2 sc0 ls0 ws0">&lt;label for=&quot;lotsacats&quot;&gt;Lots of Cats&lt;/label&gt;</div><div class="t m0 x8 h3c y1797 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;checkbox&quot; name=&quot;pets[]&quot; value=&quot;dog&quot; id=&quot;adog&quot;&gt;</div><div class="t m0 x8 h3c y1798 ff82 fsa fc2 sc0 ls0 ws0">&lt;label for=&quot;adog&quot;&gt;Just a dog&lt;/label&gt;</div><div class="t m0 x8 h3c y1799 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;submit&quot;&gt;</div><div class="t m0 x8 h3c y179a ff82 fsa fc2 sc0 ls0 ws0">&lt;/form&gt;</div><div class="t m0 x3 h3c y179b ff7c fsa fc2 sc0 ls0 ws0">If the person checked both boxes before submittin<span class="_ _1"></span>g the form, then the <span class="ff82">$_GET</span> or </div><div class="t m0 x8 h3c y179c ff82 fsa fc2 sc0 ls0 ws0">$_POST<span class="ff7c"> array will contain the following:</span></div><div class="t m0 x8 h3c y179d ff82 fsa fc2 sc0 ls0 ws0">array(</div><div class="t m0 x8 h3c y179e ff82 fsa fc2 sc0 ls0 ws0">  &apos;pets&apos; =&gt; array(&apos;cats&apos;, &apos;dog&apos;)</div><div class="t m0 x8 h3c y179f ff82 fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h12 y17a0 ff7c fsa fc2 sc0 ls0 ws0">This makes checkbo<span class="_ _1"></span>xes a lot neater and easier to use. Y<span class="_ _2"></span>ou can read mor<span class="_ _1"></span>e about this </div><div class="t m0 x8 h12 y17a1 ff7c fsa fc2 sc0 ls0 ws0">in the PHP Man<span class="_ _1"></span>ual.</div><div class="t m0 x6c h15 y17a2 ff7c fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x8 h16 y6ab ff83 fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x26 h43 y6ac ff82 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/faq.html.php#faq.html.arrays</div><a class="l" href="#pff3" data-dest-detail='[243,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:114.470000px;bottom:120.181000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/faq.html.php#faq.html.arrays"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.018100px;width:259.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff4" class="pf w2 h4" data-page-no="f4"><div class="pc pcf4 w2 h4"><img class="bi x3 y17a3 w5 ha5" alt="" src="bgf4.png"/><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x15 hd y55 ff7c fs6 fc2 sc0 ls24 wsff">227</div><div class="t m0 x3 h26 y3bf ff7c fse fc2 sc0 ls0 ws0">Selecting M<span class="_ _1"></span>ultiple Items fr<span class="_ _1"></span>om a List</div><div class="t m0 x3 h12 y3c0 ff7c fsa fc2 sc0 ls0 ws0">Last, you will need to use an array if you wan<span class="_ _1"></span>t the user to be able to select multiple items </div><div class="t m0 x3 h3c y44f ff7c fsa fc2 sc0 ls0 ws0">from a <span class="ff82">select</span> list<span class="_ _0"></span>:</div><div class="t m0 x3 h3c y450 ff82 fsa fc2 sc0 ls0 ws0">&lt;select name=&quot;var[]&quot; multiple=&quot;yes&quot;&gt;</div><div class="t m0 x1a h3c y46f ff7c fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t the name of the <span class="ff82">select</span> is an array, so each value tha<span class="_ _1"></span>t the user selects w<span class="_ _0"></span>ill </div><div class="t m0 x3 h3c y452 ff7c fsa fc2 sc0 ls0 ws0">be added to the <span class="ff82">&quot;var&quot;</span> array in your superglobal arr<span class="_ _1"></span>ay.</div><div class="t m0 x3 h19 y17a4 ff81 fsd fc2 sc0 ls0 ws0">Cookies</div><div class="t m0 x3 h12 y17a5 ff7c fsa fc2 sc0 ls0 ws0">Cookies let you store a sm<span class="_ _1"></span>all (4 to 6 KB) amount of data on the client device<span class="_ _1"></span>. The client </div><div class="t m0 x3 h12 y17a6 ff7c fsa fc2 sc0 ls0 ws0">will read them and send them with each request.</div><div class="t m0 x1a h12 y17a7 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can store any sort of information in a cookie, but they ar<span class="_ _1"></span>e most commonly </div><div class="t m0 x3 h12 y17a8 ff7c fsa fc2 sc0 ls0 ws0">associated with sessions. PHP can stor<span class="_ _1"></span>e its session identifier in the cookie. The session </div><div class="t m0 x3 h12 y17a9 ff7c fsa fc2 sc0 ls0 ws0">information is stored on the server and matched to the client thr<span class="_ _1"></span>ough the identifier in </div><div class="t m0 x3 h12 y17aa ff7c fsa fc2 sc0 ls0 ws0">the cookie. PHP does this for you when yo<span class="_ _1"></span>u start your session. By default, PHP session </div><div class="t m0 x3 h12 y17ab ff7c fsa fc2 sc0 ls0 ws0">cookies are valid until the person closes their br<span class="_ _1"></span>owser<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y17ac ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou cannot control cookies on the client device<span class="_ _1"></span>. They can be edited or deleted at any </div><div class="t m0 x3 h12 y17ad ff7c fsa fc2 sc0 ls0 ws0">time by the client. T<span class="_ _1"></span>his means that you should neither trust the information sent with </div><div class="t m0 x3 h12 y17ae ff7c fsa fc2 sc0 ls0 ws0">them nor rely on them to exist. Y<span class="_ _2"></span>ou should also not store sensitive information in cookies<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y17af ff7c fsa fc2 sc0 ls0 ws0">If you want to delete a cookie<span class="_ _1"></span>, you can set an expiry date that is in the past. This will </div><div class="t m0 x3 h12 y17b0 ff7c fsa fc2 sc0 ls0 ws0">let the client know tha<span class="_ _1"></span>t the cookie is no longer needed and can be deleted. Y<span class="_ _1"></span>ou ha<span class="_ _1"></span>ve no </div><div class="t m0 x3 h12 y17b1 ff7c fsa fc2 sc0 ls0 ws0">guarantee tha<span class="_ _1"></span>t the client will respect this.</div><div class="t m0 x1a h3c y17b2 ff7c fsa fc2 sc0 ls0 ws0">A server w<span class="_ _0"></span>ill set a cookie using the <span class="ff82">Set-Cookie</span> r<span class="_ _1"></span>esponse header<span class="_ _2"></span>. The client will </div><div class="t m0 x3 h3c y17b3 ff7c fsa fc2 sc0 ls0 ws0">include it with future requests usin<span class="_ _1"></span>g the <span class="ff82">Cookie</span> request header<span class="_ _2"></span>.</div><div class="t m0 x3 h26 y17b4 ff7c fse fc2 sc0 ls0 ws0">Setting Cookies</div><div class="t m0 x3 h3c y17b5 ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">setcookie()</span> function is used to set a cookie. The parameters ar<span class="_ _1"></span>e explained in the </div><div class="t m0 x3 h12 y17b6 ff7c fsa fc2 sc0 ls0 ws0">PHP Man<span class="_ _1"></span>ual and are given in the order of this table:</div><div class="t m0 x3 h20 y17b7 ff80 fs6 fc2 sc0 ls0 ws0">Parameter<span class="_ _9"> </span>Used For</div><div class="t m0 x3 h3c y17b8 ff82 fsa fc2 sc0 ls0 ws0">value<span class="_ _45"> </span><span class="ff7c">Storing a scalar value in the cookie.</span></div><div class="t m0 x3 h3c y17b9 ff82 fsa fc2 sc0 ls0 ws0">expire<span class="_ _b3"> </span><span class="ff7c">Unix epoch timestamp when the cookie expires<span class="_ _1"></span>. Y<span class="_ _1"></span>ou can&apos;t r<span class="_ _1"></span>ely on the </span></div><div class="t m0 x40 h12 y17ba ff7c fsa fc2 sc0 ls0 ws0">cookie existing until it expires<span class="_ _1"></span>, as it is common for people to delete their </div><div class="t m0 x40 h12 y17bb ff7c fsa fc2 sc0 ls0 ws0">cookies.</div><div class="t m0 x3 h3c y17bc ff82 fsa fc2 sc0 ls0 ws0">path<span class="_ _32"> </span><span class="ff7c">The base path on the domain tha<span class="_ _1"></span>t the cookie will be available on. If </span></div><div class="t m0 x40 h3c y17bd ff7c fsa fc2 sc0 ls0 ws0">you set it to <span class="ff82">/</span>, then it will be available on all pa<span class="_ _1"></span>ths<span class="_ _0"></span>; otherwise, it will be </div><div class="t m0 x40 h12 y17be ff7c fsa fc2 sc0 ls0 ws0">availa<span class="_ _1"></span>ble on the path and all sub-pa<span class="_ _1"></span>ths from it.</div><div class="t m0 x3 h3c y17bf ff82 fsa fc2 sc0 ls0 ws0">domain<span class="_ _b3"> </span><span class="ff7c">The cookie will be available on this and all sub-domains under it<span class="_ _1"></span>. Y<span class="_ _1"></span>ou </span></div><div class="t m0 x40 h12 y17c0 ff7c fsa fc2 sc0 ls0 ws0">can only set a cookie that ma<span class="_ _1"></span>tches the domain the cookie is being </div><div class="t m0 x40 h12 y17c1 ff7c fsa fc2 sc0 ls0 ws0">served from.</div><div class="t m0 x36 h12 y17c2 ff7c fsa fc2 sc0 ls0 ws0">(<span class="ff88">continued</span>)</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff5" class="pf w2 h4" data-page-no="f5"><div class="pc pcf5 w2 h4"><img class="bi x8 y17c3 w3 ha6" alt="" src="bgf5.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">228</div><div class="t m0 x8 h20 y984 ff80 fs6 fc2 sc0 ls0 ws0">Parameter<span class="_ _9"> </span>Used For</div><div class="t m0 x8 h3c y985 ff82 fsa fc2 sc0 ls0 ws0">secure<span class="_ _b3"> </span><span class="ff7c">T<span class="_ _2"></span>ells the client that it should only send the cookie if it is being sent over </span></div><div class="t m0 x79 h12 ybb1 ff7c fsa fc2 sc0 ls0 ws0">an HTTPS encr<span class="_ _0"></span>ypted connection.</div><div class="t m0 x8 h3c y17c4 ff82 fsa fc2 sc0 ls0 ws0">httponly<span class="_ _96"> </span><span class="ff7c">T<span class="_ _11"></span>ells the client that it should only send the cookie using HTTP and not </span></div><div class="t m0 x79 h12 y17c5 ff7c fsa fc2 sc0 ls0 ws0">make it a<span class="_ _1"></span>vailable to scripting languages like J<span class="_ _1"></span>avaScript. T<span class="_ _2"></span>o a limited </div><div class="t m0 x79 h12 y17c6 ff7c fsa fc2 sc0 ls0 ws0">degree, this c<span class="_ _1"></span>an help reduce XSS and session fixation attacks on clients </div><div class="t m0 x79 h12 y17c7 ff7c fsa fc2 sc0 ls0 ws0">that support it.</div><div class="t m0 x3 h12 y17c8 ff7c fsa fc2 sc0 ls0 ws0">Cookies can only store scalar v<span class="_ _1"></span>alues. Y<span class="_ _2"></span>ou can, however<span class="_ _2"></span>, use syntax like the following </div><div class="t m0 x8 h12 y17c9 ff7c fsa fc2 sc0 ls0 ws0">example:</div><div class="t m0 x8 h3c y17ca ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y17cb ff82 fsa fc2 sc0 ls0 ws0">setcookie(&quot;user[name]&quot;, &quot;Alice&quot;);</div><div class="t m0 x8 h3c y17cc ff82 fsa fc2 sc0 ls0 ws0">setcookie(&quot;user[email]&quot;, &quot;alice@example.com&quot;);</div><div class="t m0 x3 h3c y17cd ff7c fsa fc2 sc0 ls0 ws0">The next time the person makes a r<span class="_ _1"></span>equest to the site, the <span class="ff82">$_COOKIE</span> variable will </div><div class="t m0 x8 h12 y17ce ff7c fsa fc2 sc0 ls0 ws0">contain something like this:</div><div class="t m0 x8 h3c y17cf ff82 fsa fc2 sc0 ls0 ws0">Array</div><div class="t m0 x8 h3c y17d0 ff82 fsa fc2 sc0 ls0 ws0"> (</div><div class="t m0 x8 h3c y17d1 ff82 fsa fc2 sc0 ls0 ws0">        [PHPSESSID] =&gt; jlm5od9ngqi3krmu6fkjcebcb4</div><div class="t m0 x8 h3c y17d2 ff82 fsa fc2 sc0 ls0 ws0">        [user] =&gt; Array</div><div class="t m0 x8 h3c y17d3 ff82 fsa fc2 sc0 ls0 ws0">     (</div><div class="t m0 x8 h3c y17d4 ff82 fsa fc2 sc0 ls0 ws0">         [name] =&gt; Alice</div><div class="t m0 x8 h3c y17d5 ff82 fsa fc2 sc0 ls0 ws0">         [email] =&gt; alice@example.com</div><div class="t m0 x8 h3c y17d6 ff82 fsa fc2 sc0 ls0 ws0">     )</div><div class="t m0 x8 h3c y17d7 ff82 fsa fc2 sc0 ls0 ws0">)</div><div class="t m0 x3 h3c y17d8 ff7c fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t <span class="ff82">user</span> is an array and that the cookie value also contains the P<span class="_ _1"></span>HP session </div><div class="t m0 x8 h12 y17d9 ff7c fsa fc2 sc0 ls0 ws0">identifier<span class="_ _2"></span>.</div><div class="t m0 x8 h26 y17da ff7c fse fc2 sc0 ls0 ws0">Retrieving Cookies</div><div class="t m0 x8 h3c y17db ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can access the cookie information using the <span class="ff82">$_COOKIE</span> superglobal.</div><div class="t m0 x3 h12 y17dc ff7c fsa fc2 sc0 ls0 ws0">Remember that this arra<span class="_ _1"></span>y is populated with information from the cookie sent b<span class="_ _1"></span>y the </div><div class="t m0 x8 h3c y17dd ff7c fsa fc2 sc0 ls0 ws0">client. This means tha<span class="_ _1"></span>t if you use <span class="ff82">setcookie()</span> to create or ch<span class="_ _1"></span>ange a cookie, the <span class="ff82">$_COOKIE</span> </div><div class="t m0 x8 h12 y17de ff7c fsa fc2 sc0 ls0 ws0">array will only contain the new information when the clien<span class="_ _1"></span>t makes a new request.</div><div class="t m0 x8 h19 y17df ff81 fsd fc2 sc0 ls0 ws0">HTTP Headers</div><div class="t m0 x8 h12 y17e0 ff7c fsa fc2 sc0 ls0 ws0">HTTP headers are sent with the request fr<span class="_ _1"></span>om the client and with the response from the </div><div class="t m0 x8 h12 y17e1 ff7c fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>. They are used to convey information about the HTTP message such as what sort of </div><div class="t m0 x8 h12 y17e2 ff7c fsa fc2 sc0 ls0 ws0">information is being pro<span class="_ _1"></span>vided and what will be accepted in return.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff6" class="pf w2 h4" data-page-no="f6"><div class="pc pcf6 w2 h4"><img class="bi x3 y653 w5 h4c" alt="" src="bgf6.png"/><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x15 hd y55 ff7c fs6 fc2 sc0 ls21 wsfc">229</div><div class="t m0 x1a h12 y1b8 ff7c fsa fc2 sc0 ls0 ws0">HTTP headers take the form of a name-<span class="_ _1"></span>value pair in a clear text string. A carriage </div><div class="t m0 x3 h12 y1b9 ff7c fsa fc2 sc0 ls0 ws0">return and line feed char<span class="_ _1"></span>acter follows each header<span class="_ _2"></span>. There is no limit in the standar<span class="_ _1"></span>d but </div><div class="t m0 x3 h12 y2d2 ff7c fsa fc2 sc0 ls0 ws0">most servers and clients impose limits on the length of a header and the total number of </div><div class="t m0 x3 h12 y2d3 ff7c fsa fc2 sc0 ls0 ws0">headers that ma<span class="_ _1"></span>y be sent in one request/response<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y2d4 ff7c fsa fc2 sc0 ls0 ws0">PHP will automatically emit valid he<span class="_ _1"></span>aders for you, but there ar<span class="_ _1"></span>e several cases where </div><div class="t m0 x3 h12 y1bd ff7c fsa fc2 sc0 ls0 ws0">you may w<span class="_ _1"></span>ant to send your own header<span class="_ _2"></span>.</div><div class="t m0 x3 h26 y595 ff7c fse fc2 sc0 ls0 ws0">Sending Headers</div><div class="t m0 x3 h3c y596 ff7c fsa fc2 sc0 ls0 ws0">The PHP function <span class="ff82">header()</span> lets you send a header to the client. Y<span class="_ _2"></span>ou may only send </div><div class="t m0 x3 h12 y597 ff7c fsa fc2 sc0 ls0 ws0">headers before any normal cont<span class="_ _1"></span>ent has been sent to the client. One of the reasons tha<span class="_ _1"></span>t it </div><div class="t m0 x3 h3c y598 ff7c fsa fc2 sc0 ls0 ws0">is common to omit the closing <span class="ff82">?&gt;</span> tag in included PHP files is to a<span class="_ _1"></span>void having a newline </div><div class="t m0 x3 h12 y599 ff7c fsa fc2 sc0 ls0 ws0">character occur after the tag<span class="_ _1"></span>. This character would be sent as HTML content and would </div><div class="t m0 x3 h12 y59a ff7c fsa fc2 sc0 ls0 ws0">prevent y<span class="_ _1"></span>ou from being able to send headers<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y59b ff7c fsa fc2 sc0 ls0 ws0">The parameters sent to <span class="ff82">header()</span> ar<span class="_ _1"></span>e as follows:</div><div class="t m0 x3 h20 y17e3 ff80 fs6 fc2 sc0 ls0 ws0">Parameter<span class="_ _be"> </span>Description</div><div class="t m0 x3 h12 y17e4 ff7c fsa fc2 sc0 ls0 ws0">Header string<span class="_ _ad"> </span>String containing the header to set. For exam<span class="_ _1"></span>ple,  </div><div class="t m0 x7b h3c y17e5 ff82 fsa fc2 sc0 ls0 ws0">&quot;Cache-Control: no-cache, must-revalidate&quot;<span class="ff7c">.</span></div><div class="t m0 x3 h12 y17e6 ff7c fsa fc2 sc0 ls0 ws0">Replace<span class="_ _51"> </span>Boolean to indica<span class="_ _1"></span>te whether this header must replace a </div><div class="t m0 x7b h12 y17e7 ff7c fsa fc2 sc0 ls0 ws0">previously sent header with the same name<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y17e8 ff7c fsa fc2 sc0 ls0 ws0">Response code<span class="_ _59"> </span>The HTTP response code to send with the header<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y17e9 ff7c fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e two special cases for headers. The first is for headers tha<span class="_ _1"></span>t begin with the </div><div class="t m0 x3 h3c y17ea ff7c fsa fc2 sc0 ls0 ws0">string <span class="ff82">&quot;HTTP/&quot;</span>. These can be used to explicitly set the HTTP response code, as in this </div><div class="t m0 x3 h12 y17eb ff7c fsa fc2 sc0 ls0 ws0">example from the PHP man<span class="_ _1"></span>ual</div><div class="t m0 x33 h15 y17ec ff7c fsb fc4 sc0 ls0 ws0">10</div><div class="t m0 x9b h12 y17ed ff7c fsa fc2 sc0 ls0 ws0">:</div><div class="t m0 x3 h3c y17ee ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y17ef ff82 fsa fc2 sc0 ls0 ws0">header(&quot;HTTP/1.0 404 Not Found&quot;);</div><div class="t m0 x1a h3c y17f0 ff7c fsa fc2 sc0 ls0 ws0">The second special case is for using the <span class="ff82">&quot;Location&quot;</span> header<span class="_ _2"></span>. This header indicates to </div><div class="t m0 x3 h12 y17f1 ff7c fsa fc2 sc0 ls0 ws0">the client that the documen<span class="_ _1"></span>t they are looking for is in the location you specify.</div><div class="t m0 x23 h10 y17f2 ff84 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff85">■<span class="_ _c"> </span><span class="ff87 fc2">Note<span class="ff84"> <span class="_ _2c"> </span> PHP will automatically set a 302 HTTP status code if you use this header<span class="_ _1"></span>,<span class="_ _1"></span> unless </span></span></span></div><div class="t m0 x3 h10 y17f3 ff84 fs6 fc2 sc0 ls0 ws0">you&apos;ve already set a 2xx or 3xx header<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y17f4 ff7c fsa fc2 sc0 ls0 ws0">Here<span class="_ _1"></span>’<span class="_ _2"></span>s an example:</div><div class="t m0 x3 h3c y17f5 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y17f6 ff82 fsa fc2 sc0 ls0 ws0">header(&quot;Location: http://www.example.com/&quot;);</div><div class="t m0 x3 h3c y17f7 ff82 fsa fc2 sc0 ls0 ws0">exit;</div><div class="t m0 x3 h16 y17f8 ff83 fsc fc2 sc0 ls0 ws0">10</div><div class="t m0 x35 h43 y17f9 ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.header.php</div><a class="l" href="#pff6" data-dest-detail='[246,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:175.291000px;bottom:287.575000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.header.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.047700px;width:191.250500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff7" class="pf w2 h4" data-page-no="f7"><div class="pc pcf7 w2 h4"><img class="bi x8 y17fa w6 h27" alt="" src="bgf7.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 lsa ws58">230</div><div class="t m0 x3 h12 y1b8 ff7c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, the ser<span class="_ _0"></span>ver will respond with status code 302 and the clien<span class="_ _1"></span>t will be </div><div class="t m0 x8 h12 y1b9 ff7c fsa fc2 sc0 ls0 ws0">redirected to the example dom<span class="_ _1"></span>ain.</div><div class="t m0 x3 h12 y2d2 ff7c fsa fc2 sc0 ls0 ws0">Note the usage of the exit language construct after sending the r<span class="_ _1"></span>edirect header<span class="_ _2"></span>. Y<span class="_ _2"></span>our </div><div class="t m0 x8 h12 y2d3 ff7c fsa fc2 sc0 ls0 ws0">code continues to run after sending the header unless you stop it<span class="_ _1"></span>. It is up to the client to </div><div class="t m0 x8 h12 y2d4 ff7c fsa fc2 sc0 ls0 ws0">respect your r<span class="_ _1"></span>edirect header<span class="_ _2"></span>. If they decide not to respect it, your code will continue to </div><div class="t m0 x8 h12 y1bd ff7c fsa fc2 sc0 ls0 ws0">output and they will see whatever output it genera<span class="_ _1"></span>tes. M<span class="_ _1"></span>ake sure you explicitly termina<span class="_ _1"></span>te </div><div class="t m0 x8 h12 y1be ff7c fsa fc2 sc0 ls0 ws0">your progr<span class="_ _1"></span>am after sending a redirect header<span class="_ _11"></span>.</div><div class="t m0 x8 h26 y17fb ff7c fse fc2 sc0 ls0 ws0">Trackin<span class="_ _1"></span>g Headers</div><div class="t m0 x8 h3c y2f8 ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">headers_list()</span> function will return an arra<span class="_ _1"></span>y of headers that are r<span class="_ _1"></span>eady to be sent or </div><div class="t m0 x8 h12 y2f9 ff7c fsa fc2 sc0 ls0 ws0">hav<span class="_ _1"></span>e already been sent to the client. Y<span class="_ _2"></span>ou can determine if the headers hav<span class="_ _1"></span>e been sent by </div><div class="t m0 x8 h3c y17fc ff7c fsa fc2 sc0 ls0 ws0">calling <span class="ff82">headers_sent()</span>.</div><div class="t m0 x3 h12 y2fa ff7c fsa fc2 sc0 ls0 ws0">If you want to pr<span class="_ _1"></span>event a particular header from being sent, y<span class="_ _1"></span>ou can use the  </div><div class="t m0 x8 h3c y2fb ff82 fsa fc2 sc0 ls0 ws0">headers_remove()<span class="ff7c"> function to unset a header from the list to be sent.</span></div><div class="t m0 x8 h19 y17fd ff81 fsd fc2 sc0 ls0 ws11b">HTTP Authentication</div><div class="t m0 x8 h12 y17fe ff7c fsa fc2 sc0 ls0 ws0">PHP can send a header to the client that c<span class="_ _1"></span>auses it to pop up an Authentication R<span class="_ _1"></span>equired </div><div class="t m0 x8 h12 y17ff ff7c fsa fc2 sc0 ls0 ws0">dialog box. When the user fills in the dialog with a us<span class="_ _0"></span>er and passwor<span class="_ _1"></span>d, the URL of the PHP </div><div class="t m0 x8 h12 y1800 ff7c fsa fc2 sc0 ls0 ws0">script is called again.</div><div class="t m0 x3 h12 y1801 ff7c fsa fc2 sc0 ls0 ws0">On the second call, PHP will have three pr<span class="_ _1"></span>edefined variables available in the </div><div class="t m0 x8 h3c y1802 ff82 fsa fc2 sc0 ls0 ws0">$_SERVER<span class="ff7c"> array. These ar<span class="_ _1"></span>e <span class="ff82">PHP_AUTH_USER</span>, <span class="ff82">PHP_AUTH_PW</span>, and <span class="ff82">AUTH_TYPE</span> and are set to the </span></div><div class="t m0 x8 h12 y1803 ff7c fsa fc2 sc0 ls0 ws0">username, passwor<span class="_ _1"></span>d, and authentication type r<span class="_ _1"></span>espectively.</div><div class="t m0 x3 h12 y1804 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou should then authenticate the user using what<span class="_ _1"></span>ever method you see fit, such as </div><div class="t m0 x8 h12 y1805 ff7c fsa fc2 sc0 ls0 ws0">checking the user and password ag<span class="_ _1"></span>ainst a database.</div><div class="t m0 x3 h12 y1806 ff7c fsa fc2 sc0 ls0 ws0">Examples of HTTP authentication are given on the PHP m<span class="_ _1"></span>anual page</div><div class="t m0 x22 h15 y1807 ff7c fsb fc4 sc0 ls0 ws0">11</div><div class="t m0 x9c h12 y1808 ff7c fsa fc2 sc0 ls0 ws0">:</div><div class="t m0 x8 h3c y1809 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y180a ff82 fsa fc2 sc0 ls0 ws0"> if (!isset($_SERVER[&apos;PHP_AUTH_USER&apos;])) {</div><div class="t m0 x8 h3c y180b ff82 fsa fc2 sc0 ls0 ws0">     header(&apos;WWW-Authenticate: Basic realm=&quot;My Realm&quot;&apos;);</div><div class="t m0 x8 h3c y180c ff82 fsa fc2 sc0 ls0 ws0">     header(&apos;HTTP/1.0 401 Unauthorized&apos;);</div><div class="t m0 x8 h3c y180d ff82 fsa fc2 sc0 ls0 ws0">     echo &apos;Text to send if user hits Cancel button&apos;;</div><div class="t m0 x8 h3c y180e ff82 fsa fc2 sc0 ls0 ws0">     exit;</div><div class="t m0 x8 h3c y180f ff82 fsa fc2 sc0 ls0 ws0"> } else {</div><div class="t m0 x8 h3c y1810 ff82 fsa fc2 sc0 ls0 ws0">     echo &quot;&lt;p&gt;Hello {$_SERVER[&apos;PHP_AUTH_USER&apos;]}.&lt;/p&gt;&quot;;</div><div class="t m0 x8 h3c y1811 ff82 fsa fc2 sc0 ls0 ws0">     echo &quot;&lt;p&gt;You entered {$_SERVER[&apos;PHP_AUTH_PW&apos;]} as your password.&lt;/p&gt;&quot;;</div><div class="t m0 x8 h3c y1812 ff82 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1813 ff7c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we just output the contents of the variables in the <span class="ff82">$_SERVER</span> arra<span class="_ _1"></span>y, </div><div class="t m0 x8 h12 y1814 ff7c fsa fc2 sc0 ls0 ws0">but in real life we would perform some form of authentication.</div><div class="t m0 x3 h12 y1815 ff7c fsa fc2 sc0 ls0 ws0">The password sent b<span class="_ _1"></span>y the client is base64encoded to standardize the char<span class="_ _1"></span>acter set, </div><div class="t m0 x8 h12 y1816 ff7c fsa fc2 sc0 ls0 ws0">but there is no hashin<span class="_ _1"></span>g or encr<span class="_ _0"></span>yption performed. This is a very weak form of protecting </div><div class="t m0 x8 h12 y1817 ff7c fsa fc2 sc0 ls0 ws0">your site and unless you ar<span class="_ _1"></span>e using HTTPS, the password will be r<span class="_ _1"></span>eadable by anybody </div><div class="t m0 x8 h12 y1818 ff7c fsa fc2 sc0 ls0 ws0">between your client and server<span class="_ _2"></span>.</div><div class="t m0 x8 h16 y1819 ff83 fsc fc2 sc0 ls1a wsf6">11</div><div class="t m0 x3c h43 y181a ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/features.http-auth.php</div><a class="l" href="#pff7" data-dest-detail='[247,"XYZ",39,79,null]'><div class="d m1" style="border-style:none;position:absolute;left:320.658000px;bottom:293.325000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/features.http-auth.php"><div class="d m1" style="border-style:none;position:absolute;left:44.552200px;bottom:66.939400px;width:203.999800px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff8" class="pf w2 h4" data-page-no="f8"><div class="pc pcf8 w2 h4"><img class="bi x3 y181b w5 ha7" alt="" src="bgf8.png"/><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x21 hd y55 ff7c fs6 fc2 sc0 ls27 ws101">2<span class="_ _0"></span>31</div><div class="t m0 x3 h19 y24e ff81 fsd fc2 sc0 ls0 ws0">HTTP Status Codes</div><div class="t m0 x3 h12 y24f ff7c fsa fc2 sc0 ls0 ws0">HTTP status codes are sent with responses and follow s<span class="_ _1"></span>tandards set by the Int<span class="_ _1"></span>ernet </div><div class="t m0 x3 h12 y337 ff7c fsa fc2 sc0 ls0 ws0">Engineering T<span class="_ _2"></span>ask For<span class="_ _1"></span>ce, as well as de facto standards used within the industry.</div><div class="t m0 x1a h12 y338 ff7c fsa fc2 sc0 ls0 ws0">HTTP status codes are divided into r<span class="_ _1"></span>anges of 100 codes each. All of the status codes </div><div class="t m0 x3 h12 y6f5 ff7c fsa fc2 sc0 ls0 ws0">in the range will ha<span class="_ _1"></span>ve a similar meaning, as in this following table<span class="_ _1"></span>.</div><div class="t m0 x3 h20 y181c ff80 fs6 fc2 sc0 ls0 ws0">Range<span class="_ _89"> </span>General Meaning</div><div class="t m0 x3 h3c y181d ff82 fsa fc2 sc0 ls0 ws0">200<span class="_ _8f"> </span><span class="ff7c">The request was successful</span></div><div class="t m0 x3 h3c y181e ff82 fsa fc2 sc0 ls0 ws0">300<span class="_ _8f"> </span><span class="ff7c">The request needs to be redirected</span></div><div class="t m0 x3 h3c y181f ff82 fsa fc2 sc0 ls0 ws0">400<span class="_ _8f"> </span><span class="ff7c">There was an error on the client side</span></div><div class="t m0 x3 h3c y1820 ff82 fsa fc2 sc0 ls0 ws0">500<span class="_ _8f"> </span><span class="ff7c">There was an error on the server side</span></div><div class="t m0 x1a h12 y1821 ff7c fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou won’t nee<span class="_ _0"></span>d to know all of the differ<span class="_ _1"></span>ent status codes b<span class="_ _1"></span>y heart for your exam. </div><div class="t m0 x3 h12 y1822 ff7c fsa fc2 sc0 ls0 ws0">When you’re writing an API in r<span class="_ _1"></span>eal life, you’ll be able to visit W<span class="_ _1"></span>ikipedia</div><div class="t m0 x9c h15 y1823 ff7c fsb fc4 sc0 ls0 ws0">12</div><div class="t m0 x1b h12 y1824 ff7c fsa fc2 sc0 ls0 ws0"> and choose the </div><div class="t m0 x3 h12 y1825 ff7c fsa fc2 sc0 ls0 ws0">right code for your response<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1826 ff7c fsa fc2 sc0 ls0 ws0">For yo<span class="_ _1"></span>ur exam, you just need to know the most important ones:</div><div class="t m0 x3 h20 y1827 ff80 fs6 fc2 sc0 ls0 ws0">Code<span class="_ _75"> </span>Status</div><div class="t m0 x3 h3c y1828 ff82 fsa fc2 sc0 ls0 ws0">200<span class="_ _b"> </span><span class="ff7c">OK; the r<span class="_ _1"></span>equest was successful.</span></div><div class="t m0 x3 h3c y1829 ff82 fsa fc2 sc0 ls0 ws0">201<span class="_ _b"> </span><span class="ff7c">Cr<span class="_ _1"></span>eated; the request r<span class="_ _1"></span>esulted in a new resource being cr<span class="_ _1"></span>eated.</span></div><div class="t m0 x3 h3c y182a ff82 fsa fc2 sc0 ls0 ws0">301<span class="_ _b"> </span><span class="ff7c wsee">M<span class="_ _1"></span>oved permanently; the resour<span class="_ _1"></span>ce will always be found at the location s<span class="_ _1"></span>pecified.</span></div><div class="t m0 x3 h3c y182b ff82 fsa fc2 sc0 ls0 ws0">400<span class="_ _b"> </span><span class="ff7c">Bad r<span class="_ _1"></span>equest<span class="_ _0"></span>; there was something in the request th<span class="_ _1"></span>at was malformed or </span></div><div class="t m0 x41 h12 y182c ff7c fsa fc2 sc0 ls0 ws0">otherw<span class="_ _0"></span>ise pr<span class="_ _1"></span>evented its execution.</div><div class="t m0 x3 h3c y182d ff82 fsa fc2 sc0 ls0 ws0">401<span class="_ _b"> </span><span class="ff7c">Un<span class="_ _1"></span>authorized; the client has not been authenticated as being allo<span class="_ _1"></span>wed to make </span></div><div class="t m0 x41 h12 y182e ff7c fsa fc2 sc0 ls0 ws0">this request.</div><div class="t m0 x3 h3c y182f ff82 fsa fc2 sc0 ls0 ws0">403<span class="_ _b"> </span><span class="ff7c">F<span class="_ _1"></span>orbidden; the (authenticat<span class="_ _1"></span>ed) client is not allowed to make this request.</span></div><div class="t m0 x3 h3c y1830 ff82 fsa fc2 sc0 ls0 ws0">418<span class="_ _b"> </span><span class="ff7c">I<span class="_ _1"></span>’m a teapot<span class="_ _0"></span>; the client is attempting to send coffee making pr<span class="_ _1"></span>otocols to the </span></div><div class="t m0 x41 h12 y1831 ff7c fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>, which is in fact a teapot.</div><div class="t m0 x5d h15 y1832 ff7c fsb fc4 sc0 ls0 ws0">13</div><div class="t m0 x6b h12 y1833 ff7c fsa fc2 sc0 ls0 ws0"> Okay this isn’t an important status code<span class="_ _1"></span>, but </div><div class="t m0 x41 h12 y1834 ff7c fsa fc2 sc0 ls0 ws0">it’<span class="_ _1"></span>s fun to kno<span class="_ _1"></span>w about.</div><div class="t m0 x3 h3c y1835 ff82 fsa fc2 sc0 ls0 ws0">500<span class="_ _b"> </span><span class="ff7c">In<span class="_ _1"></span>ternal server er<span class="_ _0"></span>r<span class="_ _1"></span>or<span class="_ _0"></span>; the server was not able to complete the request and </span></div><div class="t m0 x41 h12 y1836 ff7c fsa fc2 sc0 ls0 ws0">can’t respond mor<span class="_ _1"></span>e appropriately. Commonly associated with a crash or </div><div class="t m0 x41 h12 y1837 ff7c fsa fc2 sc0 ls0 ws0">misconfiguration.</div><div class="t m0 x3 h16 y1838 ff83 fsc fc2 sc0 ls0 ws0">12</div><div class="t m0 x35 h43 y1839 ff82 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/List_of_HTTP_status_codes</div><div class="t m0 x3 h16 y183a ff83 fsc fc2 sc0 ls0 ws0">13</div><div class="t m0 x35 h43 y183b ff82 fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Hyper_Text_Coffee_Pot_Control_Protocol</div><a class="l" href="#pff8" data-dest-detail='[248,"XYZ",57,96,null]'><div class="d m1" style="border-style:none;position:absolute;left:325.427000px;bottom:405.015000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff8" data-dest-detail='[248,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:208.852000px;bottom:219.515000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:83.439400px;width:233.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Hyper_Text_Coffee_Pot_Control_Protocol"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:73.439400px;width:289.000500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff9" class="pf w2 h4" data-page-no="f9"><div class="pc pcf9 w2 h4"><img class="bi x8 y653 w6 h27" alt="" src="bgf9.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls28 ws102">232</div><div class="t m0 x3 h12 y1b8 ff7c fsa fc2 sc0 ls0 ws0">When using APIs the HTTP status code is very important. If you’r<span class="_ _1"></span>e coding an API, </div><div class="t m0 x8 h12 y1b9 ff7c fsa fc2 sc0 ls0 ws0">you should make sur<span class="_ _1"></span>e that you send the correct sta<span class="_ _1"></span>tus code for the error<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y2d2 ff7c fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, if the request failed and you send an error messa<span class="_ _1"></span>ge in the body, you </div><div class="t m0 x8 h12 y2d3 ff7c fsa fc2 sc0 ls0 ws0">should make sur<span class="_ _1"></span>e that the HTTP status code is 400 and not 200.</div><div class="t m0 x3 h12 y2d4 ff7c fsa fc2 sc0 ls12 ws0">As you work with PHP<span class="_ _11"></span>, you’ll become more familiar with the status codes<span class="_ _1"></span>, but if in </div><div class="t m0 x8 h12 y1bd ff7c fsa fc2 sc0 ls12 ws0">doubt, you should look up a list and m<span class="_ _1"></span>ake sure that y<span class="_ _1"></span>ou’re sending an appropriate r<span class="_ _1"></span>esponse.</div><div class="t m0 x8 h19 y183c ff81 fsd fc2 sc0 ls0 ws0">Output Control Functions</div><div class="t m0 x8 h12 y183d ff7c fsa fc2 sc0 ls0 ws0">Instead of outputtin<span class="_ _1"></span>g from your script immediately, it is often very useful to store </div><div class="t m0 x8 h12 y183e ff7c fsa fc2 sc0 ls0 ws0">your output in a buffer and then flush the whole buffer a<span class="_ _1"></span>t once. This could be useful </div><div class="t m0 x8 h12 y183f ff7c fsa fc2 sc0 ls0 ws0">for escaping output befor<span class="_ _1"></span>e sending it to the user<span class="_ _2"></span>, or using PHP&apos;s built-in compr<span class="_ _1"></span>ession </div><div class="t m0 x8 h12 y1840 ff7c fsa fc2 sc0 ls0 ws0">routines to compr<span class="_ _1"></span>ess the response you send to compa<span class="_ _1"></span>tible browsers.</div><div class="t m0 x3 h3c y1841 ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">ob_start()</span> function is used to start output buffering. Anything tha<span class="_ _1"></span>t your script </div><div class="t m0 x8 h12 y1842 ff7c fsa fc2 sc0 ls0 ws0">would normally output in the body of the response will be stored in<span class="_ _1"></span>to the buffer<span class="_ _2"></span>. This </div><div class="t m0 x8 h12 y1843 ff7c fsa fc2 sc0 ls0 ws0">function takes an optional parameter<span class="_ _11"></span>, which is a callable and will be called when the </div><div class="t m0 x8 h12 y1844 ff7c fsa fc2 sc0 ls0 ws0">buffer is either output or discar<span class="_ _1"></span>ded.</div><div class="t m0 x3 h12 y1845 ff7c fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple of setting a callback function. I&apos;ve included the output of the </div><div class="t m0 x8 h12 y1846 ff7c fsa fc2 sc0 ls0 ws0">script as a comment.</div><div class="t m0 x8 h3c y1847 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1848 ff82 fsa fc2 sc0 ls0 ws0">function escapeOutput(string $buffer): string {</div><div class="t m0 x8 h3c y1849 ff82 fsa fc2 sc0 ls0 ws0">    return htmlentities($buffer);</div><div class="t m0 x8 h3c y184a ff82 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y184b ff82 fsa fc2 sc0 ls0 ws0">ob_start(&quot;escapeOutput&quot;);</div><div class="t m0 x8 h3c y184c ff82 fsa fc2 sc0 ls0 ws0">// &amp;lt;script&amp;gt;alert(&amp;quot;xss&amp;quot;);&amp;lt;/script&amp;gt;</div><div class="t m0 x8 h3c y184d ff82 fsa fc2 sc0 ls0 ws0">echo &apos;&lt;script&gt;alert(&quot;xss&quot;);&lt;/script&gt;&apos;;</div><div class="t m0 x3 h12 y184e ff7c fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, the buffer was implicitly flushed when the script ended. Y<span class="_ _1"></span>ou can use </div><div class="t m0 x8 h3c y184f ff7c fsa fc2 sc0 ls0 ws0">the <span class="ff82">ob_flush()</span> function</div><div class="t m0 x9d h15 y1850 ff7c fsb fc4 sc0 ls0 ws0">14</div><div class="t m0 x67 h12 y1851 ff7c fsa fc2 sc0 ls0 ws0"> to explicitly flush the buffer and output its conten<span class="_ _1"></span>ts. One time </div><div class="t m0 x8 h12 y1852 ff7c fsa fc2 sc0 ls0 ws0">that this could be useful is when you&apos;r<span class="_ _1"></span>e writing a CLI script and want to be able to see </div><div class="t m0 x8 h12 y1853 ff7c fsa fc2 sc0 ls0 ws0">progr<span class="_ _1"></span>ess, and another (arguably bad) use case could be to write the server for a  </div><div class="t m0 x8 h12 y1854 ff7c fsa fc2 sc0 ls0 ws0">long-pollin<span class="_ _1"></span>g Ja<span class="_ _1"></span>vaScript client.</div><div class="t m0 x8 h3c y1855 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1856 ff82 fsa fc2 sc0 ls0 ws0">ob_start();</div><div class="t m0 x8 h3c y1857 ff82 fsa fc2 sc0 ls0 ws0">// this is a cli script</div><div class="t m0 x8 h3c y1858 ff82 fsa fc2 sc0 ls0 ws0">for ($i=1; $i&lt;5; $i++) {</div><div class="t m0 x8 h3c y1859 ff82 fsa fc2 sc0 ls0 ws0">    echo $i;</div><div class="t m0 x8 h3c y185a ff82 fsa fc2 sc0 ls0 ws0">    // each character is output one by one</div><div class="t m0 x8 h3c y185b ff82 fsa fc2 sc0 ls0 ws0">    ob_flush();</div><div class="t m0 x8 h3c y185c ff82 fsa fc2 sc0 ls0 ws0">    sleep(1);</div><div class="t m0 x8 h3c y185d ff82 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h16 y185e ff83 fsc fc2 sc0 ls0 ws0">14</div><div class="t m0 x3c h43 y185f ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.ob-flush.php</div><a class="l" href="#pff9" data-dest-detail='[249,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:133.469000px;bottom:243.289000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.ob-flush.php"><div class="d m1" style="border-style:none;position:absolute;left:44.735500px;bottom:71.824400px;width:199.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pffa" class="pf w2 h4" data-page-no="fa"><div class="pc pcfa w2 h4"><img class="bi x3 yc2e w5 h9a" alt="" src="bgfa.png"/><div class="t m0 x85 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x15 hd y55 ff7c fs6 fc2 sc0 lsa ws58">233</div><div class="t m0 x1a h3c y2a8 ff7c fsa fc2 sc0 ls0 ws0">The <span class="ff82">ob_flush</span> function will output the buffer and allow further output to be buffer<span class="_ _1"></span>ed. </div><div class="t m0 x3 h3c y2a9 ff7c fsa fc2 sc0 ls0 ws0">Compare this to <span class="ff82">ob_end_flush,</span></div><div class="t m0 x6 h15 ye20 ff7c fsb fc4 sc0 ls0 ws0">15</div><div class="t m0 x49 h12 y1521 ff7c fsa fc2 sc0 ls0 ws0"> which will output the buffer and disable any further </div><div class="t m0 x3 h12 y1522 ff7c fsa fc2 sc0 ls0 ws0">buffering.</div><div class="t m0 x23 h10 y1860 ff84 fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff85">■<span class="_ _c"> </span><span class="ff87 fc2">Note<span class="ff84 wsf"> <span class="_ _2a"> </span> The <span class="_ _0"></span></span><span class="ff82 fsa">flush()</span><span class="ff84"> function can be used if your web server is buffering output and you </span></span></span></div><div class="t m0 x3 h10 y1861 ff84 fs6 fc2 sc0 ls0 ws0">want to try override this beha<span class="_ _0"></span>vior and send something directly to the browser<span class="_ _2"></span>.<span class="_ _1"></span> <span class="_ _1"></span>This won’t </div><div class="t m0 x3 h10 y1862 ff84 fs6 fc2 sc0 ls0 ws0">always work,<span class="_ _1"></span> however<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y16cf ff7c fsa fc2 sc0 ls0 ws0">PHP has a built<span class="_ _1"></span>-in way to help you compr<span class="_ _1"></span>ess data before y<span class="_ _1"></span>ou send it over the </div><div class="t m0 x3 h12 y1863 ff7c fsa fc2 sc0 ls0 ws0">network. If you enable it<span class="_ _1"></span>, then PHP will detect if the browser is able to support </div><div class="t m0 x3 h12 y1864 ff7c fsa fc2 sc0 ls0 ws0">compressed data and, if so<span class="_ _1"></span>, use the GZIP algorithm to reduce the size of the r<span class="_ _1"></span>esponse. T<span class="_ _2"></span>o </div><div class="t m0 x3 h3c y1865 ff7c fsa fc2 sc0 ls0 ws0">set it up<span class="_ _1"></span>, you specify the compression function as the callback for <span class="ff82">ob_start()</span>. Look at the </div><div class="t m0 x3 h12 y1866 ff7c fsa fc2 sc0 ls0 ws0">PHP manual</div><div class="t m0 x9e h15 y1867 ff7c fsb fc4 sc0 ls0 ws0">16</div><div class="t m0 xa h12 y1868 ff7c fsa fc2 sc0 ls0 ws0"> for more examples<span class="_ _1"></span>, but here is a simple example:</div><div class="t m0 x3 h3c y1869 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y186a ff82 fsa fc2 sc0 ls0 ws0">ob_start(&quot;ob_gzhandler&quot;);</div><div class="t m0 x3 h3c y186b ff82 fsa fc2 sc0 ls0 ws0">?&gt;</div><div class="t m0 x3 h3c y186c ff82 fsa fc2 sc0 ls0 ws0">{&quot;string&quot;: &quot;my json api output is compressed now&quot;}</div><div class="t m0 x92 hf y186d ff7f fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">9</span> QUIZ</div><div class="t m0 x5 h10 y186e ff84 fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Assume that the <span class="ff82 fsa">variables_order</span> is set to the PHP default.<span class="_ _1"></span> <span class="_ _1"></span>What would the </div><div class="t m0 x5 h10 y186f ff84 fs6 fc2 sc0 ls0 ws0">value of <span class="ff82 fsa">$_REQUEST[&apos;biggestfan&apos;]</span> be for the following HTTP request?</div><div class="t m0 x5 h3c y1870 ff82 fsa fc2 sc0 ls0 ws0">POST  HTTP/1.1</div><div class="t m0 x5 h3c y1871 ff82 fsa fc2 sc0 ls0 ws0">Host: thebeebfanclub.com?biggestfan=Ron</div><div class="t m0 x5 h3c y1872 ff82 fsa fc2 sc0 ls0 ws0">Content-Type: application/x-www-form-urlencoded</div><div class="t m0 x5 h3c y1873 ff82 fsa fc2 sc0 ls0 ws0">Cache-Control: no-cache</div><div class="t m0 x5 h3c y1874 ff82 fsa fc2 sc0 ls0 ws0">biggestfan=Ronald</div><div class="t m0 x5 h3c y1875 ff82 fsa fc2 sc0 ls0 ws0">Ron</div><div class="t m0 x5 h3c y1876 ff82 fsa fc2 sc0 ls0 ws0">Ronald</div><div class="t m0 x5 h10 y1877 ff84 fs6 fc2 sc0 ls0 ws0">Something else</div><div class="t m0 x5 h10 y1878 ff84 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x3 h16 y1879 ff83 fsc fc2 sc0 ls0 ws0">15</div><div class="t m0 x35 h43 y187a ff82 fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.ob-end-flush.php</div><div class="t m0 x3 h16 y187b ff83 fsc fc2 sc0 ls0 ws0">16</div><div class="t m0 x35 h43 y187c ff82 fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/function.ob-gzhandler.php</div><a class="l" href="#pffa" data-dest-detail='[250,"XYZ",57,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:179.225000px;bottom:578.145000px;width:5.247000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffa" data-dest-detail='[250,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:106.119000px;bottom:427.181000px;width:5.247000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_9"><div class="d m1" style="border-style:none;position:absolute;left:240.036000px;bottom:339.759000px;width:6.672000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.ob-end-flush.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:82.081100px;width:216.750500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/function.ob-gzhandler.php"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:72.081100px;width:246.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pffb" class="pf w2 h4" data-page-no="fb"><div class="pc pcfb w2 h4"><img class="bi x8 y187d w5 ha8" alt="" src="bgfb.png"/><div class="t m0 x8 h11 y54 ff84 fs9 fc2 sc0 ls0 ws0">CHAPTER 9 <span class="ff85 fc5">■</span><span class="ws11a"> WEB <span class="_ _0"></span>FEA<span class="_ _2"></span>TURES</span></div><div class="t m0 x8 hd y55 ff7c fs6 fc2 sc0 ls5 ws33">234</div><div class="t m0 x4b h10 y5ae ff84 fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> Each of these inputs is in a properly constructed form that </div><div class="t m0 x76 h10 y609 ff82 fsa fc2 sc0 ls0 ws0">POST<span class="ff84 fs6">s to your site.<span class="_ _1"></span> </span></div><div class="t m0 x4b h10 y120d ff84 fs6 fc2 sc0 ls0 ws0">Which one is the correct way in which to place the name entered into the input box </div><div class="t m0 x4b h10 y120e ff84 fs6 fc2 sc0 ls0 ws0">into a variable that you can access like this <span class="ff82 fsa">$_POST[&apos;justin][&apos;numberonefan&apos;]</span>?</div><div class="t m0 x4b h3c y1679 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;text&quot; name=&quot;justin.numberonefan&quot;&gt;</div><div class="t m0 x4b h3c y187e ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;text&quot; name=&quot;justin(numberonefan)&quot;&gt;</div><div class="t m0 x4b h3c y187f ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;text&quot; name=&quot;justin[numberonefan]&quot;&gt;</div><div class="t m0 x4b h3c y1880 ff82 fsa fc2 sc0 ls0 ws0">&lt;input type=&quot;text&quot; name=&quot;justin_numberonefan&quot;&gt;</div><div class="t m0 x4b h10 y1881 ff84 fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x4b h10 y1882 ff84 fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> Cookies are a reliable way to store information without wasting ser<span class="_ _0"></span>ver </div><div class="t m0 x4b h10 y1883 ff84 fs6 fc2 sc0 ls0 ws0">resources.<span class="_ _1"></span> Choose the most correct option.</div><div class="t m0 x4b h10 y1884 ff84 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>es,<span class="_ _1"></span> storing information on the client side saves server disk space</div><div class="t m0 x4b h10 y1885 ff84 fs6 fc2 sc0 ls0 ws0">No,<span class="_ _1"></span> a copy of the information is still kept in the session data</div><div class="t m0 x4b h10 y1886 ff84 fs6 fc2 sc0 ls0 ws0">No,<span class="_ _1"></span> they are not reliable</div><div class="t m0 x4b h10 y1887 ff84 fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>es,<span class="_ _1"></span> it is common to store all of the session data in cookies</div><div class="t m0 x4b h10 y1888 ff84 fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output? Choose all that a<span class="_ _0"></span>pply</div><div class="t m0 x4b h3c y1889 ff82 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h3c y188a ff82 fsa fc2 sc0 ls0 ws0">echo $a;</div><div class="t m0 x4b h3c y188b ff82 fsa fc2 sc0 ls0 ws0">session_start();</div><div class="t m0 x4b h3c y188c ff82 fsa fc2 sc0 ls0 ws0">echo session_id();</div><div class="t m0 x4b h10 y188d ff84 fs6 fc2 sc0 ls0 ws0">A notice because<span class="ff7c fsa"> <span class="ff82">$a</span></span> is undefined</div><div class="t m0 x4b h10 y188e ff84 fs6 fc2 sc0 ls0 ws0">A warning because <span class="ff82 fsa">$a<span class="ff7c"> </span></span>is undefined</div><div class="t m0 x4b h10 y188f ff84 fs6 fc2 sc0 ls0 ws0">A warning because you cannot start the session</div><div class="t m0 x4b h10 y1890 ff84 fs6 fc2 sc0 ls0 ws0">A random string containing the<span class="ff7c fsa"> <span class="ff82">session_id</span></span></div><div class="t m0 x4b h10 y1891 ff84 fs6 fc2 sc0 ls0 wsf">Q5:<span class="_ _1"></span> The <span class="_ _0"></span><span class="ff82 fsa ws0">domain</span><span class="ws0"> property of a cookie is used to do which of the following?</span></div><div class="t m0 x4b h10 y1892 ff84 fs6 fc2 sc0 ls0 ws0">Limit which part(s) of your web site the cookie is valid for</div><div class="t m0 x4b h10 y1893 ff84 fs6 fc2 sc0 ls0 ws0">Specify the name of your web site</div><div class="t m0 x4b h10 y1894 ff84 fs6 fc2 sc0 ls0 ws0">Prevent the browser from sending this cookie to other web sites</div><div class="t m0 x4b h10 y1895 ff84 fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pffc" class="pf w2 h4" data-page-no="fc"><div class="pc pcfc w2 h4"><img class="bi x0 y1896 w4 h30" alt="" src="bgfc.png"/><div class="t m0 x15 hd y3e ff89 fs6 fc2 sc0 lsc ws104">235</div><div class="t m0 x3 h1b y1ca ff8a fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff8a fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff8b">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff8a fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_10<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff8c fse fc2 sc0 ls0 ws0">CHAPTER 10</div><div class="t m0 x3 h1d y1ce ff8d fs7 fc2 sc0 ls0 ws0">Databases and SQL</div><div class="t m0 x3 h12 y612 ff89 fsa fc2 sc0 ls0 ws0">Databases ar<span class="_ _1"></span>e a tool to persist data that you int<span class="_ _1"></span>end to refer to regularly and need to keep </div><div class="t m0 x3 h12 y613 ff89 fsa fc2 sc0 ls0 ws0">for a long time.</div><div class="t m0 x1a h12 y614 ff89 fsa fc2 sc0 ls0 ws0">PHP uses extensions to interact with a r<span class="_ _1"></span>ange of databases. F<span class="_ _1"></span>or example, to inter<span class="_ _1"></span>act </div><div class="t m0 x3 h3c y615 ff89 fsa fc2 sc0 ls0 ws0">with the MySQL database, yo<span class="_ _1"></span>u can use the functions provided b<span class="_ _1"></span>y the <span class="ff8e">mysqli</span> extension.</div><div class="t m0 x23 ha9 y1897 ff8f fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff90">■<span class="_ _c"> </span><span class="ff91 fc2">Note<span class="ff8f"> <span class="_ _2c"> </span> <span class="_ _1"></span>There is an <span class="_ _1"></span>“i”<span class="_ _1"></span> at the end of <span class="ff8e fsa">mysqli</span>.<span class="_ _1"></span> <span class="_ _1"></span>This is the replacement for the now </span></span></span></div><div class="t m0 x3 ha9 y1898 ff8f fs6 fc2 sc0 ls0 ws0">deprecated <span class="ff8e fsa">mysql</span> extension.<span class="_ _1"></span> Features like <span class="_ _1"></span>“prepared statements”<span class="_ _1"></span> are only available with the </div><div class="t m0 x3 ha9 y1899 ff8f fs6 fc2 sc0 ls0 ws0">new extension.</div><div class="t m0 x1a h12 y189a ff89 fsa fc2 sc0 ls0 ws0">PHP also offers abstraction lay<span class="_ _1"></span>ers that pro<span class="_ _1"></span>vide an application layer between your </div><div class="t m0 x3 h12 y189b ff89 fsa fc2 sc0 ls0 ws0">code and the database. W<span class="_ _2"></span>e&apos;ll be looking at PDO (PHP Data Objects) in this book.</div><div class="t m0 x1a h12 y189c ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e&apos;ll be focusing on r<span class="_ _1"></span>elational databases in this book, but it is worth mentioning </div><div class="t m0 x3 h12 y189d ff89 fsa fc2 sc0 ls0 ws0">in passing an alternative to r<span class="_ _1"></span>elational data<span class="_ _1"></span>bases. MongoDB is a very popular NoSQL </div><div class="t m0 x3 h12 y189e ff89 fsa fc2 sc0 ls0 ws0">database and it has contributed a driver for PHP tha<span class="_ _1"></span>t allows you to connect to the </div><div class="t m0 x3 h12 y189f ff89 fsa fc2 sc0 ls0 ws0">database. W<span class="_ _2"></span>e&apos;ll be focusing on the native r<span class="_ _1"></span>elational databases and the Mon<span class="_ _1"></span>goDB driver is </div><div class="t m0 x3 h12 y18a0 ff89 fsa fc2 sc0 ls0 ws0">not likely to be included in your Zend examination.</div><div class="t m0 x1a h12 y18a1 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou will b<span class="_ _0"></span>e expected to know basic SQL for your Zend examination. T<span class="_ _1"></span>he assumed </div><div class="t m0 x3 h12 y18a2 ff89 fsa fc2 sc0 ls0 ws0">environmen<span class="_ _1"></span>t will be MySQL if the question does not specify other<span class="_ _0"></span>wise.</div><div class="t m0 x3 h19 y18a3 ff92 fsd fc2 sc0 ls0 ws0">Database Basics</div><div class="t m0 x3 h12 y18a4 ff89 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s begin by makin<span class="_ _1"></span>g sure that some of the concepts of r<span class="_ _1"></span>elational databases ar<span class="_ _1"></span>e clear<span class="_ _2"></span>.</div><div class="t m0 x3 h26 y18a5 ff89 fse fc2 sc0 ls55 ws131">Ke<span class="_ _0"></span>ys</div><div class="t m0 x3 h3c y18a6 ff89 fsa fc2 sc0 ls0 ws0">Keys impose constrain<span class="_ _1"></span>ts, such as <span class="ff8e">PRIMARY</span> and <span class="ff8e">UNIQUE</span>. A primary key can be defined on </div><div class="t m0 x3 h12 y18a7 ff89 fsa fc2 sc0 ls0 ws0">either a single or multiple columns<span class="_ _1"></span>. It guarant<span class="_ _1"></span>ees that each row in the da<span class="_ _1"></span>tabase will have </div><div class="t m0 x3 h12 y18a8 ff89 fsa fc2 sc0 ls0 ws0">a unique value combination for the columns in the k<span class="_ _1"></span>ey. A row may not h<span class="_ _1"></span>ave a null value </div><div class="t m0 x3 h12 y18a9 ff89 fsa fc2 sc0 ls0 ws0">for its primary key.</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_10"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:159.460000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pffd" class="pf w2 h4" data-page-no="fd"><div class="pc pcfd w2 h4"><img class="bi x8 y18aa w3 haa" alt="" src="bgfd.png"/><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 lsc ws104">236</div><div class="t m0 x3 h12 y1b8 ff89 fsa fc2 sc0 ls0 ws0">A table may h<span class="_ _1"></span>ave only one primary key. A foreign key can also be defined on either </div><div class="t m0 x8 h12 y1b9 ff89 fsa fc2 sc0 ls0 ws0">a single or multiple columns<span class="_ _1"></span>. It refer<span class="_ _1"></span>ences the primary key on another table. This is </div><div class="t m0 x8 h12 y2d2 ff89 fsa fc2 sc0 ls0 ws0">a unique refer<span class="_ _1"></span>ence, so only one row in the r<span class="_ _1"></span>eferenced table will be linked to the table </div><div class="t m0 x8 h12 y2d3 ff89 fsa fc2 sc0 ls0 ws0">containing the forei<span class="_ _1"></span>gn key.</div><div class="t m0 x3 h12 y2d4 ff89 fsa fc2 sc0 ls0 ws0">Figur<span class="_ _1"></span>e<span class="fc4">10-1</span> refers to the cat<span class="_ _1"></span>egor<span class="_ _0"></span>y that a pr<span class="_ _1"></span>oduct belongs to with the foreign key </div><div class="t m0 x8 h3c y1bd ff8e fsa fc2 sc0 ls0 ws0">category_id<span class="ff89">.</span></div><div class="t m0 x8 h26 y18ab ff89 fse fc2 sc0 ls0 ws0">Indexes</div><div class="t m0 x8 h12 y18ac ff89 fsa fc2 sc0 ls0 ws0">Indexes ar<span class="_ _1"></span>e data structures that ar<span class="_ _1"></span>e needed to implement the key constraint<span class="_ _1"></span>. Indexes </div><div class="t m0 x8 h12 y18ad ff89 fsa fc2 sc0 ls0 ws0">make retrieving r<span class="_ _1"></span>ecords faster<span class="_ _2"></span>. The database engine will cr<span class="_ _1"></span>eate a structure on disk or in </div><div class="t m0 x8 h12 y18ae ff89 fsa fc2 sc0 ls0 ws0">memory that contains the data from the indexed columns<span class="_ _1"></span>. This structure is optimized for </div><div class="t m0 x8 h12 y18af ff89 fsa fc2 sc0 ls0 ws0">lookups and helps the data<span class="_ _1"></span>base find the row in the table faster<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y18b0 ff89 fsa fc2 sc0 ls0 ws0">Whenever you insert a row int<span class="_ _1"></span>o a table, the indexes need to be updated. This adds an </div><div class="t m0 x8 h12 y18b1 ff89 fsa fc2 sc0 ls0 ws0">overhead to writing.</div><div class="t m0 x3 h12 y18b2 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou cannot have a key without an index, but it is possible to index columns that ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y18b3 ff89 fsa fc2 sc0 ls0 ws0">not keyed. Y<span class="_ _2"></span>ou would do this in cases where you don&apos;t want to enfor<span class="_ _1"></span>ce uniqueness but do </div><div class="t m0 x8 h3c y18b4 ff89 fsa fc2 sc0 ls0 ws0">want to speed up <span class="ff8e">SELECT</span> statements th<span class="_ _1"></span>at include these columns in their <span class="ff8e">WHERE</span><span class="ls11 wse8"> clauses.</span></div><div class="t m0 x3 h12 y18b5 ff89 fsa fc2 sc0 ls0 ws0">The binding between keys and indexes is very tight and in MySQL they are </div><div class="t m0 x8 h12 y18b6 ff89 fsa fc2 sc0 ls0 ws0">considered synonymous<span class="_ _1"></span>.</div><div class="t m0 x8 h26 y18b7 ff89 fse fc2 sc0 ls0 ws0">Relationships</div><div class="t m0 x8 h12 y18b8 ff89 fsa fc2 sc0 ls0 ws0">Relationships ar<span class="_ _1"></span>e a core featur<span class="_ _1"></span>e of relational data<span class="_ _1"></span>bases. By declaring how tables ar<span class="_ _1"></span>e </div><div class="t m0 x8 h12 y18b9 ff89 fsa fc2 sc0 ls0 ws0">related, yo<span class="_ _1"></span>u can enforce refer<span class="_ _1"></span>ential integrity and minimize dirty data.</div><div class="t m0 x3 h12 y18ba ff89 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several types of relationships<span class="_ _1"></span>.</div><div class="t m0 x8 h20 y18bb ff8d fs6 fc2 sc0 ls0 ws0">Relationship<span class="_ _6a"> </span>Description</div><div class="t m0 x8 h12 y18bc ff89 fsa fc2 sc0 ls0 ws0">One-to-one<span class="_ _db"> </span>One row in the par<span class="_ _1"></span>ent table can refer<span class="_ _1"></span>ence exactly one row in the child </div><div class="t m0 x19 h12 y18bd ff89 fsa fc2 sc0 ls0 ws0">table.</div><div class="t m0 x8 h12 y18be ff89 fsa fc2 sc0 ls0 ws0">One-to-many<span class="_ _98"> </span>One row in the par<span class="_ _1"></span>ent table can be refer<span class="_ _1"></span>enced by many r<span class="_ _1"></span>ows in the </div><div class="t m0 x19 h12 y18bf ff89 fsa fc2 sc0 ls0 ws0">child table.</div><div class="t m0 x8 h12 y18c0 ff89 fsa fc2 sc0 ls0 ws0">Many-to-m<span class="_ _1"></span>any<span class="_ _2c"> </span>Any number of ro<span class="_ _1"></span>ws in the parent table can be r<span class="_ _1"></span>eferenced by any </div><div class="t m0 x19 h12 y18c1 ff89 fsa fc2 sc0 ls0 ws0">number of ro<span class="_ _1"></span>ws in the child table.</div><div class="t m0 x8 h84 y18c2 ff93 fsa fc2 sc0 ls0 ws0">Figure 10-1.<span class="ff94"> <span class="_ _aa"> </span>Both tables have primary keys named id</span></div><a class="l" href="#pffd" data-dest-detail='[253,"XYZ",29,526,null]'><div class="d m1" style="border-style:none;position:absolute;left:83.987600px;bottom:545.325000px;width:16.812400px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pffe" class="pf w2 h4" data-page-no="fe"><div class="pc pcfe w2 h4"><img class="bi x3 y653 w5 hac" alt="" src="bgfe.png"/><div class="t m0 x9f hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x15 hd y55 ff89 fs6 fc2 sc0 ls28 ws102">237</div><div class="t m0 x1a h12 y1b8 ff89 fsa fc2 sc0 ls0 ws0">By ha<span class="_ _1"></span>ving relationships between tables<span class="_ _1"></span>, you can store da<span class="_ _1"></span>ta that is logically rela<span class="_ _1"></span>ted </div><div class="t m0 x3 h12 y1b9 ff89 fsa fc2 sc0 ls0 ws0">together in a table distinct from other da<span class="_ _1"></span>ta.</div><div class="t m0 x1a h3c y2d2 ff89 fsa fc2 sc0 ls0 ws0">For example<span class="_ _1"></span>, you can ha<span class="_ _1"></span>ve a <span class="ff8e">products</span> table that stor<span class="_ _1"></span>es information about what y<span class="_ _1"></span>ou </div><div class="t m0 x3 h12 y2d3 ff89 fsa fc2 sc0 ls0 ws0">sell. Products belong to categories<span class="_ _1"></span>. A single category can have lots of differ<span class="_ _1"></span>ent products in </div><div class="t m0 x3 h12 y2d4 ff89 fsa fc2 sc0 ls0 ws0">it. This means that one r<span class="_ _1"></span>ow in the category table can be referred to b<span class="_ _1"></span>y multiple rows in the </div><div class="t m0 x3 h12 y1bd ff89 fsa fc2 sc0 ls0 ws0">products table<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y595 ff89 fse fc2 sc0 ls0 ws0">SQL Data Types</div><div class="t m0 x3 h12 y596 ff89 fsa fc2 sc0 ls0 ws0">Columns in a SQL database table hav<span class="_ _1"></span>e a data type assigned to them. J<span class="_ _1"></span>ust as with PHP </div><div class="t m0 x3 h12 y597 ff89 fsa fc2 sc0 ls0 ws0">variable types, SQL types can each store differ<span class="_ _1"></span>ent formats of data<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y598 ff89 fsa fc2 sc0 ls0 ws0">Each database mana<span class="_ _1"></span>ger will implement the SQL data types slightly differently and </div><div class="t m0 x3 h12 y599 ff89 fsa fc2 sc0 ls0 ws0">will have differ<span class="_ _1"></span>ent optimizations between its types.</div><div class="t m0 x1a h12 y59a ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e discuss a few of the common data types and avoid focusin<span class="_ _1"></span>g on any particular </div><div class="t m0 x3 h12 y59b ff89 fsa fc2 sc0 ls0 ws0">implementation of SQL.</div><div class="t m0 x3 h26 y147f ff89 fse fc2 sc0 ls0 ws0">N<span class="_ _1"></span>umeric Types</div><div class="t m0 x3 h12 y174b ff89 fsa fc2 sc0 ls0 ws0">The types of integers vary in the amount of bytes that they tak<span class="_ _1"></span>e to store their value.</div><div class="t m0 x1a h12 y174c ff89 fsa fc2 sc0 ls0 ws0">The following table illustra<span class="_ _1"></span>tes the sizes of integers for the MySQL database:</div><div class="t m0 x48 h15 y18c3 ff89 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x3 h20 y18c4 ff8d fs6 fc2 sc0 ls0 ws0">Integer T<span class="_ _2"></span>ype<span class="_ _ba"> </span>Bytes<span class="_ _84"> </span>(Signed) Values<span class="_ _b8"> </span>(Unsigned) V<span class="_ _1"></span>alues</div><div class="t m0 x3 h3c y18c5 ff8e fsa fc2 sc0 ls0 ws0">BIGINT<span class="_ _dc"> </span><span class="ff89">8<span class="_ _af"> </span>-9223372036854775808 to + </span></div><div class="t m0 x1f h12 y18c6 ff89 fsa fc2 sc0 ls0 ws0">9223372036854775807</div><div class="t m0 x3a h12 y18c5 ff89 fsa fc2 sc0 ls0 ws0">0 to 18446744073709551615</div><div class="t m0 x3 h3c y18c7 ff8e fsa fc2 sc0 ls0 ws0">INTEGER<span class="_ _af"> </span><span class="ff89">4<span class="_ _af"> </span>-2147483648 to +2147483647<span class="_ _cf"> </span>0 to 4294967295</span></div><div class="t m0 x3 h3c y18c8 ff8e fsa fc2 sc0 ls0 ws0">MEDIUMINT<span class="_ _8a"> </span><span class="ff89">3<span class="_ _af"> </span>-8388608 to +8388607<span class="_ _32"> </span>0 to 16777215</span></div><div class="t m0 x3 h3c y18c9 ff8e fsa fc2 sc0 ls0 ws0">SMALLINT<span class="_ _ae"> </span><span class="ff89">2<span class="_ _af"> </span>-32768 to +32767<span class="_ _36"> </span>0 to 65535</span></div><div class="t m0 x3 h3c y18ca ff8e fsa fc2 sc0 ls0 ws0">TINYINT<span class="_ _af"> </span><span class="ff89">1<span class="_ _af"> </span>-128 to +127<span class="_ _dd"> </span>0 to 255</span></div><div class="t m0 x23 ha9 y18cb ff8f fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff90">■<span class="_ _c"> </span><span class="ff91 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff8f fc2"> <span class="_ _2c"> </span> MySQL allows you to specify a parameter for integers,<span class="_ _1"></span> which is actually a display </span></span></div><div class="t m0 x3 ha9 y18cc ff8f fs6 fc2 sc0 ls0 ws0">value and doesn’t affect the underlying storage.<span class="_ _1"></span> It’<span class="_ _1"></span>s a fairly common misconception that the </div><div class="t m0 x3 ha9 y18cd ff8f fs6 fc2 sc0 ls0 ws0">parameter is for precision.</div><div class="t m0 x1a h3c y12e4 ff89 fsa fc2 sc0 ls0 ws0">Non-integer types can be stor<span class="_ _1"></span>ed in either <span class="ff8e">NUMERIC</span> or <span class="ff8e">DECIMAL</span> values. The SQL-92 </div><div class="t m0 x3 h3c y18ce ff89 fsa fc2 sc0 ls0 ws0">standard specifies tha<span class="_ _1"></span>t a <span class="ff8e">NUMERIC</span> type must have the exact pr<span class="_ _1"></span>ecision stipulated, while the </div><div class="t m0 x3 h3c y18cf ff8e fsa fc2 sc0 ls0 ws0">DECIMAL<span class="ff89"> type must be at least as pr<span class="_ _1"></span>ecise. The implementation of these data types does </span></div><div class="t m0 x3 h12 y18d0 ff89 fsa fc2 sc0 ls0 ws0">differ between vendors.</div><div class="t m0 x3 h16 y18d1 ff95 fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x1d h43 y18d2 ff8e fs5 fc4 sc0 ls0 ws0">https://dev.mysql.com/doc/refman/5.7/en/integer-types.html</div><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:360.275000px;bottom:366.325000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://dev.mysql.com/doc/refman/5.7/en/integer-types.html"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.020400px;width:246.500200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfff" class="pf w2 h4" data-page-no="ff"><div class="pc pcff w2 h4"><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 ls23 wsfe">238</div><div class="t m0 x3 h12 y1b8 ff89 fsa fc2 sc0 ls0 ws0">They both take the same parameters:</div><div class="t m0 x8 h3c y1ba ff8e fsa fc2 sc0 ls0 ws0">NUMERIC(21,3)</div><div class="t m0 x3 h12 y1bc ff89 fsa fc2 sc0 ls0 ws0">The first parameter specifies the total num<span class="_ _1"></span>ber of digits of precision, and the second </div><div class="t m0 x8 h12 y1bd ff89 fsa fc2 sc0 ls0 ws0">parameter specifies how man<span class="_ _1"></span>y digits of decimal precision must be stor<span class="_ _1"></span>ed.</div><div class="t m0 x3 h12 y1be ff89 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, we are going to store a num<span class="_ _1"></span>ber that has 21 digits in total, of which </div><div class="t m0 x8 h12 y1bf ff89 fsa fc2 sc0 ls0 ws0">three appear after the decimal point<span class="_ _1"></span>.</div><div class="t m0 x8 h26 yf45 ff89 fse fc2 sc0 ls0 ws0">Char<span class="_ _1"></span>acter Types</div><div class="t m0 x8 h12 yf46 ff89 fsa fc2 sc0 ls0 ws0">SQL allows for character to be stor<span class="_ _1"></span>ed either in fixed- or variable-length strings.</div><div class="t m0 x3 h12 yf47 ff89 fsa fc2 sc0 ls0 ws0">A fixed-length string is always alloca<span class="_ _1"></span>ted the same number of bytes on disk. This can </div><div class="t m0 x8 h12 yf48 ff89 fsa fc2 sc0 ls0 ws0">help speed up read performance in some database implementations<span class="_ _1"></span>. The trade-off is tha<span class="_ _1"></span>t </div><div class="t m0 x8 h12 yf49 ff89 fsa fc2 sc0 ls0 ws0">if a string being stored in a fixed length da<span class="_ _1"></span>ta store is shorter than the number of char<span class="_ _1"></span>acters </div><div class="t m0 x8 h12 yf4a ff89 fsa fc2 sc0 ls0 ws0">allocated, you ar<span class="_ _1"></span>e storing more characters th<span class="_ _1"></span>an you hav<span class="_ _1"></span>e to.</div><div class="t m0 x3 h12 yf4b ff89 fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iable-length s<span class="_ _1"></span>trings can swell up to the limiting size given to them. The data<span class="_ _1"></span>base </div><div class="t m0 x8 h12 yf4c ff89 fsa fc2 sc0 ls0 ws0">engine allocates stor<span class="_ _1"></span>age according to the length of the string. Da<span class="_ _1"></span>tabase implementations </div><div class="t m0 x8 h12 yf4d ff89 fsa fc2 sc0 ls0 ws0">will store the length of the string being stor<span class="_ _1"></span>ed. This will be at least one character to </div><div class="t m0 x8 h12 yf4e ff89 fsa fc2 sc0 ls0 ws0">indicate the end of the string, but in some engines each variable s<span class="_ _1"></span>tring will incur heavier </div><div class="t m0 x8 h12 y18d3 ff89 fsa fc2 sc0 ls0 ws0">storage o<span class="_ _1"></span>verhead.</div><div class="t m0 x3 h12 y18d4 ff89 fsa fc2 sc0 ls0 ws0">In general, when storing a string tha<span class="_ _1"></span>t you know is always going to be of a particular </div><div class="t m0 x8 h12 y18d5 ff89 fsa fc2 sc0 ls0 ws0">length, such as a hash for exam<span class="_ _1"></span>ple, you should stor<span class="_ _1"></span>e it in a fixed-length character field. </div><div class="t m0 x8 h12 y18d6 ff89 fsa fc2 sc0 ls0 ws0">This will impro<span class="_ _1"></span>ve performance and you won&apos;t incur storage waste.</div><div class="t m0 x8 h19 y18d7 ff92 fsd fc2 sc0 ls0 ws0">W<span class="_ _1"></span>orking with SQL</div><div class="t m0 x8 h12 y18d8 ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e won’t focus on any specific implementation of SQL and will rather try to use generic </div><div class="t m0 x8 h12 y18d9 ff89 fsa fc2 sc0 ls0 ws0">statements<span class="_ _1"></span>. The Zend examination will not be testing your knowledge of a particular </div><div class="t m0 x8 h12 y18da ff89 fsa fc2 sc0 ls0 ws0">database engine<span class="_ _1"></span>, but will be expecting you to know basic SQL syntax.</div><div class="t m0 x8 h26 y18db ff89 fse fc2 sc0 ls0 ws0">Crea<span class="_ _1"></span>ting a Data<span class="_ _1"></span>base and T<span class="_ _11"></span>able</div><div class="t m0 x8 h3c y18dc ff89 fsa fc2 sc0 ls0 ws0">The <span class="ff8e">CREATE</span> statement can be used to cr<span class="_ _1"></span>eate databases and tables<span class="_ _1"></span>. Creating a da<span class="_ _1"></span>tabase is </div><div class="t m0 x8 h12 y18dd ff89 fsa fc2 sc0 ls0 ws0">simple; you just specify the name of the da<span class="_ _1"></span>tabase:</div><div class="t m0 x8 h3c y18de ff8e fsa fc2 sc0 ls0 ws0">CREATE DATABASE mydatabase;</div><div class="t m0 x3 h12 y18df ff89 fsa fc2 sc0 ls0 ws0">When creating a ta<span class="_ _1"></span>ble, you can specify a list of the columns you w<span class="_ _1"></span>ant to store in it. </div><div class="t m0 x8 h12 y18e0 ff89 fsa fc2 sc0 ls0 ws0">For each column, y<span class="_ _1"></span>ou specify the name, data type<span class="_ _1"></span>, and attributes.</div><div class="t m0 x8 h3c y18e1 ff8e fsa fc2 sc0 ls0 ws0">CREATE TABLE IF NOT EXISTS users (</div><div class="t m0 x8 h3c y18e2 ff8e fsa fc2 sc0 ls0 ws0">  id int unsigned NOT NULL AUTO_INCREMENT,</div><div class="t m0 x8 h3c y18e3 ff8e fsa fc2 sc0 ls0 ws0">  name varchar(255) NOT NULL,</div><div class="t m0 x8 h3c y18e4 ff8e fsa fc2 sc0 ls0 ws0">  email varchar(255) NOT NULL,</div><div class="t m0 x8 h3c y18e5 ff8e fsa fc2 sc0 ls0 ws0">  password varchar(60) NOT NULL,</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf100" class="pf w2 h4" data-page-no="100"><div class="pc pc100 w2 h4"><div class="t m0 x9f hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x15 hd y55 ff89 fs6 fc2 sc0 ls24 wsff">239</div><div class="t m0 x3 h3c y2a8 ff8e fsa fc2 sc0 ls0 ws0">  PRIMARY KEY (id),</div><div class="t m0 x3 h3c y3e3 ff8e fsa fc2 sc0 ls0 ws0">  UNIQUE KEY users_email_unique (email)</div><div class="t m0 x3 h3c y424 ff8e fsa fc2 sc0 ls0 ws0">);</div><div class="t m0 x3 h26 yb2b ff89 fse fc2 sc0 ls0 ws0">Droppin<span class="_ _1"></span>g Database and T<span class="_ _11"></span>ables</div><div class="t m0 x3 h3c yb2c ff89 fsa fc2 sc0 ls0 ws0">The inverse of <span class="ff8e">CREATE</span> is the <span class="ff8e">DROP</span> statemen<span class="_ _1"></span>t.</div><div class="t m0 x3 h3c yc4f ff8e fsa fc2 sc0 ls0 ws0">DROP TABLE category;</div><div class="t m0 x3 h3c yb2e ff8e fsa fc2 sc0 ls0 ws0">DROP DATABASE mydatabase;</div><div class="t m0 x1a h12 yb30 ff89 fsa fc2 sc0 ls0 ws0">If you ha<span class="_ _1"></span>ve specified foreign keys, the da<span class="_ _1"></span>tabase will not let you drop a table if this will </div><div class="t m0 x3 h12 yb31 ff89 fsa fc2 sc0 ls0 ws0">violate one of the constrain<span class="_ _1"></span>ts.</div><div class="t m0 x1a h12 y18e6 ff89 fsa fc2 sc0 ls0 ws0">As an example, r<span class="_ _1"></span>efer to our example with products and categories<span class="_ _1"></span>. If we tr<span class="_ _0"></span>y to drop </div><div class="t m0 x3 h12 yb32 ff89 fsa fc2 sc0 ls0 ws0">the category table and there are still pr<span class="_ _1"></span>oducts referencin<span class="_ _1"></span>g it, the database engine should </div><div class="t m0 x3 h12 y18e7 ff89 fsa fc2 sc0 ls0 ws0">not allow the operation.</div><div class="t m0 x3 h26 y18e8 ff89 fse fc2 sc0 ls0 ws0">Retrieving Data</div><div class="t m0 x3 h3c y18e9 ff89 fsa fc2 sc0 ls0 ws0">The <span class="ff8e">SELECT</span> statement is used to r<span class="_ _1"></span>etrieve data. The syntax for <span class="ff8e">SELECT</span> can be very </div><div class="t m0 x3 h12 y18ea ff89 fsa fc2 sc0 ls0 ws0">complicated and is one of the statemen<span class="_ _1"></span>ts that differs the most between vendors. Y<span class="_ _2"></span>ou will </div><div class="t m0 x3 h12 y18eb ff89 fsa fc2 sc0 ls0 ws0">need to understand basic usage and joins for your Zend certification.</div><div class="t m0 x1a h12 y18ec ff89 fsa fc2 sc0 ls0 ws0">In this simple pseudo-code example of a query, we retrieve the names of products </div><div class="t m0 x3 h12 y18ed ff89 fsa fc2 sc0 ls0 ws0">from our table th<span class="_ _1"></span>at cost more than 100 curr<span class="_ _1"></span>ency units. W<span class="_ _1"></span>e specify that we want the results </div><div class="t m0 x3 h12 y18ee ff89 fsa fc2 sc0 ls0 ws0">to be returned in descending or<span class="_ _1"></span>der of price.</div><div class="t m0 x3 h3c y18ef ff8e fsa fc2 sc0 ls0 ws0">SELECT name</div><div class="t m0 x3 h3c y18f0 ff8e fsa fc2 sc0 ls0 ws0">  FROM products</div><div class="t m0 x3 h3c y18f1 ff8e fsa fc2 sc0 ls0 ws0">  WHERE price &gt; 100</div><div class="t m0 x3 h3c y18f2 ff8e fsa fc2 sc0 ls0 ws0">  ORDER BY price DESC</div><div class="t m0 x1a h3c y18f3 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can specify multiple column names separated by comm<span class="_ _1"></span>as or use the wildcard <span class="ff8e">*</span> </div><div class="t m0 x3 h12 y18f4 ff89 fsa fc2 sc0 ls0 ws0">to receive all columns<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y18f5 ff89 fsa fc2 sc0 lsc ws0">The format of the data tha<span class="_ _1"></span>t PHP receives is dependent on the driver and function </div><div class="t m0 x3 h12 y18f6 ff89 fsa fc2 sc0 lsc ws0">that you use to call the query. Y<span class="_ _2"></span>ou’ll generally receive an object or an array tha<span class="_ _1"></span>t has </div><div class="t m0 x3 h12 y18f7 ff89 fsa fc2 sc0 lsc ws0">keys/properties corresponding to the columns<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y56f ff89 fse fc2 sc0 ls0 ws0">Inserting N<span class="_ _1"></span>ew Data</div><div class="t m0 x3 h3c y570 ff89 fsa fc2 sc0 ls0 ws0">The <span class="ff8e">INSERT</span> statement is used to cr<span class="_ _1"></span>eate new rows in the da<span class="_ _1"></span>tabase. Y<span class="_ _2"></span>ou will need to provide </div><div class="t m0 x3 h3c y571 ff89 fsa fc2 sc0 ls0 ws0">a list of the columns and the values to insert to them. Columns that ar<span class="_ _1"></span>e marked <span class="ff8e">NOT NULL</span> </div><div class="t m0 x3 h12 y572 ff89 fsa fc2 sc0 ls0 ws0">are manda<span class="_ _1"></span>tor<span class="_ _0"></span>y and must h<span class="_ _1"></span>ave a value specified when you cr<span class="_ _1"></span>eate the ro<span class="_ _1"></span>w.</div><div class="t m0 x3 h3c y18f8 ff8e fsa fc2 sc0 ls0 ws0">INSERT INTO products</div><div class="t m0 x3 h3c y18f9 ff8e fsa fc2 sc0 ls0 ws0">  (name, price, category_id) VALUES</div><div class="t m0 x3 h3c y18fa ff8e fsa fc2 sc0 ls0 ws0">  (&apos;cheeseburger&apos;, 100, 3)</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf101" class="pf w2 h4" data-page-no="101"><div class="pc pc101 w2 h4"><img class="bi x8 y1409 w20 had" alt="" src="bg101.png"/><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 ls5 ws33">240</div><div class="t m0 x3 h12 y1b8 ff89 fsa fc2 sc0 ls0 ws0">If you don’t specify the names of the columns<span class="_ _1"></span>, SQL w<span class="_ _0"></span>ill assume tha<span class="_ _1"></span>t you’re pr<span class="_ _1"></span>oviding </div><div class="t m0 x8 h12 y1b9 ff89 fsa fc2 sc0 ls0 ws0">values in the order tha<span class="_ _1"></span>t the columns appear in the table. This can be a dr<span class="_ _1"></span>awback if ever </div><div class="t m0 x8 h12 y1ba ff89 fsa fc2 sc0 ls0 ws0">you change the structur<span class="_ _1"></span>e of your table.</div><div class="t m0 x3 h12 y1bb ff89 fsa fc2 sc0 ls0 ws0">Otherw<span class="_ _0"></span>ise<span class="_ _1"></span>, as in the example, you specify the names of the columns<span class="_ _1"></span>, and then the </div><div class="t m0 x8 h12 y1bc ff89 fsa fc2 sc0 ls0 ws0">values. The v<span class="_ _1"></span>alues are assigned to the columns in order<span class="_ _11"></span>. So, in this example the name of </div><div class="t m0 x8 h3c y1bd ff89 fsa fc2 sc0 ls0 ws0">the product is set to <span class="ff8e">&apos;cheeseburger&apos;</span>, its price is 100, and it is placed into the category </div><div class="t m0 x8 h12 y1be ff89 fsa fc2 sc0 ls0 ws0">that has an ID value of 3 (wh<span class="_ _1"></span>atever that ma<span class="_ _1"></span>y be).</div><div class="t m0 x8 h26 y1194 ff89 fse fc2 sc0 ls0 ws0">Upda<span class="_ _1"></span>ting Data</div><div class="t m0 x8 h3c y1195 ff89 fsa fc2 sc0 ls0 ws0">The <span class="ff8e">UPDATE</span> statement accepts a list of v<span class="_ _1"></span>alues similar to the <span class="ff8e">INSERT</span> statement, as well as </div><div class="t m0 x8 h3c y1196 ff89 fsa fc2 sc0 ls0 ws0">an optional <span class="ff8e">WHERE</span> clause similar to the <span class="ff8e">SELECT</span> statemen<span class="_ _1"></span>t.</div><div class="t m0 x3 h12 y1197 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou must specify what values to update the existing data to<span class="_ _1"></span>, and the criteria for the </div><div class="t m0 x8 h12 y1198 ff89 fsa fc2 sc0 ls0 ws0">rows th<span class="_ _1"></span>at must be updated.</div><div class="t m0 x8 h3c y119a ff8e fsa fc2 sc0 ls0 ws0">UPDATE products</div><div class="t m0 x8 h3c y119b ff8e fsa fc2 sc0 ls0 ws0">  SET price = price + 100</div><div class="t m0 x8 h3c y18fb ff8e fsa fc2 sc0 ls0 ws0">  WHERE category_id = 3;</div><div class="t m0 x8 h26 y18fc ff89 fse fc2 sc0 ls0 ws0">Aggreg<span class="_ _1"></span>ating Data</div><div class="t m0 x8 h12 y18fd ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the database to perform calculations and send you the results<span class="_ _1"></span>.</div><div class="t m0 x8 h20 y18fe ff8d fs6 fc2 sc0 ls0 ws0">Statement<span class="_ _4f"> </span>Returns</div><div class="t m0 x8 h3c y18ff ff8e fsa fc2 sc0 ls0 ws0">AVG<span class="_ _d2"> </span><span class="ff89">Aver<span class="_ _1"></span>age value of the data values</span></div><div class="t m0 x8 h3c y1900 ff8e fsa fc2 sc0 ls0 ws0">SUM<span class="_ _d2"> </span><span class="ff89">T<span class="_ _1"></span>otal of all the data values found</span></div><div class="t m0 x8 h3c y1901 ff8e fsa fc2 sc0 ls0 ws0">COUNT<span class="_ _de"> </span><span class="ff89">How man<span class="_ _1"></span>y records wer<span class="_ _1"></span>e found</span></div><div class="t m0 x8 h3c y1902 ff8e fsa fc2 sc0 ls0 ws0">DISTINCT COUNT<span class="_ _76"> </span><span class="ff89">How man<span class="_ _1"></span>y unique records wer<span class="_ _1"></span>e found</span></div><div class="t m0 x8 h3c y1903 ff8e fsa fc2 sc0 ls0 ws0">MIN<span class="_ _d2"> </span><span class="ff89">The lowest value in the data set</span></div><div class="t m0 x8 h3c y1904 ff8e fsa fc2 sc0 ls0 ws0">MAX<span class="_ _d2"> </span><span class="ff89">The highest value in the data set</span></div><div class="t m0 x3 h12 y1905 ff89 fsa fc2 sc0 ls0 ws0">Using these functions looks as follows:</div><div class="t m0 x8 h3c y1906 ff8e fsa fc2 sc0 ls0 ws0">SELECT AVG(price) FROM products;</div><div class="t m0 x8 h26 y1907 ff89 fse fc2 sc0 ls0 ws0">Gro<span class="_ _1"></span>uping Data</div><div class="t m0 x8 h12 y1908 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can tell S<span class="_ _0"></span>QL to gr<span class="_ _1"></span>oup data by a column or combin<span class="_ _1"></span>ation of columns before ret<span class="_ _1"></span>urning it </div><div class="t m0 x8 h12 y1909 ff89 fsa fc2 sc0 ls0 ws0">to you. This is often useful in conjunction with the aggr<span class="_ _1"></span>egating functions.</div><div class="t m0 x3 h12 y190a ff89 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s consider an example wher<span class="_ _1"></span>e we want to find out the total amount of sales tha<span class="_ _1"></span>t </div><div class="t m0 x8 h12 y190b ff89 fsa fc2 sc0 ls0 ws0">each of our customers has pur<span class="_ _1"></span>chased.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf102" class="pf w2 h4" data-page-no="102"><div class="pc pc102 w2 h4"><img class="bi x3 yda7 w5 hae" alt="" src="bg102.png"/><div class="t m0 x9f hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x21 hd y55 ff89 fs6 fc2 sc0 ls1b wsf7">2<span class="_ _0"></span>41</div><div class="t m0 x3 h3c y2a8 ff8e fsa fc2 sc0 ls0 ws0">SELECT email, SUM( sales_value )</div><div class="t m0 x3 h3c y2a9 ff8e fsa fc2 sc0 ls0 ws0">        FROM  `transactions`</div><div class="t m0 x3 h3c y2aa ff8e fsa fc2 sc0 ls0 ws0">        GROUP BY email</div><div class="t m0 x1a h12 y2ac ff89 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we group transactions tha<span class="_ _1"></span>t have the same e-mail addr<span class="_ _1"></span>ess. The SQL </div><div class="t m0 x3 h3c y2ad ff89 fsa fc2 sc0 ls0 ws0">database engine will apply the <span class="ff8e">SUM</span> statemen<span class="_ _1"></span>t by adding the sales values in each gro<span class="_ _1"></span>up </div><div class="t m0 x3 h12 ya79 ff89 fsa fc2 sc0 ls0 ws0">and then returning th<span class="_ _1"></span>at.</div><div class="t m0 x1a h3c y425 ff89 fsa fc2 sc0 ls0 ws0">I included the e-mail address in the <span class="ff8e">SELECT</span> sta<span class="_ _1"></span>tement so that the output will ha<span class="_ _1"></span>ve the </div><div class="t m0 x3 h12 y4e6 ff89 fsa fc2 sc0 ls0 ws0">e-mail address of the cust<span class="_ _1"></span>omer<span class="_ _2"></span>, and the sum of all the sales values of transactions with </div><div class="t m0 x3 h12 y4e7 ff89 fsa fc2 sc0 ls0 ws0">their e-mail address<span class="_ _1"></span>.</div><div class="t m0 x3 h19 y190c ff92 fsd fc2 sc0 ls0 ws0">Joins</div><div class="t m0 x3 h12 y190d ff89 fsa fc2 sc0 ls0 ws0">Joins ar<span class="_ _1"></span>e used to connect tables based on supplied criter<span class="_ _0"></span>ia<span class="_ _1"></span>. This lets you retrieve </div><div class="t m0 x3 h12 y190e ff89 fsa fc2 sc0 ls0 ws0">information from r<span class="_ _1"></span>elated tables.</div><div class="t m0 x1a h12 y190f ff89 fsa fc2 sc0 ls0 ws0">In the products and ca<span class="_ _1"></span>tegories database, you can r<span class="_ _1"></span>etrieve the category name of </div><div class="t m0 x3 h3c y1910 ff89 fsa fc2 sc0 ls0 ws0">products by joining the <span class="ff8e">categories</span> ta<span class="_ _1"></span>ble to the <span class="ff8e">products</span> table:</div><div class="t m0 x3 h3c y1911 ff8e fsa fc2 sc0 ls0 ws0">SELECT *</div><div class="t m0 x3 h3c y1912 ff8e fsa fc2 sc0 ls0 ws0">FROM  products</div><div class="t m0 x3 h3c y1913 ff8e fsa fc2 sc0 ls0 ws0">JOIN categories ON categories.id = products.category_id</div><div class="t m0 x1a h3c y1914 ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e are joining the <span class="ff8e">categories</span> table to the <span class="ff8e">products</span> ta<span class="_ _1"></span>ble and giving instructions </div><div class="t m0 x3 h3c y1915 ff89 fsa fc2 sc0 ls0 ws0">to SQL on how to match ro<span class="_ _1"></span>ws. A ro<span class="_ _1"></span>w from the <span class="ff8e">categories</span> table will be included if its <span class="ff8e">id</span> </div><div class="t m0 x3 h3c y1916 ff89 fsa fc2 sc0 ls0 ws0">column matches the <span class="ff8e">category_id</span> column in the <span class="ff8e">products</span> table<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y1917 ff89 fse fc2 sc0 ls0 ws0">Join T<span class="_ _1"></span>ypes</div><div class="t m0 x3 h12 y1918 ff89 fsa fc2 sc0 ls0 ws0">There ar<span class="_ _1"></span>e several ways to join tables<span class="_ _1"></span>.</div><div class="t m0 x3 h20 y1919 ff8d fs6 fc2 sc0 ls0 ws0">Join T<span class="_ _2"></span>ype<span class="_ _67"> </span>Effect</div><div class="t m0 x3 h3c y191a ff8e fsa fc2 sc0 ls0 ws0">INNER JOIN<span class="_ _4f"> </span><span class="ff89">Selects recor<span class="_ _1"></span>ds that ha<span class="_ _1"></span>ve matching values in both tables<span class="_ _1"></span>, as in the </span></div><div class="t m0 x7b h12 y191b ff89 fsa fc2 sc0 ls0 ws0">previous example</div><div class="t m0 x3 h3c y191c ff8e fsa fc2 sc0 ls0 ws0">LEFT OUTER JOIN<span class="_ _89"> </span><span class="ff89">Selects tables from the left table that h<span class="_ _1"></span>ave matchin<span class="_ _1"></span>g right table </span></div><div class="t m0 x7b h12 y191d ff89 fsa fc2 sc0 ls0 ws0">records</div><div class="t m0 x3 h3c y191e ff8e fsa fc2 sc0 ls0 ws0">RIGHT OUTER JOIN<span class="_ _98"> </span><span class="ff89">Selects records fr<span class="_ _1"></span>om the right table that ha<span class="_ _1"></span>ve matching left ta<span class="_ _1"></span>ble </span></div><div class="t m0 x7b h12 y191f ff89 fsa fc2 sc0 ls0 ws0">records</div><div class="t m0 x3 h3c y1920 ff8e fsa fc2 sc0 ls0 ws0">FULL OUTER JOIN<span class="_ _89"> </span><span class="ff89">Selects all records that m<span class="_ _1"></span>atch either left or right table recor<span class="_ _1"></span>ds</span></div><div class="t m0 x1a h12 y1921 ff89 fsa fc2 sc0 ls0 ws0">These joins can be repr<span class="_ _1"></span>esented diagrammaticall<span class="_ _1"></span>y, as shown in Figure<span class="fc4">10-2</span>.</div><a class="l" href="#pf103" data-dest-detail='[259,"XYZ",29,601,null]'><div class="d m1" style="border-style:none;position:absolute;left:340.340000px;bottom:114.431000px;width:16.812000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf103" class="pf w2 h4" data-page-no="103"><div class="pc pc103 w2 h4"><img class="bi x8 y12b1 w3 haf" alt="" src="bg103.png"/><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 ls2c ws105">242</div><div class="t m0 x8 h19 y1922 ff92 fsd fc2 sc0 ls0 ws0">Prepared Statements</div><div class="t m0 x8 h12 y1923 ff89 fsa fc2 sc0 ls0 ws0">When you issue a command to a SQL engine, it m<span class="_ _1"></span>ust parse the command in order to </div><div class="t m0 x8 h12 y1924 ff89 fsa fc2 sc0 ls0 ws0">execute it. After the statemen<span class="_ _1"></span>t has been executed, SQL w<span class="_ _0"></span>ill discar<span class="_ _1"></span>d the compiled code </div><div class="t m0 x8 h12 y1925 ff89 fsa fc2 sc0 ls0 ws0">with the result that r<span class="_ _1"></span>epeated calls with the same SQL command will need to be parsed </div><div class="t m0 x8 h12 y1926 ff89 fsa fc2 sc0 ls0 ws0">individually. Obviously, this r<span class="_ _1"></span>esults in duplicated effort.</div><div class="t m0 x3 h12 y1927 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can save SQL from ha<span class="_ _1"></span>ving to repeat its efforts by usin<span class="_ _1"></span>g prepared stat<span class="_ _1"></span>ements that </div><div class="t m0 x8 h12 y1928 ff89 fsa fc2 sc0 ls0 ws0">become parsed code templates that SQL stores for multiple r<span class="_ _1"></span>euse.</div><div class="t m0 x3 h12 y1929 ff89 fsa fc2 sc0 ls0 ws0">Prepar<span class="_ _1"></span>ed statements also offer significant security advantages<span class="_ _1"></span>. Par<span class="_ _1"></span>ameters are bound </div><div class="t m0 x8 h12 y192a ff89 fsa fc2 sc0 ls0 ws0">to the prepar<span class="_ _1"></span>ed statement, and are not inc<span class="_ _1"></span>luded as part of the code string. This means </div><div class="t m0 x8 h12 y192b ff89 fsa fc2 sc0 ls0 ws0">that it is not possible for your par<span class="_ _1"></span>ameters to intrude on the code, which means that y<span class="_ _1"></span>ou </div><div class="t m0 x8 h12 y192c ff89 fsa fc2 sc0 ls0 ws0">no longer need to worr<span class="_ _0"></span>y about escapin<span class="_ _1"></span>g code to prevent SQL injection. Just k<span class="_ _1"></span>eep in mind </div><div class="t m0 x8 h12 y192d ff89 fsa fc2 sc0 ls0 ws0">the possibility of stored XSS attacks befor<span class="_ _1"></span>e you stop worr<span class="_ _0"></span>ying a<span class="_ _1"></span>bout escaping data coming </div><div class="t m0 x8 h12 y192e ff89 fsa fc2 sc0 ls0 ws0">into or out of your da<span class="_ _1"></span>tabase.</div><div class="t m0 x8 h3c y192f ff8e fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1930 ff8e fsa fc2 sc0 ls0 ws0">// prepare and bind</div><div class="t m0 x8 h3c y1931 ff8e fsa fc2 sc0 ls0 ws0">$stmt = $conn-&gt;prepare(&quot;INSERT INTO users (username, password) VALUES  </div><div class="t m0 x8 h3c y1932 ff8e fsa fc2 sc0 ls0 ws0">(?, ?)&quot;);</div><div class="t m0 x8 h3c y1933 ff8e fsa fc2 sc0 ls0 ws0">$stmt-&gt;bind_param(&quot;ss&quot;, $username, $password);</div><div class="t m0 x8 h3c y1934 ff8e fsa fc2 sc0 ls0 ws0">// set parameters</div><div class="t m0 x8 h3c y1935 ff8e fsa fc2 sc0 ls0 ws0">$username = &quot;bob&quot;;</div><div class="t m0 x8 h3c y1936 ff8e fsa fc2 sc0 ls0 ws0">$password = password_hash(&quot;password&quot;, PASSWORD_BCRYPT);</div><div class="t m0 x8 h84 y1937 ff93 fsa fc2 sc0 ls0 ws0">Figure 10-2.<span class="ff94"> <span class="_ _aa"> </span>Man<span class="_ _1"></span>y ways to join tables</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf104" class="pf w2 h4" data-page-no="104"><div class="pc pc104 w2 h4"><img class="bi x3 y1938 w5 h42" alt="" src="bg104.png"/><div class="t m0 x9f hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x15 hd y55 ff89 fs6 fc2 sc0 lsc ws104">243</div><div class="t m0 x3 h3c y2a8 ff8e fsa fc2 sc0 ls0 ws0">// run the statement</div><div class="t m0 x3 h3c y3e3 ff8e fsa fc2 sc0 ls0 ws0">$stmt-&gt;execute();</div><div class="t m0 x3 h19 ye21 ff92 fsd fc2 sc0 ls0 ws0">T<span class="_ _11"></span>r<span class="_ _1"></span>ansactions</div><div class="t m0 x3 h12 ye22 ff89 fsa fc2 sc0 ls0 ws0">A transaction is a set of SQL statements that will either all succeed or else ha<span class="_ _1"></span>ve no effect.</div><div class="t m0 x1a h12 y1939 ff89 fsa fc2 sc0 ls12 ws0">After a transaction finishes the datab<span class="_ _1"></span>ase must not have any ta<span class="_ _1"></span>ble constraints inv<span class="_ _1"></span>alidated </div><div class="t m0 x3 h12 y193a ff89 fsa fc2 sc0 ls12 ws0">and must be in a state wher<span class="_ _1"></span>e all the changes hav<span class="_ _1"></span>e been persisted. A database must ha<span class="_ _1"></span>ve </div><div class="t m0 x3 h12 y193b ff89 fsa fc2 sc0 ls12 ws0">some way of ensuring that tr<span class="_ _1"></span>ansactions can run at the same time and not interfere with each </div><div class="t m0 x3 h12 y193c ff89 fsa fc2 sc0 ls12 ws0">other<span class="_ _2"></span>, for example, by incr<span class="_ _1"></span>ementing a primary key that another transaction is depending on.</div><div class="t m0 x1a h12 y193d ff89 fsa fc2 sc0 ls0 ws0">In summary, a transaction is a set of SQL statements that m<span class="_ _1"></span>ust complete successfully </div><div class="t m0 x3 h12 y193e ff89 fsa fc2 sc0 ls0 ws0">in an “<span class="_ _2"></span>all or nothing<span class="_ _0"></span>” manner<span class="_ _11"></span>. After it r<span class="_ _0"></span>uns the data<span class="_ _1"></span>base must be in a consistent state and </div><div class="t m0 x3 h12 y193f ff89 fsa fc2 sc0 ls0 ws0">must be reco<span class="_ _1"></span>verable from err<span class="_ _1"></span>or<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y1940 ff89 fsa fc2 sc0 ls0 ws0">The syntax for transactions v<span class="_ _1"></span>aries between vendors, but there ar<span class="_ _1"></span>e three important </div><div class="t m0 x3 h12 y1941 ff89 fsa fc2 sc0 ls0 ws0">statements<span class="_ _1"></span>.</div><div class="t m0 x7 h12 y1942 ff96 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff89">One statement will mark the beginning of the tr<span class="_ _1"></span>ansaction block. </span></div><div class="t m0 x19 h12 y1943 ff89 fsa fc2 sc0 ls0 ws0">The SQL statements following this will be part of the transaction.</div><div class="t m0 x7 h12 y1944 ff96 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff89">There ar<span class="_ _1"></span>e two statements that can end a tr<span class="_ _1"></span>ansaction. One of </span></div><div class="t m0 x19 h12 y1945 ff89 fsa fc2 sc0 ls0 ws0">them will tell SQL to go ahead and make all the changes that the </div><div class="t m0 x19 h12 y1946 ff89 fsa fc2 sc0 ls0 ws0">transaction is making<span class="_ _1"></span>.</div><div class="t m0 x7 h12 y1947 ff96 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff89">The other end statement will tell SQL that for wha<span class="_ _1"></span>tever reason </span></div><div class="t m0 x19 h12 y1948 ff89 fsa fc2 sc0 ls0 ws0">you want to abandon the tr<span class="_ _1"></span>ansaction and rather r<span class="_ _1"></span>evert to the state </div><div class="t m0 x19 h12 y1949 ff89 fsa fc2 sc0 ls0 ws0">the database was in when the transaction s<span class="_ _1"></span>tarted.</div><div class="t m0 x1a h12 y194a ff89 fsa fc2 sc0 ls0 ws0">Here ar<span class="_ _1"></span>e the three most common vendor stat<span class="_ _1"></span>ements<span class="_ _0"></span>:</div><div class="t m0 x3 h20 y194b ff8d fs6 fc2 sc0 ls0 ws0">MySQL<span class="_ _df"> </span>MS-SQL<span class="_ _1c"> </span>ORACLE</div><div class="t m0 x3 h3c y194c ff8e fsa fc2 sc0 ls0 ws0">START TRANSACTION<span class="_ _94"> </span>BEGIN TRANSACTION<span class="_ _79"> </span>START TRANSACTION</div><div class="t m0 x3 h3c y194d ff8e fsa fc2 sc0 ls0 ws0">COMMIT<span class="_ _e0"> </span>COMMIT TRANSACTION<span class="_ _7c"> </span>COMMIT</div><div class="t m0 x3 h3c y194e ff8e fsa fc2 sc0 ls0 ws0">ROLLBACK<span class="_ _6c"> </span>ROLLBACK WORK<span class="_ _42"> </span>ROLLBACK</div><div class="t m0 x3 h19 y194f ff92 fsd fc2 sc0 ls0 ws0">PHP Data Object (PDO)</div><div class="t m0 x3 h12 y1950 ff89 fsa fc2 sc0 ls0 ws0">The PDO is a data abstraction lay<span class="_ _1"></span>er that offers a single interface for you to inter<span class="_ _1"></span>act with </div><div class="t m0 x3 h12 y1951 ff89 fsa fc2 sc0 ls0 ws0">multiple data sour<span class="_ _1"></span>ces. While using the PDO, you c<span class="_ _1"></span>an use the same functions to interact </div><div class="t m0 x3 h12 y1952 ff89 fsa fc2 sc0 ls0 ws0">with your database, no m<span class="_ _1"></span>atter the vendor<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y1953 ff89 fsa fc2 sc0 ls0 ws0">It’<span class="_ _2"></span>s important to understand that PDO is an access abstraction lay<span class="_ _1"></span>er and does not </div><div class="t m0 x3 h3c y1954 ff89 fsa fc2 sc0 ls0 ws0">abstract SQL or data types. T<span class="_ _1"></span>he SQL that you pass to the <span class="ff8e">PDO::query()</span> or prepar<span class="_ _1"></span>ed </div><div class="t m0 x3 h12 y1955 ff89 fsa fc2 sc0 ls0 ws0">statements must be v<span class="_ _1"></span>alid for the vendor you are connecting to<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y1956 ff89 fsa fc2 sc0 ls0 ws0">PDO uses database adapters to connect to the database. These adapter c<span class="_ _1"></span>lasses </div><div class="t m0 x3 h12 y1957 ff89 fsa fc2 sc0 ls0 ws0">implement PDO interfaces and expose vendor<span class="_ _1"></span>-specific functions as regul<span class="_ _1"></span>ar extension </div><div class="t m0 x3 h12 y1958 ff89 fsa fc2 sc0 ls0 ws0">functions.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf105" class="pf w2 h4" data-page-no="105"><div class="pc pc105 w2 h4"><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 ls5 ws33">244</div><div class="t m0 x3 h12 y1b8 ff89 fsa fc2 sc0 ls0 ws0">PDO is configured in the PHP configura<span class="_ _1"></span>tion file. At runtime<span class="_ _1"></span>, you can change options </div><div class="t m0 x8 h3c y1b9 ff89 fsa fc2 sc0 ls0 ws0">with the <span class="ff8e">PDO::setAttribute()</span> function.</div><div class="t m0 x3 h12 y1ba ff89 fsa fc2 sc0 ls0 ws0">The PDO extension makes several pr<span class="_ _1"></span>edefined constants available<span class="_ _1"></span>. Y<span class="_ _2"></span>ou won’t ne<span class="_ _0"></span>ed </div><div class="t m0 x8 h12 y1bb ff89 fsa fc2 sc0 ls0 ws0">to remember them all for the Zend examina<span class="_ _1"></span>tion, but look through the PHP manual and </div><div class="t m0 x8 h12 y1bc ff89 fsa fc2 sc0 ls0 ws0">familiarize yourself with them.</div><div class="t m0 x3 h12 y1bd ff89 fsa fc2 sc0 ls0 ws0">The PDO will emulate prepar<span class="_ _1"></span>ed statements for databases that don’t s<span class="_ _1"></span>upport them, </div><div class="t m0 x8 h12 y1be ff89 fsa fc2 sc0 ls0 ws0">but will otherw<span class="_ _0"></span>ise use the native pr<span class="_ _1"></span>epared statemen<span class="_ _1"></span>t functionality of the database.</div><div class="t m0 x8 h26 y1194 ff89 fse fc2 sc0 ls0 ws0">Connecting to PDO</div><div class="t m0 x8 h12 y1195 ff89 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o connect to the database with PDO, you crea<span class="_ _1"></span>te an instance of the PDO class. The </div><div class="t m0 x8 h12 y1196 ff89 fsa fc2 sc0 ls0 ws0">constructor accepts parameters for the database sour<span class="_ _1"></span>ce (DSN) and the username/</div><div class="t m0 x8 h12 y1197 ff89 fsa fc2 sc0 ls0 ws0">password if these are r<span class="_ _1"></span>equired.</div><div class="t m0 x8 h3c y1199 ff8e fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y119a ff8e fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x8 h3c y119b ff8e fsa fc2 sc0 ls0 ws0">    $dbh = new PDO(&apos;mysql:host=localhost;dbname=test&apos;, $user, $pass);</div><div class="t m0 x8 h3c y18fb ff8e fsa fc2 sc0 ls0 ws0">} catch (PDOException $e) {</div><div class="t m0 x8 h3c y1959 ff8e fsa fc2 sc0 ls0 ws0">    echo &quot;Error connecting to database: &quot; . $e-&gt;getMessage();</div><div class="t m0 x8 h3c y195a ff8e fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y195b ff89 fsa fc2 sc0 ls14 ws0">If there ar<span class="_ _1"></span>e errors connecting to the database then a <span class="ff8e wsef">PDOException</span> will be thrown. <span class="ls0"> </span></div><div class="t m0 x8 h12 y195c ff89 fsa fc2 sc0 ls14 ws0">It is very important to note that the stack tr<span class="_ _1"></span>ace of the exception will probably contain the full </div><div class="t m0 x8 h12 y195d ff89 fsa fc2 sc0 ls14 ws0">database connection details. M<span class="_ _1"></span>ake sure th<span class="_ _1"></span>at you catch it and don’t let it be display<span class="_ _1"></span>ed RA<span class="_ _1"></span>W.</div><div class="t m0 x3 h3c y195e ff89 fsa fc2 sc0 ls29 ws0">T<span class="_ _2"></span>o close a connection when you&apos;re done with it, you can set the PDO variable to <span class="ff8e ws10f">null</span><span class="ls0">.</span></div><div class="t m0 x8 h3c y195f ff8e fsa fc2 sc0 ls0 ws0">$dbh = null;</div><div class="t m0 x3 h12 y1960 ff89 fsa fc2 sc0 ls0 ws0">Database connections are a<span class="_ _1"></span>utomatically closed at the end of your running script </div><div class="t m0 x8 h12 y1961 ff89 fsa fc2 sc0 ls0 ws0">unless you make them persisten<span class="_ _1"></span>t. Persistent da<span class="_ _1"></span>tabase connections are not closed but </div><div class="t m0 x8 h12 y1962 ff89 fsa fc2 sc0 ls0 ws0">are instead cached for another instance of the script to use. T<span class="_ _1"></span>his reduces the overhead of </div><div class="t m0 x8 h12 y1963 ff89 fsa fc2 sc0 ls0 ws0">needing to connect to the database every time your web application runs.</div><div class="t m0 x8 h26 y1964 ff89 fse fc2 sc0 ls0 ws0">Transactions in PDO</div><div class="t m0 x8 h12 y1965 ff89 fsa fc2 sc0 ls0 ws0">PDO offers transaction commands too<span class="_ _1"></span>, but does not emulate pr<span class="_ _1"></span>oper transaction </div><div class="t m0 x8 h12 y1966 ff89 fsa fc2 sc0 ls0 ws0">handling. This means tha<span class="_ _1"></span>t you can only use the PDO transaction functions on databases </div><div class="t m0 x8 h3c y1967 ff89 fsa fc2 sc0 ls0 ws0">that na<span class="_ _1"></span>tively support transactions. The functions ar<span class="_ _1"></span>e <span class="ff8e">PDO::beginTransaction()</span>, </div><div class="t m0 x8 h3c y1968 ff8e fsa fc2 sc0 ls0 ws0">PDO::commit()<span class="ff89">, and </span>PDO::rollBack()<span class="ff89">.</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf106" class="pf w2 h4" data-page-no="106"><div class="pc pc106 w2 h4"><img class="bi x3 y107d w7 h27" alt="" src="bg106.png"/><div class="t m0 x9f hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x15 hd y55 ff89 fs6 fc2 sc0 ls2e ws107">245</div><div class="t m0 x3 h3c y2a8 ff8e fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y2a9 ff8e fsa fc2 sc0 ls0 ws0">$dsn = &apos;mysql:host=localhost;dbname=example&apos;;</div><div class="t m0 x3 h3c y2aa ff8e fsa fc2 sc0 ls0 ws0">$pdo = new PDO($dsn, &apos;dbuser&apos;, &apos;dbpass&apos;);</div><div class="t m0 x3 h3c y2ab ff8e fsa fc2 sc0 ls0 ws0">$pdo-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, TRUE);</div><div class="t m0 x3 h3c y2ac ff8e fsa fc2 sc0 ls0 ws0">$pdo-&gt;setAttribute(PDO::ATTR_ERRMODE,</div><div class="t m0 x3 h3c y2ad ff8e fsa fc2 sc0 ls0 ws0">    PDO::ERRMODE_EXCEPTION);</div><div class="t m0 x3 h3c ya79 ff8e fsa fc2 sc0 ls0 ws0">$password = password_hash(&quot;password&quot;, PASSWORD_BCRYPT);</div><div class="t m0 x3 h3c y425 ff8e fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x3 h3c y4e6 ff8e fsa fc2 sc0 ls0 ws0">    $pdo-&gt;beginTransaction();</div><div class="t m0 x3 h3c y4e7 ff8e fsa fc2 sc0 ls0 ws0">    $pdo-&gt;exec(&quot;</div><div class="t m0 x3 h3c y4e8 ff8e fsa fc2 sc0 ls0 ws0">          INSERT INTO users</div><div class="t m0 x3 h3c ya7a ff8e fsa fc2 sc0 ls0 ws0">              (username, password)</div><div class="t m0 x3 h3c y4e9 ff8e fsa fc2 sc0 ls0 ws0">          VALUES</div><div class="t m0 x3 h3c y4ea ff8e fsa fc2 sc0 ls0 ws0">              (&apos;bob&apos;, &apos;{$password}&apos;&quot;);</div><div class="t m0 x3 h3c y3eb ff8e fsa fc2 sc0 ls0 ws0">    // some more update or insert statements</div><div class="t m0 x3 h3c y4eb ff8e fsa fc2 sc0 ls0 ws0">    $pdo-&gt;commit();</div><div class="t m0 x3 h3c y4ec ff8e fsa fc2 sc0 ls0 ws0">} catch (PDOException $e) {</div><div class="t m0 x3 h3c ya7b ff8e fsa fc2 sc0 ls0 ws0">    $pdo-&gt;rollBack();</div><div class="t m0 x3 h3c y4ed ff8e fsa fc2 sc0 ls0 ws0">    echo &apos;Rolled back because: &apos; . $e-&gt;getMessage();</div><div class="t m0 x3 h3c ya7c ff8e fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h3c y4ef ff89 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, we make a connection to the database <span class="ff8e">with</span> PDO and start a </div><div class="t m0 x3 h12 ya7d ff89 fsa fc2 sc0 ls0 ws0">transaction.</div><div class="t m0 x1a h3c ya7e ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e wrap all the PDO transaction functions in a <span class="ff8e">try...catch</span> block. If a PDO </div><div class="t m0 x3 h3c ya7f ff89 fsa fc2 sc0 ls0 ws0">statement fails to run, it will throw a <span class="ff8e">PDOException</span>. W<span class="_ _2"></span>e use the <span class="ff8e">catch</span> blo<span class="_ _0"></span>ck to r<span class="_ _1"></span>oll back </div><div class="t m0 x3 h12 ya80 ff89 fsa fc2 sc0 ls0 ws0">the transaction.</div><div class="t m0 x3 h26 y1917 ff89 fse fc2 sc0 ls0 ws0">F<span class="_ _1"></span>etching PDO Results</div><div class="t m0 x3 h3c y1918 ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e use the <span class="ff8e">PDO::fetch()</span> method</div><div class="t m0 x7e h15 y1969 ff89 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x43 h12 y1918 ff89 fsa fc2 sc0 ls0 ws0"> to retrieve data fr<span class="_ _1"></span>om a PDO result. PDO will maintain </div><div class="t m0 x3 h12 y196a ff89 fsa fc2 sc0 ls0 ws0">a cursor to tra<span class="_ _1"></span>verse the result set and will use this to determine which element to return </div><div class="t m0 x3 h12 y196b ff89 fsa fc2 sc0 ls10 wsea">to you.</div><div class="t m0 x1a h12 y196c ff89 fsa fc2 sc0 ls0 ws0">PDO will return the data to you in a format tha<span class="_ _1"></span>t you specify in the first parameter to </div><div class="t m0 x3 h3c y196d ff8e fsa fc2 sc0 ls0 ws0">fetch()<span class="ff89">.</span></div><div class="t m0 x3 h16 y196e ff95 fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h43 y196f ff8e fs5 fc4 sc0 ls0 ws0">https://secure.php.net/manual/en/pdostatement.fetch.php</div><a class="l" href="#pf106" data-dest-detail='[262,"XYZ",57,85,null]'><div class="d m1" style="border-style:none;position:absolute;left:187.055000px;bottom:263.145000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://secure.php.net/manual/en/pdostatement.fetch.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.018100px;width:233.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf107" class="pf w2 h4" data-page-no="107"><div class="pc pc107 w2 h4"><img class="bi x8 y1970 w3 hb0" alt="" src="bg107.png"/><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 ls5 ws33">246</div><div class="t m0 x8 h20 yc67 ff8d fs6 fc2 sc0 ls0 ws0">Fetch Style<span class="_ _4d"> </span>Returns</div><div class="t m0 x8 h3c yc68 ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_ASSOC<span class="_ _76"> </span><span class="ff89">Returns an associative array with your database columns as </span></div><div class="t m0 x4 h12 y11af ff89 fsa fc2 sc0 ls56 ws132">ke<span class="_ _0"></span>ys.</div><div class="t m0 x8 h3c y1237 ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_NUM<span class="_ _4e"> </span><span class="ff89">Returns an array indexed b<span class="_ _1"></span>y column number as returned by </span></div><div class="t m0 x4 h12 y1971 ff89 fsa fc2 sc0 ls0 ws0">your result set<span class="_ _1"></span>.</div><div class="t m0 x8 h3c y1972 ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_BOTH<span class="_ _e1"> </span><span class="ff89">Returns an array with both the indexes of </span>ASSOC<span class="ff89"> and </span>NUM<span class="ff89"> style </span></div><div class="t m0 x4 h12 y1973 ff89 fsa fc2 sc0 ls0 ws0">fetches.</div><div class="t m0 x8 h3c y1974 ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_BOUND<span class="_ _76"> </span><span class="ff89">Returns true and assigns the values of the columns in your result </span></div><div class="t m0 x4 h12 y1975 ff89 fsa fc2 sc0 ls0 ws0">set to the PHP variables to which they were bound with the </div><div class="t m0 x4 h3c y1976 ff8e fsa fc2 sc0 ls0 ws0">PDOStatement::bindColumn()<span class="ff89"> method.</span></div><div class="t m0 x8 h3c y1977 ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_CLASS<span class="_ _76"> </span><span class="ff89">Returns a new instance of the requested class mapping the </span></div><div class="t m0 x4 h12 y1978 ff89 fsa fc2 sc0 ls0 ws0">columns of the result set to named pr<span class="_ _1"></span>operties in the class.</div><div class="t m0 x8 h3c y1979 ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_INTO<span class="_ _e1"> </span><span class="ff89">Updates an existing instance of the r<span class="_ _1"></span>equested class, mappin<span class="_ _1"></span>g as </span></div><div class="t m0 x4 h3c y197a ff89 fsa fc2 sc0 ls0 ws0">for <span class="ff8e">FETCH_CLASS</span>.</div><div class="t m0 x8 h3c y197b ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_OBJ<span class="_ _4e"> </span><span class="ff89">Returns an anonymous object with property names tha<span class="_ _1"></span>t </span></div><div class="t m0 x4 h12 y197c ff89 fsa fc2 sc0 ls0 ws0">correspond to the column names fr<span class="_ _1"></span>om your result set.</div><div class="t m0 x8 h3c y197d ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_LAZY<span class="_ _e1"> </span><span class="ff89">Combines </span>PDO::FETCH_BOTH<span class="ff89"> and </span>PDO::FETCH_OBJ<span class="ff89"> and crea<span class="_ _1"></span>tes </span></div><div class="t m0 x4 h12 y197e ff89 fsa fc2 sc0 ls0 ws0">the object variable names as they are accessed.</div><div class="t m0 x8 h3c y197f ff8e fsa fc2 sc0 ls0 ws0">PDO::FETCH_NAMED<span class="_ _76"> </span><span class="ff89">As for </span>PDO::FETCH_ASSOC<span class="ff89">, returns an associative array. If ther<span class="_ _1"></span>e </span></div><div class="t m0 x4 h12 y1980 ff89 fsa fc2 sc0 ls0 ws0">are multiple columns with the same name<span class="_ _1"></span>, the value referred to </div><div class="t m0 x4 h12 y1981 ff89 fsa fc2 sc0 ls0 ws0">by that k<span class="_ _1"></span>ey will be an ar<span class="_ _0"></span>r<span class="_ _1"></span>ay of all the values in the row th<span class="_ _1"></span>at had </div><div class="t m0 x4 h12 y1982 ff89 fsa fc2 sc0 ls0 ws0">that column name<span class="_ _1"></span>.</div><div class="t m0 x8 h26 y1983 ff89 fse fc2 sc0 ls0 ws0">Prepar<span class="_ _1"></span>ed Sta<span class="_ _1"></span>tements in PDO</div><div class="t m0 x8 h12 y1984 ff89 fsa fc2 sc0 ls0 ws0">Not all data<span class="_ _1"></span>base engines support prepared statemen<span class="_ _1"></span>ts and this is the only feature tha<span class="_ _1"></span>t </div><div class="t m0 x8 h12 y1985 ff89 fsa fc2 sc0 ls0 ws0">PDO will emulate for adapters that don&apos;t.</div><div class="t m0 x3 h12 y1986 ff89 fsa fc2 sc0 ls0 ws0">The syntax for a pr<span class="_ _1"></span>epared statement in PDO is very similar to using a native function.</div><div class="t m0 x8 h3c y1987 ff8e fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1988 ff8e fsa fc2 sc0 ls0 ws0">$stmt = $dbh-&gt;prepare(&quot;INSERT INTO users (name, email) VALUES  </div><div class="t m0 x8 h3c y1989 ff8e fsa fc2 sc0 ls0 ws0">(:name, :value)&quot;);</div><div class="t m0 x8 h3c y198a ff8e fsa fc2 sc0 ls0 ws0">$stmt-&gt;bindParam(&apos;:name&apos;, $name);</div><div class="t m0 x8 h3c y198b ff8e fsa fc2 sc0 ls0 ws0">$stmt-&gt;bindValue(&apos;:email&apos;,’alice@example.com’);</div><div class="t m0 x8 h3c y198c ff8e fsa fc2 sc0 ls0 ws0">// insert one row</div><div class="t m0 x8 h3c y198d ff8e fsa fc2 sc0 ls0 ws0">$name = &apos;one&apos;;</div><div class="t m0 x8 h3c y198e ff8e fsa fc2 sc0 ls0 ws0">$stmt-&gt;execute();</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf108" class="pf w2 h4" data-page-no="108"><div class="pc pc108 w2 h4"><img class="bi x3 y198f w5 hb1" alt="" src="bg108.png"/><div class="t m0 x9f hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x21 hd y55 ff89 fs6 fc2 sc0 ls2f ws108">2<span class="_ _0"></span>47</div><div class="t m0 x1a h3c y2a8 ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>alking through the example<span class="_ _1"></span>, we see that the <span class="ff8e">prepare()</span> method is used to create </div><div class="t m0 x3 h12 y2a9 ff89 fsa fc2 sc0 ls0 ws0">the statement object.</div><div class="t m0 x1a h12 y2aa ff89 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’re us<span class="_ _1"></span>ing two different forms of binding parameters to demonstr<span class="_ _1"></span>ate the difference<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y2ab ff89 fsa fc2 sc0 ls29 ws0">In the first, <span class="ff8e ws10f">bindParam()</span>, we<span class="_ _1"></span>&apos;re binding a variable to the sta<span class="_ _1"></span>tement parameter<span class="_ _2"></span>. When </div><div class="t m0 x3 h12 y2ac ff89 fsa fc2 sc0 ls29 ws0">the statement executes<span class="_ _1"></span>, the parameter will take the value of the variable at execution time<span class="_ _1"></span>.</div><div class="t m0 x1a h3c y2ad ff89 fsa fc2 sc0 ls0 ws0">The second way to bind variables<span class="_ _1"></span>, <span class="ff8e">bindValue()</span>, binds a literal to the statement </div><div class="t m0 x3 h3c ya79 ff89 fsa fc2 sc0 ls0 ws0">parameter<span class="_ _2"></span>. If you used a variable name in <span class="ff8e">bindValue()</span>, then the value of the v<span class="_ _1"></span>ariable at </div><div class="t m0 x3 h12 y425 ff89 fsa fc2 sc0 ls0 ws0">bind time is used. Changes to the variable before the sta<span class="_ _1"></span>tement executes will not affect </div><div class="t m0 x3 h12 y4e6 ff89 fsa fc2 sc0 ls0 ws0">the parameter value<span class="_ _1"></span>.</div><div class="t m0 x1a h12 y4e7 ff89 fsa fc2 sc0 lsd ws0">Y<span class="_ _2"></span>ou can also pass the values to bind as an array in your call to execute<span class="_ _1"></span>, as in this example:</div><div class="t m0 x3 h3c ya7a ff8e fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y4e9 ff8e fsa fc2 sc0 ls0 ws0">$stmt = $pdo-&gt;prepare(&apos;SELECT * FROM users WHERE email = :email AND </div><div class="t m0 x3 h3c y4ea ff8e fsa fc2 sc0 ls0 ws0">status=:status&apos;);</div><div class="t m0 x3 h3c y3eb ff8e fsa fc2 sc0 ls0 ws0">$stmt-&gt;execute([&apos;email&apos; =&gt; $email, &apos;status&apos; =&gt; $status]);</div><div class="t m0 x3 h3c y4eb ff8e fsa fc2 sc0 ls0 ws0">$user = $stmt-&gt;fetch();</div><div class="t m0 x1a h12 ya7b ff89 fsa fc2 sc0 ls0 ws0">Only values can be bound in a SQL statement, not entities like ta<span class="_ _1"></span>ble names or </div><div class="t m0 x3 h12 y4ed ff89 fsa fc2 sc0 ls0 ws0">columns. Y<span class="_ _2"></span>ou can only bind scalar values, not com<span class="_ _1"></span>posite variables like arrays or objects<span class="_ _1"></span>.</div><div class="t m0 x3 h26 y1990 ff89 fse fc2 sc0 ls0 ws0">Repeated C<span class="_ _1"></span>alls to PD<span class="_ _0"></span>O Pr<span class="_ _1"></span>epared S<span class="_ _1"></span>tatements</div><div class="t m0 x3 h3c y1991 ff89 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou have seen that the <span class="ff8e">bindParam()</span> method inserts the value of a variable at the time the </div><div class="t m0 x3 h3c y1992 ff89 fsa fc2 sc0 ls0 ws0">statement is executed into the sta<span class="_ _1"></span>tement parameter<span class="_ _2"></span>. Y<span class="_ _2"></span>ou can see that using <span class="ff8e">bindParam()</span> </div><div class="t m0 x3 h12 y1993 ff89 fsa fc2 sc0 ls0 ws0">allows you to r<span class="_ _1"></span>epeatedly call the prepar<span class="_ _1"></span>ed statement, using differ<span class="_ _1"></span>ent values for the </div><div class="t m0 x3 h12 y1994 ff89 fsa fc2 sc0 ls0 ws0">parameters on each call.</div><div class="t m0 x1a h3c y1995 ff89 fsa fc2 sc0 lsd ws0">The method <span class="ff8e wse7">closeCursor()</span> is used to clear the database cursor and return the </div><div class="t m0 x3 h12 y1996 ff89 fsa fc2 sc0 lsd ws0">statement to a stat<span class="_ _1"></span>e where it can be executed again. Some databases ha<span class="_ _1"></span>ve problems ex<span class="_ _1"></span>ecuting<span class="_ _0"></span> </div><div class="t m0 x3 h12 y1997 ff89 fsa fc2 sc0 lsd ws0">a prepar<span class="_ _1"></span>ed statement when a previously ex<span class="_ _1"></span>ecuted statement still has unfetched ro<span class="_ _1"></span>ws.</div><div class="t m0 x33 hf y1998 ff8c fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">10</span> QUIZ</div><div class="t m0 x5 ha9 y1999 ff8f fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can use the ____________ function to build an HTTP query string suitable </div><div class="t m0 x5 ha9 y199a ff8f fs6 fc2 sc0 ls0 ws0">to use for <span class="ff8e fsa">GET</span> or <span class="ff8e fsa">POST</span> out of an array<span class="_ _1"></span>.</div><div class="t m0 x5 h3c y199b ff8e fsa fc2 sc0 ls0 ws0">http_build_query()</div><div class="t m0 x5 h3c y199c ff8e fsa fc2 sc0 ls0 ws0">http_build_param()</div><div class="t m0 x5 h3c y199d ff8e fsa fc2 sc0 ls0 ws0">parse_url()</div><div class="t m0 x5 h3c y199e ff8e fsa fc2 sc0 ls0 ws0">urlencode()</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_10"><div class="d m1" style="border-style:none;position:absolute;left:236.700000px;bottom:241.759000px;width:13.344000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf109" class="pf w2 h4" data-page-no="109"><div class="pc pc109 w2 h4"><img class="bi x8 y199f w3 hb2" alt="" src="bg109.png"/><div class="t m0 x8 hab y54 ff8f fs9 fc2 sc0 ls0 ws0">CHAPTER 10 <span class="ff90 fc5">■</span> DA<span class="_ _1"></span>T<span class="_ _1"></span>ABASES <span class="_ _1"></span>AND SQL</div><div class="t m0 x8 hd y55 ff89 fs6 fc2 sc0 ls5 ws33">248</div><div class="t m0 x4b ha9 y609 ff8f fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>The PHP function <span class="ff8e fsa">encodeurl()</span> is used to:</div><div class="t m0 x4b ha9 ya4d ff8f fs6 fc2 sc0 ls0 ws0">Make sure that an URL is UTF-8 encoded.</div><div class="t m0 x4b ha9 ya4e ff8f fs6 fc2 sc0 ls0 ws0">Convert reserved characters in a URL to % encoded symbols.</div><div class="t m0 x4b ha9 ya4f ff8f fs6 fc2 sc0 ls0 ws0">Build a string suitable for <span class="ff8e fsa">GET</span> parameters from an array<span class="_ _2"></span>.</div><div class="t m0 x4b ha9 ya50 ff8f fs6 fc2 sc0 ls0 ws0">There is no such PHP function.</div><div class="t m0 x4b ha9 y19a0 ff8f fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>What are the advantages of using prepared sta<span class="_ _0"></span>tements; choose as many that </div><div class="t m0 x4b ha9 y19a1 ff8f fs6 fc2 sc0 ls0 ws0">apply?</div><div class="t m0 x4b ha9 y19a2 ff8f fs6 fc2 sc0 ls0 ws0">They can be more secure than using normal queries.</div><div class="t m0 x4b ha9 y19a3 ff8f fs6 fc2 sc0 ls0 ws0">They are faster for repeated queries.</div><div class="t m0 x4b ha9 y19a4 ff8f fs6 fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use the same query in different da<span class="_ _0"></span>tabase vendors.</div><div class="t m0 x4b ha9 y19a5 ff8f fs6 fc2 sc0 ls0 ws0">None of the above.</div><div class="t m0 x4b ha9 y19a6 ff8f fs6 fc2 sc0 ls2a ws0">Q4:<span class="_ _1"></span> I have information about customers stored in a table. Each row has an <span class="ff8e fsa ls14 wsef">account_id</span><span class="ls0"> </span></div><div class="t m0 x4b ha9 y19a7 ff8f fs6 fc2 sc0 ls2a ws0">that is a foreign key to a table called <span class="ff8e fsa ls14 wsef">accounts</span>.<span class="_ _1"></span> How can you select the <span class="ff8e fsa ls14 wsef">postcode<span class="_ _0"></span></span><span class="ls0"> </span></div><div class="t m0 x4b ha9 y19a8 ff8f fs6 fc2 sc0 ls2a ws0">column from the address table for a customer with ID <span class="ff8e fsa ls14 wsef">123</span><span class="ls0">?</span></div><div class="t m0 x4b ha9 y19a9 ff8f fs6 fc2 sc0 ls0 ws0">SELECT `postcode` FROM `accounts` <span class="_ _1"></span>WHERE customer_id = 123;</div><div class="t m0 x4b ha9 y19aa ff8f fs6 fc2 sc0 ls0 ws0">SELECT `postcode` FROM `accounts` <span class="_ _1"></span>AS `acc`</div><div class="t m0 x4b ha9 y19ab ff8f fs6 fc2 sc0 ls0 ws0">JOIN `customers` as `cust` ON `cust.id` = `acc.id` <span class="_ _1"></span>WHERE `c`.id = 123</div><div class="t m0 x4b ha9 y19ac ff8f fs6 fc2 sc0 ls0 ws0">SELECT `postcode` FROM `accounts` <span class="_ _1"></span>AS `a`</div><div class="t m0 x4b ha9 y19ad ff8f fs6 fc2 sc0 ls0 ws0">JOIN `customers` as `c` ON `c.account_id` = `a`.`id` <span class="_ _1"></span>WHERE `c`.id = 123</div><div class="t m0 x4b ha9 y19ae ff8f fs6 fc2 sc0 ls0 ws0">SELECT `postcode` FROM `accounts` <span class="_ _1"></span>AS `a`</div><div class="t m0 x4b ha9 y19af ff8f fs6 fc2 sc0 ls0 ws0">FULL OUTER JOIN `customers` as `c` ON `c.id` = `a.id` <span class="_ _1"></span>WHERE `c`.id = 123</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10a" class="pf w2 h4" data-page-no="10a"><div class="pc pc10a w2 h4"><img class="bi x0 y19b0 w4 hb3" alt="" src="bg10a.png"/><div class="t m0 x15 hd y3e ff97 fs6 fc2 sc0 ls31 ws10a">249</div><div class="t m0 x3 h1b y1ca ff98 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ff98 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ff99">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ff98 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_1<span class="_ _1"></span>1<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ff9a fse fc2 sc0 ls0 ws0">CHAPTER 11</div><div class="t m0 x3 h1d y1ce ff9b fs7 fc2 sc0 ls0 ws0">Error Handling</div><div class="t m0 x3 h12 y612 ff97 fsa fc2 sc0 ls14 ws0">Error handling acco<span class="_ _1"></span>unts for some of the biggest changes between PHP 5.6 and PHP 7.1 and </div><div class="t m0 x3 h12 y613 ff97 fsa fc2 sc0 ls14 ws0">it makes sense to address this important topic separ<span class="_ _1"></span>ately even though we ha<span class="_ _1"></span>ve touched on </div><div class="t m0 x3 h12 y614 ff97 fsa fc2 sc0 ls14 ws0">it at relevan<span class="_ _1"></span>t places elsewhere in this book.</div><div class="t m0 x3 hb4 y19b1 ff9c fsd fc2 sc0 ls0 ws0">Throw<span class="_ _1"></span>ables</div><div class="t m0 x3 h1e y19b2 ff97 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>e’re goin<span class="_ _1"></span>g to be looking at the <span class="ff9d">Error</span> and <span class="ff9d">Exception</span> classes in this chapter<span class="_ _2"></span>. F<span class="_ _1"></span>or now, </div><div class="t m0 x3 h1e y19b3 ff97 fsa fc2 sc0 ls0 ws0">all that you need to know is th<span class="_ _1"></span>at they both implement the <span class="ff9d">Throwable</span> interface that was </div><div class="t m0 x3 h12 y19b4 ff97 fsa fc2 sc0 ls0 ws0">introduced in PHP 7.</div><div class="t m0 x23 h10 y19b5 ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff9e fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>The reason that PHP defined a new <span class="ff9d fsa">Error</span> class that does not extend the </span></span></div><div class="t m0 x3 h10 y19b6 ff9d fsa fc2 sc0 ls0 ws0">Exception<span class="ff9e fs6"> class was to maintain backward compatibility with PHP5.6 code.</span></div><div class="t m0 x3 h26 y19b7 ff97 fse fc2 sc0 ls0 ws0">The Thr<span class="_ _1"></span>owable I<span class="_ _1"></span>nterface</div><div class="t m0 x3 h1e y19b8 ff97 fsa fc2 sc0 ls0 ws0">Exceptions and error exceptions both implement the <span class="ff9d">Throwable</span> interface<span class="_ _1"></span>, so you can </div><div class="t m0 x3 h12 y19b9 ff97 fsa fc2 sc0 ls0 ws0">catch both types in a single block like this:</div><div class="t m0 x3 h1e y19ba ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y19bb ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x3 h1e y19bc ff9d fsa fc2 sc0 ls0 ws0">    // ...code</div><div class="t m0 x3 h1e y19bd ff9d fsa fc2 sc0 ls0 ws0">} catch (Throwable $e) {</div><div class="t m0 x3 h1e y19be ff9d fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>echo &quot;A class that inherits from either Exception or ErrorException was </div><div class="t m0 x1a h1e y19bf ff9d fsa fc2 sc0 ls0 ws0">caught&quot;;</div><div class="t m0 x3 h1e y19c0 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 y19c1 ff97 fsa fc2 sc0 ls0 ws0">In just a moment we<span class="_ _1"></span>’ll see the matching rules that PHP uses to compar<span class="_ _1"></span>e </div><div class="t m0 x3 h1e y19c2 ff9d fsa fc2 sc0 ls0 ws0">ErrorExceptions<span class="ff97"> and </span>Exceptions<span class="ff97"> against </span>catch<span class="ff97"> blocks<span class="_ _1"></span>.</span></div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_11"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:159.145000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10b" class="pf w2 h4" data-page-no="10b"><div class="pc pc10b w2 h4"><img class="bi x8 y653 w3 hb5" alt="" src="bg10b.png"/><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls26 ws8f">250</div><div class="t m0 x3 h1e y2a8 ff97 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can find the methods defined in the <span class="ff9d">Throwable</span> interface in the PHP manual,</div><div class="t m0 xa0 h15 y19c3 ff97 fsb fc4 sc0 ls0 ws0">1</div><div class="t m0 x72 h12 y2a8 ff97 fsa fc2 sc0 ls0 ws0"> </div><div class="t m0 x8 h12 y2a9 ff97 fsa fc2 sc0 ls0 ws0">but here they ar<span class="_ _1"></span>e for your convenience:</div><div class="t m0 x8 h1e y2ab ff9d fsa fc2 sc0 ls0 ws0">Throwable {</div><div class="t m0 x8 h1e y2ac ff9d fsa fc2 sc0 ls0 ws0">/* Methods */</div><div class="t m0 x8 h1e y2ad ff9d fsa fc2 sc0 ls0 ws0">abstract public string getMessage ( void )</div><div class="t m0 x8 h1e ya79 ff9d fsa fc2 sc0 ls0 ws0">abstract public int getCode ( void )</div><div class="t m0 x8 h1e y425 ff9d fsa fc2 sc0 ls0 ws0">abstract public string getFile ( void )</div><div class="t m0 x8 h1e y4e6 ff9d fsa fc2 sc0 ls0 ws0">abstract public int getLine ( void )</div><div class="t m0 x8 h1e y4e7 ff9d fsa fc2 sc0 ls0 ws0">abstract public array getTrace ( void )</div><div class="t m0 x8 h1e y4e8 ff9d fsa fc2 sc0 ls0 ws0">abstract public string getTraceAsString ( void )</div><div class="t m0 x8 h1e ya7a ff9d fsa fc2 sc0 ls0 ws0">abstract public Throwable getPrevious ( void )</div><div class="t m0 x8 h1e y4e9 ff9d fsa fc2 sc0 ls0 ws0">abstract public string __toString ( void )</div><div class="t m0 x8 h1e y4ea ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1e h10 y19c4 ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff9e fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>These methods can be very useful for logging the error<span class="_ _2"></span>.</span></span></div><div class="t m0 x8 hb4 y19c5 ff9c fsd fc2 sc0 ls0 ws0">Errors</div><div class="t m0 x8 h12 y1084 ff97 fsa fc2 sc0 ls0 ws0">In older versions of PHP<span class="_ _11"></span>, errors wer<span class="_ _1"></span>e treated very differently fr<span class="_ _1"></span>om exceptions. An error </div><div class="t m0 x8 h12 y19c6 ff97 fsa fc2 sc0 ls0 ws0">was something produced in the engine and so long as it was not fa<span class="_ _1"></span>tal it could be handled </div><div class="t m0 x8 h12 y19c7 ff97 fsa fc2 sc0 ls0 ws0">by a user<span class="_ _1"></span>-defined function.</div><div class="t m0 x3 h12 y19c8 ff97 fsa fc2 sc0 ls0 ws0">The problem was th<span class="_ _1"></span>at there were sever<span class="_ _1"></span>al errors that were fa<span class="_ _1"></span>tal and could not be </div><div class="t m0 x8 h12 y19c9 ff97 fsa fc2 sc0 ls0 ws0">handled by a user<span class="_ _1"></span>-defined error handler<span class="_ _11"></span>.</div><div class="t m0 x3 h12 y19ca ff97 fsa fc2 sc0 ls0 ws0">This meant that y<span class="_ _1"></span>ou couldn’t handle fatal errors in PHP5.6 gr<span class="_ _1"></span>acefully. There </div><div class="t m0 x8 h12 y19cb ff97 fsa fc2 sc0 ls0 ws0">were several side-effects tha<span class="_ _1"></span>t were problema<span class="_ _1"></span>tic—<span class="_ _1"></span>such as the loss of runtime context, </div><div class="t m0 x8 h12 y19cc ff97 fsa fc2 sc0 ls0 ws0">destructors would not be called, and dealing with them was cludgy.</div><div class="t m0 x3 h12 y19cd ff97 fsa fc2 sc0 ls0 ws0">In PHP 7, fatal errors ar<span class="_ _1"></span>e now exceptions and are a lot eas<span class="_ _1"></span>ier to deal with.</div><div class="t m0 x1e h10 y19ce ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2">Note<span class="ff9e"> <span class="_ _2c"> </span> Only fatal errors result in an error exception being thrown. <span class="_ _1"></span>Y<span class="_ _11"></span>ou need to handle </span></span></span></div><div class="t m0 x8 h10 y19cf ff9e fs6 fc2 sc0 ls0 ws0">non-fatal errors with an error<span class="_ _1"></span>-handling function.</div><div class="t m0 x3 h12 y19d0 ff97 fsa fc2 sc0 ls0 ws0">Here is an exam<span class="_ _1"></span>ple of catching a fatal error in PHP 7.1. N<span class="_ _1"></span>otice how the non-fatal </div><div class="t m0 x8 h12 y19d1 ff97 fsa fc2 sc0 ls0 ws0">error is not caught<span class="_ _1"></span>.</div><div class="t m0 x8 h1e y19d2 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y19d3 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x8 h1e y19d4 ff9d fsa fc2 sc0 ls0 ws0">    // generates a notice error (not caught)</div><div class="t m0 x8 h1e y19d5 ff9d fsa fc2 sc0 ls0 ws0">    echo $thisVariableIsNotSet;</div><div class="t m0 x8 h16 y19d6 ffa1 fsc fc2 sc0 ls0 ws0">1</div><div class="t m0 x26 h23 y19d7 ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.throwable.php</div><a class="l" href="#pf10b" data-dest-detail='[267,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:365.090000px;bottom:589.145000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.throwable.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.020400px;width:191.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10c" class="pf w2 h4" data-page-no="10c"><div class="pc pc10c w2 h4"><img class="bi x3 y653 w5 h4a" alt="" src="bg10c.png"/><div class="t m0 x83 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x21 hd y55 ff97 fs6 fc2 sc0 ls32 ws10b">2<span class="_ _0"></span>51</div><div class="t m0 x3 h1e y2a8 ff9d fsa fc2 sc0 ls0 ws0">    // this would be a fatal error (is caught)</div><div class="t m0 x3 h1e y2a9 ff9d fsa fc2 sc0 ls0 ws0">    badFunction();</div><div class="t m0 x3 h1e y2aa ff9d fsa fc2 sc0 ls0 ws0">} catch (Error $e) {</div><div class="t m0 x3 h1e y2ab ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Error caught: &quot; . $e-&gt;getMessage();</div><div class="t m0 x3 h1e y2ac ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x1a h12 ya79 ff97 fsa fc2 sc0 ls0 ws0">This script will output a notice error for the attempt to access an in<span class="_ _1"></span>valid variable. </div><div class="t m0 x3 h12 y425 ff97 fsa fc2 sc0 ls0 ws0">Trying to call a function that does not exist would result in a fatal err<span class="_ _1"></span>or in earlier versions </div><div class="t m0 x3 h12 y4e6 ff97 fsa fc2 sc0 ls0 ws0">of PHP<span class="_ _11"></span>, but in PHP 7.1, you can ca<span class="_ _1"></span>tch it.</div><div class="t m0 x1a h12 y4e7 ff97 fsa fc2 sc0 ls0 ws0">Here is the o<span class="_ _1"></span>utput for the script<span class="_ _0"></span>:</div><div class="t m0 x3 h1e ya7a ff9d fsa fc2 sc0 ls0 ws0">Notice: Undefined variable: thisVariableIsNotSet in /in/lQC3F on line 5</div><div class="t m0 x3 h1e y4e9 ff9d fsa fc2 sc0 ls0 ws0">Error caught: Call to undefined function badFunction()</div><div class="t m0 x3 h26 y19d8 ff97 fse fc2 sc0 ls0 ws0">Error Cons<span class="_ _1"></span>tants</div><div class="t m0 x3 h12 y19d9 ff97 fsa fc2 sc0 ls0 ws0">PHP has a lot of constants</div><div class="t m0 x51 h15 y19da ff97 fsb fc4 sc0 ls0 ws0">2</div><div class="t m0 x97 h12 y19d9 ff97 fsa fc2 sc0 ls0 ws0"> that ar<span class="_ _1"></span>e used in relation to errors<span class="_ _1"></span>. These constants are used </div><div class="t m0 x3 h12 y19db ff97 fsa fc2 sc0 ls0 ws0">when configuring PHP to hide or display error<span class="_ _1"></span>s of certain classes.</div><div class="t m0 x1a h12 y19dc ff97 fsa fc2 sc0 ls0 ws0">Here ar<span class="_ _1"></span>e some of the more commonly seen error codes:</div><div class="t m0 x3 h20 y19dd ff9b fs6 fc2 sc0 ls0 ws0">Code<span class="_ _2d"> </span>Description<span class="_ _1b"> </span>Script<span class="_ _a3"> </span>Throws Error?</div><div class="t m0 x3 h1e y19de ff9d fsa fc2 sc0 ls0 ws0">E_DEPRECATED<span class="_ _bb"> </span><span class="ff97">The interpreter will generate </span></div><div class="t m0 xa1 h12 y19df ff97 fsa fc2 sc0 ls0 ws0">warnings of this type if you </div><div class="t m0 xa1 h12 y19e0 ff97 fsa fc2 sc0 ls0 ws0">use a language featur<span class="_ _1"></span>e that is </div><div class="t m0 xa1 h12 y19e1 ff97 fsa fc2 sc0 ls0 ws0">deprecated.</div><div class="t m0 xa2 h12 y19e2 ff97 fsa fc2 sc0 ls0 ws0">Continues to run<span class="_ _d0"> </span><span class="ls56 ws132">No</span></div><div class="t m0 x3 h1e y19e3 ff9d fsa fc2 sc0 ls0 ws0">E_STRICT<span class="_ _ad"> </span><span class="ff97">Similar to </span>E_DEPRECATED<span class="ff97">, this </span></div><div class="t m0 xa1 h12 y19e4 ff97 fsa fc2 sc0 ls0 ws0">indicates that y<span class="_ _1"></span>ou are using </div><div class="t m0 xa1 h12 y19e5 ff97 fsa fc2 sc0 ls0 ws0">a language featur<span class="_ _1"></span>e that is not </div><div class="t m0 xa1 h12 y19e6 ff97 fsa fc2 sc0 ls0 ws0">currently standar<span class="_ _1"></span>d and might </div><div class="t m0 xa1 h12 y19e7 ff97 fsa fc2 sc0 ls0 ws0">not work in the future<span class="_ _1"></span>.</div><div class="t m0 xa2 h12 y19e8 ff97 fsa fc2 sc0 ls0 ws0">Continues to run<span class="_ _d0"> </span><span class="ls56 ws132">No</span></div><div class="t m0 x3 h1e y19e9 ff9d fsa fc2 sc0 ls0 ws0">E_PARSE<span class="_ _7c"> </span><span class="ff97">Y<span class="_ _2"></span>our syntax could not be parsed </span></div><div class="t m0 xa1 h12 y19ea ff97 fsa fc2 sc0 ls0 ws0">and so your script won’t start.</div><div class="t m0 xa2 h12 y19e9 ff97 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>on’t run at all<span class="_ _bb"> </span><span class="ls56 ws132">No</span></div><div class="t m0 x3 h1e y19eb ff9d fsa fc2 sc0 ls0 ws0">E_NOTICE<span class="_ _ad"> </span><span class="ff97">An informational message.<span class="_ _ab"> </span>Continues to run<span class="_ _d0"> </span><span class="ls56 ws132">No</span></span></div><div class="t m0 x3 h1e y19ec ff9d fsa fc2 sc0 ls0 ws0">E_WARNING<span class="_ _b1"> </span><span class="ff97">These are non-fatal w<span class="_ _1"></span>arnings.<span class="_ _cf"> </span>Continues to run<span class="_ _e2"> </span><span class="ls56 ws132">No</span></span></div><div class="t m0 x3 h1e y19ed ff9d fsa fc2 sc0 ls0 ws0">E_ERROR<span class="_ _7c"> </span><span class="ff97">The script cannot continue to </span></div><div class="t m0 xa1 h12 y19ee ff97 fsa fc2 sc0 ls0 ws0">run and is being terminated.</div><div class="t m0 xa2 h12 y19ed ff97 fsa fc2 sc0 ls0 ws0">Aborts unless you </div><div class="t m0 xa2 h12 y19ee ff97 fsa fc2 sc0 ls0 ws0">handle it with an </div><div class="t m0 xa2 h12 y19ef ff97 fsa fc2 sc0 ls0 ws0">error handler</div><div class="t m0 x1b h12 y19ed ff97 fsa fc2 sc0 ls57 ws133">Ye<span class="_ _0"></span>s</div><div class="t m0 x3 h1e y19f0 ff9d fsa fc2 sc0 ls0 ws0">E_RECOVERABLE_</div><div class="t m0 x3 h1e y19f1 ff9d fsa fc2 sc0 ls0 ws0">ERROR</div><div class="t m0 xa1 h12 y19f0 ff97 fsa fc2 sc0 ls0 ws0">The error was pr<span class="_ _1"></span>obably </div><div class="t m0 xa1 h12 y19f1 ff97 fsa fc2 sc0 ls0 ws0">dangerous enough to be fa<span class="_ _1"></span>tal </div><div class="t m0 xa1 h12 y19f2 ff97 fsa fc2 sc0 ls0 ws0">but the engine is not in a state </div><div class="t m0 xa1 h12 y19f3 ff97 fsa fc2 sc0 ls0 ws0">where it cannot contin<span class="_ _1"></span>ue.</div><div class="t m0 xa2 h12 y19f4 ff97 fsa fc2 sc0 ls0 ws0">Aborts unless you </div><div class="t m0 xa2 h12 y19f5 ff97 fsa fc2 sc0 ls0 ws0">handle it with an </div><div class="t m0 xa2 h12 y19f6 ff97 fsa fc2 sc0 ls0 ws0">error handler</div><div class="t m0 x1b h12 y19f4 ff97 fsa fc2 sc0 ls57 ws133">Ye<span class="_ _0"></span>s</div><div class="t m0 x3 h16 y19f7 ffa1 fsc fc2 sc0 ls0 ws0">2</div><div class="t m0 x1d h23 y19f8 ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/errorfunc.constants.php</div><a class="l" href="#pf10c" data-dest-detail='[268,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:156.374000px;bottom:406.181000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/errorfunc.constants.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.020400px;width:208.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10d" class="pf w2 h4" data-page-no="10d"><div class="pc pc10d w2 h4"><img class="bi x8 yc2e w3 hb6" alt="" src="bg10d.png"/><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls2a ws10c">2<span class="_ _0"></span>52</div><div class="t m0 x8 h26 y3bf ff97 fse fc2 sc0 ls0 ws0">Using an E<span class="_ _1"></span>rror<span class="_ _2"></span>-Handler F<span class="_ _1"></span>unction</div><div class="t m0 x8 h1e y3c0 ff97 fsa fc2 sc0 ls0 ws0">The <span class="ff9d">set_error_handler()</span> function</div><div class="t m0 x2d h15 y1501 ff97 fsb fc4 sc0 ls0 ws0">3</div><div class="t m0 x6 h12 y3c0 ff97 fsa fc2 sc0 ls0 ws0"> is used to tell PHP how to handle standar<span class="_ _1"></span>d engine </div><div class="t m0 x8 h1e y3c1 ff97 fsa fc2 sc0 ls0 ws0">errors that ar<span class="_ _1"></span>e not instances of the <span class="ff9d">Error</span> exception class. Y<span class="_ _2"></span>ou cannot use an error<span class="_ _1"></span>-</div><div class="t m0 x8 h1e y531 ff97 fsa fc2 sc0 ls0 ws0">handler function for fatal errors; you must catch them as <span class="ff9d">Error</span> ex<span class="_ _1"></span>ceptions.</div><div class="t m0 x3 h1e y450 ff9d fsa fc2 sc0 ls0 ws0">set_error_handler()<span class="ff97"> accepts a callable</span></div><div class="t m0 xa3 h15 y532 ff97 fsb fc4 sc0 ls0 ws0">4</div><div class="t m0 xa4 h12 y19f9 ff97 fsa fc2 sc0 ls0 ws0"> as its parameter<span class="_ _2"></span>. Callables in PHP c<span class="_ _1"></span>an be </div><div class="t m0 x8 h12 y19fa ff97 fsa fc2 sc0 ls0 ws0">specified in two ways: Either by a string denoting the name of a function, or by passing an </div><div class="t m0 x8 h12 y19fb ff97 fsa fc2 sc0 ls0 ws0">array tha<span class="_ _1"></span>t contains an object and the name of a method (in that order).</div><div class="t m0 x1e h10 y19fc ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2">Note<span class="ff9e"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou can specify protected and private methods in an object as the callable.</span></span></span></div><div class="t m0 x3 h12 y19fd ff97 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can also pass null to tell PHP to revert to using the standar<span class="_ _1"></span>d error<span class="_ _1"></span>-handling </div><div class="t m0 x8 h12 y19fe ff97 fsa fc2 sc0 ls0 ws0">mechanism.</div><div class="t m0 x3 h12 y19ff ff97 fsa fc2 sc0 ls0 ws0">If your error handler does not termina<span class="_ _1"></span>te the program and r<span class="_ _1"></span>eturns, then your script </div><div class="t m0 x8 h12 y1a00 ff97 fsa fc2 sc0 ls0 ws0">will continue executing at the line after wher<span class="_ _1"></span>e the error occurred.</div><div class="t m0 x3 h12 y1a01 ff97 fsa fc2 sc0 ls0 ws0">PHP passes parameters to your err<span class="_ _1"></span>or<span class="_ _1"></span>-handler function. Y<span class="_ _2"></span>ou can optionally declare </div><div class="t m0 x8 h12 y1a02 ff97 fsa fc2 sc0 ls0 ws0">these in the function signatur<span class="_ _1"></span>e if you want to use them in your function.</div><div class="t m0 x8 h1e y1a03 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1a04 ff9d fsa fc2 sc0 ls0 ws0">function myHandler(int $errNo, string $errMsg, string $file, int $line) {</div><div class="t m0 x8 h1e y1a05 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Error #[$errNo] occurred in [$file] at line [$line]: [$errMsg]&quot;;</div><div class="t m0 x8 h1e y1a06 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h1e y1a07 ff9d fsa fc2 sc0 ls0 ws0">set_error_handler(&apos;myHandler&apos;);</div><div class="t m0 x8 h1e y1a08 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x8 h1e y1a09 ff9d fsa fc2 sc0 ls0 ws0">  // This does not throw an Error</div><div class="t m0 x8 h1e y1a0a ff9d fsa fc2 sc0 ls0 ws0">  5 / 0;</div><div class="t m0 x8 h1e y1a0b ff9d fsa fc2 sc0 ls0 ws0">} catch ( Throwable $e ) {</div><div class="t m0 x8 h1e y1a0c ff9d fsa fc2 sc0 ls0 ws0">  echo &apos;Caught error : &apos; . $e-&gt;getMessage();</div><div class="t m0 x8 h1e y1a0d ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h1e y1a0e ff9d fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x8 h1e y1a0f ff9d fsa fc2 sc0 ls0 ws0">  Error #[2] occurred in [/in/Xa0Td] at line [11]: [Division by zero]</div><div class="t m0 x8 h1e y1a10 ff9d fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x3 h12 y1a11 ff97 fsa fc2 sc0 ls0 ws0">In the preceding example<span class="_ _1"></span>, we divide the number five by zer<span class="_ _1"></span>o<span class="_ _1"></span>. In PHP this results in a </div><div class="t m0 x8 h1e y1a12 ff97 fsa fc2 sc0 ls0 ws0">warning so an <span class="ff9d">Error</span> is not thrown. W<span class="_ _1"></span>e ha<span class="_ _1"></span>ve, ho<span class="_ _1"></span>wever<span class="_ _2"></span>, set the function <span class="ff9d">myHandler()</span> up as </div><div class="t m0 x8 h12 y1a13 ff97 fsa fc2 sc0 ls0 ws0">the customer error handler and so it is inv<span class="_ _1"></span>oked when PHP encounters the warning.</div><div class="t m0 x3 h12 y1a14 ff97 fsa fc2 sc0 ls0 ws0">Errors tha<span class="_ _1"></span>t cause the script to terminate cannot be caught with a user error handler; </div><div class="t m0 x8 h1e y1a15 ff97 fsa fc2 sc0 ls0 ws0">these include <span class="ff9d">E_ERROR</span>, <span class="ff9d">E_PARSE</span>, <span class="ff9d">E_CORE_ERROR</span>, <span class="ff9d">E_CORE_WARNING</span>, <span class="ff9d">E_COMPILE_ERROR</span>, and </div><div class="t m0 x8 h1e y1a16 ff9d fsa fc2 sc0 ls0 ws0">E_COMPILE_WARNING<span class="ff97">.</span></div><div class="t m0 x8 h16 y1a17 ffa1 fsc fc2 sc0 ls0 ws0">3</div><div class="t m0 x26 h23 y1a18 ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.set-error-handler.php</div><div class="t m0 x8 h16 y1a19 ffa1 fsc fc2 sc0 ls0 ws0">4</div><div class="t m0 x26 h23 y1a1a ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.types.callable.php</div><a class="l" href="#pf10d" data-dest-detail='[269,"XYZ",39,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:176.444000px;bottom:568.649000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10d" data-dest-detail='[269,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:212.012000px;bottom:535.649000px;width:2.623000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.set-error-handler.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:82.020400px;width:238.000200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.types.callable.php"><div class="d m1" style="border-style:none;position:absolute;left:42.257800px;bottom:72.020400px;width:225.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10e" class="pf w2 h4" data-page-no="10e"><div class="pc pc10e w2 h4"><img class="bi x3 y1a1b w5 hb7" alt="" src="bg10e.png"/><div class="t m0 x83 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x15 hd y55 ff97 fs6 fc2 sc0 ls26 ws8f">253</div><div class="t m0 x3 h26 y3bf ff97 fse fc2 sc0 ls0 ws0">Displaying or S<span class="_ _1"></span>uppressin<span class="_ _1"></span>g Non-F<span class="_ _2"></span>atal Err<span class="_ _1"></span>or Messages</div><div class="t m0 x3 h12 y3c0 ff97 fsa fc2 sc0 ls0 ws0">Generally, you want to hide all system err<span class="_ _1"></span>or messages while in production and your </div><div class="t m0 x3 h12 y3c1 ff97 fsa fc2 sc0 ls0 ws0">code should run without generating warnings or messa<span class="_ _1"></span>ges. If you are going t<span class="_ _1"></span>o show an </div><div class="t m0 x3 h12 y531 ff97 fsa fc2 sc0 ls0 ws0">error message<span class="_ _1"></span>, make sure tha<span class="_ _1"></span>t it is one that you’<span class="_ _1"></span>ve generated and that does not include </div><div class="t m0 x3 h12 y450 ff97 fsa fc2 sc0 ls0 ws0">information that could help an a<span class="_ _1"></span>ttacker break int<span class="_ _1"></span>o your system.</div><div class="t m0 x1a h12 y451 ff97 fsa fc2 sc0 ls0 ws0">In your development en<span class="_ _1"></span>vironment, y<span class="_ _1"></span>ou want all errors to be display<span class="_ _1"></span>ed so that you </div><div class="t m0 x3 h12 y46f ff97 fsa fc2 sc0 ls0 ws0">can fix all the issues that they r<span class="_ _1"></span>elate to<span class="_ _1"></span>, but while in production you wan<span class="_ _1"></span>t to suppress any </div><div class="t m0 x3 h12 y452 ff97 fsa fc2 sc0 ls0 ws0">system messages being sent to the user<span class="_ _2"></span>.</div><div class="t m0 x1a h12 y8a5 ff97 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o accomplish this, you need to configur<span class="_ _1"></span>e PHP using the following settings in your </div><div class="t m0 x3 h1e y454 ff9d fsa fc2 sc0 ls0 ws0">php.ini<span class="ff97"> file:</span></div><div class="t m0 x7 h1e y1a1c ffa2 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff9d">display_errors<span class="ff97"> can be set to false to suppress messages</span></span></div><div class="t m0 x7 h1e y1a1d ffa2 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff9d">log_errors<span class="ff97"> can be used to store error messa<span class="_ _1"></span>ges in log files</span></span></div><div class="t m0 x7 h1e y1a1e ffa2 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff9d">error_reporting<span class="ff97"> can be set to configure which err<span class="_ _1"></span>ors trigger a </span></span></div><div class="t m0 x19 h12 y1a1f ff97 fsa fc2 sc0 ls0 ws0">report</div><div class="t m0 x1a h12 y1a20 ff97 fsa fc2 sc0 ls29 ws0">The best practice is to gracefull<span class="_ _1"></span>y handle errors in your application. I<span class="_ _1"></span>n production, you </div><div class="t m0 x3 h12 y1a21 ff97 fsa fc2 sc0 ls29 ws0">should rather log unh<span class="_ _1"></span>andled errors instead of allowing them to be displayed to the user<span class="_ _2"></span>.</div><div class="t m0 x23 h10 y1a22 ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2">Note<span class="ff9e"> <span class="_ _2c"> </span> <span class="_ _1"></span>We looked at the error suppression operator <span class="ff9d fsa">@</span> in the first chapter<span class="_ _2"></span>. Remember that </span></span></span></div><div class="t m0 x3 h10 y1a23 ff9e fs6 fc2 sc0 ls0 ws0">it’<span class="_ _1"></span>s best to avoid using it.</div><div class="t m0 x1a h1e y1a24 ff97 fsa fc2 sc0 ls0 ws0">The <span class="ff9d">error_log()</span> function</div><div class="t m0 x2d h15 y1a25 ff97 fsb fc4 sc0 ls0 ws0">5</div><div class="t m0 x6 h12 y1a24 ff97 fsa fc2 sc0 ls0 ws0"> can be used to send a message to one of the systems </div><div class="t m0 x3 h1e y1a26 ff97 fsa fc2 sc0 ls0 ws0">error<span class="_ _1"></span>-handling r<span class="_ _1"></span>outines. Y<span class="_ _2"></span>ou shouldn’t confuse it with the <span class="ff9d">error_log</span> configuration </div><div class="t m0 x3 h12 y1a27 ff97 fsa fc2 sc0 ls0 ws0">option. The configura<span class="_ _1"></span>tion option specifies how to deal with logs, whereas the function is </div><div class="t m0 x3 h12 y1a28 ff97 fsa fc2 sc0 ls0 ws0">used to send a message.</div><div class="t m0 x1a h1e y1a29 ff97 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can also use the <span class="ff9d">error_log()</span> function to send e-mails, but personally I would </div><div class="t m0 x3 h12 y1a2a ff97 fsa fc2 sc0 ls0 ws0">not do so and would rather do this in code or use a service like Rollbar<span class="_ _2"></span>.</div><div class="t m0 x9c h15 y1a2b ff97 fsb fc4 sc0 ls0 ws0">6</div><div class="t m0 x3 h26 y1a2c ff97 fse fc2 sc0 ls0 ws0">Error<span class="_ _2"></span>-H<span class="_ _1"></span>andling Functions</div><div class="t m0 x3 h12 y1a2d ff97 fsa fc2 sc0 ls0 ws0">PHP has many functions</div><div class="t m0 x9 h15 y1a2e ff97 fsb fc4 sc0 ls0 ws0">78</div><div class="t m0 x51 h12 y1a2d ff97 fsa fc2 sc0 ls0 ws0"> that r<span class="_ _1"></span>elate to error handling. This ta<span class="_ _1"></span>ble provides a summ<span class="_ _1"></span>ar<span class="_ _0"></span>y of </div><div class="t m0 x3 h12 y1a2f ff97 fsa fc2 sc0 ls0 ws0">them. W<span class="_ _1"></span>e’ll be looking a<span class="_ _1"></span>t most of them in this chapter<span class="_ _2"></span>.</div><div class="t m0 x3 h16 y1a30 ffa1 fsc fc2 sc0 ls0 ws0">5</div><div class="t m0 x1d h23 y1a31 ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/function.error-log.php</div><div class="t m0 x3 h16 y1a32 ffa1 fsc fc2 sc0 ls0 ws0">6</div><div class="t m0 x1d h23 y1a33 ff9d fs5 fc4 sc0 ls0 ws0">https://rollbar.com/</div><div class="t m0 x3 h16 y1a17 ffa1 fsc fc2 sc0 ls0 ws0">7</div><div class="t m0 x1d h23 y1a18 ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/errorfunc.configuration.php#ini.error-log</div><div class="t m0 x3 h16 y1a19 ffa1 fsc fc2 sc0 ls0 ws0">8</div><div class="t m0 x1d h23 y1a1a ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/ref.errorfunc.php</div><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",57,114,null]'><div class="d m1" style="border-style:none;position:absolute;left:176.264000px;bottom:316.649000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",57,104,null]'><div class="d m1" style="border-style:none;position:absolute;left:326.021000px;bottom:261.685000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",57,94,null]'><div class="d m1" style="border-style:none;position:absolute;left:151.613000px;bottom:210.685000px;width:2.624000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",57,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:154.237000px;bottom:210.685000px;width:2.623000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/function.error-log.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:102.020000px;width:204.000200px;height:11.170000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://rollbar.com/"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:92.020400px;width:85.000200px;height:11.169600px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/errorfunc.configuration.php#ini.error-log"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:82.020400px;width:284.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/ref.errorfunc.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:72.020400px;width:182.750200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10f" class="pf w2 h4" data-page-no="10f"><div class="pc pc10f w2 h4"><img class="bi x8 y1a34 w3 hb8" alt="" src="bg10f.png"/><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls22 wsfd">254</div><div class="t m0 x8 h20 yc67 ff9b fs6 fc2 sc0 ls0 ws0">Function<span class="_ _e3"> </span>Purpose</div><div class="t m0 x8 h1e yc68 ff9d fsa fc2 sc0 ls0 ws0">debug_backtrace<span class="_ _41"> </span><span class="ff97">Generates a back<span class="_ _1"></span>trace.</span></div><div class="t m0 x8 h12 yc69 ff97 fsa fc2 sc0 ls0 ws0">debug_print_back<span class="_ _1"></span>trace<span class="_ _d1"> </span>Prints a backtr<span class="_ _1"></span>ace. Be careful when usin<span class="_ _1"></span>g this function </div><div class="t m0 x7b h12 y1237 ff97 fsa fc2 sc0 ls0 ws0">because it can generate a lot of o<span class="_ _1"></span>utput!</div><div class="t m0 x8 h1e y1a35 ff9d fsa fc2 sc0 ls0 ws0">error_clear_last<span class="_ _20"> </span><span class="ff97">Clears the most recent err<span class="_ _1"></span>or<span class="_ _2"></span>.</span></div><div class="t m0 x8 h1e y1a36 ff9d fsa fc2 sc0 ls0 ws0">error_get_last<span class="_ _4f"> </span><span class="ff97">Gets the last occurred error<span class="_ _2"></span>.</span></div><div class="t m0 x8 h1e y1a37 ff9d fsa fc2 sc0 ls0 ws0">error_log<span class="_ _7a"> </span><span class="ff97">Sends an error message to the defined error<span class="_ _1"></span>-handling </span></div><div class="t m0 x7b h12 y1a38 ff97 fsa fc2 sc0 ls0 ws0">routines<span class="_ _1"></span>.</div><div class="t m0 x8 h1e y1a39 ff9d fsa fc2 sc0 ls0 ws0">error_reporting<span class="_ _41"> </span><span class="ff97">Sets which PHP errors ar<span class="_ _1"></span>e reported.</span></div><div class="t m0 x8 h12 y1a3a ff97 fsa fc2 sc0 ls0 ws0">restor<span class="_ _1"></span>e_error_handler<span class="_ _b"> </span>Restor<span class="_ _1"></span>es the previous error<span class="_ _1"></span>-handler function.</div><div class="t m0 x8 h12 y1a3b ff97 fsa fc2 sc0 ls0 ws0">restor<span class="_ _1"></span>e_exception_</div><div class="t m0 x8 h12 y1a3c ff97 fsa fc2 sc0 ls0 ws0">handler</div><div class="t m0 x7b h12 y1a3b ff97 fsa fc2 sc0 ls0 ws0">Restores the pr<span class="_ _1"></span>eviously defined exception-handler function.</div><div class="t m0 x8 h12 y1a3d ff97 fsa fc2 sc0 ls0 ws0">set_error_handler<span class="_ _5d"> </span>Sets a user<span class="_ _1"></span>-defined error<span class="_ _1"></span>-handler function.</div><div class="t m0 x8 h12 y1a3e ff97 fsa fc2 sc0 ls0 ws0">set_exception_handler<span class="_ _6a"> </span>Sets a user<span class="_ _1"></span>-defined exception handler function.</div><div class="t m0 x8 h12 y1a3f ff97 fsa fc2 sc0 ls0 ws0">trigger_error<span class="_ _35"> </span>Generates a user<span class="_ _1"></span>-level error/warning/notice message<span class="_ _1"></span>.</div><div class="t m0 x8 h1e y1a40 ff97 fsa fc2 sc0 ls0 ws0">user_error<span class="_ _b7"> </span>Alias of <span class="ff9d">trigger_error</span>.</div><div class="t m0 x8 hb4 y1a41 ff9c fsd fc2 sc0 ls0 ws0">Exceptions</div><div class="t m0 x8 h12 y1248 ff97 fsa fc2 sc0 ls0 ws0">Exceptions are a core part of object<span class="_ _1"></span>-oriented programming and wer<span class="_ _1"></span>e first introduced in </div><div class="t m0 x8 h12 y1a42 ff97 fsa fc2 sc0 ls0 ws0">PHP 5.0. An exception is a progr<span class="_ _1"></span>am state that r<span class="_ _1"></span>equires special processing because it’<span class="_ _2"></span>s not </div><div class="t m0 x8 h12 y1a43 ff97 fsa fc2 sc0 ls0 ws0">running in the expected manner<span class="_ _2"></span>.</div><div class="t m0 x3 h12 y1a44 ff97 fsa fc2 sc0 ls0 ws0">Y<span class="_ _2"></span>ou can use an exception to change the flow of your progr<span class="_ _1"></span>am, for example, to s<span class="_ _1"></span>top </div><div class="t m0 x8 h12 y1a45 ff97 fsa fc2 sc0 ls0 ws0">doing something if certain preconditions are not met<span class="_ _1"></span>.</div><div class="t m0 x3 h12 y1a46 ff97 fsa fc2 sc0 ls0 ws0">An exception will bubble up through the call stac<span class="_ _1"></span>k if you do not catch it. Let’<span class="_ _2"></span>s look at </div><div class="t m0 x8 h12 y1a47 ff97 fsa fc2 sc0 ls0 ws0">an example:</div><div class="t m0 x8 h1e y1a48 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1a49 ff9d fsa fc2 sc0 ls0 ws0">function A() {</div><div class="t m0 x8 h1e y1a4a ff9d fsa fc2 sc0 ls0 ws0">  // The exception thrown in C will bubble up to A</div><div class="t m0 x8 h1e y1a4b ff9d fsa fc2 sc0 ls0 ws0">  // because it is not handled in C or B</div><div class="t m0 x8 h1e y1a4c ff9d fsa fc2 sc0 ls0 ws0">  try {</div><div class="t m0 x8 h1e y1a4d ff9d fsa fc2 sc0 ls0 ws0">    B();</div><div class="t m0 x8 h1e y1a4e ff9d fsa fc2 sc0 ls0 ws0">  } catch (Exception $e) {</div><div class="t m0 x8 h1e y1a4f ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Caught exception in &quot; . __METHOD__;</div><div class="t m0 x8 h1e y1a50 ff9d fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x8 h1e y1a51 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h1e y1a52 ff9d fsa fc2 sc0 ls0 ws0">function B() {</div><div class="t m0 x8 h1e y1a53 ff9d fsa fc2 sc0 ls0 ws0">  // we&apos;re not catching exceptions in B</div><div class="t m0 x8 h1e y1a54 ff9d fsa fc2 sc0 ls0 ws0">  C();</div><div class="t m0 x8 h1e y1a55 ff9d fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf110" class="pf w2 h4" data-page-no="110"><div class="pc pc110 w2 h4"><img class="bi x3 y1a56 w7 h27" alt="" src="bg110.png"/><div class="t m0 x83 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x15 hd y55 ff97 fs6 fc2 sc0 ls21 wsfc">255</div><div class="t m0 x3 h1e y2a8 ff9d fsa fc2 sc0 ls0 ws0">function C() {</div><div class="t m0 x3 h1e y2a9 ff9d fsa fc2 sc0 ls0 ws0">  // we do not catch the exception where it is thrown</div><div class="t m0 x3 h1e y2aa ff9d fsa fc2 sc0 ls0 ws0">  throw new Exception(&apos;Bubble&apos;);</div><div class="t m0 x3 h1e y2ab ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y2ac ff9d fsa fc2 sc0 ls0 ws0">A();</div><div class="t m0 x3 h1e y2ad ff9d fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e ya79 ff9d fsa fc2 sc0 ls0 ws0">Outputs:</div><div class="t m0 x3 h1e y425 ff9d fsa fc2 sc0 ls0 ws0">  Caught exception in A and the program ends successfully</div><div class="t m0 x3 h1e y4e6 ff9d fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x1a h12 y4e8 ff97 fsa fc2 sc0 ls0 ws0">This progr<span class="_ _1"></span>am calls function A<span class="_ _0"></span>, which calls B, which then calls C. Function C thr<span class="_ _1"></span>ows </div><div class="t m0 x3 h12 ya7a ff97 fsa fc2 sc0 ls0 ws0">an exception but we don’t catch it in C. The exception bubbles to B, but it’<span class="_ _2"></span>s not caught </div><div class="t m0 x3 h12 y4e9 ff97 fsa fc2 sc0 ls0 ws0">there either<span class="_ _2"></span>. The exception contin<span class="_ _1"></span>ues to bubble up to A<span class="_ _0"></span>, wher<span class="_ _1"></span>e we do catch it.</div><div class="t m0 x1a h12 y4ea ff97 fsa fc2 sc0 ls0 ws0">If we hadn’t caught the exception in A then it would h<span class="_ _1"></span>ave bubbled to the global </div><div class="t m0 x3 h12 y3eb ff97 fsa fc2 sc0 ls0 ws0">scope where we would ha<span class="_ _1"></span>ve one final chance at cat<span class="_ _1"></span>ching it. If an exception is not caught </div><div class="t m0 x3 h12 y4eb ff97 fsa fc2 sc0 ls0 ws0">then PHP looks for a default exception handler<span class="_ _11"></span>, and eventually if there is no handler<span class="_ _2"></span>, it </div><div class="t m0 x3 h12 y4ec ff97 fsa fc2 sc0 ls0 ws0">will result in a fatal error<span class="_ _11"></span>.</div><div class="t m0 x3 h26 yc52 ff97 fse fc2 sc0 ls0 ws0">Extending Exception Classes</div><div class="t m0 x3 h12 y1a57 ff97 fsa fc2 sc0 ls0 ws0">PHP includes several standar<span class="_ _1"></span>d exception types, and the standard PHP libr<span class="_ _1"></span>ary (SPL) </div><div class="t m0 x3 h12 y1a58 ff97 fsa fc2 sc0 ls0 ws0">includes a few more<span class="_ _1"></span>. Although you don’t ha<span class="_ _1"></span>ve to use these exceptions, doing so means </div><div class="t m0 x3 h12 y1a59 ff97 fsa fc2 sc0 ls0 ws0">you can use more fine-gr<span class="_ _1"></span>ained error detection and reporting.</div><div class="t m0 x1a h1e y1a5a ff97 fsa fc2 sc0 ls0 ws0">The <span class="ff9d">Exception</span> and <span class="ff9d">Error</span> classes both implement the <span class="ff9d">Throwable</span> interface</div><div class="t m0 x10 h15 y1a5b ff97 fsb fc4 sc0 ls0 ws0">9</div><div class="t m0 x48 h12 y1a5c ff97 fsa fc2 sc0 ls0 ws0"> and, like </div><div class="t m0 x3 h12 y1a5d ff97 fsa fc2 sc0 ls0 ws0">any other classes, can be ex<span class="_ _1"></span>tended. This allows you to crea<span class="_ _1"></span>te flexible error hierarchies and </div><div class="t m0 x3 h12 y1a5e ff97 fsa fc2 sc0 ls0 ws0">tailor your exception handling.</div><div class="t m0 x1a h1e y1a5f ff97 fsa fc2 sc0 ls0 ws0">Only a class that implements the <span class="ff9d">Throwable</span> class c<span class="_ _1"></span>an be used with the <span class="ff9d">throw</span> </div><div class="t m0 x3 h12 y1a60 ff97 fsa fc2 sc0 ls0 ws0">keyword. In other wor<span class="_ _1"></span>ds, you can’t declar<span class="_ _1"></span>e your own base class and then throw it as an </div><div class="t m0 x3 h12 y1a61 ff97 fsa fc2 sc0 ls0 ws0">exception.</div><div class="t m0 x1a h12 y1a62 ff97 fsa fc2 sc0 ls0 ws0">As an example, let’<span class="_ _2"></span>s create an exception class th<span class="_ _1"></span>at we can use to signal that ther<span class="_ _1"></span>e has </div><div class="t m0 x3 h12 y1a63 ff97 fsa fc2 sc0 ls0 ws0">been a form validation problem:</div><div class="t m0 x3 h1e y1a64 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1a65 ff9d fsa fc2 sc0 ls0 ws0">class ValidationException extends Exception { }</div><div class="t m0 x3 h1e y1a66 ff9d fsa fc2 sc0 ls0 ws0">function myValidation() {</div><div class="t m0 x3 h1e y1a67 ff9d fsa fc2 sc0 ls0 ws0">    if (empty($_POST)) {</div><div class="t m0 x3 h1e y1a68 ff9d fsa fc2 sc0 ls0 ws0">        throw new ValidationException(&apos;No form fields entered&apos;);</div><div class="t m0 x3 h1e y1a69 ff9d fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h1e y1a6a ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h16 y1a6b ffa1 fsc fc2 sc0 ls0 ws0">9</div><div class="t m0 x1d h23 y1a6c ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/class.throwable.php</div><a class="l" href="#pf110" data-dest-detail='[272,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:358.755000px;bottom:329.145000px;width:2.624000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/class.throwable.php"><div class="d m1" style="border-style:none;position:absolute;left:60.077800px;bottom:73.376400px;width:191.250200px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf111" class="pf w2 h4" data-page-no="111"><div class="pc pc111 w2 h4"><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls52 ws12e">256</div><div class="t m0 x3 h12 y1b8 ff97 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s look at the syntax and then discuss exceptions in mor<span class="_ _1"></span>e detail:</div><div class="t m0 x8 h1e y1ba ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1bb ff9d fsa fc2 sc0 ls0 ws0">class ParentException extends Exception {}</div><div class="t m0 x8 h1e y1bc ff9d fsa fc2 sc0 ls0 ws0">class ChildException extends ParentException {}</div><div class="t m0 x8 h1e y1be ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x8 h1e y1bf ff9d fsa fc2 sc0 ls0 ws0">    // some code</div><div class="t m0 x8 h1e y1c0 ff9d fsa fc2 sc0 ls0 ws0">    throw new ChildException(&apos;My Message&apos;);</div><div class="t m0 x8 h1e y1c1 ff9d fsa fc2 sc0 ls0 ws0">} catch (ParentException $e) {</div><div class="t m0 x8 h1e y1c2 ff9d fsa fc2 sc0 ls0 ws0">    // matches this class because of inheritance</div><div class="t m0 x8 h1e y1c3 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Parent Exception :&quot; . $e-&gt;getMessage();</div><div class="t m0 x8 h1e y1c4 ff9d fsa fc2 sc0 ls0 ws0">} catch (ChildException $e) {</div><div class="t m0 x8 h1e y1c5 ff9d fsa fc2 sc0 ls0 ws0">    // matches this class exactly</div><div class="t m0 x8 h1e y1c6 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Child Exception :&quot; . $e-&gt;getMessage();</div><div class="t m0 x8 h1e y1c7 ff9d fsa fc2 sc0 ls0 ws0">} catch (Exception $e) {</div><div class="t m0 x8 h1e y1c8 ff9d fsa fc2 sc0 ls0 ws0">    // matches this class because of inheritance</div><div class="t m0 x8 h1e y733 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Exception :&quot; . $e-&gt;getMessage();</div><div class="t m0 x8 h1e y734 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y735 ff97 fsa fc2 sc0 ls0 ws0">The output of this example is <span class="ff9d">Parent Exception :My Message</span>.</div><div class="t m0 x3 h1e y736 ff97 fsa fc2 sc0 ls0 ws0">In the example<span class="_ _1"></span>, we are throwing a <span class="ff9d">ChildException</span>, which inherits from </div><div class="t m0 x8 h1e y737 ff9d fsa fc2 sc0 ls0 ws0">ParentException<span class="ff97">, which in turn extends the base </span>Exception<span class="ff97 ls11 wse8"> class.</span></div><div class="t m0 x3 h12 y738 ff97 fsa fc2 sc0 ls0 ws0">The blocks are evalua<span class="_ _1"></span>ted in order from top to bottom<span class="_ _1"></span>. The first block that is ma<span class="_ _1"></span>tched </div><div class="t m0 x8 h12 y739 ff97 fsa fc2 sc0 ls0 ws0">will be executed.</div><div class="t m0 x3 h12 y73a ff97 fsa fc2 sc0 ls0 ws0">The class of the exception being thr<span class="_ _1"></span>own is matched against the name of the class </div><div class="t m0 x8 h1e y73b ff97 fsa fc2 sc0 ls0 ws0">given as a parameter to the <span class="ff9d">catch</span><span class="ls11 wse8"> clause<span class="_ _1"></span>.</span></div><div class="t m0 x3 h12 y73c ff97 fsa fc2 sc0 ls0 ws0">The matching criteria are th<span class="_ _1"></span>at the classes are either:</div><div class="t m0 x2b h12 y1a6d ffa2 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff97">Exactly the same, or</span></div><div class="t m0 x2b h1e y1a6e ffa2 fsa fc2 sc0 ls0 ws0">• <span class="_ _12"> </span><span class="ff97">The thrown exception is an ancestor of the ex<span class="_ _1"></span>ception in the <span class="ff9d">catch</span> </span></div><div class="t m0 x18 h12 y1a6f ff97 fsa fc2 sc0 ls0 ws0">statement</div><div class="t m0 x3 h1e y1a70 ff97 fsa fc2 sc0 ls0 ws0">In this example<span class="_ _1"></span>, we threw an exception of the <span class="ff9d">ChildException</span>, which inherits from </div><div class="t m0 x8 h1e y1a71 ff97 fsa fc2 sc0 ls0 ws0">the <span class="ff9d">ParentException</span>. The exception is therefor<span class="_ _1"></span>e matched against the first <span class="ff9d">catch</span> bloc<span class="_ _1"></span>k </div><div class="t m0 x8 h12 y1a72 ff97 fsa fc2 sc0 ls0 ws0">and the code is executed.</div><div class="t m0 x3 h1e y118b ff97 fsa fc2 sc0 ls0 ws0">I put the base <span class="ff9d">Exception</span> at the bottom of the list of <span class="ff9d">catch</span> blocks because all custom </div><div class="t m0 x8 h12 y1a73 ff97 fsa fc2 sc0 ls0 ws0">exceptions inherit from it, which mak<span class="_ _1"></span>es it a catchall.</div><div class="t m0 x8 h26 y1a74 ff97 fse fc2 sc0 ls0 ws0">The Exception Hier<span class="_ _1"></span>arch<span class="_ _1"></span>y</div><div class="t m0 x8 h1e y175b ff97 fsa fc2 sc0 ls0 ws0">So far<span class="_ _2"></span>, we’ve understood th<span class="_ _1"></span>at <span class="ff9d">Errors</span> and <span class="ff9d">Exceptions</span> both implement the <span class="ff9d">Throwable</span> </div><div class="t m0 x8 h1e y1a75 ff97 fsa fc2 sc0 ls0 ws0">interface. W<span class="_ _1"></span>e<span class="_ _1"></span>’ve just seen that both the <span class="ff9d">Error</span> and <span class="ff9d">Exception</span> clas<span class="_ _1"></span>s can be extended.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf112" class="pf w2 h4" data-page-no="112"><div class="pc pc112 w2 h4"><img class="bi x3 y1a76 w5 hb9" alt="" src="bg112.png"/><div class="t m0 x83 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x21 hd y55 ff97 fs6 fc2 sc0 ls14 wsef">2<span class="_ _0"></span>57</div><div class="t m0 x1a h12 y1b8 ff97 fsa fc2 sc0 ls0 ws0">The built<span class="_ _1"></span>-in PHP 7 exception hierarch<span class="_ _1"></span>y looks like this<span class="_ _0"></span>:</div><div class="t m0 x3 h1e y2d2 ff9d fsa fc2 sc0 ls0 ws0">interface Throwable</div><div class="t m0 x3 h1e y2d3 ff9d fsa fc2 sc0 ls0 ws0">    |- Exception implements Throwable</div><div class="t m0 x3 h1e y2d4 ff9d fsa fc2 sc0 ls0 ws0">        |- ...</div><div class="t m0 x3 h1e y1bd ff9d fsa fc2 sc0 ls0 ws0">    |- Error implements Throwable</div><div class="t m0 x3 h1e y1be ff9d fsa fc2 sc0 ls0 ws0">        |- TypeError extends Error</div><div class="t m0 x3 h1e y2d5 ff9d fsa fc2 sc0 ls0 ws0">            |- ArgumentCountError</div><div class="t m0 x3 h1e y2d6 ff9d fsa fc2 sc0 ls0 ws0">        |- ParseError extends Error</div><div class="t m0 x3 h1e y2d7 ff9d fsa fc2 sc0 ls0 ws0">        |- ArithmeticError extends Error</div><div class="t m0 x3 h1e y2d8 ff9d fsa fc2 sc0 ls0 ws0">            |- DivisionByZeroError extends ArithmeticError</div><div class="t m0 x3 h1e y2d9 ff9d fsa fc2 sc0 ls0 ws0">        |- AssertionError extends Error</div><div class="t m0 x1a h12 y43c ff97 fsa fc2 sc0 ls0 ws0">As you can see, ther<span class="_ _1"></span>e are several pr<span class="_ _1"></span>edefined error classes that form a hierar<span class="_ _1"></span>chy </div><div class="t m0 x3 h1e y2db ff97 fsa fc2 sc0 ls0 ws0">underneath <span class="ff9d">Error</span>. The following table summ<span class="_ _1"></span>arizes their purpose:</div><div class="t m0 x3 h20 y1a77 ff9b fs6 fc2 sc0 ls0 ws0">Class<span class="_ _e4"> </span>Purpose</div><div class="t m0 x3 h1e y1a78 ff9d fsa fc2 sc0 ls0 ws0">TypeError<span class="_ _3a"> </span><span class="ff97">A </span>TypeError<span class="ff97"> is thrown when the argument passed to a function </span></div><div class="t m0 x9 h12 y1a79 ff97 fsa fc2 sc0 ls0 ws0">does not match its corresponding declar<span class="_ _1"></span>ed parameter type, or </div><div class="t m0 x9 h12 y1a7a ff97 fsa fc2 sc0 ls0 ws0">when the function does not return the expected type.</div><div class="t m0 x3 h1e y1a7b ff9d fsa fc2 sc0 ls0 ws0">ArgumentCountError<span class="_ _98"> </span>ArgumentCountError<span class="ff97"> is thrown when too few argumen<span class="_ _1"></span>ts are </span></div><div class="t m0 x9 h12 y1a7c ff97 fsa fc2 sc0 ls0 ws0">passed to a user<span class="_ _1"></span>-defined function or method.</div><div class="t m0 x3 h1e y1a7d ff9d fsa fc2 sc0 ls0 ws0">ParseError<span class="_ _52"> </span><span class="ff97">A </span>ParseError<span class="ff97"> is thrown when there is an error parsing PHP </span></div><div class="t m0 x9 h1e y1a7e ff97 fsa fc2 sc0 ls0 ws0">code, for example<span class="_ _1"></span>, when you call <span class="ff9d">eval()</span> or include a file.</div><div class="t m0 x3 h1e y1a7f ff9d fsa fc2 sc0 ls0 ws0">ArithmeticError<span class="_ _66"> </span><span class="ff97">An ar<span class="_ _0"></span>ithmetic err<span class="_ _1"></span>or occurs when you try to bitshift by a </span></div><div class="t m0 x9 h1e y1a80 ff97 fsa fc2 sc0 ls0 ws0">negative amount or m<span class="_ _1"></span>ake a call to <span class="ff9d">intdiv()</span> that would r<span class="_ _1"></span>esult </div><div class="t m0 x9 h12 y1a81 ff97 fsa fc2 sc0 ls0 ws0">in a value outside the limits of an integer on the curren<span class="_ _1"></span>t system.</div><div class="t m0 x3 h1e y12dd ff9d fsa fc2 sc0 ls0 ws0">DivisionByZeroError<span class="_ _e5"> </span><span class="ff97">A </span>DivisionByZeroError<span class="ff97"> occurs if you try to divide by zero<span class="_ _1"></span>.</span></div><div class="t m0 x3 h1e y1a82 ff9d fsa fc2 sc0 ls0 ws0">AssertionError<span class="_ _20"> </span><span class="ff97">An </span>AssertionError<span class="ff97"> is thrown when an assertion made with </span></div><div class="t m0 x9 h1e y1a83 ff97 fsa fc2 sc0 ls0 ws0">the <span class="ff9d">assert()</span> language construct fails.</div><div class="t m0 x3 hb4 y1a84 ff9c fsd fc2 sc0 ls0 ws0">Handling Exceptions</div><div class="t m0 x3 h12 y1a85 ff97 fsa fc2 sc0 ls29 ws0">Robust code can encounter an err<span class="_ _1"></span>or and cope with it.</div><div class="t m0 xa5 h15 y1a86 ff97 fsb fc4 sc0 ls58 ws134">10</div><div class="t m0 x2a h12 y1a85 ff97 fsa fc2 sc0 ls29 ws0"> Handling ex<span class="_ _1"></span>ceptions in a sensible </div><div class="t m0 x3 h12 y1a87 ff97 fsa fc2 sc0 ls29 ws0">way impr<span class="_ _1"></span>oves the security of your application and mak<span class="_ _1"></span>es logging and debugging easier<span class="_ _2"></span>. </div><div class="t m0 x3 h12 y1a88 ff97 fsa fc2 sc0 ls29 ws0">Man<span class="_ _1"></span>aging errors in your applica<span class="_ _1"></span>tion will also allow you to offer your users a better </div><div class="t m0 x3 h12 y1a89 ff97 fsa fc2 sc0 ls29 ws0">experience. In this section, we cover ho<span class="_ _1"></span>w to trap and handle errors tha<span class="_ _1"></span>t occur in your code.</div><div class="t m0 x3 h16 y1a8a ffa1 fsc fc2 sc0 ls0 ws0">10</div><div class="t m0 x35 h23 y1a8b ff9d fs5 fc4 sc0 ls0 ws0">https://en.wikipedia.org/wiki/Robustness_(computer_science<span class="fc2">)</span></div><a class="l" href="#pf112" data-dest-detail='[274,"XYZ",57,86,null]'><div class="d m1" style="border-style:none;position:absolute;left:257.901000px;bottom:180.575000px;width:5.195000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://en.wikipedia.org/wiki/Robustness_(computer_science"><div class="d m1" style="border-style:none;position:absolute;left:62.555500px;bottom:74.324400px;width:246.500500px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf113" class="pf w2 h4" data-page-no="113"><div class="pc pc113 w2 h4"><img class="bi x8 y653 w3 hba" alt="" src="bg113.png"/><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls2c ws105">258</div><div class="t m0 x8 h26 y1a8c ff97 fse fc2 sc0 ls0 ws0">Cat<span class="_ _1"></span>ching Exceptions</div><div class="t m0 x8 h1e y1a8d ff97 fsa fc2 sc0 ls0 ws0">Remember that earlier in the ch<span class="_ _1"></span>apter<span class="_ _2"></span>, we defined a <span class="ff9d">ValidationException</span> like this<span class="_ _0"></span>:</div><div class="t m0 x8 h1e y1a8e ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1a8f ff9d fsa fc2 sc0 ls0 ws0">class ValidationException extends Exception { }</div><div class="t m0 x8 h1e y1a90 ff9d fsa fc2 sc0 ls0 ws0">function myValidation() {</div><div class="t m0 x8 h1e y1a91 ff9d fsa fc2 sc0 ls0 ws0">    if (empty($_POST)) {</div><div class="t m0 x8 h1e y1a92 ff9d fsa fc2 sc0 ls0 ws0">        throw new ValidationException(&apos;No form fields entered&apos;);</div><div class="t m0 x8 h1e y1a93 ff9d fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h1e y1a94 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y1a95 ff97 fsa fc2 sc0 ls0 ws0">Let’<span class="_ _1"></span>s continue fr<span class="_ _1"></span>om there and imagine th<span class="_ _1"></span>at we are calling the <span class="ff9d">myValidation()</span> </div><div class="t m0 x8 h12 y1a96 ff97 fsa fc2 sc0 ls0 ws0">function and want to catch ex<span class="_ _1"></span>ceptions. The syntax to ca<span class="_ _1"></span>tch the exception is as follows:</div><div class="t m0 x8 h1e y1a97 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h1e y1a98 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x8 h1e y1a99 ff9d fsa fc2 sc0 ls0 ws0">     <span class="_ _6f"></span>// assume that if there is validation problem this throws a </div><div class="t m0 x3 h1e y1a9a ff9d fsa fc2 sc0 ls0 ws0">ValidationException</div><div class="t m0 x8 h1e y1a9b ff9d fsa fc2 sc0 ls0 ws0">    myValidation();</div><div class="t m0 x8 h1e y1a9c ff9d fsa fc2 sc0 ls0 ws0">} catch (ValidationException $e) {</div><div class="t m0 x8 h1e y1a9d ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Validation exception caught &quot;;</div><div class="t m0 x8 h1e y1a9e ff9d fsa fc2 sc0 ls0 ws0">    echo $e-&gt;getMessage();</div><div class="t m0 x8 h1e y1a9f ff9d fsa fc2 sc0 ls0 ws0">} catch (Exception $e) {</div><div class="t m0 x8 h1e y1aa0 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;General exception type caught&quot;;</div><div class="t m0 x8 h1e y1aa1 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y1aa2 ff97 fsa fc2 sc0 ls0 ws0">Note tha<span class="_ _1"></span>t there are two <span class="ff9d">catch</span> clauses<span class="_ _1"></span>. Exceptions will be matched against the clauses </div><div class="t m0 x8 h1e y1aa3 ff97 fsa fc2 sc0 ls0 ws0">from top to bottom until the type of the exception m<span class="_ _1"></span>atches the <span class="ff9d">catch</span><span class="ls11 wse8"> clause.</span></div><div class="t m0 x1e h10 y1aa4 ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2">Note<span class="ff9e"> <span class="_ _2c"> </span> <span class="_ _1"></span>The matching criteria are that the classes are either exactly the same or the </span></span></span></div><div class="t m0 x8 h10 y1aa5 ff9e fs6 fc2 sc0 ls0 ws0">thrown exception class is an ancestor of the <span class="ff9d fsa">Exception</span> c<span class="_ _1"></span>lass in the <span class="ff9d fsa">catch</span> statement.</div><div class="t m0 x3 h1e y1aa6 ff97 fsa fc2 sc0 ls0 ws0">Since <span class="ff9d">myValidation</span> thro<span class="_ _1"></span>ws a <span class="ff9d">ValidationException</span>, we would expect it to be caught </div><div class="t m0 x8 h12 y1aa7 ff97 fsa fc2 sc0 ls0 ws0">in the first block, but if any other type of exception is thr<span class="_ _1"></span>own in the function, then it will </div><div class="t m0 x8 h1e y1aa8 ff97 fsa fc2 sc0 ls0 ws0">be caught in the second <span class="ff9d">catch</span> block.</div><div class="t m0 x3 h1e y1aa9 ff97 fsa fc2 sc0 ls0 ws0">Note also the method <span class="ff9d">getMessage()</span> is being called on the exception object. Other </div><div class="t m0 x8 h1e y1aaa ff97 fsa fc2 sc0 ls0 ws0">methods in the basic <span class="ff9d">Exception</span> class will give error codes, stac<span class="_ _1"></span>k traces, and other </div><div class="t m0 x8 h1e y1aab ff97 fsa fc2 sc0 ls0 ws0">information. The PHP manual on <span class="ff9d">Exceptions</span></div><div class="t m0 x6b h15 y1aac ff97 fsb fc4 sc0 ls0 ws0">11</div><div class="t m0 x7a h12 y1aad ff97 fsa fc2 sc0 ls0 ws0"> is the best refer<span class="_ _1"></span>ence for the prototype for </div><div class="t m0 x8 h12 y1aae ff97 fsa fc2 sc0 ls0 ws0">the exception object.</div><div class="t m0 x3 h1e y1aaf ff97 fsa fc2 sc0 ls0 ws0">It is possible to thr<span class="_ _1"></span>ow an exception in a <span class="ff9d">catch</span> block. This lets you c<span class="_ _1"></span>atch an exception </div><div class="t m0 x8 h12 y1ab0 ff97 fsa fc2 sc0 ls0 ws0">and then rethr<span class="_ _1"></span>ow it, perhaps as a differ<span class="_ _1"></span>ent type, if need be.</div><div class="t m0 x8 h16 y18d1 ffa1 fsc fc2 sc0 ls1a wsf6">11</div><div class="t m0 x3c h23 y18d2 ff9d fs5 fc4 sc0 ls0 ws0">https://php.net/manual/en/language.exceptions.php</div><a class="l" href="#pf113" data-dest-detail='[275,"XYZ",39,84,null]'><div class="d m1" style="border-style:none;position:absolute;left:214.118000px;bottom:142.649000px;width:5.246000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://php.net/manual/en/language.exceptions.php"><div class="d m1" style="border-style:none;position:absolute;left:44.552200px;bottom:72.020400px;width:208.249800px;height:11.169100px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf114" class="pf w2 h4" data-page-no="114"><div class="pc pc114 w2 h4"><img class="bi x3 y1ab1 w5 hbb" alt="" src="bg114.png"/><div class="t m0 x83 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x15 hd y55 ff97 fs6 fc2 sc0 ls2e ws107">259</div><div class="t m0 x23 h10 y198 ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2 lsd wse7">Ti<span class="_ _0"></span>p</span><span class="ff9e fc2"> <span class="_ _2c"> </span> <span class="_ _1"></span>Y<span class="_ _2"></span>ou should always order your <span class="ff9d fsa">catch</span> blocks from most specific at the top to the </span></span></div><div class="t m0 x3 h10 y199 ff9e fs6 fc2 sc0 ls0 ws0">most general at the bottom—remember that <span class="ff9d fsa">catch</span> blocks are greed<span class="_ _0"></span>y!</div><div class="t m0 x1a h1e y1ab2 ff97 fsa fc2 sc0 ls0 ws0">A <span class="ff9d">catch</span> block can specify multiple exception classes by separ<span class="_ _1"></span>ating them with a pipe </div><div class="t m0 x3 h12 y1ab3 ff97 fsa fc2 sc0 ls0 ws0">(|) character<span class="_ _11"></span>.</div><div class="t m0 x1a h1e y1ab4 ff97 fsa fc2 sc0 ls0 ws0">In the following example<span class="_ _1"></span>, the <span class="ff9d">catch</span> block will match exceptions that ar<span class="_ _1"></span>e of the </div><div class="t m0 x3 h1e y1ab5 ff9d fsa fc2 sc0 ls0 ws0">MyException<span class="ff97"> class or of the </span>AnotherException<span class="ff97 ls11 wse8"> class.</span></div><div class="t m0 x3 h1e y1ab6 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1ab7 ff9d fsa fc2 sc0 ls0 ws0">class MyException extends Exception {}</div><div class="t m0 x3 h1e y1ab8 ff9d fsa fc2 sc0 ls0 ws0">class AnotherException extends Exception {}</div><div class="t m0 x3 h1e y1ab9 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x3 h1e y1aba ff9d fsa fc2 sc0 ls0 ws0">    throw new AnotherException;</div><div class="t m0 x3 h1e y1abb ff9d fsa fc2 sc0 ls0 ws0">} catch (MyException | AnotherException $e) {</div><div class="t m0 x3 h1e y1abc ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Caught : &quot; . get_class($e);</div><div class="t m0 x3 h1e y1abd ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h1e y1abe ff9d fsa fc2 sc0 ls0 ws0">/*</div><div class="t m0 x3 h1e y1abf ff9d fsa fc2 sc0 ls0 ws0">Caught : AnotherException</div><div class="t m0 x3 h1e y1ac0 ff9d fsa fc2 sc0 ls0 ws0">*/</div><div class="t m0 x23 h10 y1260 ff9e fs6 fc5 sc0 ls0 ws0"> <span class="_ _13"></span><span class="ff9f">■<span class="_ _c"> </span><span class="ffa0 fc2">Note<span class="ff9e wsf"> <span class="_ _2a"> </span> A <span class="_ _0"></span></span><span class="ff9d fsa">try</span><span class="ff9e"> block must have at least one <span class="ff9d fsa">catch</span> block.</span></span></span></div><div class="t m0 x3 h26 y1ac1 ff97 fse fc2 sc0 ls0 ws0">The finally B<span class="_ _1"></span>lock</div><div class="t m0 x3 h1e y1ac2 ff97 fsa fc2 sc0 ls0 ws0">The last clause that we will look at is <span class="ff9d">finally</span>. This block of code will alwa<span class="_ _1"></span>ys be executed, </div><div class="t m0 x3 h1e y1ac3 ff97 fsa fc2 sc0 ls0 ws0">whether an exception is thrown or not. I<span class="_ _1"></span>t is executed either after the <span class="ff9d">try</span> block completes </div><div class="t m0 x3 h12 y1ac4 ff97 fsa fc2 sc0 ls0 ws0">or after the exception block has completed.</div><div class="t m0 x1a h1e y1ac5 ff97 fsa fc2 sc0 ls0 ws0">One common use for the <span class="ff9d">finally</span> block is to close a file handle, but <span class="ff9d">finally</span> can be </div><div class="t m0 x3 h12 y1ac6 ff97 fsa fc2 sc0 ls0 ws0">used wherever you wan<span class="_ _1"></span>t code to always be executed.</div><div class="t m0 x3 h1e y1ac7 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h1e y1ac8 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x3 h1e y1ac9 ff9d fsa fc2 sc0 ls0 ws0">  // perform some functions</div><div class="t m0 x3 h1e y1aca ff9d fsa fc2 sc0 ls0 ws0">} catch (Exception $e) {</div><div class="t m0 x3 h1e y1acb ff9d fsa fc2 sc0 ls0 ws0">  // handle the error</div><div class="t m0 x3 h1e y1acc ff9d fsa fc2 sc0 ls0 ws0">} finally {</div><div class="t m0 x3 h1e y1acd ff9d fsa fc2 sc0 ls0 ws0">  // always run these statements</div><div class="t m0 x3 h1e y1ace ff9d fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf115" class="pf w2 h4" data-page-no="115"><div class="pc pc115 w2 h4"><img class="bi x8 y1acf w5 hbc" alt="" src="bg115.png"/><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls23 wsfe">260</div><div class="t m0 x8 h26 y3bf ff97 fse fc2 sc0 ls0 ws0">Setting the Default Exception Handler</div><div class="t m0 x8 h12 y3c0 ff97 fsa fc2 sc0 ls0 ws0">Any exception that is not c<span class="_ _1"></span>aught results in a fatal err<span class="_ _1"></span>or<span class="_ _2"></span>. If you want to respond gr<span class="_ _1"></span>acefully </div><div class="t m0 x8 h1e y3c1 ff97 fsa fc2 sc0 ls0 ws0">to exceptions that ar<span class="_ _1"></span>e not caught in <span class="ff9d">catch</span> blocks<span class="_ _1"></span>, then you’ll need to set a function as the </div><div class="t m0 x8 h12 y531 ff97 fsa fc2 sc0 ls0 ws0">default exception handler<span class="_ _11"></span>.</div><div class="t m0 x3 h1e y450 ff97 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>o do so, you use the <span class="ff9d">set_exception_handler()</span> function, which accepts a c<span class="_ _1"></span>allable </div><div class="t m0 x8 h12 y451 ff97 fsa fc2 sc0 ls0 ws0">as its parameter<span class="_ _2"></span>. Y<span class="_ _2"></span>our script w<span class="_ _0"></span>ill termina<span class="_ _1"></span>te after the callable has executed.</div><div class="t m0 x3 h1e y46f ff97 fsa fc2 sc0 ls0 ws0">The function <span class="ff9d">restore_exception_handler()</span> will revert the exception handler to its </div><div class="t m0 x8 h12 y452 ff97 fsa fc2 sc0 ls0 ws0">previous value<span class="_ _1"></span>.</div><div class="t m0 xa6 hf y1ad0 ff9a fs8 fc2 sc0 ls0 ws0">CHAPTER <span class="fc4">11</span> QUIZ</div><div class="t m0 x4b h10 y1ad1 ff9e fs6 fc2 sc0 ls0 ws0">Q1:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h1e y1ad2 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y1ad3 ff9d fsa fc2 sc0 ls0 ws0">$handler = function($errorNumber, $errorMessage, $file, $line) {</div><div class="t m0 x4b h1e y1ad4 ff9d fsa fc2 sc0 ls0 ws0">   <span class="_ _6f"></span>echo &quot;Error [$errorNumber] in [$file] at line [$line]: </div><div class="t m0 x35 h1e y1ad5 ff9d fsa fc2 sc0 ls0 ws0">&apos;[$errorMessage]&apos;\r\n&quot;;</div><div class="t m0 x4b h1e y1ad6 ff9d fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x4b h1e y1ad7 ff9d fsa fc2 sc0 ls0 ws0">set_error_handler($handler);</div><div class="t m0 x4b h1e y1ad8 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x4b h1e y1ad9 ff9d fsa fc2 sc0 ls0 ws0">    echo $a;</div><div class="t m0 x4b h1e y1ada ff9d fsa fc2 sc0 ls0 ws0">    session_start();</div><div class="t m0 x4b h1e y1adb ff9d fsa fc2 sc0 ls0 ws0">    echo session_id();</div><div class="t m0 x4b h1e y1adc ff9d fsa fc2 sc0 ls0 ws0">} catch (Throwable $e) {</div><div class="t m0 x4b h1e y1add ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Error caught!&quot;;</div><div class="t m0 x4b h1e y1ade ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h10 y1adf ff9e fs6 fc2 sc0 ls0 ws0">Error caught!</div><div class="t m0 x4b h10 y1ae0 ff9e fs6 fc2 sc0 ls0 ws0">A random string which is the session ID</div><div class="t m0 x4b h10 y1ae1 ff9e fs6 fc2 sc0 ls0 ws0">A notice error and a warning</div><div class="t m0 x4b h10 y1ae2 ff9e fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>wo formatted lines each containing informa<span class="_ _0"></span>tion about the error</div><div class="t m0 x4b h10 y1ae3 ff9e fs6 fc2 sc0 ls0 ws0">Q2:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h1e y1ae4 ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y1ae5 ff9d fsa fc2 sc0 ls0 ws0">$handler = function($errorNumber, $errorMessage, $file, $line) {</div><div class="t m0 x4b h1e y1ae6 ff9d fsa fc2 sc0 ls59 ws0"> <span class="_ _0"></span>  <span class="_ _74"></span>echo &quot;Error [$errorNumber] in [$file] at line [$line]: &apos;[$errorMessage]&apos;\</div><div class="t m0 x35 h1e y1ae7 ff9d fsa fc2 sc0 ls59 ws135">r\n&quot;;</div><div class="t m0 x4b h1e y1ae8 ff9d fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x4b h1e y1ae9 ff9d fsa fc2 sc0 ls0 ws0">set_error_handler($handler);</div><div class="t m0 x4b h1e y1aea ff9d fsa fc2 sc0 ls0 ws0">this_function_is_not_defined();</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_11"><div class="d m1" style="border-style:none;position:absolute;left:218.880000px;bottom:470.263000px;width:13.344000px;height:13.788000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf116" class="pf w2 h4" data-page-no="116"><div class="pc pc116 w2 h4"><img class="bi x5 y9fc w21 hbd" alt="" src="bg116.png"/><div class="t m0 x83 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x21 hd y55 ff97 fs6 fc2 sc0 ls32 ws10b">2<span class="_ _0"></span>61</div><div class="t m0 x5 h10 y5ec ff9e fs6 fc2 sc0 ls0 ws0">Nothing,<span class="_ _1"></span> this runs without error</div><div class="t m0 x5 h10 y1aeb ff9e fs6 fc2 sc0 ls0 ws0">A normal fatal error PHP message</div><div class="t m0 x5 h10 y1aec ff9e fs6 fc2 sc0 ls0 ws0">A formatted line of information about the error</div><div class="t m0 x5 h10 y1aed ff9e fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 y1aee ff9e fs6 fc2 sc0 ls0 ws0">Q3:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h1e y1aef ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e y1af0 ff9d fsa fc2 sc0 ls0 ws0">class IndianaError extends ArithmeticError {}</div><div class="t m0 x5 h1e y1af1 ff9d fsa fc2 sc0 ls0 ws0">define(&apos;PI&apos;, 3);</div><div class="t m0 x5 h1e y1af2 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x5 h1e y1af3 ff9d fsa fc2 sc0 ls0 ws0">    if (is_int(PI)) {</div><div class="t m0 x5 h1e y1af4 ff9d fsa fc2 sc0 ls0 ws0">      throw new IndianaError(&apos;Oops&apos;);</div><div class="t m0 x5 h1e y1af5 ff9d fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x5 h1e y1af6 ff9d fsa fc2 sc0 ls0 ws0">} catch (Exception $e) {</div><div class="t m0 x5 h1e y1af7 ff9d fsa fc2 sc0 ls0 ws0">    echo $e-&gt;getMessage();</div><div class="t m0 x5 h1e y1af8 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x5 h10 y1af9 ff9e fs6 fc2 sc0 ls0 ws0">Nothing,<span class="_ _1"></span> this code runs without error</div><div class="t m0 x5 h10 y1afa ff9e fs6 fc2 sc0 ls0 ws0">Oops!</div><div class="t m0 x5 h10 y1afb ff9e fs6 fc2 sc0 ls0 ws0">A PHP fatal error</div><div class="t m0 x5 h10 y1afc ff9e fs6 fc2 sc0 ls0 ws0">None of the above</div><div class="t m0 x5 h10 y1afd ff9e fs6 fc2 sc0 ls0 ws0">Q4:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x5 h1e y1afe ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x5 h1e y1aff ff9d fsa fc2 sc0 ls0 ws0">set_error_handler(function($errorNumber, $errorMessage, $file, $line) {</div><div class="t m0 x5 h1e y1b00 ff9d fsa fc2 sc0 ls0 ws0">  debug_print_backtrace();</div><div class="t m0 x5 h1e y1b01 ff9d fsa fc2 sc0 ls0 ws0">});</div><div class="t m0 x5 h1e y1b02 ff9d fsa fc2 sc0 ls0 ws0">trigger_error(&apos;Hello world&apos;, E_USER_WARNING);</div><div class="t m0 x5 h10 y1b03 ff9e fs6 fc2 sc0 ls0 ws0">Hello world</div><div class="t m0 x5 h10 y1b04 ff9e fs6 fc2 sc0 ls0 ws0">T<span class="_ _2"></span>wo lines of information</div><div class="t m0 x5 h10 y1b05 ff9e fs6 fc2 sc0 ls0 ws0">A PHP fatal error</div><div class="t m0 x5 h10 y1b06 ff9e fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf117" class="pf w2 h4" data-page-no="117"><div class="pc pc117 w2 h4"><img class="bi x8 y1b07 w3 hbe" alt="" src="bg117.png"/><div class="t m0 x8 h11 y54 ff9e fs9 fc2 sc0 ls0 ws0">CHAPTER 11 <span class="ff9f fc5">■</span> ERROR HANDLING</div><div class="t m0 x8 hd y55 ff97 fs6 fc2 sc0 ls35 ws110">262</div><div class="t m0 x4b h10 y609 ff9e fs6 fc2 sc0 ls0 ws0">Q5:<span class="_ _1"></span> <span class="_ _1"></span>What will this code output?</div><div class="t m0 x4b h1e y5af ff9d fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x4b h1e y5b0 ff9d fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x4b h1e y5b1 ff9d fsa fc2 sc0 ls0 ws0">    echo 50/0;</div><div class="t m0 x4b h1e y5b2 ff9d fsa fc2 sc0 ls0 ws0">} catch (Exception $e) {</div><div class="t m0 x4b h1e y5ce ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Exception caught!&quot;;</div><div class="t m0 x4b h1e y5cf ff9d fsa fc2 sc0 ls0 ws0">} catch (Throwable $e) {</div><div class="t m0 x4b h1e y5d0 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot; Throwable caught!&quot;;</div><div class="t m0 x4b h1e y5d1 ff9d fsa fc2 sc0 ls0 ws0">} catch (Error $e) {</div><div class="t m0 x4b h1e y5d2 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;Error caught!&quot;;</div><div class="t m0 x4b h1e yfcb ff9d fsa fc2 sc0 ls0 ws0">} catch (DivisionByZeroError $e) {</div><div class="t m0 x4b h1e y5d3 ff9d fsa fc2 sc0 ls0 ws0">    echo &quot;DivisionByZeroError caught!&quot;;</div><div class="t m0 x4b h1e y5d4 ff9d fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x4b h10 y1b08 ff9e fs6 fc2 sc0 ls0 ws0">Exception caught!</div><div class="t m0 x4b h10 yfcd ff9e fs6 fc2 sc0 ls0 ws0">Throwable caught!</div><div class="t m0 x4b h10 y1b09 ff9e fs6 fc2 sc0 ls0 ws0">Error caught!</div><div class="t m0 x4b h10 y1b0a ff9d fsa fc2 sc0 ls0 ws0">DivisionByZeroError<span class="ff97"> <span class="ff9e fs6">caught!</span></span></div><div class="t m0 x4b h10 y1b0b ff9e fs6 fc2 sc0 ls0 ws0">None of the above</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf118" class="pf w2 h4" data-page-no="118"><div class="pc pc118 w2 h4"><img class="bi x0 y1b0c w4 hbf" alt="" src="bg118.png"/><div class="t m0 x15 hc0 y3e ffa3 fs6 fc2 sc0 ls23 wsfe">263</div><div class="t m0 x3 h1b y1ca ffa4 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ffa4 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ffa5">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ffa4 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0_12<span class="fc2"> </span></div><div class="t m0 x3 h1c y1cd ffa6 fse fc2 sc0 ls0 ws0">CHAPTER 12</div><div class="t m0 x3 h3b y1ce ffa7 fs7 fc2 sc0 ls0 ws0">Exercises</div><div class="t m0 x3 hc1 y612 ffa3 fsa fc2 sc0 ls29 ws0">This chapter is just a<span class="_ _1"></span>bout questions. The aim of all these questions is to help you to iden<span class="_ _1"></span>tify </div><div class="t m0 x3 hc1 y613 ffa3 fsa fc2 sc0 ls29 ws0">areas tha<span class="_ _1"></span>t you need to review. The exam includes questions that ar<span class="_ _1"></span>e very detail oriented </div><div class="t m0 x3 hc1 y614 ffa3 fsa fc2 sc0 ls29 ws0">and you need to make sur<span class="_ _1"></span>e that you&apos;r<span class="_ _1"></span>e familiar with the functions in common use.</div><div class="t m0 x1a hc1 y615 ffa3 fsa fc2 sc0 ls0 ws0">I hav<span class="_ _1"></span>e not grouped the questions by chapt<span class="_ _1"></span>er<span class="_ _2"></span>. The real exam has questions that focus </div><div class="t m0 x3 hc1 y616 ffa3 fsa fc2 sc0 ls0 ws0">on knowledge from m<span class="_ _1"></span>ultiple areas of the syllabus<span class="_ _1"></span>.</div><div class="t m0 x1a hc1 y1b0d ffa3 fsa fc2 sc0 ls0 ws0">Q1: What will happen when you run this code?</div><div class="t m0 x3 h3c y1b0e ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b0f ffa8 fsa fc2 sc0 ls0 ws0">class CustomException { }</div><div class="t m0 x3 h3c y1b10 ffa8 fsa fc2 sc0 ls0 ws0">throw new CustomException(&apos;Error!&apos;);</div><div class="t m0 x3 hc1 y1b11 ffa3 fsa fc2 sc0 ls0 ws0">A fatal error will occur because the exception is not being ca<span class="_ _1"></span>ught</div><div class="t m0 x3 hc1 y1b12 ffa3 fsa fc2 sc0 ls0 ws0">A fatal error will occur when you try to throw the exception</div><div class="t m0 x3 h3c y1b13 ffa3 fsa fc2 sc0 ls0 ws0">The script will run w<span class="_ _0"></span>ithout an<span class="_ _1"></span>y output because you’re not usin<span class="_ _1"></span>g <span class="ffa8">getMessage()</span> on the </div><div class="t m0 x3 hc1 y1b14 ffa3 fsa fc2 sc0 ls0 ws0">exception</div><div class="t m0 x3 hc1 y1b15 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1b16 ffa3 fsa fc2 sc0 ls0 ws0">Q2: What will this script output?</div><div class="t m0 x3 h3c y1b17 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b18 ffa8 fsa fc2 sc0 ls0 ws0">function addOne($arg) {</div><div class="t m0 x3 h3c y1b19 ffa8 fsa fc2 sc0 ls0 ws0">$arg++;</div><div class="t m0 x3 h3c y1b1a ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1b1b ffa8 fsa fc2 sc0 ls0 ws0">$a = 0;</div><div class="t m0 x3 h3c y1b1c ffa8 fsa fc2 sc0 ls0 ws0">addOne(&amp;$a);</div><div class="t m0 x3 h3c y1b1d ffa8 fsa fc2 sc0 ls0 ws0">echo $a;</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0_12"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:159.460000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf119" class="pf w2 h4" data-page-no="119"><div class="pc pc119 w2 h4"><img class="bi x8 y1b1e w3 hc2" alt="" src="bg119.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls23 wsfe">264</div><div class="t m0 x8 hc1 y5ec ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; it won’t run at all</div><div class="t m0 x8 hc1 y5ed ffa3 fsa fc2 sc0 ls0 ws0">It depends on wha<span class="_ _1"></span>t version of PHP you’re using</div><div class="t m0 x8 hc1 y5ee ffa3 fsa fc2 sc0 ls0 ws0">A fatal error</div><div class="t m0 x8 hc1 y1b1f ffa3 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x3 hc1 y1b20 ffa3 fsa fc2 sc0 ls0 ws0">Q3: What will the output of this script be?</div><div class="t m0 x8 h3c y1b21 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1b22 ffa8 fsa fc2 sc0 ls0 ws0">$a = function($a) {</div><div class="t m0 x8 h3c y1b23 ffa8 fsa fc2 sc0 ls0 ws0">return is_callable($a);</div><div class="t m0 x8 h3c y1b24 ffa8 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x8 h3c y1b25 ffa8 fsa fc2 sc0 ls0 ws0">$b = function($b) use ($a) {</div><div class="t m0 x8 h3c y1b26 ffa8 fsa fc2 sc0 ls0 ws0">return $a($b);</div><div class="t m0 x8 h3c y1b27 ffa8 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x8 h3c y1b28 ffa8 fsa fc2 sc0 ls0 ws0">echo $b($a) ? &apos;True&apos; : &apos;False&apos;;</div><div class="t m0 x8 hc1 y1b29 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; it will not run</div><div class="t m0 x8 h3c y1b2a ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x8 h3c y1b2b ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x8 hc1 y1b2c ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1b2d ffa3 fsa fc2 sc0 ls0 ws0">Q4: What is the output of this script?</div><div class="t m0 x8 h3c y1b2e ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1b2f ffa8 fsa fc2 sc0 ls0 ws0">$a = 3;</div><div class="t m0 x8 h3c y1b30 ffa8 fsa fc2 sc0 ls0 ws0">echo $a &gt;&gt; 1;</div><div class="t m0 x8 hc1 y1b31 ffa3 fsa fc2 sc0 ls0 ws0">Syntax Err<span class="_ _1"></span>or</div><div class="t m0 x8 hc1 y1b32 ffa3 fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x8 hc1 y1b33 ffa3 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x8 hc1 y1b34 ffa3 fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x8 hc1 y1b35 ffa3 fsa fc2 sc0 ls0 ws0">9</div><div class="t m0 x3 h3c y1b36 ffa3 fsa fc2 sc0 ls0 ws0">Q5: The recommended pr<span class="_ _1"></span>oduction setting for the <span class="ffa8">display_error</span> configuration </div><div class="t m0 x8 h3c y1b37 ffa3 fsa fc2 sc0 ls0 ws0">setting is <span class="ffa8">On</span>.</div><div class="t m0 x8 h3c y1b38 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x8 h3c y1b39 ffa8 fsa fc2 sc0 ls0 ws0">False</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11a" class="pf w2 h4" data-page-no="11a"><div class="pc pc11a w2 h4"><img class="bi x3 y1b3a w5 hc3" alt="" src="bg11a.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x15 hc0 y55 ffa3 fs6 fc2 sc0 ls23 wsfe">265</div><div class="t m0 x1a h3c y2a8 ffa3 fsa fc2 sc0 ls0 ws0">Q6: The <span class="ffa8">session_generate_id()</span> function is used to create a session iden<span class="_ _1"></span>tifier and </div><div class="t m0 x3 hc1 y3e3 ffa3 fsa fc2 sc0 ls0 ws0">should be called when a person logs in to help mitigate session fixation a<span class="_ _1"></span>ttacks.</div><div class="t m0 x3 h3c y1b3b ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x3 h3c y1b3c ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x1a h3c y1b3d ffa3 fsa fc2 sc0 ls0 ws0">Q7: When you call the <span class="ffa8">json_encode</span> function on an object to serialize it, which magic </div><div class="t m0 x3 hc1 y1b3e ffa3 fsa fc2 sc0 ls0 ws0">method will PHP call?</div><div class="t m0 x3 h3c y1b3f ffa8 fsa fc2 sc0 ls0 ws0">__sleep</div><div class="t m0 x3 h3c y1b40 ffa8 fsa fc2 sc0 ls0 ws0">__wake</div><div class="t m0 x3 h3c y1b41 ffa8 fsa fc2 sc0 ls0 ws0">__get</div><div class="t m0 x3 h3c y1b42 ffa8 fsa fc2 sc0 ls0 ws0">__clone</div><div class="t m0 x3 hc1 y1b43 ffa3 fsa fc2 sc0 ls0 ws0">None of these</div><div class="t m0 x1a hc1 y1b44 ffa3 fsa fc2 sc0 ls0 ws0">Q8: What will this script output?</div><div class="t m0 x3 h3c y1b45 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b46 ffa8 fsa fc2 sc0 ls0 ws0">$emptyArray = [];</div><div class="t m0 x3 h3c y1b47 ffa8 fsa fc2 sc0 ls0 ws0">$encode = json_encode($emptyArray, JSON_FORCE_OBJECT);</div><div class="t m0 x3 h3c y1b48 ffa8 fsa fc2 sc0 ls0 ws0">$decode = json_decode($encode);</div><div class="t m0 x3 h3c y1b49 ffa8 fsa fc2 sc0 ls0 ws0">echo gettype($decode);</div><div class="t m0 x3 hc1 y1b4a ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; it won&apos;t run at all</div><div class="t m0 x3 h3c y1b4b ffa8 fsa fc2 sc0 ls0 ws0">array</div><div class="t m0 x3 h3c y1b4c ffa8 fsa fc2 sc0 ls0 ws0">object</div><div class="t m0 x3 h3c y1b4d ffa8 fsa fc2 sc0 ls0 ws0">string</div><div class="t m0 x3 hc1 y1b4e ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1b4f ffa3 fsa fc2 sc0 ls0 ws0">Q9: What is the output of the follo<span class="_ _1"></span>wing script?</div><div class="t m0 x3 h3c y1b50 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b51 ffa8 fsa fc2 sc0 ls0 ws0">$arr1 = [1,2,3];</div><div class="t m0 x3 h3c y1b52 ffa8 fsa fc2 sc0 ls0 ws0">$arr2 = array(&quot;1&quot; =&gt; 2, 0 =&gt; &quot;1&quot;, 2 =&gt; 3 );</div><div class="t m0 x3 h3c y1b53 ffa8 fsa fc2 sc0 ls0 ws0">$equal = $arr1 == $arr2 ? &apos;Equal&apos; : &apos;Not Equal&apos;;</div><div class="t m0 x3 h3c y1b54 ffa8 fsa fc2 sc0 ls0 ws0">$identical = $arr1 === $arr2 ? &apos;Identical&apos; : &apos;Not Identical&apos;;</div><div class="t m0 x3 h3c y1b55 ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;The arrays are [$equal] and [$identical]&quot;;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11b" class="pf w2 h4" data-page-no="11b"><div class="pc pc11b w2 h4"><img class="bi x8 y1b56 w3 hc4" alt="" src="bg11b.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls23 wsfe">266</div><div class="t m0 x8 hc1 y5ec ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; this won&apos;t run</div><div class="t m0 x8 h3c y5ed ffa3 fsa fc2 sc0 ls0 ws0">The arrays ar<span class="_ _1"></span>e <span class="ffa8">[Equal]</span> and <span class="ffa8">[Identical]</span></div><div class="t m0 x8 h3c y5ee ffa3 fsa fc2 sc0 ls0 ws0">The arrays ar<span class="_ _1"></span>e <span class="ffa8">[Equal]</span> and <span class="ffa8">[Not Identical]</span></div><div class="t m0 x8 h3c y5ef ffa3 fsa fc2 sc0 ls0 ws0">The arrays ar<span class="_ _1"></span>e <span class="ffa8">[Not Equal]</span> and <span class="ffa8">[Not Identical]</span></div><div class="t m0 x8 h3c y1b57 ffa3 fsa fc2 sc0 ls0 ws0">The arrays ar<span class="_ _1"></span>e <span class="ffa8">[Not Equal]</span> and <span class="ffa8">[Identical]</span></div><div class="t m0 x8 hc1 y1b58 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1b59 ffa3 fsa fc2 sc0 ls0 ws0">Q10: What will the output of this function be?</div><div class="t m0 x8 h3c y1b5a ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1b5b ffa8 fsa fc2 sc0 ls0 ws0">$number = 1234.5678;</div><div class="t m0 x8 h3c y1b5c ffa8 fsa fc2 sc0 ls0 ws0">echo number_format($number, 2, &apos;,&apos;, &apos;.&apos;) . PHP_EOL;</div><div class="t m0 x8 hc1 y1b5d ffa3 fsa fc2 sc0 ls0 ws0">1,235</div><div class="t m0 x8 hc1 y1b5e ffa3 fsa fc2 sc0 ls0 ws0">1,234.568</div><div class="t m0 x8 hc1 y1b5f ffa3 fsa fc2 sc0 ls0 ws0">1.234,57</div><div class="t m0 x8 hc1 y1b60 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1b61 ffa3 fsa fc2 sc0 ls0 ws0">Q11: Y<span class="_ _2"></span>ou should escape strings before passing them into the data<span class="_ _1"></span>base with a </div><div class="t m0 x8 h3c y1b62 ffa3 fsa fc2 sc0 ls0 ws0">function like <span class="ffa8">addslashes()</span> so that it is not possible to use the SQL injection attack on </div><div class="t m0 x8 hc1 y1b63 ffa3 fsa fc2 sc0 ls0 ws0">your site.</div><div class="t m0 x8 h3c y1b64 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x8 h3c y1b65 ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x3 hc1 y1b66 ffa3 fsa fc2 sc0 ls0 ws0">Q12: What is the output of this code?</div><div class="t m0 x8 h3c y1b67 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1b68 ffa8 fsa fc2 sc0 ls0 ws0">class A</div><div class="t m0 x8 h3c y1b69 ffa8 fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y1b6a ffa8 fsa fc2 sc0 ls0 ws0">    public $name = &apos;0&apos;;</div><div class="t m0 x8 h3c y1b6b ffa8 fsa fc2 sc0 ls0 ws0">    private $surname = &apos;0&apos;;</div><div class="t m0 x8 h3c y1b6c ffa8 fsa fc2 sc0 ls0 ws0">    public function __isset($property)</div><div class="t m0 x8 h3c y1b6d ffa8 fsa fc2 sc0 ls0 ws0">    {</div><div class="t m0 x8 h3c y1b6e ffa8 fsa fc2 sc0 ls0 ws0">        return true;</div><div class="t m0 x8 h3c y1b6f ffa8 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1b70 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1b71 ffa8 fsa fc2 sc0 ls0 ws0">$a = new A;</div><div class="t m0 x8 h3c y1b72 ffa8 fsa fc2 sc0 ls0 ws0">$empty = empty($a-&gt;name);</div><div class="t m0 x8 h3c y1b73 ffa8 fsa fc2 sc0 ls0 ws0">$set = isset($a-&gt;surname);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11c" class="pf w2 h4" data-page-no="11c"><div class="pc pc11c w2 h4"><img class="bi x3 y1b74 w5 hc5" alt="" src="bg11c.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x15 hc0 y55 ffa3 fs6 fc2 sc0 ls3a ws113">267</div><div class="t m0 x3 h3c y2a8 ffa8 fsa fc2 sc0 ls0 ws0">if ($empty === $set) {</div><div class="t m0 x3 h3c y3e3 ffa8 fsa fc2 sc0 ls0 ws0">  echo &quot;Yes&quot;;</div><div class="t m0 x3 h3c y424 ffa8 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x3 h3c y2ab ffa8 fsa fc2 sc0 ls0 ws0">  echo &quot;No&quot;;</div><div class="t m0 x3 h3c y2ac ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 hc1 y1b75 ffa3 fsa fc2 sc0 ls57 ws133">Ye<span class="_ _0"></span>s</div><div class="t m0 x3 hc1 y1b76 ffa3 fsa fc2 sc0 ls56 ws132">No</div><div class="t m0 x3 hc1 y1b77 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; this won’t run</div><div class="t m0 x1a hc1 y1b78 ffa3 fsa fc2 sc0 ls0 ws0">Q13: If you do not specify a visibility modifier<span class="_ _2"></span>, PHP chooses private by default so tha<span class="_ _1"></span>t </div><div class="t m0 x3 hc1 y1b79 ffa3 fsa fc2 sc0 ls0 ws0">your code is secure<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y1b7a ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x3 h3c y1b7b ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x1a hc1 y1b7c ffa3 fsa fc2 sc0 ls0 ws0">Q14: Y<span class="_ _2"></span>ou can use the _____________ function to make sure that a v<span class="_ _1"></span>ariable is suitable </div><div class="t m0 x3 hc1 y1b7d ffa3 fsa fc2 sc0 ls0 ws0">to display and doesn&apos;t contain any sp<span class="_ _1"></span>aces.</div><div class="t m0 x3 h3c y1b7e ffa8 fsa fc2 sc0 ls0 ws0">ctype_alpha</div><div class="t m0 x3 h3c y1b7f ffa8 fsa fc2 sc0 ls0 ws0">ctype_print</div><div class="t m0 x3 h3c y1b80 ffa8 fsa fc2 sc0 ls0 ws0">ctype_graph</div><div class="t m0 x3 h3c y1b81 ffa8 fsa fc2 sc0 ls0 ws0">filter_var</div><div class="t m0 x1a hc1 y1b82 ffa3 fsa fc2 sc0 ls0 ws0">Q15: What will this code output?</div><div class="t m0 x3 h3c y1b83 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b84 ffa8 fsa fc2 sc0 ls0 ws0">function bird($message) {</div><div class="t m0 x3 h3c y1b85 ffa8 fsa fc2 sc0 ls0 ws0">    function nest($string) {</div><div class="t m0 x3 h3c y1b86 ffa8 fsa fc2 sc0 ls0 ws0">        echo $string;</div><div class="t m0 x3 h3c y1b87 ffa8 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x3 h3c y1b88 ffa8 fsa fc2 sc0 ls0 ws0">    nest($message);</div><div class="t m0 x3 h3c y1b89 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1b8a ffa8 fsa fc2 sc0 ls0 ws0">bird(&apos;hello&apos;);</div><div class="t m0 x3 h3c y1b8b ffa8 fsa fc2 sc0 ls0 ws0">echo &quot; &quot;;</div><div class="t m0 x3 h3c y1b8c ffa8 fsa fc2 sc0 ls0 ws0">nest(&apos;world&apos;);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11d" class="pf w2 h4" data-page-no="11d"><div class="pc pc11d w2 h4"><img class="bi x8 y1409 w3 hc6" alt="" src="bg11d.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls23 wsfe">268</div><div class="t m0 x8 hc1 y5ec ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; it won’t run</div><div class="t m0 x8 hc1 y5ed ffa3 fsa fc2 sc0 ls0 ws0">It will never finish running</div><div class="t m0 x8 h3c y5ee ffa3 fsa fc2 sc0 ls0 ws0">It will generat<span class="_ _1"></span>e an error because the function <span class="ffa8">nest()</span> does not exist in the global scope</div><div class="t m0 x8 h3c y5ef ffa8 fsa fc2 sc0 ls0 ws0">hello world</div><div class="t m0 x8 hc1 y1b8d ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1b8e ffa3 fsa fc2 sc0 ls0 ws0">Q16: What will the code output?</div><div class="t m0 x8 h3c y1b8f ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1b90 ffa8 fsa fc2 sc0 ls0 ws0">$a = 0;</div><div class="t m0 x8 h3c y1b91 ffa8 fsa fc2 sc0 ls0 ws0">$b = $a++;</div><div class="t m0 x8 h3c y1b92 ffa8 fsa fc2 sc0 ls0 ws0">$a = $a + 1;</div><div class="t m0 x8 h3c y1b93 ffa8 fsa fc2 sc0 ls0 ws0">echo --$a;</div><div class="t m0 x8 hc1 y1b94 ffa3 fsa fc2 sc0 ls0 ws0">An error will occur</div><div class="t m0 x8 hc1 y1b95 ffa3 fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x8 hc1 y1b96 ffa3 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x8 hc1 y1b97 ffa3 fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x3 hc1 y1b98 ffa3 fsa fc2 sc0 ls0 ws0">Q17: Y<span class="_ _2"></span>ou can use the ________________ function to make sure that a file w<span class="_ _1"></span>as actually </div><div class="t m0 x8 hc1 y1b99 ffa3 fsa fc2 sc0 ls0 ws0">uploaded and is not a different file on yo<span class="_ _1"></span>ur OS.</div><div class="t m0 x8 h3c y1b9a ffa8 fsa fc2 sc0 ls0 ws0">check_file_uploaded()</div><div class="t m0 x8 h3c y1b9b ffa8 fsa fc2 sc0 ls0 ws0">finfo_file()</div><div class="t m0 x8 h3c y1b9c ffa8 fsa fc2 sc0 ls0 ws0">is_uploaded_file()</div><div class="t m0 x8 hc1 y1b9d ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1b9e ffa3 fsa fc2 sc0 ls0 ws0">Q18: What is the output of this PHP code?</div><div class="t m0 x8 h3c y1b9f ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1ba0 ffa8 fsa fc2 sc0 ls0 ws0">echo (isset($a)) ? &quot;A is set&quot; : &quot;A is not set&quot;;</div><div class="t m0 x8 h3c y1ba1 ffa8 fsa fc2 sc0 ls0 ws0">echo &quot; and &quot;;</div><div class="t m0 x8 h3c y1ba2 ffa8 fsa fc2 sc0 ls0 ws0">echo (empty($b)) ? &quot;B is not set&quot; : &quot;B is set&quot;;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11e" class="pf w2 h4" data-page-no="11e"><div class="pc pc11e w2 h4"><img class="bi x3 y1ba3 w5 hc7" alt="" src="bg11e.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x15 hc0 y55 ffa3 fs6 fc2 sc0 lsa ws58">269</div><div class="t m0 x3 hc1 y5ec ffa3 fsa fc2 sc0 ls0 ws0">Syntax error</div><div class="t m0 x3 hc1 y5ed ffa3 fsa fc2 sc0 ls0 ws0">A is not set and B is set</div><div class="t m0 x3 hc1 y5ee ffa3 fsa fc2 sc0 ls0 ws0">A is not set and B is not set</div><div class="t m0 x3 hc1 y5ef ffa3 fsa fc2 sc0 ls0 ws0">A is set and B is set</div><div class="t m0 x3 h3c y1b57 ffa3 fsa fc2 sc0 ls0 ws0">A warning will be produced and it will output <span class="ffa8">&quot;A is not set and B is not set&quot;</span></div><div class="t m0 x3 hc1 y1b58 ffa3 fsa fc2 sc0 ls0 ws0">It will ha<span class="_ _1"></span>ve a fatal error sayin<span class="_ _1"></span>g variable not found</div><div class="t m0 x1a h3c y1b59 ffa3 fsa fc2 sc0 ls0 ws0">Q19: Both <span class="ffa8">PUT</span> and <span class="ffa8">POST</span> are idempotent<span class="_ _1"></span>.</div><div class="t m0 x3 h3c y1ba4 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x3 h3c y1ba5 ffa8 fsa fc2 sc0 ls0 ws0">False<span class="ffa3">; </span>POST<span class="ffa3"> is idempotent but </span>PUT<span class="ffa3"> is not</span></div><div class="t m0 x3 h3c y1ba6 ffa8 fsa fc2 sc0 ls0 ws0">False<span class="ffa3">; </span>PUT<span class="ffa3"> is idempotent but </span>POST<span class="ffa3"> is not</span></div><div class="t m0 x3 h3c y1ba7 ffa8 fsa fc2 sc0 ls0 ws0">False<span class="ffa3">; neither are idempotent</span></div><div class="t m0 x3 h3c y1ba8 ffa8 fsa fc2 sc0 ls0 ws0">False<span class="ffa3">; </span>REST<span class="ffa3"> is stateless so nothing is idempotent</span></div><div class="t m0 x1a hc1 y1ba9 ffa3 fsa fc2 sc0 ls0 ws0">Q20: Y<span class="_ _2"></span>ou are able to instantiate a class befor<span class="_ _1"></span>e it is defined, as in this example:</div><div class="t m0 x3 h3c y1baa ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1bab ffa8 fsa fc2 sc0 ls0 ws0">$foo = new ExampleClass();</div><div class="t m0 x3 h3c y1bac ffa8 fsa fc2 sc0 ls0 ws0">echo $foo;</div><div class="t m0 x3 h3c y1bad ffa8 fsa fc2 sc0 ls0 ws0">class ExampleClass {}</div><div class="t m0 x3 h3c y1bae ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x3 h3c y1baf ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x1a hc1 y1bb0 ffa3 fsa fc2 sc0 ls0 ws0">Q21: If you’re not usin<span class="_ _1"></span>g prepared statemen<span class="_ _1"></span>ts and want to escape strings when using </div><div class="t m0 x3 hc1 y1bb1 ffa3 fsa fc2 sc0 ls0 ws0">the MySQL database<span class="_ _1"></span>, you can use the _____________ function.</div><div class="t m0 x3 h3c y1bb2 ffa8 fsa fc2 sc0 ls0 ws0">mysql_real_escape_string()</div><div class="t m0 x3 h3c y1bb3 ffa8 fsa fc2 sc0 ls0 ws0">real_escape_string()</div><div class="t m0 x3 h3c y1bb4 ffa8 fsa fc2 sc0 ls0 ws0">mysqli_real_escape_string()</div><div class="t m0 x3 h3c y1bb5 ffa8 fsa fc2 sc0 ls0 ws0">addslashes()</div><div class="t m0 x3 h3c y1bb6 ffa8 fsa fc2 sc0 ls0 ws0">mysqli_escape_string()</div><div class="t m0 x3 hc1 y1bb7 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11f" class="pf w2 h4" data-page-no="11f"><div class="pc pc11f w2 h4"><img class="bi x8 y1bb8 w3 h76" alt="" src="bg11f.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls2a ws10c">270</div><div class="t m0 x3 hc1 y1b8 ffa3 fsa fc2 sc0 ls0 ws0">Q22: What will this script output?</div><div class="t m0 x8 h3c y1ba ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bb ffa8 fsa fc2 sc0 ls0 ws0">$a = &quot;foo&quot;;</div><div class="t m0 x8 h3c y1bc ffa8 fsa fc2 sc0 ls0 ws0">$$a = &quot;bar&quot;;</div><div class="t m0 x8 h3c y1bd ffa8 fsa fc2 sc0 ls0 ws0">$a = &quot;Hello world&quot;;</div><div class="t m0 x8 h3c y1be ffa8 fsa fc2 sc0 ls0 ws0">echo ${&quot;foo&quot;};</div><div class="t m0 x8 hc1 y1bb9 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; this won’t run</div><div class="t m0 x8 h3c y1bba ffa8 fsa fc2 sc0 ls0 ws0">foo</div><div class="t m0 x8 h3c y1bbb ffa8 fsa fc2 sc0 ls0 ws0">bar</div><div class="t m0 x8 h3c y1bbc ffa8 fsa fc2 sc0 ls0 ws0">Hello world</div><div class="t m0 x3 hc1 y1bbd ffa3 fsa fc2 sc0 ls0 ws0">Q23: Considering the following code, wha<span class="_ _1"></span>t will the output be?</div><div class="t m0 x8 h3c y1bbe ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bbf ffa8 fsa fc2 sc0 ls0 ws0">$a = &quot;0.0&quot;;</div><div class="t m0 x8 h3c y1bc0 ffa8 fsa fc2 sc0 ls0 ws0">$b = (int)$a;</div><div class="t m0 x8 h3c y1bc1 ffa8 fsa fc2 sc0 ls0 ws0">if ( (boolean)$a === (bool)$b) {</div><div class="t m0 x8 h3c y1bc2 ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;True&quot;;</div><div class="t m0 x8 h3c y1bc3 ffa8 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x8 h3c y1bc4 ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;False&quot;;</div><div class="t m0 x8 h3c y1bc5 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 hc1 y1bc6 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; this won’t run</div><div class="t m0 x8 h3c y1bc7 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x8 h3c y1bc8 ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x3 hc1 y1bc9 ffa3 fsa fc2 sc0 ls0 ws0">Q24: What will this script output?</div><div class="t m0 x8 h3c y1bca ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;Apples&quot;&lt;=&gt;&quot;bananas&quot; ? &apos;foo&apos; : &apos;bar&apos;;</div><div class="t m0 x8 h3c y1bcb ffa8 fsa fc2 sc0 ls0 ws0">foo</div><div class="t m0 x8 h3c y1bcc ffa8 fsa fc2 sc0 ls0 ws0">bar</div><div class="t m0 x8 hc1 y1bcd ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf120" class="pf w2 h4" data-page-no="120"><div class="pc pc120 w2 h4"><img class="bi x3 y1bce w5 hc8" alt="" src="bg120.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x21 hc0 y55 ffa3 fs6 fc2 sc0 ls2a ws10c">271</div><div class="t m0 x1a hc1 y1b8 ffa3 fsa fc2 sc0 ls0 ws0">Q25: This is a tricky question, so go through it c<span class="_ _1"></span>arefully and predict the output of the </div><div class="t m0 x3 h3c y1b9 ffa3 fsa fc2 sc0 ls0 ws0">code. Remember th<span class="_ _1"></span>at the second parameter of <span class="ffa8">md5()</span> causes the hash to be r<span class="_ _1"></span>eturned in </div><div class="t m0 x3 hc1 y1ba ffa3 fsa fc2 sc0 ls0 ws0">RA<span class="_ _1"></span>W binary format instead of as a hex string.</div><div class="t m0 x3 h3c y1bc ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1bd ffa8 fsa fc2 sc0 ls0 ws0">namespace A;</div><div class="t m0 x3 h3c y1be ffa8 fsa fc2 sc0 ls0 ws0">function md5($value) {</div><div class="t m0 x3 h3c y1bf ffa8 fsa fc2 sc0 ls0 ws0">return \md5($value . &apos; Extra saltiness&apos;);</div><div class="t m0 x3 h3c y1c0 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c1 ffa8 fsa fc2 sc0 ls0 ws0">echo strlen(md5(&apos;Hi&apos;, true));</div><div class="t m0 x3 hc1 y1bcf ffa3 fsa fc2 sc0 ls0 ws0">Syntax error ; this won’t run</div><div class="t m0 x3 h3c y1bd0 ffa8 fsa fc2 sc0 ls0 ws0">16</div><div class="t m0 x3 h3c y1bd1 ffa8 fsa fc2 sc0 ls0 ws0">32</div><div class="t m0 x3 hc1 y1bd2 ffa3 fsa fc2 sc0 ls0 ws0">This causes an error because yo<span class="_ _1"></span>u can’t define a function with the same name as a PHP </div><div class="t m0 x3 hc1 y1bd3 ffa3 fsa fc2 sc0 ls0 ws0">function name</div><div class="t m0 x3 hc1 y1bd4 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1bd5 ffa3 fsa fc2 sc0 ls0 ws0">Q26: Which of the following types of error will prevent the script fr<span class="_ _1"></span>om executing?</div><div class="t m0 x3 hc1 y1bd6 ffa3 fsa fc2 sc0 ls0 ws0">Notice</div><div class="t m0 x3 hc1 y1bd7 ffa3 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>arning</div><div class="t m0 x3 hc1 y1bd8 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error</div><div class="t m0 x3 hc1 y1bd9 ffa3 fsa fc2 sc0 ls0 ws0">F<span class="_ _1"></span>atal error</div><div class="t m0 x1a hc1 y1bda ffa3 fsa fc2 sc0 ls0 ws0">Q27: What is the output fr<span class="_ _1"></span>om this script?</div><div class="t m0 x3 h3c y1bdb ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1bdc ffa8 fsa fc2 sc0 ls0 ws0">$a = true;</div><div class="t m0 x3 h3c y1bdd ffa8 fsa fc2 sc0 ls0 ws0">$b = false;</div><div class="t m0 x3 h3c y1bde ffa8 fsa fc2 sc0 ls0 ws0">$truth = $a &amp;&amp; $b;</div><div class="t m0 x3 h3c y1bdf ffa8 fsa fc2 sc0 ls0 ws0">$pravda = $a and $b;</div><div class="t m0 x3 h3c y1be0 ffa8 fsa fc2 sc0 ls0 ws0">var_dump($truth == $pravda);</div><div class="t m0 x3 h3c y1be1 ffa8 fsa fc2 sc0 ls0 ws0">bool(true)</div><div class="t m0 x3 h3c y1be2 ffa8 fsa fc2 sc0 ls0 ws0">bool(false)</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf121" class="pf w2 h4" data-page-no="121"><div class="pc pc121 w2 h4"><img class="bi x8 y1be3 w3 hc9" alt="" src="bg121.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls2e ws107">272</div><div class="t m0 x3 h3c y1b8 ffa3 fsa fc2 sc0 ls0 ws0">Q28: If you want PHP to displa<span class="_ _1"></span>y all errors except notices, which settin<span class="_ _1"></span>g in <span class="ffa8">php.ini</span> </div><div class="t m0 x8 hc1 y1b9 ffa3 fsa fc2 sc0 ls0 ws0">would you use?</div><div class="t m0 x8 h3c y1be4 ffa8 fsa fc2 sc0 ls0 ws0">error_reporting= -E_NOTICE</div><div class="t m0 x8 h3c y1be5 ffa8 fsa fc2 sc0 ls0 ws0">error_reporting=E_ALL - E_NOTICE</div><div class="t m0 x8 h3c y1be6 ffa8 fsa fc2 sc0 ls0 ws0">error_reporting= ~E_NOTICE</div><div class="t m0 x8 h3c y1be7 ffa8 fsa fc2 sc0 ls0 ws0">error_reporting= E_ALL &amp; ~E_NOTICE</div><div class="t m0 x3 hc1 y1be8 ffa3 fsa fc2 sc0 ls0 ws0">Q29: Private methods are only accessible b<span class="_ _1"></span>y the class in which they are defined, so </div><div class="t m0 x8 hc1 y1be9 ffa3 fsa fc2 sc0 ls0 ws0">this code will output an empty array.</div><div class="t m0 x8 h3c y1bea ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1beb ffa8 fsa fc2 sc0 ls0 ws0">class Mirror {</div><div class="t m0 x8 h3c y1bec ffa8 fsa fc2 sc0 ls0 ws0">    private function showMeGorgeous($me) {</div><div class="t m0 x8 h3c y1bed ffa8 fsa fc2 sc0 ls0 ws0">        echo $me;</div><div class="t m0 x8 h3c y1bee ffa8 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1bef ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1bf0 ffa8 fsa fc2 sc0 ls0 ws0">$refObj = new ReflectionClass(&apos;Mirror&apos;);</div><div class="t m0 x8 h3c y1bf1 ffa8 fsa fc2 sc0 ls0 ws0">print_r($refObj-&gt;getMethods());</div><div class="t m0 x8 h3c y1bf2 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x8 h3c y1bf3 ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x3 hc1 y1bf4 ffa3 fsa fc2 sc0 ls0 ws0">Q30: Assume that you ar<span class="_ _1"></span>e running this script from the command line, and not in a </div><div class="t m0 x8 hc1 y1bf5 ffa3 fsa fc2 sc0 ls0 ws0">web-browser<span class="_ _11"></span>. What will the output be?</div><div class="t m0 x8 h3c y1bf6 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bf7 ffa8 fsa fc2 sc0 ls0 ws0">class SetMissing {</div><div class="t m0 x8 h3c y1bf8 ffa8 fsa fc2 sc0 ls0 ws0">    public function __set($name, $value) {</div><div class="t m0 x8 h3c y1bf9 ffa8 fsa fc2 sc0 ls0 ws0">        $this-&gt;$name = filter_var($value, FILTER_SANITIZE_STRING);</div><div class="t m0 x8 h3c y1bfa ffa8 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1bfb ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1bfc ffa8 fsa fc2 sc0 ls0 ws0">$obj = new SetMissing();</div><div class="t m0 x8 h3c y1bfd ffa8 fsa fc2 sc0 ls0 ws0">$obj-&gt;example = &quot;&lt;strong&gt;hello&lt;/strong&gt;&quot;;</div><div class="t m0 x8 h3c y1bfe ffa8 fsa fc2 sc0 ls0 ws0">echo $obj-&gt;example . PHP_EOL;</div><div class="t m0 x8 h3c y1bff ffa8 fsa fc2 sc0 ls0 ws0">$obj-&gt;example = &quot;&lt;strong&gt;hello&lt;/strong&gt;&quot;;</div><div class="t m0 x8 h3c y1c00 ffa8 fsa fc2 sc0 ls0 ws0">echo $obj-&gt;example;</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf122" class="pf w2 h4" data-page-no="122"><div class="pc pc122 w2 h4"><img class="bi x3 yc4e w5 hca" alt="" src="bg122.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x21 hc0 y55 ffa3 fs6 fc2 sc0 ls3a ws113">273</div><div class="t m0 x3 h3c y5ec ffa8 fsa fc2 sc0 ls0 ws0">hello</div><div class="t m0 x3 h3c yd07 ffa8 fsa fc2 sc0 ls0 ws0">&lt;strong&gt;hello&lt;/strong&gt;</div><div class="t m0 x3 h3c yd08 ffa8 fsa fc2 sc0 ls0 ws0">&lt;strong&gt;hello&lt;/strong&gt;</div><div class="t m0 x3 h3c y1c01 ffa8 fsa fc2 sc0 ls0 ws0">&lt;strong&gt;hello&lt;/strong&gt;</div><div class="t m0 x3 h3c y1c02 ffa8 fsa fc2 sc0 ls0 ws0">hello</div><div class="t m0 x3 h3c y1c03 ffa8 fsa fc2 sc0 ls0 ws0">hello</div><div class="t m0 x3 hc1 y1c04 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a h3c y1b22 ffa3 fsa fc2 sc0 ls0 ws0">Q31: If you implement the <span class="ffa8">__sleep()</span> function, you need to m<span class="_ _1"></span>ake sure that it r<span class="_ _1"></span>eturns </div><div class="t m0 x3 hc1 y1b23 ffa3 fsa fc2 sc0 ls0 ws0">an associative array con<span class="_ _1"></span>taining the names and values of the instance variables you wan<span class="_ _1"></span>t </div><div class="t m0 x3 hc1 y1b24 ffa3 fsa fc2 sc0 ls0 ws0">to be serialized.</div><div class="t m0 x3 h3c y1c05 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x3 h3c y1c06 ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x1a hc1 y1c07 ffa3 fsa fc2 sc0 ls0 ws0">Q32: What will the output of this code be?</div><div class="t m0 x3 h3c y1c08 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1c09 ffa8 fsa fc2 sc0 ls0 ws0">trait Dog {</div><div class="t m0 x3 h3c y1c0a ffa8 fsa fc2 sc0 ls0 ws0">public function makeNoise() {</div><div class="t m0 x3 h3c y1c0b ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;Woof&quot;;</div><div class="t m0 x3 h3c y1c0c ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c0d ffa8 fsa fc2 sc0 ls0 ws0">  public function wantWalkies() {</div><div class="t m0 x3 h3c y1c0e ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;Yes please!&quot;;</div><div class="t m0 x3 h3c y1c0f ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c10 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c11 ffa8 fsa fc2 sc0 ls0 ws0">trait Cat {</div><div class="t m0 x3 h3c y1c12 ffa8 fsa fc2 sc0 ls0 ws0">public function makeNoise() {</div><div class="t m0 x3 h3c y1c13 ffa8 fsa fc2 sc0 ls0 ws0">echo &quot;Purr&quot;;</div><div class="t m0 x3 h3c y1c14 ffa8 fsa fc2 sc0 ls0 ws0">  }</div><div class="t m0 x3 h3c y1c15 ffa8 fsa fc2 sc0 ls0 ws0">public function wantWalkies() {</div><div class="t m0 x3 h3c y1c16 ffa8 fsa fc2 sc0 ls0 ws0">    echo &quot;No thanks!&quot;;</div><div class="t m0 x3 h3c y1c17 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c18 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c19 ffa8 fsa fc2 sc0 ls0 ws0">class DomesticPet</div><div class="t m0 x3 h3c y1c1a ffa8 fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x3 h3c y1c1b ffa8 fsa fc2 sc0 ls0 ws0">use Dog, Cat {</div><div class="t m0 x3 h3c y1c1c ffa8 fsa fc2 sc0 ls0 ws0">Cat::makeNoise insteadof Dog;</div><div class="t m0 x3 h3c y1c1d ffa8 fsa fc2 sc0 ls0 ws0">Cat::wantWalkies as kittyWalk;</div><div class="t m0 x3 h3c y1c1e ffa8 fsa fc2 sc0 ls0 ws0">Dog::wantWalkies insteadof Cat;</div><div class="t m0 x3 h3c y1c1f ffa8 fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf123" class="pf w2 h4" data-page-no="123"><div class="pc pc123 w2 h4"><img class="bi x8 y1c20 w3 hcb" alt="" src="bg123.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls3c ws115">2<span class="_ _0"></span>74</div><div class="t m0 x8 h3c y2a8 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y3e3 ffa8 fsa fc2 sc0 ls0 ws0">$obj = new DomesticPet();</div><div class="t m0 x8 h3c y424 ffa8 fsa fc2 sc0 ls0 ws0">$obj-&gt;kittyWalk();</div><div class="t m0 x8 h3c y1c21 ffa8 fsa fc2 sc0 ls0 ws0">Yes please!</div><div class="t m0 x8 h3c y1c22 ffa8 fsa fc2 sc0 ls0 ws0">No thanks!</div><div class="t m0 x8 h3c y1c23 ffa8 fsa fc2 sc0 ls0 ws0">Woof</div><div class="t m0 x8 h3c y1c24 ffa8 fsa fc2 sc0 ls0 ws0">Purr</div><div class="t m0 x8 hc1 y1c25 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1c26 ffa3 fsa fc2 sc0 ls0 ws0">Q33: What is the output of this code?</div><div class="t m0 x8 h3c y1c27 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1c28 ffa8 fsa fc2 sc0 ls0 ws0">class A</div><div class="t m0 x8 h3c y1c29 ffa8 fsa fc2 sc0 ls0 ws0">{</div><div class="t m0 x8 h3c y1c2a ffa8 fsa fc2 sc0 ls0 ws0">    public $name = &apos;0&apos;;</div><div class="t m0 x8 h3c y1c2b ffa8 fsa fc2 sc0 ls0 ws0">    private $surname = &apos;0&apos;;</div><div class="t m0 x8 h3c y1c2c ffa8 fsa fc2 sc0 ls0 ws0">    public function __isset($property)</div><div class="t m0 x8 h3c y1c2d ffa8 fsa fc2 sc0 ls0 ws0">    {</div><div class="t m0 x8 h3c y1c2e ffa8 fsa fc2 sc0 ls0 ws0">        return true;</div><div class="t m0 x8 h3c y1c2f ffa8 fsa fc2 sc0 ls0 ws0">    }</div><div class="t m0 x8 h3c y1c30 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 h3c y1c31 ffa8 fsa fc2 sc0 ls0 ws0">$a = new A;</div><div class="t m0 x8 h3c y1c32 ffa8 fsa fc2 sc0 ls0 ws0">$empty = empty($a-&gt;name);</div><div class="t m0 x8 h3c y1c33 ffa8 fsa fc2 sc0 ls0 ws0">$set = isset($a-&gt;surname);</div><div class="t m0 x8 h3c y1c34 ffa8 fsa fc2 sc0 ls0 ws0">if ($empty === $set) {</div><div class="t m0 x8 h3c y1c35 ffa8 fsa fc2 sc0 ls0 ws0">  echo &quot;Yes&quot;;</div><div class="t m0 x8 h3c y1c36 ffa8 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x8 h3c y1c37 ffa8 fsa fc2 sc0 ls0 ws0">  echo &quot;No&quot;;</div><div class="t m0 x8 h3c y1c38 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 hc1 y1c39 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; this won’t run</div><div class="t m0 x8 hc1 y1c3a ffa3 fsa fc2 sc0 ls57 ws133">Ye<span class="_ _0"></span>s</div><div class="t m0 x8 hc1 y1c3b ffa3 fsa fc2 sc0 ls56 ws132">No</div><div class="t m0 x8 hc1 y1c3c ffa3 fsa fc2 sc0 ls0 ws0">F<span class="_ _1"></span>atal error</div><div class="t m0 x3 hc1 y1c3d ffa3 fsa fc2 sc0 ls0 ws0">Q34: Are PHP keys case sensitive? Wha<span class="_ _1"></span>t will the output of this script be?</div><div class="t m0 x8 h3c y1c3e ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1c3f ffa8 fsa fc2 sc0 ls0 ws0">$arr1 = [&quot;A&quot; =&gt; &quot;apple&quot;, &quot;B&quot; =&gt; &quot;banana&quot;];</div><div class="t m0 x8 h3c y1c40 ffa8 fsa fc2 sc0 ls0 ws0">$arr2 = [&quot;a&quot; =&gt; &quot;aardvark&quot;, &quot;b&quot; =&gt; &quot;baboon&quot;];</div><div class="t m0 x8 h3c y1c41 ffa8 fsa fc2 sc0 ls0 ws0">echo count($arr1 + $arr2);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf124" class="pf w2 h4" data-page-no="124"><div class="pc pc124 w2 h4"><img class="bi x3 y3a4 w5 hcc" alt="" src="bg124.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x21 hc0 y55 ffa3 fs6 fc2 sc0 ls3d ws116">275</div><div class="t m0 x3 h3c y5ec ffa3 fsa fc2 sc0 ls0 ws0">They are not case sensitive; this will output <span class="ffa8">2</span></div><div class="t m0 x3 h3c y5ed ffa3 fsa fc2 sc0 ls0 ws0">They are case sensitive; this will output <span class="ffa8">4</span></div><div class="t m0 x3 h3c y5ee ffa3 fsa fc2 sc0 ls0 ws0">PHP keys are con<span class="_ _1"></span>verted to integers<span class="_ _0"></span>; this outputs <span class="ffa8">2</span></div><div class="t m0 x3 hc1 y1b1f ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1b20 ffa3 fsa fc2 sc0 ls0 ws0">Q35: What will this script output?</div><div class="t m0 x3 h3c y1b21 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b22 ffa8 fsa fc2 sc0 ls0 ws0">$a = &quot;0&quot;;</div><div class="t m0 x3 h3c y1b23 ffa8 fsa fc2 sc0 ls0 ws0">$c = $b = empty($a);</div><div class="t m0 x3 h3c y1b24 ffa8 fsa fc2 sc0 ls0 ws0">$d = ++$b + $a;</div><div class="t m0 x3 h3c y1b25 ffa8 fsa fc2 sc0 ls0 ws0">echo $d;</div><div class="t m0 x3 hc1 y1c42 ffa3 fsa fc2 sc0 ls0 ws0">0</div><div class="t m0 x3 h3c y1c43 ffa8 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x3 h3c y1c44 ffa8 fsa fc2 sc0 ls0 ws0">2</div><div class="t m0 x3 hc1 y1c45 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; you can’t assign two variables on one line</div><div class="t m0 x3 hc1 y1c46 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1c47 ffa3 fsa fc2 sc0 ls0 ws0">Q36: What will this code output?</div><div class="t m0 x3 h3c y1c48 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1c49 ffa8 fsa fc2 sc0 ls0 ws0">$a = 1.23;</div><div class="t m0 x3 h3c y1c4a ffa8 fsa fc2 sc0 ls0 ws0">$b = 4.56;</div><div class="t m0 x3 h3c y1c4b ffa8 fsa fc2 sc0 ls0 ws0">$c = (int)$a + (int)$b;</div><div class="t m0 x3 h3c y1c4c ffa8 fsa fc2 sc0 ls0 ws0">echo (double)$c;</div><div class="t m0 x3 h3c y1c4d ffa8 fsa fc2 sc0 ls0 ws0">5</div><div class="t m0 x3 h3c y1c4e ffa8 fsa fc2 sc0 ls0 ws0">6</div><div class="t m0 x3 h3c y1c4f ffa8 fsa fc2 sc0 ls0 ws0">5.79</div><div class="t m0 x3 hc1 y1c50 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1c51 ffa3 fsa fc2 sc0 ls0 ws0">Q37: What will this script output?</div><div class="t m0 x3 h3c y1c52 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1c53 ffa8 fsa fc2 sc0 ls0 ws0">$arr = [&quot;one&quot;, &quot;two&quot;, 1.5 =&gt; &quot;three&quot;];</div><div class="t m0 x3 h3c y1c54 ffa8 fsa fc2 sc0 ls0 ws0">echo $arr[1];</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf125" class="pf w2 h4" data-page-no="125"><div class="pc pc125 w2 h4"><img class="bi x8 y153d w3 h96" alt="" src="bg125.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls3e ws117">276</div><div class="t m0 x8 h3c y5ec ffa8 fsa fc2 sc0 ls0 ws0">one</div><div class="t m0 x8 h3c y5ed ffa8 fsa fc2 sc0 ls0 ws0">two</div><div class="t m0 x8 h3c y5ee ffa8 fsa fc2 sc0 ls0 ws0">three</div><div class="t m0 x8 hc1 y1b1f ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1b20 ffa3 fsa fc2 sc0 ls0 ws0">Q38: Interfaces can only specify public methods<span class="_ _1"></span>, but your class can implement them </div><div class="t m0 x8 hc1 y1c55 ffa3 fsa fc2 sc0 ls0 ws0">however you like<span class="_ _1"></span>.</div><div class="t m0 x8 h3c y1c56 ffa8 fsa fc2 sc0 ls0 ws0">True</div><div class="t m0 x8 h3c y1c57 ffa8 fsa fc2 sc0 ls0 ws0">False</div><div class="t m0 x3 hc1 y1c58 ffa3 fsa fc2 sc0 ls0 ws0">Q39: Y<span class="_ _2"></span>ou can force sessions to be contained exclusively in cookies by usin<span class="_ _1"></span>g the </div><div class="t m0 x8 hc1 y1c59 ffa3 fsa fc2 sc0 ls0 ws0">_____________ configuration settin<span class="_ _1"></span>g.</div><div class="t m0 x8 h3c y1c5a ffa8 fsa fc2 sc0 ls0 ws0">session.cookie_secure</div><div class="t m0 x8 h3c y1c5b ffa8 fsa fc2 sc0 ls0 ws0">session.use_cookies</div><div class="t m0 x8 h3c y1c5c ffa8 fsa fc2 sc0 ls0 ws0">session.use_trans_sid</div><div class="t m0 x8 hc1 y1c5d ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x3 hc1 y1c5e ffa3 fsa fc2 sc0 ls0 ws0">Q40: What is the output of this code?</div><div class="t m0 x8 h3c y1c5f ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1c60 ffa8 fsa fc2 sc0 ls0 ws0">define(&apos;PI&apos;, 3.14159625);</div><div class="t m0 x8 h3c y1c61 ffa8 fsa fc2 sc0 ls0 ws0">define(&apos;_PI&apos;, &quot;3.1459625&quot;);</div><div class="t m0 x8 h3c y1c62 ffa8 fsa fc2 sc0 ls0 ws0">$radius = 10;</div><div class="t m0 x8 h3c y1c63 ffa8 fsa fc2 sc0 ls0 ws0">if (PI == _PI) {</div><div class="t m0 x8 h3c y1c64 ffa8 fsa fc2 sc0 ls0 ws0">    $area = (int)PI * $radius ** 2;</div><div class="t m0 x8 h3c y1c65 ffa8 fsa fc2 sc0 ls0 ws0">    echo $area;</div><div class="t m0 x8 h3c y1c66 ffa8 fsa fc2 sc0 ls0 ws0">} else {</div><div class="t m0 x8 h3c y1c67 ffa8 fsa fc2 sc0 ls0 ws0">    echo &quot;Indiana&quot;;</div><div class="t m0 x8 h3c y1c68 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x8 hc1 y1c69 ffa3 fsa fc2 sc0 ls0 ws0">Indiana</div><div class="t m0 x8 hc1 y1c6a ffa3 fsa fc2 sc0 ls0 ws0">300</div><div class="t m0 x8 hc1 y1c6b ffa3 fsa fc2 sc0 ls0 ws0">900</div><div class="t m0 x8 hc1 y1c6c ffa3 fsa fc2 sc0 ls0 ws0">986.962699801</div><div class="t m0 x8 hc1 y1c6d ffa3 fsa fc2 sc0 ls0 ws0">400</div><div class="t m0 x8 hc1 y1c6e ffa3 fsa fc2 sc0 ls0 ws0">1600</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf126" class="pf w2 h4" data-page-no="126"><div class="pc pc126 w2 h4"><img class="bi x3 y1c6f w5 hcd" alt="" src="bg126.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x15 hc0 y55 ffa3 fs6 fc2 sc0 ls24 wsff">277</div><div class="t m0 x1a hc1 y1b8 ffa3 fsa fc2 sc0 ls0 ws0">Q41: What is the output of this script?</div><div class="t m0 x3 h3c y1ba ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1bb ffa8 fsa fc2 sc0 ls0 ws0">function HelloWorld() {</div><div class="t m0 x3 h3c y1bc ffa8 fsa fc2 sc0 ls0 ws0">echo HELLO;</div><div class="t m0 x3 h3c y1be ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1bf ffa8 fsa fc2 sc0 ls0 ws0">const HELLO = &quot;Hello World!&quot;;</div><div class="t m0 x3 h3c y1c0 ffa8 fsa fc2 sc0 ls0 ws0">HelloWorld();</div><div class="t m0 x3 hc1 y1c70 ffa3 fsa fc2 sc0 ls0 ws0">Syntax Err<span class="_ _1"></span>or</div><div class="t m0 x3 h3c y1c71 ffa8 fsa fc2 sc0 ls0 ws0">Hello World!</div><div class="t m0 x3 h3c y1c72 ffa3 fsa fc2 sc0 ls0 ws0">PHP Notice: Use of undefined constan<span class="_ _1"></span>t <span class="ffa8">HELLO</span></div><div class="t m0 x3 hc1 y1c73 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1c74 ffa3 fsa fc2 sc0 ls0 ws0">Q42: What will this code output?</div><div class="t m0 x3 h3c y1c75 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1c76 ffa8 fsa fc2 sc0 ls0 ws0">function add(int $a, int $b): integer {</div><div class="t m0 x3 h3c y1c77 ffa8 fsa fc2 sc0 ls0 ws0">    return $a + $b;</div><div class="t m0 x3 h3c y1c78 ffa8 fsa fc2 sc0 ls0 ws0">}</div><div class="t m0 x3 h3c y1c79 ffa8 fsa fc2 sc0 ls0 ws0">echo add(5.7, -4.6);</div><div class="t m0 x3 hc1 y1c7a ffa3 fsa fc2 sc0 ls0 ws0">Syntax error</div><div class="t m0 x3 h3c y1c7b ffa8 fsa fc2 sc0 ls0 ws0">1</div><div class="t m0 x3 h3c y1c7c ffa8 fsa fc2 sc0 ls0 ws0">1.1</div><div class="t m0 x3 hc1 y1c7d ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1c7e ffa3 fsa fc2 sc0 ls0 ws0">Q43: What is the output of this script?</div><div class="t m0 x3 h3c y1c7f ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1c80 ffa8 fsa fc2 sc0 ls0 ws0">$a = 0b0010;</div><div class="t m0 x3 h3c y1c81 ffa8 fsa fc2 sc0 ls0 ws0">$b = 0b0001;</div><div class="t m0 x3 h3c y1c82 ffa8 fsa fc2 sc0 ls0 ws0">echo gettype($a &amp; $b);</div><div class="t m0 x3 hc1 y1c83 ffa3 fsa fc2 sc0 ls0 ws0">Syntax error; this won’t run</div><div class="t m0 x3 h3c y1c84 ffa8 fsa fc2 sc0 ls0 ws0">undefined</div><div class="t m0 x3 h3c y1c85 ffa8 fsa fc2 sc0 ls0 ws0">integer</div><div class="t m0 x3 h3c y1c86 ffa8 fsa fc2 sc0 ls0 ws0">double</div><div class="t m0 x3 h3c y1c87 ffa8 fsa fc2 sc0 ls0 ws0">boolean</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf127" class="pf w2 h4" data-page-no="127"><div class="pc pc127 w2 h4"><img class="bi x8 y1c88 w3 hce" alt="" src="bg127.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls3f ws118">278</div><div class="t m0 x3 hc1 y1b8 ffa3 fsa fc2 sc0 ls0 ws0">Q44: What will the output of this code be?</div><div class="t m0 x8 h3c y1ba ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1bb ffa8 fsa fc2 sc0 ls0 ws0">$result = echo print(&quot;Hello world!&quot;);</div><div class="t m0 x8 h3c y1bc ffa8 fsa fc2 sc0 ls0 ws0">var_dump($result);</div><div class="t m0 x8 h3c y1c89 ffa8 fsa fc2 sc0 ls0 ws0">NULL</div><div class="t m0 x8 h3c y1c8a ffa8 fsa fc2 sc0 ls0 ws0">1NULL</div><div class="t m0 x8 hc1 y1c8b ffa3 fsa fc2 sc0 ls0 ws0">Hello world!NULL</div><div class="t m0 x8 hc1 y1c8c ffa3 fsa fc2 sc0 ls0 ws0">A syntax error</div><div class="t m0 x3 hc1 y1c8d ffa3 fsa fc2 sc0 ls0 ws0">Q45: Y<span class="_ _2"></span>ou have invok<span class="_ _1"></span>ed PHP on the command line and want to access the arguments </div><div class="t m0 x8 hc1 y1c8e ffa3 fsa fc2 sc0 ls0 ws0">you passed in your PHP script. Which superglobal will contain these?</div><div class="t m0 x8 h3c y1c8f ffa8 fsa fc2 sc0 ls0 ws0">$GLOBALS</div><div class="t m0 x8 h3c y1c90 ffa8 fsa fc2 sc0 ls0 ws0">$_ARGV</div><div class="t m0 x8 h3c y1c91 ffa8 fsa fc2 sc0 ls0 ws0">$_SERVER</div><div class="t m0 x8 h3c y1c92 ffa8 fsa fc2 sc0 ls0 ws0">$_ARGUMENTS</div><div class="t m0 x3 h3c y1c93 ffa3 fsa fc2 sc0 ls0 ws0">Q46: The function <span class="ffa8">gc_collect_cycles()</span> is used to do which of the following?</div><div class="t m0 x8 hc1 y1c94 ffa3 fsa fc2 sc0 ls0 ws0">There is no such function</div><div class="t m0 x8 hc1 y1c95 ffa3 fsa fc2 sc0 ls0 ws0">Pa<span class="_ _1"></span>use the script for a cer<span class="_ _0"></span>tain num<span class="_ _1"></span>ber of processor cycles</div><div class="t m0 x8 hc1 y1c96 ffa3 fsa fc2 sc0 ls0 ws0">Initiate garba<span class="_ _1"></span>ge collection to free up memory</div><div class="t m0 x8 h3c y1c97 ffa3 fsa fc2 sc0 ls0 ws0">Flush the <span class="ffa8">opcode</span> cache</div><div class="t m0 x3 hc1 y1c98 ffa3 fsa fc2 sc0 ls0 ws0">Q47: What will this code output?</div><div class="t m0 x8 h3c y1c99 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x8 h3c y1c9a ffa8 fsa fc2 sc0 ls0 ws0">try {</div><div class="t m0 x8 h3c y1c9b ffa8 fsa fc2 sc0 ls0 ws0">    // generates a notice error (not caught)</div><div class="t m0 x8 h3c y1c9c ffa8 fsa fc2 sc0 ls0 ws0">    echo $thisVariableIsNotSet;</div><div class="t m0 x8 h3c y1c9d ffa8 fsa fc2 sc0 ls0 ws0">} catch (Error $e) {</div><div class="t m0 x8 h3c y1c9e ffa8 fsa fc2 sc0 ls0 ws0">    echo &quot;Error caught&quot;;</div><div class="t m0 x8 h3c y1c9f ffa8 fsa fc2 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf128" class="pf w2 h4" data-page-no="128"><div class="pc pc128 w2 h4"><img class="bi x3 y5eb w5 h39" alt="" src="bg128.png"/><div class="t m0 x60 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x21 hc0 y55 ffa3 fs6 fc2 sc0 ls0 ws0">279</div><div class="t m0 x3 hc1 y5ec ffa3 fsa fc2 sc0 ls0 ws0">This produces a notice error</div><div class="t m0 x3 hc1 y5ed ffa3 fsa fc2 sc0 ls0 ws0">This produces a fatal err<span class="_ _1"></span>or</div><div class="t m0 x3 hc1 y5ee ffa3 fsa fc2 sc0 ls0 ws0">Error caugh<span class="_ _1"></span>t</div><div class="t m0 x3 hc1 y1b1f ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a hc1 y1b20 ffa3 fsa fc2 sc0 ls0 ws0">Q48: What will this code output?</div><div class="t m0 x3 h3c y1b21 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1b22 ffa8 fsa fc2 sc0 ls0 ws0">$emotion = &quot;loves&quot;;</div><div class="t m0 x3 h3c y1b23 ffa8 fsa fc2 sc0 ls0 ws0">$theBeeb = function($name) use ($emotion) {</div><div class="t m0 x3 h3c y1b24 ffa8 fsa fc2 sc0 ls0 ws0">    echo &quot;$name $emotion Justin&quot;;</div><div class="t m0 x3 h3c y1b25 ffa8 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x3 h3c y1b26 ffa8 fsa fc2 sc0 ls0 ws0">$emotion = &quot;adores&quot;;</div><div class="t m0 x3 h3c y1b27 ffa8 fsa fc2 sc0 ls0 ws0">$theBeeb(&quot;Ron&quot;);</div><div class="t m0 x3 h3c y1ca0 ffa8 fsa fc2 sc0 ls0 ws0">Ron loves Justin<span class="_ _e6"> </span><span class="ffa3">*</span></div><div class="t m0 x3 h3c y1ca1 ffa8 fsa fc2 sc0 ls0 ws0">Ron adores Justin</div><div class="t m0 x3 h3c y1ca2 ffa8 fsa fc2 sc0 ls0 ws0">$name $emotion Justin</div><div class="t m0 x3 hc1 y1ca3 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div><div class="t m0 x1a h3c y1ca4 ffa3 fsa fc2 sc0 ls0 ws0">Q49: Assume that the <span class="ffa8">Pluto</span> and <span class="ffa8">Grumpy</span> classes ar<span class="_ _1"></span>e both declared in the <span class="ffa8">class.</span></div><div class="t m0 x3 h3c y1ca5 ffa8 fsa fc2 sc0 ls0 ws0">definitions.php<span class="ffa3"> file, which is in the same dir<span class="_ _1"></span>ector<span class="_ _0"></span>y as this script. What will ha<span class="_ _1"></span>ppen </span></div><div class="t m0 x3 hc1 y1ca6 ffa3 fsa fc2 sc0 ls0 ws0">when you run this script?</div><div class="t m0 x3 h3c y1ca7 ffa8 fsa fc2 sc0 ls0 ws0">&lt;?php</div><div class="t m0 x3 h3c y1ca8 ffa8 fsa fc2 sc0 ls0 ws0">$a = function() {</div><div class="t m0 x3 h3c y1ca9 ffa8 fsa fc2 sc0 ls0 ws0">include(&apos;class.definitions.php&apos;);</div><div class="t m0 x3 h3c y1caa ffa8 fsa fc2 sc0 ls0 ws0">};</div><div class="t m0 x3 h3c y1cab ffa8 fsa fc2 sc0 ls0 ws0">spl_autoload_register($a);</div><div class="t m0 x3 h3c y1cac ffa8 fsa fc2 sc0 ls0 ws0">// Class Pluto is defined in class.definitions.php</div><div class="t m0 x3 h3c y1cad ffa8 fsa fc2 sc0 ls0 ws0">$planet = new Pluto;</div><div class="t m0 x3 h3c y1cae ffa8 fsa fc2 sc0 ls0 ws0">// Class Grumpy is defined in class.definitions.php</div><div class="t m0 x3 h3c y1caf ffa8 fsa fc2 sc0 ls0 ws0">$dwarf = new Grumpy;</div><div class="t m0 x3 hc1 y1cb0 ffa3 fsa fc2 sc0 ls0 ws0">The script will generate a fatal error because yo<span class="_ _1"></span>u need to put brackets after the class </div><div class="t m0 x3 hc1 y1cb1 ffa3 fsa fc2 sc0 ls0 ws0">name</div><div class="t m0 x3 hc1 y1cb2 ffa3 fsa fc2 sc0 ls0 ws0">The script will generate an error when you try to include the script a second time</div><div class="t m0 x3 hc1 y1cb3 ffa3 fsa fc2 sc0 ls0 ws0">The file will be included once and the script won&apos;t output anything</div><div class="t m0 x3 h3c y1cb4 ffa3 fsa fc2 sc0 ls0 ws0">The script will fail because you cannot use a variable for <span class="ffa8">spl_autoload_register</span>; only </div><div class="t m0 x3 hc1 y1cb5 ffa3 fsa fc2 sc0 ls0 ws0">a string literal</div><div class="t m0 x3 hc1 y1cb6 ffa3 fsa fc2 sc0 ls0 ws0">None of the abo<span class="_ _1"></span>ve</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf129" class="pf w2 h4" data-page-no="129"><div class="pc pc129 w2 h4"><img class="bi x8 y1cb7 w3 hcf" alt="" src="bg129.png"/><div class="t m0 x8 h11 y54 ffa9 fs9 fc2 sc0 ls0 ws0">Chapter 12 <span class="ffaa fc5">■</span> exerCises</div><div class="t m0 x8 hc0 y55 ffa3 fs6 fc2 sc0 ls40 ws9b">280</div><div class="t m0 x3 hc1 y1b8 ffa3 fsa fc2 sc0 ls0 ws0">Q50: Which of the following pieces of information associated with the request cannot </div><div class="t m0 x8 hc1 y1b9 ffa3 fsa fc2 sc0 ls0 ws0">be easily changed by the client?</div><div class="t m0 x8 hc1 y1be4 ffa3 fsa fc2 sc0 ls0 ws0">Remote IP address</div><div class="t m0 x8 hc1 y1be5 ffa3 fsa fc2 sc0 ls0 ws0">Session data</div><div class="t m0 x8 hc1 y1be6 ffa3 fsa fc2 sc0 ls0 ws0">Cookie data</div><div class="t m0 x8 hc1 y1cb8 ffa3 fsa fc2 sc0 ls0 ws0">User agent</div><div class="t m0 x8 hc1 y1cb9 ffa3 fsa fc2 sc0 ls0 ws0">All of these are easily changed b<span class="_ _1"></span>y the client</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12a" class="pf w2 h4" data-page-no="12a"><div class="pc pc12a w2 h4"><img class="bi x0 y1cba w4 hd0" alt="" src="bg12a.png"/><div class="t m0 x21 hd y3e ffab fs6 fc2 sc0 ls41 ws119">2<span class="_ _0"></span>81</div><div class="t m0 x3 h1b y1ca ffac fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ffac fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ffad">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ffac fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0<span class="fc2"> </span></div><div class="t m0 x3 hd1 y1cd ffae fse fc2 sc0 ls0 ws0">APPENDIX</div><div class="t m0 x3 he y1ce ffaf fs7 fc2 sc0 ls0 ws62">Quiz Answers</div><div class="t m0 x3 h19 y1cbb ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">1</span>:<span class="_ _2"></span> PHP Basics</div><div class="t m0 x3 h10 y1cbc ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _7f"> </span>Answer</div><div class="t m0 x3 h12 y1cbd ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _51"> </span>N<span class="_ _1"></span>one of the above, these ar<span class="_ _1"></span>e all fine</div><div class="t m0 x3 h12 y1cbe ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _51"> </span>Class name and functions</div><div class="t m0 x3 h3c y1cbf ffb1 fsa fc2 sc0 ls0 ws0">3<span class="_ _51"> </span><span class="fc4">https://3v4l.org/rSi4Q</span></div><div class="t m0 x3 h3c y1cc0 ffb1 fsa fc2 sc0 ls0 ws0">4<span class="_ _51"> </span><span class="fc4">https://3v4l.org/C9WG7</span></div><div class="t m0 x3 h3c y1cc1 ffb1 fsa fc2 sc0 ls0 ws0">5<span class="_ _51"> </span><span class="fc4">https://3v4l.org/D9u6l</span></div><div class="t m0 x3 h3c y1cc2 ffb1 fsa fc2 sc0 ls0 ws0">6<span class="_ _51"> </span><span class="fc4">https://3v4l.org/JZ9s9</span></div><div class="t m0 x3 h3c y1cc3 ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _51"> </span><span class="ffb1">memory_limit</span> and <span class="ffb1">max_execution_time</span></div><div class="t m0 x3 h3c y1cc4 ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/UjSh6</span></div><div class="t m0 x3 h3c y1cc5 ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/Knvvd</span></div><div class="t m0 x3 h3c y1cc6 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _a3"> </span><span class="ffb1 fc4">https://3v4l.org/XQ9ob</span></div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:146.710000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_1"><div class="d m1" style="border-style:none;position:absolute;left:115.919000px;bottom:428.123000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/rSi4Q"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:359.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/C9WG7"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:344.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/D9u6l"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:329.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/JZ9s9"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:314.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/UjSh6"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:284.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/Knvvd"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:269.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/XQ9ob"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:253.207000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12b" class="pf w2 h4" data-page-no="12b"><div class="pc pc12b w2 h4"><img class="bi x8 y30f w3 hd2" alt="" src="bg12b.png"/><div class="t m0 x8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x8 hd y55 ffab fs6 fc2 sc0 ls43 ws11c">282</div><div class="t m0 x8 h19 y24e ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">2</span>:<span class="_ _2"></span> Functions</div><div class="t m0 x8 h10 y1cc7 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _5a"> </span>Answer</div><div class="t m0 x8 h3c y1cc8 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/qoNo4</span></div><div class="t m0 x8 h12 y1cc9 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _3a"> </span>I disagree because echo is a language construct and not a function.  </div><div class="t m0 xa7 h12 y1cca ffab fsa fc2 sc0 ls0 ws0">All PHP functions requir<span class="_ _1"></span>e you to use brackets when calling them<span class="_ _1"></span>.</div><div class="t m0 x8 h12 y1ccb ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _3a"> </span>Tr<span class="_ _0"></span>ue</div><div class="t m0 x8 h3c y1ccc ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/IQ17h</span></div><div class="t m0 x8 h3c y1ccd ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/gqEH9</span></div><div class="t m0 x8 h3c y1cce ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/QI1Ri</span></div><div class="t m0 x8 h3c y1ccf ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/dhkSW</span></div><div class="t m0 x8 h3c y1cd0 ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/rD0oB</span></div><div class="t m0 x8 h3c y1cd1 ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/WSbld</span></div><div class="t m0 x8 h3c y1cd2 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/ZYJLj</span></div><div class="t m0 x8 h19 y1cd3 ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">3</span>:<span class="_ _2"></span> Strings and Patter<span class="_ _0"></span>ns</div><div class="t m0 x8 h10 y1cd4 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _b6"> </span>Answer</div><div class="t m0 x8 h12 y1cd5 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _4a"> </span>F<span class="_ _1"></span>alse</div><div class="t m0 x8 h3c y1cd6 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _4a"> </span><span class="ffb1">strcasecmp</span></div><div class="t m0 x8 h3c y1cd7 ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _4a"> </span><span class="ffb1">$haystack</span>, <span class="ffb1">$needle</span></div><div class="t m0 x8 h3c y1cd8 ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _4a"> </span>Returns the maximum len<span class="_ _1"></span>gth of a string in <span class="ffb1">$subject</span> that contains only </div><div class="t m0 xa7 h3c y1cd9 ffab fsa fc2 sc0 ls0 ws0">letters contained in <span class="ffb1">$mask</span></div><div class="t m0 x8 h3c y1cda ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _4a"> </span>It r<span class="_ _1"></span>eturns the portion of the <span class="ffb1">$haystack</span> that occurs after the first instance </div><div class="t m0 xa7 h3c y1cdb ffab fsa fc2 sc0 ls0 ws0">of <span class="ffb1">$needle</span></div><div class="t m0 x8 h3c y1cdc ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _4a"> </span><span class="ffb1 fc4">https://3v4l.org/tnqpL</span></div><div class="t m0 x8 h12 y1cdd ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _4a"> </span>All of them, except the first</div><div class="t m0 x8 h3c y1cde ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _4a"> </span><span class="ffb1 fc4">https://3v4l.org/WMueT</span></div><div class="t m0 x8 h3c y1cdf ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _4a"> </span><span class="ffb1 fc4">https://3v4l.org/hhrjW</span></div><div class="t m0 x8 h12 y1ce0 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _2d"> </span>Use a callback function to supply the r<span class="_ _1"></span>eplacement string instead of a </div><div class="t m0 xa7 h12 y1ce1 ffab fsa fc2 sc0 ls0 ws0">static string</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_2"><div class="d m1" style="border-style:none;position:absolute;left:98.099000px;bottom:580.145000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/qoNo4"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:541.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/IQ17h"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:485.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/gqEH9"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:470.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/QI1Ri"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:455.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/dhkSW"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:440.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/rD0oB"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:425.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/WSbld"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:410.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/ZYJLj"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:394.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_3"><div class="d m1" style="border-style:none;position:absolute;left:98.099000px;bottom:336.395000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/tnqpL"><div class="d m1" style="border-style:none;position:absolute;left:98.370100px;bottom:200.479000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/WMueT"><div class="d m1" style="border-style:none;position:absolute;left:98.370100px;bottom:170.479000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/hhrjW"><div class="d m1" style="border-style:none;position:absolute;left:98.370100px;bottom:155.479000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12c" class="pf w2 h4" data-page-no="12c"><div class="pc pc12c w2 h4"><img class="bi x3 y3a4 w5 hbf" alt="" src="bg12c.png"/><div class="t m0 xa8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x15 hd y55 ffab fs6 fc2 sc0 ls36 ws111">283</div><div class="t m0 x3 h19 y24e ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">4</span><span class="ws11b">:<span class="_ _2"></span> Arrays</span></div><div class="t m0 x3 h10 y1cc7 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _7f"> </span>Answer</div><div class="t m0 x3 h3c y1cc8 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/INLuB</span></div><div class="t m0 x3 h3c y1cc9 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/HlDFv</span></div><div class="t m0 x3 h3c y1ce2 ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/NLtbg</span></div><div class="t m0 x3 h3c y1ce3 ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/T5pLI</span></div><div class="t m0 x3 h3c y1ce4 ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/1cUvs</span></div><div class="t m0 x3 h3c y1ce5 ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/LpV7o</span></div><div class="t m0 x3 h3c y1ce6 ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/HbY1Y</span></div><div class="t m0 x3 h3c y1ce7 ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/C16lb</span></div><div class="t m0 x3 h3c y1ce8 ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _51"> </span><span class="ffb1 fc4">https://3v4l.org/oTRIs</span></div><div class="t m0 x3 h3c y1ce9 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _a3"> </span><span class="ffb1 fc4">https://3v4l.org/ESFFL</span></div><div class="t m0 x3 h19 y1cea ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">5</span>:<span class="_ _2"></span> Object-Oriented PHP</div><div class="t m0 x3 h10 y1ceb ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _5a"> </span>Answer</div><div class="t m0 x3 h3c y1cec ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _3a"> </span><span class="ffb1">1_Example_Class</span></div><div class="t m0 x3 h3c y1ced ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/Pfu42</span></div><div class="t m0 x3 h3c y1cee ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/nshfi</span></div><div class="t m0 x3 h12 y1cef ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _3a"> </span><span class="ls56 ws132">No</span></div><div class="t m0 x3 h12 y1cf0 ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _3a"> </span>False<span class="_ _1"></span>, you can declare them in differ<span class="_ _1"></span>ent namespaces F<span class="_ _1"></span>alse, yo<span class="_ _1"></span>u can </div><div class="t m0 xa9 h12 y1cf1 ffab fsa fc2 sc0 ls0 ws0">declare them in differ<span class="_ _1"></span>ent scopes</div><div class="t m0 x3 h12 y1cf2 ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _3a"> </span>None of these</div><div class="t m0 x3 h12 y1cf3 ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _3a"> </span>False<span class="_ _1"></span>, you cannot change the visibility when you implemen<span class="_ _1"></span>t</div><div class="t m0 x3 h3c y1cf4 ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/cYI5A</span></div><div class="t m0 x3 h12 y1cf5 ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _3a"> </span>CL<span class="_ _0"></span>ASS MEMBERS <span class="ffb3">➤</span> TRAIT METHODS <span class="ffb3">➤</span> INHERITED METHOD<span class="_ _0"></span>S</div><div class="t m0 x3 h12 y1cf6 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _52"> </span>False</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_4"><div class="d m1" style="border-style:none;position:absolute;left:115.919000px;bottom:580.145000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/INLuB"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:541.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/HlDFv"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:526.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/NLtbg"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:511.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/T5pLI"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:496.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/1cUvs"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:481.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/LpV7o"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:466.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/HbY1Y"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:451.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/C16lb"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:436.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/oTRIs"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:421.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/ESFFL"><div class="d m1" style="border-style:none;position:absolute;left:118.000000px;bottom:405.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_5"><div class="d m1" style="border-style:none;position:absolute;left:115.919000px;bottom:347.395000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/Pfu42"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:293.479000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/nshfi"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:278.479000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/cYI5A"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:192.479000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12d" class="pf w2 h4" data-page-no="12d"><div class="pc pc12d w2 h4"><img class="bi x8 y1cf7 w3 hd3" alt="" src="bg12d.png"/><div class="t m0 x8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x8 hd y55 ffab fs6 fc2 sc0 ls5 ws33">284</div><div class="t m0 x8 h19 y24e ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">6</span>:<span class="_ _2"></span> Security</div><div class="t m0 x8 h10 y1cc7 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _96"> </span>Answer</div><div class="t m0 x8 h12 y1cc8 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _d6"> </span>F<span class="_ _1"></span>alse</div><div class="t m0 x8 h12 y1cc9 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _d6"> </span>F<span class="_ _1"></span>alse. It will not help with session fixation, as the mechanism of tricking </div><div class="t m0 xaa h12 y1cca ffab fsa fc2 sc0 ls0 ws0">the user to supply a token known to the attack<span class="_ _1"></span>er will still work. It will </div><div class="t m0 xaa h12 y1cf8 ffab fsa fc2 sc0 ls0 ws0">help with session hijacking because it will make it h<span class="_ _1"></span>arder to read the </div><div class="t m0 xaa h12 y1cf9 ffab fsa fc2 sc0 ls0 ws0">token while it is carried over the network.</div><div class="t m0 x8 h12 y1cfa ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _d6"> </span>None of the abov<span class="_ _1"></span>e</div><div class="t m0 x8 h12 y1cfb ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _d6"> </span>F<span class="_ _1"></span>alse. The token will be predictable so the a<span class="_ _1"></span>ttacker would ha<span class="_ _1"></span>ve a good </div><div class="t m0 xaa h12 y1cfc ffab fsa fc2 sc0 ls0 ws0">chance of being able to include it in a r<span class="_ _1"></span>equest.</div><div class="t m0 x8 h3c y1cfd ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _d6"> </span>F<span class="_ _1"></span>alse. <span class="ffb1">crypt()</span> does not generate a salt<span class="_ _1"></span>. As of PHP 5.6 it will generate </div><div class="t m0 xaa h12 y1cfe ffab fsa fc2 sc0 ls0 ws0">a notice warning if you do not specify a salt. The in<span class="_ _1"></span>tended use of </div><div class="t m0 xaa h3c y1cff ffb1 fsa fc2 sc0 ls0 ws0">password_hash()<span class="ffab"> is to allow PHP to generate the s<span class="_ _1"></span>alt because it uses a </span></div><div class="t m0 xaa h12 y1d00 ffab fsa fc2 sc0 ls0 ws0">cryptographically secure way to do so<span class="_ _1"></span>.</div><div class="t m0 x8 h12 y1d01 ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _d6"> </span>F<span class="_ _1"></span>alse. The bro<span class="_ _1"></span>wser doesn’t check the file type and you cannot trust what </div><div class="t m0 xaa h12 y1d02 ffab fsa fc2 sc0 ls0 ws0">it tells you either<span class="_ _2"></span>.</div><div class="t m0 x8 h3c y1d03 ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _d6"> </span>F<span class="_ _1"></span>alse. Y<span class="_ _2"></span>ou must use <span class="ffb1">move_uploaded_file()</span> and not <span class="ffb1">copy()</span> to maintain </div><div class="t m0 xaa h12 y1d04 ffab fsa fc2 sc0 ls0 ws0">security.</div><div class="t m0 x8 h12 y1d05 ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _d6"> </span>True</div><div class="t m0 x8 h12 y1d06 ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _d6"> </span>F<span class="_ _1"></span>alse. Y<span class="_ _2"></span>ou need to use different methods of escaping depending on the </div><div class="t m0 xaa h3c y1d07 ffab fsa fc2 sc0 ls0 ws0">context of what y<span class="_ _1"></span>ou’re outputting<span class="_ _1"></span>. <span class="ffb1">strip_tags()</span> will not work to escape </div><div class="t m0 xaa h12 y1d08 ffab fsa fc2 sc0 ls0 ws0">all parts of a document and so is not sufficient by itself.</div><div class="t m0 x8 h12 y1d09 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _c7"> </span>F<span class="_ _1"></span>alse</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_6"><div class="d m1" style="border-style:none;position:absolute;left:98.099000px;bottom:580.145000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12e" class="pf w2 h4" data-page-no="12e"><div class="pc pc12e w2 h4"><img class="bi x3 y1d0a w5 hd4" alt="" src="bg12e.png"/><div class="t m0 xa8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x15 hd y55 ffab fs6 fc2 sc0 ls39 ws112">285</div><div class="t m0 x3 h19 y24e ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">7</span>:<span class="_ _2"></span> Data Structures</div><div class="t m0 x3 h10 y1cc7 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _96"> </span>Answer</div><div class="t m0 x3 h12 y1cc8 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _d6"> </span>F<span class="_ _1"></span>alse, they are fitted int<span class="_ _1"></span>o the encoding scheme (conv<span class="_ _1"></span>erted to question </div><div class="t m0 x40 h12 y1d0b ffab fsa fc2 sc0 ls0 ws0">marks).</div><div class="t m0 x3 h12 y1cca ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _d6"> </span>F<span class="_ _1"></span>alse</div><div class="t m0 x3 h3c y1ccb ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/p5NYT</span></div><div class="t m0 x3 h3c y1ccc ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _d6"> </span><span class="ffb1">Editing php.ini</span></div><div class="t m0 x3 h3c y1ccd ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _d6"> </span>See <span class="ffb1 fc4">https://3v4l.org/8Ij53</span></div><div class="t m0 x3 h12 y1cce ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _d6"> </span>Nothing is wr<span class="_ _1"></span>ong, this will work</div><div class="t m0 x3 h3c y1ccf ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/K1otJ</span> (Note: <span class="ffb1">xpath</span> is not zer<span class="_ _1"></span>o based so <span class="ffb1">team[1]</span> is </div><div class="t m0 x40 h12 y1d0c ffab fsa fc2 sc0 ls0 ws0">the first team (not the second))</div><div class="t m0 x3 h3c y1d0d ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _d6"> </span><span class="ffb1">dom_import_simplexml()</span></div><div class="t m0 x3 h3c y1d0e ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/jItbF</span></div><div class="t m0 x3 h3c y1d0f ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _c7"> </span><span class="ffb1 fc4">https://3v4l.org/1lBtt</span></div><div class="t m0 x3 h19 y1d10 ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">8</span>:<span class="_ _2"></span> Input-Output</div><div class="t m0 x3 h10 y1d11 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _66"> </span>Answer</div><div class="t m0 x3 h3c y1d12 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _de"> </span><span class="ffb1">string(0) &quot;&quot;</span></div><div class="t m0 x3 h12 y1d13 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _de"> </span>6,7,8</div><div class="t m0 x58 h12 y1d14 ffab fsa fc2 sc0 ls0 ws0">1,2,3,4,5</div><div class="t m0 x3 h3c y1d15 ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _de"> </span>Read the <span class="ffb1">php://input stream</span></div><div class="t m0 x3 h12 y1d16 ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _de"> </span>a</div><div class="t m0 x3 h12 y1d17 ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _de"> </span>GIF image data, version 89a, 400x400</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_7"><div class="d m1" style="border-style:none;position:absolute;left:115.919000px;bottom:580.145000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/p5NYT"><div class="d m1" style="border-style:none;position:absolute;left:117.190000px;bottom:500.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/8Ij53"><div class="d m1" style="border-style:none;position:absolute;left:132.553000px;bottom:470.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/K1otJ"><div class="d m1" style="border-style:none;position:absolute;left:117.190000px;bottom:440.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/jItbF"><div class="d m1" style="border-style:none;position:absolute;left:117.190000px;bottom:399.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/1lBtt"><div class="d m1" style="border-style:none;position:absolute;left:117.190000px;bottom:383.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_8"><div class="d m1" style="border-style:none;position:absolute;left:115.919000px;bottom:325.395000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12f" class="pf w2 h4" data-page-no="12f"><div class="pc pc12f w2 h4"><img class="bi x8 y1d18 w3 hd5" alt="" src="bg12f.png"/><div class="t m0 x8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x8 hd y55 ffab fs6 fc2 sc0 ls22 wsfd">286</div><div class="t m0 x8 h19 y24e ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">9</span><span class="ws11b">:<span class="_ _2"></span> Web <span class="_ _0"></span>Features</span></div><div class="t m0 x8 h10 y1cc7 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _96"> </span>Answer</div><div class="t m0 x8 h12 y1cc8 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _d6"> </span>Ronald</div><div class="t m0 x8 h3c y1cc9 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _d6"> </span><span class="ffb1">&lt;input type=&quot;text&quot; name=&quot;justin[numberonefan]&quot;&gt;</span></div><div class="t m0 x8 h12 y1ce2 ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _d6"> </span>No<span class="_ _1"></span>, they are not r<span class="_ _1"></span>eliable.</div><div class="t m0 x8 h3c y1ce3 ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _d6"> </span>A notice because <span class="ffb1">$a</span> is undefined (this outputs content), and a warning </div><div class="t m0 xaa h3c y1ccc ffab fsa fc2 sc0 ls0 ws0">because <span class="ffb1">$a</span> is undefined (because headers were sent with the notice </div><div class="t m0 xaa h12 y1d19 ffab fsa fc2 sc0 ls0 ws0">message).</div><div class="t m0 x8 h12 y1d1a ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _d6"> </span>Prevent the br<span class="_ _1"></span>owser from sending this cookie to other web sites<span class="_ _1"></span>.</div><div class="t m0 x8 h19 y1d1b ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">10</span>:<span class="_ _2"></span> Databases and SQL</div><div class="t m0 x8 h10 y1d1c ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _77"> </span>Answer</div><div class="t m0 x8 h3c y1d1d ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _c2"> </span><span class="ffb1">http_build_query()</span></div><div class="t m0 x8 h12 y1d1e ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _c2"> </span>There is no such PHP function</div><div class="t m0 x8 h12 y1d1f ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _c2"> </span>They can be more secure th<span class="_ _1"></span>an using normal queries and they are faster </div><div class="t m0 x46 h12 y1d20 ffab fsa fc2 sc0 ls0 ws0">for repeated queries</div><div class="t m0 x8 h3c y1d21 ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _c2"> </span><span class="ffb1">SELECT `postcode` FROM `accounts` AS `a`</span></div><div class="t m0 x46 h3c y1d22 ffb1 fsa fc2 sc0 ls0 ws0">JOIN `customers` as `c` ON `c.account_id` = `a`.`id`</div><div class="t m0 x46 h3c y1d23 ffb1 fsa fc2 sc0 ls0 ws0">WHERE `c`.id = 123</div><div class="t m0 x8 h19 y1d24 ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">11</span>:<span class="_ _2"></span> Error Handling</div><div class="t m0 x8 h10 y1d25 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _96"> </span>Answer</div><div class="t m0 x8 h3c y1d26 ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/poDFC</span></div><div class="t m0 x8 h3c y1d27 ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/4XK2R</span></div><div class="t m0 x8 h3c y1d28 ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/4KoKF</span></div><div class="t m0 x8 h3c y1d29 ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/q2K52</span></div><div class="t m0 x8 h3c y1d2a ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _d6"> </span><span class="ffb1 fc4">https://3v4l.org/ru5gu</span></div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_9"><div class="d m1" style="border-style:none;position:absolute;left:98.099000px;bottom:580.145000px;width:8.640000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_10"><div class="d m1" style="border-style:none;position:absolute;left:98.099000px;bottom:400.395000px;width:17.280000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_11"><div class="d m1" style="border-style:none;position:absolute;left:98.099000px;bottom:224.645000px;width:17.280000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/poDFC"><div class="d m1" style="border-style:none;position:absolute;left:99.370100px;bottom:185.729000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/4XK2R"><div class="d m1" style="border-style:none;position:absolute;left:99.370100px;bottom:170.729000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/4KoKF"><div class="d m1" style="border-style:none;position:absolute;left:99.370100px;bottom:155.729000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/q2K52"><div class="d m1" style="border-style:none;position:absolute;left:99.370100px;bottom:140.729000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/ru5gu"><div class="d m1" style="border-style:none;position:absolute;left:99.370100px;bottom:124.729000px;width:98.999900px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf130" class="pf w2 h4" data-page-no="130"><div class="pc pc130 w2 h4"><img class="bi x3 y6f4 w5 hd6" alt="" src="bg130.png"/><div class="t m0 xa8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x15 hd y55 ffab fs6 fc2 sc0 ls43 ws11c">287</div><div class="t m0 x3 h19 y24e ffb0 fsd fc2 sc0 ls0 ws0">Chapter <span class="fc4">12</span>:<span class="_ _2"></span> Exercises</div><div class="t m0 x3 h10 y1d2b ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _5a"> </span>Answer</div><div class="t m0 x3 h3c y1d2c ffab fsa fc2 sc0 ls0 ws0">1<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/HWd8N</span></div><div class="t m0 x3 h3c y1d2d ffab fsa fc2 sc0 ls0 ws0">2<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/itFYF</span></div><div class="t m0 x3 h3c y1d2e ffab fsa fc2 sc0 ls0 ws0">3<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/suCYR</span></div><div class="t m0 x3 h3c y1d2f ffab fsa fc2 sc0 ls0 ws0">4<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/bZJ7h</span></div><div class="t m0 x3 h12 y1d30 ffab fsa fc2 sc0 ls0 ws0">5<span class="_ _3a"> </span>False</div><div class="t m0 x3 h3c y1d31 ffab fsa fc2 sc0 ls0 ws0">6<span class="_ _3a"> </span>False<span class="_ _1"></span>. The function should be <span class="ffb1">session_regenerate_id()</span>.</div><div class="t m0 x3 h12 y1d32 ffab fsa fc2 sc0 ls0 ws0">7<span class="_ _3a"> </span>None of these</div><div class="t m0 x3 h3c y1d33 ffab fsa fc2 sc0 ls0 ws0">8<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/iSeQU</span></div><div class="t m0 x3 h3c y1d34 ffab fsa fc2 sc0 ls0 ws0">9<span class="_ _3a"> </span><span class="ffb1 fc4">https://3v4l.org/UWMp8</span></div><div class="t m0 x3 h3c y1d35 ffab fsa fc2 sc0 ls0 ws0">10<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/8vIFB</span></div><div class="t m0 x3 h12 y1d36 ffab fsa fc2 sc0 ls0 ws0">11<span class="_ _52"> </span>False</div><div class="t m0 x3 h3c y1d37 ffab fsa fc2 sc0 ls0 ws0">12<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/i4Goi</span></div><div class="t m0 x3 h12 y1d38 ffab fsa fc2 sc0 ls0 ws0">13<span class="_ _52"> </span>False<span class="_ _1"></span>. It’<span class="_ _2"></span>s public by default and visibility has nothing to do with code </div><div class="t m0 xa9 h12 y1d39 ffab fsa fc2 sc0 ls0 ws0">security.</div><div class="t m0 x3 h3c y1d3a ffab fsa fc2 sc0 ls0 ws0">14<span class="_ _52"> </span><span class="ffb1">ctype_graph</span></div><div class="t m0 x3 h3c y1d3b ffab fsa fc2 sc0 ls0 ws0">15<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/N27Ao</span></div><div class="t m0 x3 h3c y1d3c ffab fsa fc2 sc0 ls0 ws0">16<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/vaRbT</span></div><div class="t m0 x3 h3c y1d3d ffab fsa fc2 sc0 ls0 ws0">17<span class="_ _52"> </span><span class="ffb1">is_uploaded_file()</span></div><div class="t m0 x3 h3c y1d3e ffab fsa fc2 sc0 ls0 ws0">18<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/2J18W</span></div><div class="t m0 x3 h3c y1d3f ffab fsa fc2 sc0 ls0 ws0">19<span class="_ _52"> </span>False; <span class="ffb1">PUT</span> is idempoten<span class="_ _1"></span>t but <span class="ffb1">POST</span> is not.</div><div class="t m0 x3 h12 y1d40 ffab fsa fc2 sc0 ls0 ws0">20<span class="_ _52"> </span>Tr<span class="_ _0"></span>ue</div><div class="t m0 x3 h3c y1d41 ffab fsa fc2 sc0 ls0 ws0">21<span class="_ _52"> </span><span class="ffb1">mysqli_real_escape_string()</span></div><div class="t m0 x3 h3c y1d42 ffab fsa fc2 sc0 ls0 ws0">22<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/JG42J</span></div><div class="t m0 x3 h3c y1d43 ffab fsa fc2 sc0 ls0 ws0">23<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/vPhFh</span></div><div class="t m0 x3 h3c y1d44 ffab fsa fc2 sc0 ls0 ws0">24<span class="_ _52"> </span>None of the above; ther<span class="_ _1"></span>e is no <span class="ffb1">&lt;?php</span> so it won’t be parsed as PHP<span class="_ _11"></span>.</div><div class="t m0 x3 h3c y1d45 ffab fsa fc2 sc0 ls0 ws0">25<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/kOEeM</span>; sending <span class="ffb1">TRUE</span> as the se<span class="_ _0"></span>cond par<span class="_ _1"></span>ameter of </div><div class="t m0 xa9 h3c y1d46 ffb1 fsa fc2 sc0 ls0 ws0">\md5<span class="ffab"> (in the global namespace) would res<span class="_ _1"></span>ult in the <span class="ffb1">md5</span> digest being </span></div><div class="t m0 xa9 h12 y1d47 ffab fsa fc2 sc0 ls0 ws0">returned in RA<span class="_ _2"></span>W binar<span class="_ _0"></span>y format with a length of 16. H<span class="_ _1"></span>owever<span class="_ _2"></span>, we are </div><div class="t m0 xa9 h3c y1d48 ffab fsa fc2 sc0 ls0 ws0">calling the function <span class="ffb1">A\md5()</span>, which only has one par<span class="_ _1"></span>ameter and so the </div><div class="t m0 xa9 h3c y1d49 ffb1 fsa fc2 sc0 ls0 ws0">TRUE<span class="ffab"> is ignored. W<span class="_ _1"></span>e ar<span class="_ _1"></span>e not passing it to the <span class="ffb1">md5()</span> function in the global </span></div><div class="t m0 xa9 h12 y1d4a ffab fsa fc2 sc0 ls0 ws0">namespace. A<span class="_ _1"></span>dding a salt string to the value before hashin<span class="_ _1"></span>g will not </div><div class="t m0 xa9 h12 y1d4b ffab fsa fc2 sc0 ls0 ws0">impact the length of the hash. So<span class="_ _1"></span>, the answer is 32.</div><div class="t m0 x3 h12 y1d4c ffab fsa fc2 sc0 ls0 ws0">26<span class="_ _52"> </span>Syntax error</div><div class="t m0 x36 h12 y1d4d ffab fsa fc2 sc0 ls0 ws0">(<span class="ffb4">continued</span>)</div><a class="l" href="http://dx.doi.org/10.1007/978-1-4842-3246-0_12"><div class="d m1" style="border-style:none;position:absolute;left:115.919000px;bottom:580.145000px;width:17.280000px;height:21.006000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/HWd8N"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:541.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/itFYF"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:526.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/suCYR"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:511.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/bZJ7h"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:496.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/iSeQU"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:436.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/UWMp8"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:421.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/8vIFB"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:406.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/i4Goi"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:376.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/N27Ao"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:320.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/vaRbT"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:305.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/2J18W"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:275.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/JG42J"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:215.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/vPhFh"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:200.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/kOEeM"><div class="d m1" style="border-style:none;position:absolute;left:116.000000px;bottom:170.229000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf131" class="pf w2 h4" data-page-no="131"><div class="pc pc131 w2 h4"><img class="bi x8 y159d w3 hd7" alt="" src="bg131.png"/><div class="t m0 x8 h11 y54 ffb2 fs9 fc2 sc0 ls0 ws0">APPENDIX <span class="ffb3 fc5">■</span><span class="ws11a"> <span class="_ _0"></span>QuIz ANswErs</span></div><div class="t m0 x8 hd y55 ffab fs6 fc2 sc0 ls36 ws111">288</div><div class="t m0 x8 h10 yc67 ffaf fs6 fc2 sc0 ls0 ws0">Question<span class="_ _5a"> </span>Answer</div><div class="t m0 x8 h12 y141f ffab fsa fc2 sc0 ls0 ws0">27<span class="_ _52"> </span>If the answer is surpr<span class="_ _0"></span>ising to y<span class="_ _1"></span>ou, make sure yo<span class="_ _1"></span>u run the code at </div><div class="t m0 xa7 h3c y1d4e ffb1 fsa fc4 sc0 ls0 ws0">https://3v4l.org/5Z0qI<span class="ffab fc2">.</span></div><div class="t m0 x8 h3c y1d4f ffab fsa fc2 sc0 ls0 ws0">28<span class="_ _52"> </span><span class="ffb1">error_reporting= E_ALL &amp; ~E_NOTICE</span></div><div class="t m0 x8 h3c y1d50 ffab fsa fc2 sc0 ls0 ws0">29<span class="_ _52"> </span>False<span class="_ _1"></span>. <span class="ffb1 fc4">https://3v4l.org/ES7ve</span></div><div class="t m0 x8 h3c y1d51 ffab fsa fc2 sc0 ls0 ws0">30<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/18O3k</span></div><div class="t m0 x8 h12 y1d52 ffab fsa fc2 sc0 ls0 ws0">31<span class="_ _52"> </span>False</div><div class="t m0 x8 h3c y1d53 ffab fsa fc2 sc0 ls0 ws0">32<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/F7vve</span></div><div class="t m0 x8 h3c y1d54 ffab fsa fc2 sc0 ls0 ws0">33<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/i4Goi</span></div><div class="t m0 x8 h3c y1d55 ffab fsa fc2 sc0 ls0 ws0">34<span class="_ _52"> </span>They are case sensitive; this will output <span class="ffb1">4</span> (<span class="ffb1 fc4">https://3v4l.org/INLuB</span>).</div><div class="t m0 x8 h3c y1d56 ffab fsa fc2 sc0 ls0 ws0">35<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/k2hOf</span></div><div class="t m0 x8 h3c y1d57 ffab fsa fc2 sc0 ls0 ws0">36<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/FSOOD</span></div><div class="t m0 x8 h3c y1d58 ffab fsa fc2 sc0 ls0 ws0">37<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/1IR8b</span></div><div class="t m0 x8 h12 y1d59 ffab fsa fc2 sc0 ls0 ws0">38<span class="_ _52"> </span>False</div><div class="t m0 x8 h3c y1d5a ffab fsa fc2 sc0 ls0 ws0">39<span class="_ _52"> </span>None of the above; the setting is <span class="ffb1">session.use_only_cookies</span>.</div><div class="t m0 x8 h3c y1d5b ffab fsa fc2 sc0 ls0 ws0">40<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/cQir5</span></div><div class="t m0 x8 h3c y1d5c ffab fsa fc2 sc0 ls0 ws0">41<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/lFrCQ</span></div><div class="t m0 x8 h3c y1d5d ffab fsa fc2 sc0 ls0 ws0">42<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/B3l86</span></div><div class="t m0 x8 h3c y1d5e ffab fsa fc2 sc0 ls0 ws0">43<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/8m5F4</span></div><div class="t m0 x8 h12 y1d5f ffab fsa fc2 sc0 ls0 ws0">44<span class="_ _52"> </span>A syntax error<span class="_ _2"></span>, because echo does not return any value (not even NULL). <span class="_ _11"></span> </div><div class="t m0 xa7 h12 y1d60 ffab fsa fc2 sc0 ls0 ws0">Also<span class="_ _1"></span>, remember that print() r<span class="_ _1"></span>eturns 1 if it is successful.</div><div class="t m0 x8 h3c y1d61 ffab fsa fc2 sc0 ls0 ws0">45<span class="_ _52"> </span><span class="ffb1">$_SERVER</span></div><div class="t m0 x8 h12 y1d62 ffab fsa fc2 sc0 ls0 ws0">46<span class="_ _52"> </span>Initiate garbage collection to free up memory</div><div class="t m0 x8 h3c y1d63 ffab fsa fc2 sc0 ls0 ws0">47<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/g5NnV</span></div><div class="t m0 x8 h3c y1d64 ffab fsa fc2 sc0 ls0 ws0">48<span class="_ _52"> </span><span class="ffb1 fc4">https://3v4l.org/oXFau</span></div><div class="t m0 x8 h12 y1d65 ffab fsa fc2 sc0 ls0 ws0">49<span class="_ _52"> </span>The file will b<span class="_ _0"></span>e included once and the script won’t output anything</div><div class="t m0 x8 h12 y1d66 ffab fsa fc2 sc0 ls0 ws0">50<span class="_ _52"> </span>S<span class="_ _0"></span>ession da<span class="_ _1"></span>ta</div><a class="l" href="https://3v4l.org/5Z0qI"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:556.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/ES7ve"><div class="d m1" style="border-style:none;position:absolute;left:121.724000px;bottom:526.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/18O3k"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:511.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/F7vve"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:481.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/i4Goi"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:466.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/INLuB"><div class="d m1" style="border-style:none;position:absolute;left:258.297000px;bottom:451.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/k2hOf"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:436.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/FSOOD"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:421.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/1IR8b"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:406.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/cQir5"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:361.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/lFrCQ"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:346.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/B3l86"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:331.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/8m5F4"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:316.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/g5NnV"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:245.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://3v4l.org/oXFau"><div class="d m1" style="border-style:none;position:absolute;left:98.180000px;bottom:230.991000px;width:99.000000px;height:10.080000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf132" class="pf w2 h4" data-page-no="132"><div class="pc pc132 w2 h4"><img class="bi x0 y1d67 w4 hd8" alt="" src="bg132.png"/><div class="t m0 x15 hd y3e ffb5 fs6 fc2 sc0 ls44 ws11d">289</div><div class="t m0 x3 h1b y1ca ffb6 fs5 fc2 sc0 ls0 ws0">© <span class="_ _1"></span>Andrew Beak 2017 </div><div class="t m0 x3 h1b y1cb ffb6 fs5 fc2 sc0 ls0 ws0">A. Beak, <span class="ffb7">PHP 7 Zend Certification Study Guide</span>,  </div><div class="t m0 x3 h1b y1cc ffb6 fs5 fc4 sc0 ls0 ws0">https://doi.org/10.1007/978-1-4842-3246-0<span class="fc2"> </span></div><div class="t m0 x2b h1c y1d68 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">A</span></span></div><div class="t m0 x3 h12 y1d69 ffb5 fsa fc2 sc0 ls0 ws0">Abstract clas<span class="_ _1"></span>ses, <span class="fc4">127</span></div><div class="t m0 x3 h12 y1d6a ffb5 fsa fc2 sc0 ls0 ws0">addslashes() function, <span class="fc4">266</span></div><div class="t m0 x3 h12 y1d6b ffb5 fsa fc2 sc0 ls0 ws0">Apache version, <span class="fc4">29</span></div><div class="t m0 x3 h12 y1d6c ffb5 fsa fc2 sc0 ls0 ws0">Arguments<span class="_ _1"></span>, <span class="fc4">39</span></div><div class="t m0 x5 h12 y1d6d ffb5 fsa fc2 sc0 ls0 ws0">null type syntax, <span class="fc4">42</span></div><div class="t m0 x5 h12 y1d6e ffb5 fsa fc2 sc0 ls0 ws0">optional type, <span class="fc4">42</span></div><div class="t m0 x5 h12 y1d6f ffb5 fsa fc2 sc0 ls0 ws0">overloading functions<span class="_ _1"></span>, <span class="fc4">43</span></div><div class="t m0 x5 h12 y1d70 ffb5 fsa fc2 sc0 ls0 ws0">table summarization, <span class="fc4">40</span></div><div class="t m0 x5 h12 y1d71 ffb5 fsa fc2 sc0 ls0 ws0">type declarations<span class="_ _1"></span>, <span class="fc4">39</span></div><div class="t m0 x5 h12 y1d72 ffb5 fsa fc2 sc0 ls0 ws0">variadics, <span class="fc4">44</span></div><div class="t m0 x3 h12 y1d73 ffb5 fsa fc2 sc0 ls0 ws0">Arithmetic operators<span class="_ _1"></span>, <span class="fc4">15</span></div><div class="t m0 x3 h12 y1d74 ffb5 fsa fc2 sc0 lsf wse9">Ar<span class="_ _0"></span>rays</div><div class="t m0 x5 h12 y1d75 ffb5 fsa fc2 sc0 ls0 ws0">combine, <span class="fc4">94</span></div><div class="t m0 x5 h12 y1d76 ffb5 fsa fc2 sc0 ls0 ws0">comparisons</div><div class="t m0 xab h12 y1d77 ffb5 fsa fc2 sc0 ls0 ws0">array_di(), <span class="fc4">91</span></div><div class="t m0 xab h12 y1d78 ffb5 fsa fc2 sc0 ls0 ws0">array_intersect(), <span class="fc4">92</span></div><div class="t m0 xab h12 y1d79 ffb5 fsa fc2 sc0 ls0 ws0">mathema<span class="_ _1"></span>tical calculations, <span class="fc4">99</span></div><div class="t m0 xab h12 y1d7a ffb5 fsa fc2 sc0 ls0 ws0">user<span class="_ _1"></span>-dened matching  </div><div class="t m0 x98 h12 y1d7b ffb5 fsa fc2 sc0 ls0 ws0">functions, <span class="fc4">92</span></div><div class="t m0 xab h12 y1d7c ffb5 fsa fc2 sc0 ls0 ws0">variable types, <span class="fc4">91</span></div><div class="t m0 x5 h12 y1d7d ffb5 fsa fc2 sc0 ls0 ws0">declaration and r<span class="_ _1"></span>eferences, <span class="fc4">83</span></div><div class="t m0 x5 h12 y1d7e ffb5 fsa fc2 sc0 ls0 ws0">destructuring arrays, <span class="fc4">98</span></div><div class="t m0 x5 h12 y1d7f ffb5 fsa fc2 sc0 ls0 ws0">enumerativ<span class="_ _1"></span>e, <span class="fc4">84</span></div><div class="t m0 x5 h12 y1d80 ffb5 fsa fc2 sc0 ls0 ws0">functions, <span class="fc4">84</span></div><div class="t m0 x5 h12 y1d81 ffb5 fsa fc2 sc0 ls0 ws0">iteration</div><div class="t m0 xab h12 y1d82 ffb5 fsa fc2 sc0 ls0 ws0">loop<span class="_ _1"></span>, <span class="fc4">99</span></div><div class="t m0 xab h12 y1d83 ffb5 fsa fc2 sc0 ls0 ws0">walk() function, <span class="fc4">102</span></div><div class="t m0 x5 h12 y1d84 ffb5 fsa fc2 sc0 ls0 ws0">multi-dimensional arra<span class="_ _1"></span>ys, <span class="fc4">84</span></div><div class="t m0 x5 h12 y1d85 ffb5 fsa fc2 sc0 ls0 ws0">operators<span class="_ _1"></span>, <span class="fc4">86</span></div><div class="t m0 x5 h12 y1d86 ffb5 fsa fc2 sc0 ls11 wse8">PHP keys</div><div class="t m0 xab h12 y1d87 ffb5 fsa fc2 sc0 ls0 ws0">lling up<span class="_ _1"></span>, <span class="fc4">88</span></div><div class="t m0 xab h12 y1d88 ffb5 fsa fc2 sc0 ls0 ws0">properties, <span class="fc4">87</span></div><div class="t m0 xab h12 y1d89 ffb5 fsa fc2 sc0 ls0 ws0">push, pop<span class="_ _1"></span>, shift and unshift, <span class="fc4">90</span></div><div class="t m0 xac h12 y1d8a ffb5 fsa fc2 sc0 ls0 ws0">sort functions</div><div class="t m0 x66 h12 y1d8b ffb5 fsa fc2 sc0 ls0 ws0">Boolean value, <span class="fc4">102</span></div><div class="t m0 x66 h12 y1d8c ffb5 fsa fc2 sc0 ls0 ws0">ags, <span class="fc4">103</span></div><div class="t m0 x66 h12 y1d8d ffb5 fsa fc2 sc0 ls0 ws0">natur<span class="_ _1"></span>al order<span class="_ _2"></span>, <span class="fc4">103</span></div><div class="t m0 xac h12 y1d8e ffb5 fsa fc2 sc0 ls11 wse8">SPL (<span class="ffba ls0 ws0">see <span class="ffb5">Standard PHP Library (SPL))</span></span></div><div class="t m0 xac h12 y1d8f ffb5 fsa fc2 sc0 ls0 ws0">splitting function, <span class="fc4">96</span></div><div class="t m0 xad h12 y1d90 ffb5 fsa fc2 sc0 ls0 ws0">Assignment opera<span class="_ _1"></span>tors, <span class="fc4">21</span></div><div class="t m0 xae h1c y1d91 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">B</span></span></div><div class="t m0 xad h12 y1d92 ffb5 fsa fc2 sc0 ls0 ws0">Bitwise operators<span class="_ _1"></span>, <span class="fc4">18</span></div><div class="t m0 xae h1c y1d93 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">C</span></span></div><div class="t m0 xad h12 y1d94 ffb5 fsa fc2 sc0 ls0 ws0">Callables<span class="_ _1"></span>, <span class="fc4">51</span></div><div class="t m0 xad h12 y1d95 ffb5 fsa fc2 sc0 ls0 ws0">Casting variables<span class="_ _1"></span>, <span class="fc4">7</span></div><div class="t m0 xad h12 y1d96 ffb5 fsa fc2 sc0 ls0 ws0">class_alias() function, <span class="fc4">121</span></div><div class="t m0 xad h12 y1d97 ffb5 fsa fc2 sc0 ls0 ws0">Closure<span class="_ _1"></span>, <span class="fc4">49</span></div><div class="t m0 xad h12 y1d98 ffb5 fsa fc2 sc0 ls0 ws0">Comparison operators<span class="_ _1"></span>, <span class="fc4">22</span></div><div class="t m0 xad h12 y1d99 ffb5 fsa fc2 sc0 ls0 ws0">Conditional structures<span class="_ _1"></span>, <span class="fc4">24</span></div><div class="t m0 xad h12 y1d9a ffb5 fsa fc2 sc0 ls0 ws0">Cross-<span class="_ _1"></span>Site Request F<span class="_ _1"></span>orgeries  </div><div class="t m0 x80 h12 y1d9b ffb5 fsa fc2 sc0 ls0 ws0">(CSRF), <span class="fc4">158</span></div><div class="t m0 xad h12 y1d9c ffb5 fsa fc2 sc0 ls0 ws0">Cross-<span class="_ _1"></span>site scripting (XSS)</div><div class="t m0 xac h12 y1d9d ffb5 fsa fc2 sc0 ls0 ws0">malicious code, <span class="fc4">156</span></div><div class="t m0 xac h12 y1d9e ffb5 fsa fc2 sc0 ls0 ws0">mitigation, <span class="fc4">157</span></div><div class="t m0 xae h1c y1d9f ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">D</span></span></div><div class="t m0 xad h12 y1da0 ffb5 fsa fc2 sc0 ls0 ws0">Database<span class="_ _1"></span>, <span class="fc4">235</span></div><div class="t m0 xac h12 y1da1 ffb5 fsa fc2 sc0 ls0 ws0">character types<span class="_ _1"></span>, <span class="fc4">238</span></div><div class="t m0 xac h12 y1da2 ffb5 fsa fc2 sc0 ls0 ws0">indexes, <span class="fc4">236</span></div><div class="t m0 xac h12 y1da3 ffb5 fsa fc2 sc0 ls0 ws0">keys, <span class="fc4">235</span></div><div class="t m0 xac h12 y1da4 ffb5 fsa fc2 sc0 ls0 ws0">numeric types, <span class="fc4">237</span></div><div class="t m0 xac h12 y1da5 ffb5 fsa fc2 sc0 ls0 ws0">relationships<span class="_ _1"></span>, <span class="fc4">236</span></div><div class="t m0 xac h12 y1da6 ffb5 fsa fc2 sc0 ls0 ws0">SQL data types, <span class="fc4">237</span></div><div class="t m0 x3 h3b y1da7 ffbb fs7 fc2 sc0 ls0 ws0">Index</div><a class="l" href="https://doi.org/10.1007/978-1-4842-3246-0"><div class="d m1" style="border-style:none;position:absolute;left:57.600000px;bottom:25.017100px;width:146.710000px;height:9.486000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf92" data-dest-detail='[146,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:121.850000px;bottom:430.170000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11b" data-dest-detail='[283,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:144.863000px;bottom:419.919000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:120.789000px;bottom:409.668000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:103.986000px;bottom:399.417000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.826000px;bottom:389.166000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:127.232000px;bottom:378.915000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf41" data-dest-detail='[65,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:160.406000px;bottom:368.664000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3e" data-dest-detail='[62,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:156.302000px;bottom:358.413000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:142.352000px;bottom:348.162000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:111.077000px;bottom:337.911000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:141.407000px;bottom:327.660000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:110.619000px;bottom:307.158000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6f" data-dest-detail='[111,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:134.937000px;bottom:286.656000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf70" data-dest-detail='[112,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:155.402000px;bottom:276.405000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf77" data-dest-detail='[119,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:192.824000px;bottom:266.154000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf70" data-dest-detail='[112,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:135.341000px;bottom:245.652000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6f" data-dest-detail='[111,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:144.548000px;bottom:235.401000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:178.522000px;bottom:225.150000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf76" data-dest-detail='[118,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:153.943000px;bottom:214.899000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf68" data-dest-detail='[104,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:125.109000px;bottom:204.648000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf68" data-dest-detail='[104,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:112.841000px;bottom:194.397000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf77" data-dest-detail='[119,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:108.729000px;bottom:173.895000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7a" data-dest-detail='[122,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:150.416000px;bottom:163.644000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf68" data-dest-detail='[104,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:173.924000px;bottom:153.393000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6a" data-dest-detail='[106,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.301000px;bottom:143.142000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6c" data-dest-detail='[108,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:125.577000px;bottom:122.640000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6b" data-dest-detail='[107,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.039000px;bottom:112.389000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf6e" data-dest-detail='[110,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:196.135000px;bottom:102.138000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7a" data-dest-detail='[122,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:326.015000px;bottom:438.144000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7b" data-dest-detail='[123,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:289.215000px;bottom:427.893000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7b" data-dest-detail='[123,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:321.362000px;bottom:417.642000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf74" data-dest-detail='[116,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:322.487000px;bottom:397.140000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2b" data-dest-detail='[43,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:325.556000px;bottom:386.889000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf28" data-dest-detail='[40,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:308.028000px;bottom:347.178000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:276.682000px;bottom:306.428000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1d" data-dest-detail='[29,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:306.822000px;bottom:296.177000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:322.815000px;bottom:285.926000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:271.228000px;bottom:275.675000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:328.017000px;bottom:265.424000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2e" data-dest-detail='[46,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:327.674000px;bottom:255.173000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.014000px;bottom:234.671000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.571000px;bottom:214.169000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfaf" data-dest-detail='[175,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:296.392000px;bottom:203.918000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffc" data-dest-detail='[252,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:277.483000px;bottom:163.178000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.895000px;bottom:152.927000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffd" data-dest-detail='[253,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.988000px;bottom:142.676000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffc" data-dest-detail='[252,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:273.343000px;bottom:132.425000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:311.304000px;bottom:122.174000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffd" data-dest-detail='[253,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:306.552000px;bottom:111.923000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pffe" data-dest-detail='[254,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:313.518000px;bottom:101.672000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf133" class="pf w2 h4" data-page-no="133"><div class="pc pc133 w2 h4"><div class="t m0 x8 hd9 y54 ffbc fs9 fc5 sc0 ls0 ws0">■ <span class="ffbd fc2">INDEX</span></div><div class="t m0 x8 hd y55 ffb5 fs6 fc2 sc0 ls26 ws8f">290</div><div class="t m0 x8 h12 y1b8 ffb5 fsa fc2 sc0 ls0 ws0">Database sour<span class="_ _1"></span>ce (DSN<span class="_ _0"></span>), <span class="fc4">244</span></div><div class="t m0 x8 h12 y1da8 ffb5 fsa fc2 sc0 ls0 ws0">Date and time<span class="_ _1"></span>, <span class="fc4">190</span></div><div class="t m0 x4b h12 y1da9 ffb5 fsa fc2 sc0 ls11 wse8">date</div><div class="t m0 xaf h12 y1daa ffb5 fsa fc2 sc0 ls0 ws0">calculations<span class="_ _1"></span>, <span class="fc4">193</span></div><div class="t m0 xaf h12 y1dab ffb5 fsa fc2 sc0 ls0 ws0">compare<span class="_ _1"></span>, <span class="fc4">194</span></div><div class="t m0 xaf h12 y1dac ffb5 fsa fc2 sc0 ls0 ws0">formatting dates<span class="_ _1"></span>, <span class="fc4">191</span></div><div class="t m0 xaf h12 y1dad ffb5 fsa fc2 sc0 ls0 ws0">manual calcula<span class="_ _1"></span>tions, <span class="fc4">194</span></div><div class="t m0 x4b h12 y1dae ffb5 fsa fc2 sc0 ls0 ws0">string formats, <span class="fc4">191</span></div><div class="t m0 x8 h12 y1daf ffb5 fsa fc2 sc0 ls0 ws0">Document Object Model (DOM), <span class="fc4">179</span></div><div class="t m0 x4b h12 y1db0 ffb5 fsa fc2 sc0 ls0 ws0">DOMDocument syntax, <span class="fc4">180</span></div><div class="t m0 x4b h12 y1db1 ffb5 fsa fc2 sc0 ls0 ws0">getElementById() function, <span class="fc4">181</span></div><div class="t m0 x4b h12 y1db2 ffb5 fsa fc2 sc0 ls0 ws0">methods, <span class="fc4">180–181</span></div><div class="t m0 x4b h12 y1db3 ffb5 fsa fc2 sc0 ls0 ws0">nodes, <span class="fc4">180</span></div><div class="t m0 xf h1c y1db4 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">E</span></span></div><div class="t m0 x8 h12 y1db5 ffb5 fsa fc2 sc0 ls0 ws0">Error handling</div><div class="t m0 x4b h12 y1db6 ffb5 fsa fc2 sc0 ls0 ws0">constants, <span class="fc4">251</span></div><div class="t m0 x4b h12 y1db7 ffb5 fsa fc2 sc0 ls0 ws0">exceptions, <span class="fc4">254</span></div><div class="t m0 xaf h12 y1db8 ffb5 fsa fc2 sc0 ls0 ws0">extending classes, <span class="fc4">255</span></div><div class="t m0 xaf h12 y1db9 ffb5 fsa fc2 sc0 ls0 ws0">hierarch<span class="_ _1"></span>y, <span class="fc4">256</span></div><div class="t m0 x4b h12 y1dba ffb5 fsa fc2 sc0 ls0 ws0">functions, <span class="fc4">253</span></div><div class="t m0 x4b h12 y1dbb ffb5 fsa fc2 sc0 ls0 ws0">handling (<span class="ffba">see </span>Handling ex<span class="_ _1"></span>ceptions)</div><div class="t m0 x4b h12 y1dbc ffb5 fsa fc2 sc0 ls0 ws0">PHP errors, <span class="fc4">250</span></div><div class="t m0 x4b h12 y1dbd ffb5 fsa fc2 sc0 ls0 ws0">set_error_handler()  </div><div class="t m0 xb0 h12 y1dbe ffb5 fsa fc2 sc0 ls0 ws0">function, <span class="fc4">252</span></div><div class="t m0 x4b h12 y1dbf ffb5 fsa fc2 sc0 ls0 ws0">throwa<span class="_ _1"></span>bles, <span class="fc4">249</span></div><div class="t m0 xaf h12 y1dc0 ffb5 fsa fc2 sc0 ls0 ws0">interface, <span class="fc4">249</span></div><div class="t m0 x4b h12 y1dc1 ffb5 fsa fc2 sc0 ls0 ws0">warnings/messages error<span class="_ _11"></span>, <span class="fc4">253</span></div><div class="t m0 x8 h12 y1dc2 ffb5 fsa fc2 sc0 ls0 ws0">eXtensible M<span class="_ _1"></span>arkup Lang<span class="_ _1"></span>uage  </div><div class="t m0 x8c h12 y1dc3 ffb5 fsa fc2 sc0 ls0 ws0">(XML), <span class="fc4">173</span></div><div class="t m0 x4b h12 y1dc4 ffb5 fsa fc2 sc0 ls0 ws0">basics of, <span class="fc4">173</span></div><div class="t m0 x4b h12 y1dc5 ffb5 fsa fc2 sc0 ls0 ws0">DOM, <span class="fc4">179</span></div><div class="t m0 x4b h12 y1dc6 ffb5 fsa fc2 sc0 ls0 ws0">error codes, <span class="fc4">178</span></div><div class="t m0 x4b h12 y1dc7 ffb5 fsa fc2 sc0 ls0 ws0">event<span class="_ _1"></span>-based parsers, <span class="fc4">177</span></div><div class="t m0 x4b h12 y1dc8 ffb5 fsa fc2 sc0 ls0 ws0">extension, <span class="fc4">179</span></div><div class="t m0 x4b h12 y1dc9 ffb5 fsa fc2 sc0 ls0 ws0">parsers, <span class="fc4">177</span></div><div class="t m0 x4b h12 y1dca ffb5 fsa fc2 sc0 ls0 ws0">processing instructions<span class="_ _1"></span>, <span class="fc4">175</span></div><div class="t m0 x4b h12 y1dcb ffb5 fsa fc2 sc0 ls0 ws0">SimpleXML, <span class="fc4">182</span></div><div class="t m0 xaf h12 y1dcc ffb5 fsa fc2 sc0 ls0 ws0">children() method, <span class="fc4">182</span></div><div class="t m0 xaf h12 y1dcd ffb5 fsa fc2 sc0 ls0 ws0">data exchange<span class="_ _1"></span>, <span class="fc4">183</span></div><div class="t m0 xaf h12 y1dce ffb5 fsa fc2 sc0 ls0 ws0">object creation, <span class="fc4">182</span></div><div class="t m0 xaf h12 y1dcf ffb5 fsa fc2 sc0 ls0 ws0">retrieving information, <span class="fc4">183</span></div><div class="t m0 xaf h12 y1dd0 ffb5 fsa fc2 sc0 ls0 ws0">xpath, <span class="fc4">183</span></div><div class="t m0 x4b h12 y1dd1 ffb5 fsa fc2 sc0 ls0 ws0">source encoding, <span class="fc4">178</span></div><div class="t m0 x4b h12 y1dd2 ffb5 fsa fc2 sc0 ls0 ws0">transformations<span class="_ _1"></span>, <span class="fc4">175</span></div><div class="t m0 x4b h12 y1dd3 ffb5 fsa fc2 sc0 ls0 ws0">tree parsers<span class="_ _1"></span>, <span class="fc4">177</span></div><div class="t m0 x4b h12 y1dd4 ffb5 fsa fc2 sc0 ls0 ws0">well-formed and valid, <span class="fc4">174</span></div><div class="t m0 x4b h12 y1dd5 ffb5 fsa fc2 sc0 ls0 ws0">XSL extension, <span class="fc4">175</span></div><div class="t m0 x4b h12 y1dd6 ffb5 fsa fc2 sc0 ls0 ws0">XSL<span class="_ _2"></span>T processor<span class="_ _2"></span>, <span class="fc4">176</span></div><div class="t m0 x91 h1c y1dd7 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">F</span></span></div><div class="t m0 x7a h12 y1dd8 ffb5 fsa fc2 sc0 ls0 ws0">Functions<span class="_ _1"></span>, <span class="fc4">39</span></div><div class="t m0 xb1 h12 y1dd9 ffb5 fsa fc2 sc0 ls0 ws0">arguments (<span class="ffba">see </span>Arguments)</div><div class="t m0 xb1 h12 y1dda ffb5 fsa fc2 sc0 ls0 ws0">callables<span class="_ _1"></span>, <span class="fc4">51</span></div><div class="t m0 xb1 h12 y1ddb ffb5 fsa fc2 sc0 ls0 ws0">lambda and closure</div><div class="t m0 x3e h12 y1ddc ffb5 fsa fc2 sc0 ls0 ws0">anonymous function, <span class="fc4">48</span></div><div class="t m0 x3e h12 y1ddd ffb5 fsa fc2 sc0 ls0 ws0">binding closures<span class="_ _1"></span>-scopes, <span class="fc4">50</span></div><div class="t m0 x3e h12 y1dde ffb5 fsa fc2 sc0 ls0 ws0">closure<span class="_ _1"></span>, <span class="fc4">49</span></div><div class="t m0 x3e h12 y1ddf ffb5 fsa fc2 sc0 ls0 ws0">early and late binding, <span class="fc4">49</span></div><div class="t m0 x3e h12 y1de0 ffb5 fsa fc2 sc0 ls0 ws0">self-executing closur<span class="_ _1"></span>es, <span class="fc4">51</span></div><div class="t m0 xb1 h12 y1de1 ffb5 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ences, <span class="fc4">44</span></div><div class="t m0 xb1 h12 y1de2 ffb5 fsa fc2 sc0 ls0 ws0">returns<span class="_ _1"></span>, <span class="fc4">46</span></div><div class="t m0 xb1 h12 y1de3 ffb5 fsa fc2 sc0 ls0 ws0">scope, <span class="fc4">48</span></div><div class="t m0 xb1 h12 y1de4 ffb5 fsa fc2 sc0 ls0 ws0">variable functions, <span class="fc4">45</span></div><div class="t m0 x91 h1c y1de5 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">G</span></span></div><div class="t m0 x7a h12 y1de6 ffb5 fsa fc2 sc0 ls0 ws0">Garbage collection, <span class="fc4">32</span></div><div class="t m0 x7a h12 y1de7 ffb5 fsa fc2 sc0 ls0 ws0">Generic character types, <span class="fc4">73</span></div><div class="t m0 x91 h1c y1de8 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">H</span></span></div><div class="t m0 x7a h12 y1de9 ffb5 fsa fc2 sc0 ls0 ws0">Handling ex<span class="_ _1"></span>ceptions, <span class="fc4">257</span></div><div class="t m0 xb1 h12 y1dea ffb5 fsa fc2 sc0 ls0 ws0">catching exceptions<span class="_ _1"></span>, <span class="fc4">258</span></div><div class="t m0 xb1 h12 y1deb ffb5 fsa fc2 sc0 ls0 ws0">nally block, <span class="fc4">259</span></div><div class="t m0 x7a h12 y1dec ffb5 fsa fc2 sc0 ls0 ws0">Handling les<span class="_ _1"></span>, <span class="fc4">138</span></div><div class="t m0 x7a h12 y1ded ffb5 fsa fc2 sc0 ls0 ws0">Heredoc declar<span class="_ _1"></span>ation, <span class="fc4">60</span></div><div class="t m0 x7a h12 y1dee ffb5 fsa fc2 sc0 ls0 ws0">Hypertext As e Engine Of S<span class="_ _1"></span>tate </div><div class="t m0 xb2 h12 y1def ffb5 fsa fc2 sc0 ls0 ws0">(HA<span class="_ _2"></span>TE<span class="_ _0"></span>OAS), <span class="fc4">187</span></div><div class="t m0 x91 h1c y1df0 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">I</span></span></div><div class="t m0 x7a h12 y1df1 ffb5 fsa fc2 sc0 ls0 ws0">implode() function, <span class="fc4">85</span></div><div class="t m0 x7a h12 y1df2 ffb5 fsa fc2 sc0 ls0 ws0">Input<span class="_ _1"></span>-output process</div><div class="t m0 xb1 h12 y1df3 ffb5 fsa fc2 sc0 ls0 ws0">les</div><div class="t m0 x3e h12 y1df4 ffb5 fsa fc2 sc0 ls0 ws0">ags, <span class="fc4">206</span></div><div class="t m0 x3e h12 y1df5 ffb5 fsa fc2 sc0 ls0 ws0">modes, <span class="fc4">205</span></div><div class="t m0 x3e h12 y1df6 ffb5 fsa fc2 sc0 ls0 ws0">open les, <span class="fc4">205</span></div><div class="t m0 x3e h12 y1df7 ffb5 fsa fc2 sc0 ls0 ws0">PHP functions, <span class="fc4">207</span></div><div class="t m0 x3e h12 y1df8 ffb5 fsa fc2 sc0 ls0 ws0">read le<span class="_ _1"></span>, <span class="fc4">207</span></div><div class="t m0 x3e h12 y1df9 ffb5 fsa fc2 sc0 ls0 ws0">writing les, <span class="fc4">207</span></div><div class="t m0 xb1 h12 y1dfa ffb5 fsa fc2 sc0 ls0 ws0">streams</div><div class="t m0 x3e h12 y1dfb ffb5 fsa fc2 sc0 ls0 ws0">contexts<span class="_ _1"></span>, <span class="fc4">213</span></div><div class="t m0 x3e h12 y1dfc ffb5 fsa fc2 sc0 ls0 ws0">lters, <span class="fc4">212</span></div><div class="t m0 x3e h12 y1dfd ffb5 fsa fc2 sc0 ls0 ws0">functions, <span class="fc4">211</span></div><div class="t m0 x3e h12 y1dfe ffb5 fsa fc2 sc0 ls0 ws0">stream_contex<span class="_ _1"></span>t_create()  </div><div class="t m0 xa5 h12 y1dff ffb5 fsa fc2 sc0 ls0 ws0">function, <span class="fc4">213</span></div><div class="t m0 x3e h12 y1e00 ffb5 fsa fc2 sc0 ls0 ws0">transformation opera<span class="_ _1"></span>tions, <span class="fc4">212</span></div><div class="t m0 x3e h12 y1e01 ffb5 fsa fc2 sc0 ls0 ws0">wrappers<span class="_ _1"></span>, <span class="fc4">211</span></div><a class="l" href="#pf105" data-dest-detail='[261,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:133.496000px;bottom:589.325000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcf" data-dest-detail='[207,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:98.008800px;bottom:579.074000px;width:13.500200px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd2" data-dest-detail='[210,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:120.078000px;bottom:558.572000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd3" data-dest-detail='[211,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:107.810000px;bottom:548.321000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd0" data-dest-detail='[208,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.682000px;bottom:538.070000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd3" data-dest-detail='[211,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:151.415000px;bottom:527.819000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd0" data-dest-detail='[208,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:112.058000px;bottom:517.568000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc4" data-dest-detail='[196,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:168.650000px;bottom:507.317000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc5" data-dest-detail='[197,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:147.932000px;bottom:497.066000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc6" data-dest-detail='[198,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:161.342000px;bottom:486.815000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc5" data-dest-detail='[197,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:92.663900px;bottom:476.564000px;width:17.730100px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc6" data-dest-detail='[198,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:110.394000px;bottom:476.564000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc5" data-dest-detail='[197,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:82.106800px;bottom:466.313000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10c" data-dest-detail='[268,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:95.696700px;bottom:414.824000px;width:13.500300px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10f" data-dest-detail='[271,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:100.052000px;bottom:404.573000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf110" data-dest-detail='[272,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.336000px;bottom:394.322000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf111" data-dest-detail='[273,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:110.385000px;bottom:384.071000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:95.020800px;bottom:373.820000px;width:13.500200px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10b" data-dest-detail='[267,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:100.646000px;bottom:353.318000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10d" data-dest-detail='[269,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.976000px;bottom:332.816000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:101.204000px;bottom:322.565000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:107.666000px;bottom:312.314000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10e" data-dest-detail='[270,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:154.852000px;bottom:302.063000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbe" data-dest-detail='[190,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:103.635000px;bottom:281.561000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbe" data-dest-detail='[190,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:91.673800px;bottom:271.310000px;width:13.500200px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc4" data-dest-detail='[196,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:80.262000px;bottom:261.059000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc3" data-dest-detail='[195,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:102.104000px;bottom:250.808000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc2" data-dest-detail='[194,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:135.548000px;bottom:240.557000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc4" data-dest-detail='[196,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:96.110700px;bottom:230.306000px;width:13.500300px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc2" data-dest-detail='[194,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:86.786900px;bottom:220.055000px;width:13.500100px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:147.904000px;bottom:209.804000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc7" data-dest-detail='[199,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:104.489000px;bottom:199.553000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc7" data-dest-detail='[199,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:144.638000px;bottom:189.302000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:128.753000px;bottom:179.051000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc7" data-dest-detail='[199,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.138000px;bottom:168.800000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:158.920000px;bottom:158.549000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc8" data-dest-detail='[200,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:95.417800px;bottom:148.298000px;width:13.500200px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc3" data-dest-detail='[195,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.219000px;bottom:138.047000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:120.302000px;bottom:127.796000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc2" data-dest-detail='[194,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:103.463000px;bottom:117.545000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbf" data-dest-detail='[191,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:143.467000px;bottom:107.294000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc0" data-dest-detail='[192,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.148000px;bottom:97.042600px;width:13.500000px;height:10.044400px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc1" data-dest-detail='[193,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.206000px;bottom:86.791600px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:262.192000px;bottom:571.067000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:272.218000px;bottom:550.565000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:333.903000px;bottom:530.063000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf48" data-dest-detail='[72,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:346.331000px;bottom:519.812000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:281.677000px;bottom:509.561000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:337.089000px;bottom:499.310000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:340.752000px;bottom:489.059000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:278.472000px;bottom:478.808000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf44" data-dest-detail='[68,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:266.512000px;bottom:468.557000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:261.112000px;bottom:458.306000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:307.740000px;bottom:448.055000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:296.148000px;bottom:406.817000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5e" data-dest-detail='[94,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.552000px;bottom:396.566000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf112" data-dest-detail='[274,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.870000px;bottom:355.317000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf113" data-dest-detail='[275,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.741000px;bottom:345.066000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf114" data-dest-detail='[276,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.556000px;bottom:334.815000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:277.194000px;bottom:324.564000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf51" data-dest-detail='[81,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.358000px;bottom:314.313000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcc" data-dest-detail='[204,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.294000px;bottom:293.811000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:296.967000px;bottom:252.567000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfdf" data-dest-detail='[223,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:271.390000px;bottom:221.814000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfde" data-dest-detail='[222,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:279.679000px;bottom:211.563000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfde" data-dest-detail='[222,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:290.901000px;bottom:201.312000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe0" data-dest-detail='[224,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:309.054000px;bottom:191.061000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe0" data-dest-detail='[224,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:284.727000px;bottom:180.810000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe0" data-dest-detail='[224,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:298.470000px;bottom:170.559000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe6" data-dest-detail='[230,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.763000px;bottom:150.057000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe5" data-dest-detail='[229,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:275.467000px;bottom:139.806000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:290.020000px;bottom:129.555000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe6" data-dest-detail='[230,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:293.971000px;bottom:109.053000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe5" data-dest-detail='[229,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:354.621000px;bottom:98.801800px;width:13.500000px;height:10.044200px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:289.560000px;bottom:88.550800px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf134" class="pf w2 h4" data-page-no="134"><div class="pc pc134 w2 h4"><div class="t m0 x73 hd9 y54 ffbc fs9 fc5 sc0 ls0 ws0">■ <span class="ffbd fc2">INDEX</span></div><div class="t m0 x21 hd y55 ffb5 fs6 fc2 sc0 ls45 ws11e">2<span class="_ _0"></span>91</div><div class="t m0 x5 h12 y1b8 ffb5 fsa fc2 sc0 ls0 ws0">system functions</div><div class="t m0 xab h12 y1da8 ffb5 fsa fc2 sc0 ls0 ws0">determining le, <span class="fc4">210</span></div><div class="t m0 xab h12 y1da9 ffb5 fsa fc2 sc0 ls0 ws0">directories, <span class="fc4">208</span></div><div class="t m0 xab h12 y1daa ffb5 fsa fc2 sc0 ls0 ws0">le information, <span class="fc4">209</span></div><div class="t m0 xab h12 y1dab ffb5 fsa fc2 sc0 ls0 ws0">magic le constants<span class="_ _1"></span>, <span class="fc4">211</span></div><div class="t m0 xab h12 y1dac ffb5 fsa fc2 sc0 ls0 ws0">manage les<span class="_ _1"></span>, <span class="fc4">210</span></div><div class="t m0 x2b h1c y1e02 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2 ls5b ws137">J,<span class="_ _0"></span> K</span></span></div><div class="t m0 x3 h12 y1e03 ffb5 fsa fc2 sc0 ls0 ws0">J<span class="_ _1"></span>avaScript Object Notation (JSON<span class="_ _0"></span>)</div><div class="t m0 x5 h12 y1e04 ffb5 fsa fc2 sc0 ls0 ws0">constants, <span class="fc4">189</span></div><div class="t m0 x5 h12 y1e05 ffb5 fsa fc2 sc0 ls0 ws0">json_decode() function, <span class="fc4">189</span></div><div class="t m0 x3 h12 y1e06 ffb5 fsa fc2 sc0 ls0 ws0">json_encode function, <span class="fc4">265</span></div><div class="t m0 x2b h1c y1e07 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">L</span></span></div><div class="t m0 x3 h12 y1e08 ffb5 fsa fc2 sc0 ls0 ws0">Lambda and closure</div><div class="t m0 x5 h12 y1e09 ffb5 fsa fc2 sc0 ls0 ws0">anonymous function, <span class="fc4">48</span></div><div class="t m0 x5 h12 y1e0a ffb5 fsa fc2 sc0 ls0 ws0">binding closures<span class="_ _1"></span>-scopes, <span class="fc4">50</span></div><div class="t m0 x5 h12 y1e0b ffb5 fsa fc2 sc0 ls0 ws0">closure<span class="_ _1"></span>, <span class="fc4">49</span></div><div class="t m0 x5 h12 y1e0c ffb5 fsa fc2 sc0 ls0 ws0">early and late binding, <span class="fc4">49</span></div><div class="t m0 x5 h12 y1e0d ffb5 fsa fc2 sc0 ls0 ws0">self-executing closur<span class="_ _1"></span>es, <span class="fc4">51</span></div><div class="t m0 x3 h12 y1e0e ffb5 fsa fc2 sc0 ls0 ws0">Language</div><div class="t m0 x5 h12 y1e0f ffb5 fsa fc2 sc0 ls0 ws0">comments, <span class="fc4">5</span></div><div class="t m0 x5 h12 y1e10 ffb5 fsa fc2 sc0 ls0 ws0">conguration</div><div class="t m0 xab h12 y1e11 ffb5 fsa fc2 sc0 ls0 ws0">Apache version, <span class="fc4">29</span></div><div class="t m0 xab h12 y1e12 ffb5 fsa fc2 sc0 ls0 ws0">exible strategy, <span class="fc4">28</span></div><div class="t m0 xab h12 y1e13 ffb5 fsa fc2 sc0 ls0 ws0">Php<span class="_ _1"></span>.ini, <span class="fc4">29</span></div><div class="t m0 xab h12 y1e14 ffb5 fsa fc2 sc0 ls0 ws0">user INI les, <span class="fc4">29</span></div><div class="t m0 x5 h12 y1e15 ffb5 fsa fc2 sc0 ls0 ws0">constants, <span class="fc4">12</span></div><div class="t m0 x5 h12 y1e16 ffb5 fsa fc2 sc0 ls0 ws0">constructs, <span class="fc4">3</span></div><div class="t m0 x5 h12 y1e17 ffb5 fsa fc2 sc0 ls0 ws0">control structur<span class="_ _1"></span>es, <span class="fc4">23</span></div><div class="t m0 x5 h12 y1e18 ffb5 fsa fc2 sc0 ls0 ws0">empty() command, <span class="fc4">11</span></div><div class="t m0 x5 h12 y1e19 ffb5 fsa fc2 sc0 ls0 ws0">error messages<span class="_ _1"></span>, <span class="fc4">23</span></div><div class="t m0 x5 h12 y1e1a ffb5 fsa fc2 sc0 ls0 ws0">extensions</div><div class="t m0 xab h12 y1e1b ffb5 fsa fc2 sc0 ls0 ws0">checking extensions<span class="_ _1"></span>, <span class="fc4">34</span></div><div class="t m0 xab h12 y1e1c ffb5 fsa fc2 sc0 ls0 ws0">installation, <span class="fc4">33</span></div><div class="t m0 x5 h12 y1e1d ffb5 fsa fc2 sc0 ls0 ws0">features<span class="_ _1"></span>, <span class="fc4">1</span></div><div class="t m0 x5 h12 y1e1e ffb5 fsa fc2 sc0 ls0 ws0">insert web page, <span class="fc4">1</span></div><div class="t m0 x5 h12 y1e1f ffb5 fsa fc2 sc0 ls0 ws0">isset() command, <span class="fc4">11</span></div><div class="t m0 x5 h12 y1e20 ffb5 fsa fc2 sc0 ls0 ws0">magic constants<span class="_ _1"></span>, <span class="fc4">14</span></div><div class="t m0 x5 h12 y1e21 ffb5 fsa fc2 sc0 ls0 ws0">naming variables<span class="_ _1"></span>, <span class="fc4">10</span></div><div class="t m0 x5 h12 y1e22 ffb5 fsa fc2 sc0 ls0 ws0">operators<span class="_ _1"></span>, <span class="fc4">15,</span> <span class="fc4">23</span></div><div class="t m0 x5 h12 y1e23 ffb5 fsa fc2 sc0 ls0 ws0">performance issues</div><div class="t m0 xab h12 y1e24 ffb5 fsa fc2 sc0 ls0 ws0">arrays and objects<span class="_ _1"></span>, <span class="fc4">31</span></div><div class="t m0 xab h12 y1e25 ffb5 fsa fc2 sc0 ls0 ws0">deployment, <span class="fc4">30</span></div><div class="t m0 xab h12 y1e26 ffb5 fsa fc2 sc0 ls0 ws0">garbage collection, <span class="fc4">32</span></div><div class="t m0 xab h12 y1e27 ffb5 fsa fc2 sc0 ls0 ws0">memory leaks, <span class="fc4">32</span></div><div class="t m0 xab h12 y1e28 ffb5 fsa fc2 sc0 ls0 ws0">memory management, <span class="fc4">30</span></div><div class="t m0 x66 h12 y1e29 ffb5 fsa fc2 sc0 ls0 ws0">Opcode cache, <span class="fc4">32</span></div><div class="t m0 x66 h12 y1e2a ffb5 fsa fc2 sc0 ls0 ws0">symbols, <span class="fc4">31</span></div><div class="t m0 xac h12 y1e2b ffb5 fsa fc2 sc0 ls0 ws0">Superglobals<span class="_ _1"></span>, <span class="fc4">13</span></div><div class="t m0 xac h12 y1e2c ffb5 fsa fc2 sc0 ls0 ws0">unset() command, <span class="fc4">11</span></div><div class="t m0 xac h12 y1e2d ffb5 fsa fc2 sc0 ls0 ws0">variables types</div><div class="t m0 x66 h12 y1e2e ffb5 fsa fc2 sc0 ls0 ws0">casting operat<span class="_ _1"></span>or<span class="_ _2"></span>, <span class="fc4">7</span></div><div class="t m0 x66 h12 y1e2f ffb5 fsa fc2 sc0 ls0 ws0">composite, <span class="fc4">7</span></div><div class="t m0 x66 h12 y1e30 ffb5 fsa fc2 sc0 ls0 ws0">oats and integers<span class="_ _1"></span>, <span class="fc4">9</span></div><div class="t m0 x66 h12 y1e31 ffb5 fsa fc2 sc0 ls0 ws0">scalar<span class="_ _2"></span>, <span class="fc4">6</span></div><div class="t m0 xad h12 y1e32 ffb5 fsa fc2 sc0 ls0 ws0">Late static binding</div><div class="t m0 xac h12 y1e33 ffb5 fsa fc2 sc0 ls0 ws0">call-A::foo(), <span class="fc4">132</span></div><div class="t m0 xac h12 y1e34 ffb5 fsa fc2 sc0 ls0 ws0">forwarrding calls, <span class="fc4">131</span></div><div class="t m0 xac h12 y1e35 ffb5 fsa fc2 sc0 ls0 ws0">parent<span class="_ _0"></span>::foo(), <span class="fc4">133</span></div><div class="t m0 xac h12 y1e36 ffb5 fsa fc2 sc0 ls0 ws0">self<span class="_ _0"></span>::foo(), <span class="fc4">133</span></div><div class="t m0 xad h12 y1e37 ffb5 fsa fc2 sc0 ls0 ws0">Logic operators, <span class="fc4">16</span></div><div class="t m0 xad h12 y1e38 ffb5 fsa fc2 sc0 ls0 ws0">Loops</div><div class="t m0 xac h12 y1e39 ffb5 fsa fc2 sc0 ls0 ws0">break loop<span class="_ _1"></span>, <span class="fc4">26</span></div><div class="t m0 xac h12 y1e3a ffb5 fsa fc2 sc0 ls0 ws0">for loop syntax, <span class="fc4">25</span></div><div class="t m0 xac h12 y1e3b ffb5 fsa fc2 sc0 ls0 ws0">foreach<span class="_ _1"></span>, <span class="fc4">26</span></div><div class="t m0 xac h12 y1e3c ffb5 fsa fc2 sc0 ls0 ws0">while loop<span class="_ _1"></span>, <span class="fc4">25</span></div><div class="t m0 xae h1c y1e3d ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">M</span></span></div><div class="t m0 xad h12 y1e3e ffb5 fsa fc2 sc0 ls0 ws0">Magic constan<span class="_ _1"></span>ts, <span class="fc4">14</span></div><div class="t m0 xad h12 y1e3f ffb5 fsa fc2 sc0 ls0 ws0">Magic (__*) methods</div><div class="t m0 xac h12 y1e40 ffb5 fsa fc2 sc0 ls0 ws0">__call and __callStatic  </div><div class="t m0 x87 h12 y1e41 ffb5 fsa fc2 sc0 ls0 ws0">method, <span class="fc4">134</span></div><div class="t m0 xac h12 y1e42 ffb5 fsa fc2 sc0 ls0 ws0">__construct() and __destruct() </div><div class="t m0 x87 h12 y1e43 ffb5 fsa fc2 sc0 ls0 ws0">functions, <span class="fc4">136</span></div><div class="t m0 xac h12 y1e44 ffb5 fsa fc2 sc0 ls0 ws0">__debugInfo<span class="_ _1"></span>, <span class="fc4">135</span></div><div class="t m0 xac h12 y1e45 ffb5 fsa fc2 sc0 ls0 ws0">__get and __set, <span class="fc4">133</span></div><div class="t m0 xac h12 y1e46 ffb5 fsa fc2 sc0 ls0 ws0">__invoke<span class="_ _1"></span>, <span class="fc4">135</span></div><div class="t m0 xac h12 y1e47 ffb5 fsa fc2 sc0 ls0 ws0">__isset and __unset, <span class="fc4">134</span></div><div class="t m0 xac h12 y1e48 ffb5 fsa fc2 sc0 ls0 ws0">__sleep() and __wake(), <span class="fc4">136</span></div><div class="t m0 xad h12 y1e49 ffb5 fsa fc2 sc0 ls0 ws0">Memory leaks, <span class="fc4">32</span></div><div class="t m0 xad h12 y1e4a ffb5 fsa fc2 sc0 ls0 ws0">Meta-char<span class="_ _1"></span>acters, <span class="fc4">72</span></div><div class="t m0 xad h12 y1e4b ffb5 fsa fc2 sc0 ls0 ws0">MySQL database<span class="_ _1"></span>, <span class="fc4">269</span></div><div class="t m0 xae h1c y1e4c ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">N</span></span></div><div class="t m0 xad h12 y1e4d ffb5 fsa fc2 sc0 ls0 ws0">Names<span class="_ _1"></span>paces</div><div class="t m0 xac h12 y1e4e ffb5 fsa fc2 sc0 ls0 ws0">fully qualied names, <span class="fc4">27</span></div><div class="t m0 xac h12 y1e4f ffb5 fsa fc2 sc0 ls0 ws0">naming collisions<span class="_ _1"></span>, <span class="fc4">26</span></div><div class="t m0 xad h12 y1e50 ffb5 fsa fc2 sc0 ls0 ws0">Nowdoc declar<span class="_ _1"></span>ation, <span class="fc4">60</span></div><div class="t m0 xad h12 y1e51 ffb5 fsa fc2 sc0 ls0 ws0">Null cons<span class="_ _1"></span>trains</div><div class="t m0 xac h12 y1e52 ffb5 fsa fc2 sc0 ls0 ws0">coalescing operator<span class="_ _11"></span>, <span class="fc4">17</span></div><div class="t m0 xac h12 y1e53 ffb5 fsa fc2 sc0 ls0 ws0">type syntax, <span class="fc4">42</span></div><div class="t m0 xad h12 y1e54 ffb5 fsa fc2 sc0 ls0 ws0">number_format() function, <span class="fc4">71</span></div><div class="t m0 xad h12 y1e55 ffb5 fsa fc2 sc0 ls0 ws0">Num<span class="_ _1"></span>ber formats, <span class="fc4">5</span></div><a class="l" href="#pfe3" data-dest-detail='[227,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:153.104000px;bottom:579.074000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe1" data-dest-detail='[225,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:132.602000px;bottom:568.823000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe2" data-dest-detail='[226,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:151.655000px;bottom:558.572000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe4" data-dest-detail='[228,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:167.459000px;bottom:548.321000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe3" data-dest-detail='[227,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:139.757000px;bottom:538.070000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.517000px;bottom:486.574000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:166.265000px;bottom:476.323000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11a" data-dest-detail='[282,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:144.944000px;bottom:466.072000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf46" data-dest-detail='[70,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:156.725000px;bottom:414.574000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf48" data-dest-detail='[72,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:169.154000px;bottom:404.323000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:104.499000px;bottom:394.072000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf47" data-dest-detail='[71,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:159.911000px;bottom:383.821000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf49" data-dest-detail='[73,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:163.574000px;bottom:373.570000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.369000px;bottom:353.068000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:150.795000px;bottom:332.566000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:151.622000px;bottom:322.315000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:119.259000px;bottom:312.064000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.129000px;bottom:301.813000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf22" data-dest-detail='[34,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.517000px;bottom:291.562000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf19" data-dest-detail='[25,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:116.594000px;bottom:281.311000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:144.395000px;bottom:271.060000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:148.832000px;bottom:260.809000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:134.171000px;bottom:250.558000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf38" data-dest-detail='[56,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:168.875000px;bottom:230.056000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf37" data-dest-detail='[55,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:135.036000px;bottom:219.805000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf17" data-dest-detail='[23,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:107.172000px;bottom:209.554000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf17" data-dest-detail='[23,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.655000px;bottom:199.303000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:141.587000px;bottom:189.052000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:138.662000px;bottom:178.801000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20" data-dest-detail='[32,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:142.559000px;bottom:168.550000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.301000px;bottom:158.299000px;width:11.250000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:126.405000px;bottom:158.299000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:160.990000px;bottom:137.797000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:137.925000px;bottom:127.546000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:161.999000px;bottom:117.295000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:145.556000px;bottom:107.044000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:177.092000px;bottom:96.792600px;width:9.000000px;height:10.044400px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:326.141000px;bottom:589.291000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.309000px;bottom:579.040000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf23" data-dest-detail='[35,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:306.422000px;bottom:568.789000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:325.826000px;bottom:558.538000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1d" data-dest-detail='[29,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:333.053000px;bottom:538.036000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1d" data-dest-detail='[29,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:311.814000px;bottom:527.785000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1f" data-dest-detail='[31,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:341.711000px;bottom:517.534000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c" data-dest-detail='[28,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:293.526000px;bottom:507.283000px;width:4.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf97" data-dest-detail='[151,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.337000px;bottom:486.781000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:321.308000px;bottom:476.530000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:305.667000px;bottom:466.279000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:293.570000px;bottom:456.028000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:301.166000px;bottom:445.777000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:297.170000px;bottom:425.275000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2f" data-dest-detail='[47,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:313.190000px;bottom:415.024000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.534000px;bottom:404.773000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2f" data-dest-detail='[47,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:296.576000px;bottom:394.522000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.753000px;bottom:353.325000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf99" data-dest-detail='[153,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:309.433000px;bottom:322.572000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:315.336000px;bottom:302.070000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9a" data-dest-detail='[154,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.545000px;bottom:291.819000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.670000px;bottom:281.568000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9a" data-dest-detail='[154,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:290.605000px;bottom:271.317000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf99" data-dest-detail='[153,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:330.536000px;bottom:261.066000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:344.873000px;bottom:250.815000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:295.662000px;bottom:240.564000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.392000px;bottom:230.313000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11e" data-dest-detail='[286,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:306.129000px;bottom:220.062000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:336.900000px;bottom:168.574000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:324.390000px;bottom:158.323000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf51" data-dest-detail='[81,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:319.260000px;bottom:148.072000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27" data-dest-detail='[39,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:331.275000px;bottom:127.570000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:299.784000px;bottom:117.319000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5c" data-dest-detail='[92,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:343.533000px;bottom:107.068000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:305.022000px;bottom:96.816800px;width:4.500000px;height:10.044200px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf135" class="pf w2 h4" data-page-no="135"><div class="pc pc135 w2 h4"><div class="t m0 x8 hd9 y54 ffbc fs9 fc5 sc0 ls0 ws0">■ <span class="ffbd fc2">INDEX</span></div><div class="t m0 x8 hd y55 ffb5 fs6 fc2 sc0 ls24 wsff">292</div><div class="t m0 xf h1c y1dd7 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">O</span></span></div><div class="t m0 x8 h12 y1dd8 ffb5 fsa fc2 sc0 ls0 ws0">Object-oriented code</div><div class="t m0 x4b h12 y1dd9 ffb5 fsa fc2 sc0 ls0 ws0">abstract classes<span class="_ _1"></span>, <span class="fc4">127</span></div><div class="t m0 x4b h12 y1dda ffb5 fsa fc2 sc0 ls0 ws0">auto-loading classes<span class="_ _1"></span>, <span class="fc4">112</span></div><div class="t m0 x4b h12 y1ddb ffb5 fsa fc2 sc0 ls0 ws0">class constants<span class="_ _1"></span>, <span class="fc4">131</span></div><div class="t m0 x4b h12 y1ddc ffb5 fsa fc2 sc0 ls0 ws0">class declaration, <span class="fc4">111</span></div><div class="t m0 x4b h12 y1ddd ffb5 fsa fc2 sc0 ls0 ws0">constructors and destructors</div><div class="t m0 xaf h12 y1dde ffb5 fsa fc2 sc0 ls0 ws0">declaration, <span class="fc4">121</span></div><div class="t m0 xaf h12 y1ddf ffb5 fsa fc2 sc0 ls0 ws0">parameters<span class="_ _1"></span>, <span class="fc4">122</span></div><div class="t m0 xaf h12 y1de0 ffb5 fsa fc2 sc0 ls0 ws0">precedence, <span class="fc4">122</span></div><div class="t m0 x4b h12 y1de1 ffb5 fsa fc2 sc0 ls0 ws0">generators</div><div class="t m0 xaf h12 y1de2 ffb5 fsa fc2 sc0 ls0 ws0">delegation, <span class="fc4">141</span></div><div class="t m0 xaf h12 y1de3 ffb5 fsa fc2 sc0 ls0 ws0">iterator objects<span class="_ _1"></span>, <span class="fc4">138</span></div><div class="t m0 xaf h12 y1de4 ffb5 fsa fc2 sc0 ls0 ws0">key-<span class="_ _1"></span>value pairs, <span class="fc4">139</span></div><div class="t m0 xaf h12 y1e56 ffb5 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>ence, <span class="fc4">140</span></div><div class="t m0 xaf h12 y1e57 ffb5 fsa fc2 sc0 ls0 ws0">returning value<span class="_ _1"></span>, <span class="fc4">140</span></div><div class="t m0 xaf h12 y1e58 ffb5 fsa fc2 sc0 ls0 ws0">yield keyword, <span class="fc4">139</span></div><div class="t m0 x4b h12 y1e59 ffb5 fsa fc2 sc0 ls0 ws0">inheritance</div><div class="t m0 xaf h12 y1e5a ffb5 fsa fc2 sc0 ls0 ws0">class declaration, <span class="fc4">123</span></div><div class="t m0 xaf h12 y1e5b ffb5 fsa fc2 sc0 ls0 ws0">nal keyword, <span class="fc4">124</span></div><div class="t m0 xaf h12 y1e5c ffb5 fsa fc2 sc0 ls0 ws0">overriding, <span class="fc4">125</span></div><div class="t m0 x4b h12 y1e5d ffb5 fsa fc2 sc0 ls0 ws0">inheritance and traits, <span class="fc4">112</span></div><div class="t m0 x4b h12 y1e5e ffb5 fsa fc2 sc0 ls0 ws0">instances</div><div class="t m0 xaf h12 y1e5f ffb5 fsa fc2 sc0 ls0 ws0">methods, <span class="fc4">114</span></div><div class="t m0 xaf h12 y1e60 ffb5 fsa fc2 sc0 ls0 ws0">properties, <span class="fc4">114</span></div><div class="t m0 x4b h12 y1e61 ffb5 fsa fc2 sc0 ls0 ws0">interfaces, <span class="fc4">126</span></div><div class="t m0 x4b h12 y1e62 ffb5 fsa fc2 sc0 ls0 ws0">late static binding, <span class="fc4">131</span></div><div class="t m0 x4b h12 y1e63 ffb5 fsa fc2 sc0 lsd ws0">magic method (<span class="ffba wse7">see </span>M<span class="_ _1"></span>agic (__*) method)</div><div class="t m0 x4b h12 y1e64 ffb5 fsa fc2 sc0 ls0 ws0">objects</div><div class="t m0 xaf h12 y1e65 ffb5 fsa fc2 sc0 ls0 ws0">casting-<span class="_ _1"></span>string, <span class="fc4">120</span></div><div class="t m0 xaf h12 y1e66 ffb5 fsa fc2 sc0 ls0 ws0">class aliases, <span class="fc4">121</span></div><div class="t m0 xaf h12 y1e67 ffb5 fsa fc2 sc0 ls0 ws0">copy crea<span class="_ _1"></span>tion, <span class="fc4">117</span></div><div class="t m0 xaf h12 y1e68 ffb5 fsa fc2 sc0 ls0 ws0">serialization, <span class="fc4">117</span></div><div class="t m0 xaf h12 y1e69 ffb5 fsa fc2 sc0 ls0 ws0">unserialization, <span class="fc4">118</span></div><div class="t m0 x4b h12 y1e6a ffb5 fsa fc2 sc0 ls0 ws0">reection, <span class="fc4">129</span></div><div class="t m0 x4b h12 y1e6b ffb5 fsa fc2 sc0 ls11 wse8">SPL (<span class="ffba ls0 ws0">see <span class="ffb5">Standard PHP Library (SPL))</span></span></div><div class="t m0 x4b h12 y1e6c ffb5 fsa fc2 sc0 ls0 ws0">static declaration</div><div class="t m0 xaf h12 y1e6d ffb5 fsa fc2 sc0 ls0 ws0">method, <span class="fc4">115</span></div><div class="t m0 xaf h12 y1e6e ffb5 fsa fc2 sc0 ls0 ws0">properties, <span class="fc4">116</span></div><div class="t m0 x4b h12 y1e6f ffb5 fsa fc2 sc0 ls0 ws0">traits</div><div class="t m0 xaf h12 y1e70 ffb5 fsa fc2 sc0 ls0 ws0">conict resolution, <span class="fc4">143</span></div><div class="t m0 xaf h12 y1e71 ffb5 fsa fc2 sc0 ls0 ws0">declaration, <span class="fc4">142</span></div><div class="t m0 xaf h12 y1e72 ffb5 fsa fc2 sc0 ls0 ws0">inheritance and precedence, <span class="fc4">142</span></div><div class="t m0 xaf h12 y1e73 ffb5 fsa fc2 sc0 ls0 ws0">inheritance language, <span class="fc4">141</span></div><div class="t m0 xaf h12 y1e74 ffb5 fsa fc2 sc0 ls0 ws0">namespace, <span class="fc4">142</span></div><div class="t m0 xaf h12 y1e75 ffb5 fsa fc2 sc0 ls0 ws0">visibility modication, <span class="fc4">144</span></div><div class="t m0 x4b h12 y1e76 ffb5 fsa fc2 sc0 ls0 ws0">type hinting, <span class="fc4">129</span></div><div class="t m0 x4b h12 y1e77 ffb5 fsa fc2 sc0 ls0 ws0">visibility/access modication, <span class="fc4">113</span></div><div class="t m0 x8 h12 y1e78 ffb5 fsa fc2 sc0 ls0 ws0">Opcode cache, <span class="fc4">32</span></div><div class="t m0 x91 h1c y1dd7 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2 ls5c ws138">P,<span class="_ _e9"> </span> Q</span></span></div><div class="t m0 x7a h12 y1dd8 ffb5 fsa fc2 sc0 ls0 ws0">PHP Data Object (PDO), <span class="fc4">243</span></div><div class="t m0 xb1 h12 y1dd9 ffb5 fsa fc2 sc0 ls0 ws0">bindPar<span class="_ _1"></span>am() method, <span class="fc4">247</span></div><div class="t m0 xb1 h12 y1dda ffb5 fsa fc2 sc0 ls0 ws0">closeCursor() method, <span class="fc4">247</span></div><div class="t m0 xb1 h12 y1ddb ffb5 fsa fc2 sc0 ls0 ws0">connection, <span class="fc4">244</span></div><div class="t m0 xb1 h12 y1ddc ffb5 fsa fc2 sc0 ls0 ws0">fetch() method, <span class="fc4">246</span></div><div class="t m0 xb1 h12 y1ddd ffb5 fsa fc2 sc0 ls0 ws0">prepar<span class="_ _1"></span>ed statements, <span class="fc4">246</span></div><div class="t m0 xb1 h12 y1dde ffb5 fsa fc2 sc0 ls0 ws0">repeated calls<span class="_ _1"></span>, <span class="fc4">247</span></div><div class="t m0 xb1 h12 y1ddf ffb5 fsa fc2 sc0 ls0 ws0">transaction commands<span class="_ _1"></span>, <span class="fc4">244</span></div><div class="t m0 x7a h12 y1de0 ffb5 fsa fc2 sc0 ls0 ws0">Php<span class="_ _1"></span>.ini le, <span class="fc4">29</span></div><div class="t m0 x7a h12 y1de1 ffb5 fsa fc2 sc0 ls0 ws0">PHP library (SPL)</div><div class="t m0 xb1 h12 y1de2 ffb5 fsa fc2 sc0 ls0 ws0">ArrayAccess<span class="_ _1"></span>, <span class="fc4">196</span></div><div class="t m0 xb1 h12 y1de3 ffb5 fsa fc2 sc0 ls0 ws0">arrays<span class="_ _1"></span>, <span class="fc4">200</span></div><div class="t m0 xb1 h12 y1de4 ffb5 fsa fc2 sc0 ls0 ws0">compare() function, <span class="fc4">198–199</span></div><div class="t m0 xb1 h12 y1e56 ffb5 fsa fc2 sc0 ls0 ws0">countable<span class="_ _1"></span>, <span class="fc4">196</span></div><div class="t m0 xb1 h12 y1e57 ffb5 fsa fc2 sc0 ls0 ws0">data structures<span class="_ _1"></span>, <span class="fc4">195</span></div><div class="t m0 xb1 h12 y1e58 ffb5 fsa fc2 sc0 ls0 ws0">heaps, <span class="fc4">198</span></div><div class="t m0 xb1 h12 y1e59 ffb5 fsa fc2 sc0 ls0 ws0">interfaces, <span class="fc4">195</span></div><div class="t m0 xb1 h12 y1e5a ffb5 fsa fc2 sc0 ls0 ws0">iterator int<span class="_ _1"></span>erface, <span class="fc4">195</span></div><div class="t m0 xb1 h12 y1e5b ffb5 fsa fc2 sc0 ls0 ws0">lists, <span class="fc4">197</span></div><div class="t m0 xb1 h12 y1e5c ffb5 fsa fc2 sc0 ls0 ws0">mapping data<span class="_ _1"></span>, <span class="fc4">200</span></div><div class="t m0 xb1 h12 y1e5d ffb5 fsa fc2 sc0 ls0 ws0">maps<span class="_ _1"></span>, <span class="fc4">200</span></div><div class="t m0 xb1 h12 y1e5e ffb5 fsa fc2 sc0 ls0 ws0">methods, <span class="fc4">197</span></div><div class="t m0 xb1 h12 y1e5f ffb5 fsa fc2 sc0 ls0 ws0">tra<span class="_ _1"></span>versable, <span class="fc4">196</span></div><div class="t m0 x7a h12 y1e60 ffb5 fsa fc2 sc0 ls0 ws0">preg_split() function, <span class="fc4">85</span></div><div class="t m0 x7a h12 y1e61 ffb5 fsa fc2 sc0 ls0 ws0">PUT and P<span class="_ _0"></span>OST function, <span class="fc4">269</span></div><div class="t m0 x91 h1c y1e79 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">R</span></span></div><div class="t m0 x7a h12 y1e7a ffb5 fsa fc2 sc0 ls0 ws0">References</div><div class="t m0 xb1 h12 y1e7b ffb5 fsa fc2 sc0 ls0 ws0">error occurs, <span class="fc4">45</span></div><div class="t m0 xb1 h12 y1e7c ffb5 fsa fc2 sc0 ls0 ws0">function arguments<span class="_ _1"></span>, <span class="fc4">44–45</span></div><div class="t m0 xb1 h12 y1e7d ffb5 fsa fc2 sc0 ls0 ws0">operator<span class="_ _11"></span>, <span class="fc4">22</span></div><div class="t m0 x7a h12 y1e7e ffb5 fsa fc2 sc0 ls0 ws0">Remote Procedur<span class="_ _1"></span>e Call (RPC), <span class="fc4">184</span></div><div class="t m0 x7a h12 y1e7f ffb5 fsa fc2 sc0 ls0 ws0">Representa<span class="_ _1"></span>tional State Transfer (REST)</div><div class="t m0 xb1 h12 y1e80 ffb5 fsa fc2 sc0 ls0 ws0">application and r<span class="_ _1"></span>esource  </div><div class="t m0 xa5 h12 y1e81 ffb5 fsa fc2 sc0 ls0 ws0">states, <span class="fc4">186</span></div><div class="t m0 xb1 h12 y1e82 ffb5 fsa fc2 sc0 ls0 ws0">HA<span class="_ _2"></span>TE<span class="_ _0"></span>OAS<span class="_ _1"></span>, <span class="fc4">187</span></div><div class="t m0 xb1 h12 y1e83 ffb5 fsa fc2 sc0 ls0 ws0">request headers<span class="_ _1"></span>, <span class="fc4">188</span></div><div class="t m0 xb1 h12 y1e84 ffb5 fsa fc2 sc0 ls0 ws0">response headers and  </div><div class="t m0 xa5 h12 y1e85 ffb5 fsa fc2 sc0 ls0 ws0">codes, <span class="fc4">188</span></div><div class="t m0 xb1 h12 y1e86 ffb5 fsa fc2 sc0 ls0 ws0">sending requests<span class="_ _1"></span>, <span class="fc4">189</span></div><div class="t m0 xb1 h12 y1e87 ffb5 fsa fc2 sc0 ls0 ws0">verbs, <span class="fc4">187</span></div><div class="t m0 xb1 h12 y1e88 ffb5 fsa fc2 sc0 ls0 ws0">web services, <span class="fc4">186</span></div><div class="t m0 x7a h12 y1e89 ffb5 fsa fc2 sc0 ls0 ws0">Returns</div><div class="t m0 xb1 h12 y1e8a ffb5 fsa fc2 sc0 ls0 ws0">return stat<span class="_ _1"></span>ement, <span class="fc4">46</span></div><div class="t m0 xb1 h12 y1e8b ffb5 fsa fc2 sc0 ls0 ws0">return b<span class="_ _1"></span>y reference<span class="_ _1"></span>, <span class="fc4">47</span></div><div class="t m0 xb1 h12 y1e8c ffb5 fsa fc2 sc0 ls0 ws0">type declarations<span class="_ _1"></span>, <span class="fc4">46</span></div><div class="t m0 xb1 h12 y1e8d ffb5 fsa fc2 sc0 ls0 ws0">void, <span class="fc4">47</span></div><a class="l" href="#pf92" data-dest-detail='[146,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.854000px;bottom:560.816000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf83" data-dest-detail='[131,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.745000px;bottom:550.565000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:116.018000px;bottom:540.314000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf82" data-dest-detail='[130,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.885000px;bottom:530.063000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.567000px;bottom:509.561000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8d" data-dest-detail='[141,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.459000px;bottom:499.310000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8d" data-dest-detail='[141,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:118.511000px;bottom:489.059000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa0" data-dest-detail='[160,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:114.426000px;bottom:468.557000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.372000px;bottom:458.306000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9e" data-dest-detail='[158,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.408000px;bottom:448.055000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9f" data-dest-detail='[159,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:109.799000px;bottom:437.804000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9f" data-dest-detail='[159,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:132.479000px;bottom:427.553000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9e" data-dest-detail='[158,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:127.214000px;bottom:417.302000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8e" data-dest-detail='[142,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:137.888000px;bottom:396.800000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8f" data-dest-detail='[143,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:125.765000px;bottom:386.549000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf90" data-dest-detail='[144,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.714000px;bottom:376.298000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf83" data-dest-detail='[131,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:141.055000px;bottom:366.047000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf85" data-dest-detail='[133,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:107.667000px;bottom:345.545000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf85" data-dest-detail='[133,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.219000px;bottom:335.294000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf91" data-dest-detail='[145,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:96.344000px;bottom:325.043000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:126.917000px;bottom:314.792000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8b" data-dest-detail='[139,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:126.134000px;bottom:284.039000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:119.753000px;bottom:273.788000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf88" data-dest-detail='[136,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:125.685000px;bottom:263.537000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf88" data-dest-detail='[136,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:121.148000px;bottom:253.286000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf89" data-dest-detail='[137,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.552000px;bottom:243.035000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:95.633800px;bottom:232.784000px;width:13.500200px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf86" data-dest-detail='[134,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:104.121000px;bottom:202.031000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf87" data-dest-detail='[135,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.219000px;bottom:191.780000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa2" data-dest-detail='[162,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:143.855000px;bottom:171.278000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa1" data-dest-detail='[161,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.567000px;bottom:161.027000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa1" data-dest-detail='[161,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:181.375000px;bottom:150.776000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa0" data-dest-detail='[160,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:154.853000px;bottom:140.525000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa1" data-dest-detail='[161,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.530000px;bottom:130.274000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa3" data-dest-detail='[163,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:157.498000px;bottom:120.023000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf94" data-dest-detail='[148,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:105.011000px;bottom:109.772000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf84" data-dest-detail='[132,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:170.980000px;bottom:99.520600px;width:13.500000px;height:10.044400px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:98.323900px;bottom:89.269600px;width:9.000100px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf104" data-dest-detail='[260,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:315.318000px;bottom:571.067000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf108" data-dest-detail='[264,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:320.250000px;bottom:560.816000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf108" data-dest-detail='[264,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:323.166000px;bottom:550.565000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf105" data-dest-detail='[261,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:282.505000px;bottom:540.314000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf107" data-dest-detail='[263,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:296.553000px;bottom:530.063000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf107" data-dest-detail='[263,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:317.595000px;bottom:519.812000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf108" data-dest-detail='[264,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:291.639000px;bottom:509.561000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf105" data-dest-detail='[261,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:327.297000px;bottom:499.310000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf33" data-dest-detail='[51,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:265.089000px;bottom:489.059000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd5" data-dest-detail='[213,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.501000px;bottom:468.557000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:262.128000px;bottom:458.306000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd7" data-dest-detail='[215,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:313.807000px;bottom:448.055000px;width:17.730000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd8" data-dest-detail='[216,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:331.537000px;bottom:448.055000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd5" data-dest-detail='[213,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:277.249000px;bottom:437.804000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:295.806000px;bottom:427.553000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd7" data-dest-detail='[215,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:261.580000px;bottom:417.302000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:276.339000px;bottom:407.051000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd4" data-dest-detail='[212,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.808000px;bottom:396.800000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:253.795000px;bottom:386.549000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:291.954000px;bottom:376.298000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd9" data-dest-detail='[217,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:259.744000px;bottom:366.047000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd6" data-dest-detail='[214,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:272.659000px;bottom:355.796000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd5" data-dest-detail='[213,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:281.028000px;bottom:345.545000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.592000px;bottom:335.294000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11e" data-dest-detail='[286,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:315.614000px;bottom:325.043000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.240000px;bottom:273.566000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf42" data-dest-detail='[66,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.373000px;bottom:263.315000px;width:13.230000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:327.603000px;bottom:263.315000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2c" data-dest-detail='[44,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:271.174000px;bottom:253.064000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:337.367000px;bottom:242.813000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcb" data-dest-detail='[203,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:283.009000px;bottom:212.060000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcc" data-dest-detail='[204,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:277.951000px;bottom:201.809000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:299.901000px;bottom:191.558000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcd" data-dest-detail='[205,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:283.558000px;bottom:171.056000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfce" data-dest-detail='[206,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.591000px;bottom:160.805000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcc" data-dest-detail='[204,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:259.438000px;bottom:150.554000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcb" data-dest-detail='[203,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:287.247000px;bottom:140.303000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf44" data-dest-detail='[68,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.042000px;bottom:119.801000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf45" data-dest-detail='[69,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:311.763000px;bottom:109.550000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf44" data-dest-detail='[68,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.527000px;bottom:99.298800px;width:9.000000px;height:10.044200px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf45" data-dest-detail='[69,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:255.595000px;bottom:89.047800px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf136" class="pf w2 h4" data-page-no="136"><div class="pc pc136 w2 h4"><div class="t m0 x73 hd9 y54 ffbc fs9 fc5 sc0 ls0 ws0">■ <span class="ffbd fc2">INDEX</span></div><div class="t m0 x15 hd y55 ffb5 fs6 fc2 sc0 ls46 ws120">293</div><div class="t m0 x2b h1c y1dd7 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">S</span></span></div><div class="t m0 x3 h12 y1dd8 ffb5 fsa fc2 sc0 ls0 ws0">Security</div><div class="t m0 x5 h12 y1dd9 ffb5 fsa fc2 sc0 ls0 ws0">avoid publishin<span class="_ _1"></span>g database, <span class="fc4">169</span></div><div class="t m0 x5 h12 y1dda ffb5 fsa fc2 sc0 ls0 ws0">conguration, <span class="fc4">149</span></div><div class="t m0 xab h12 y1ddb ffb5 fsa fc2 sc0 ls0 ws0">Apache module<span class="_ _1"></span>, <span class="fc4">151</span></div><div class="t m0 xab h12 y1ddc ffb5 fsa fc2 sc0 ls0 ws0">CGI binary, <span class="fc4">151</span></div><div class="t m0 xab h12 y1ddd ffb5 fsa fc2 sc0 ls0 ws0">errors and warnings<span class="_ _1"></span>, <span class="fc4">150</span></div><div class="t m0 xab h12 y1dde ffb5 fsa fc2 sc0 ls0 ws0">ags work, <span class="fc4">150</span></div><div class="t m0 xab h12 y1ddf ffb5 fsa fc2 sc0 ls0 ws0">functions and classes, <span class="fc4">151</span></div><div class="t m0 xab h12 y1de0 ffb5 fsa fc2 sc0 ls0 ws0">malicious CGI parameters<span class="_ _1"></span>, <span class="fc4">152</span></div><div class="t m0 xab h12 y1de1 ffb5 fsa fc2 sc0 ls0 ws0">permission checking, <span class="fc4">152</span></div><div class="t m0 xab h12 y1de2 ffb5 fsa fc2 sc0 ls0 ws0">PHP<span class="_ _1"></span>-FPM, <span class="fc4">153</span></div><div class="t m0 x5 h12 y1de3 ffb5 fsa fc2 sc0 ls0 ws0">cross-<span class="_ _1"></span>site request forgeries<span class="_ _1"></span>, <span class="fc4">158</span></div><div class="t m0 x5 h12 y1de4 ffb5 fsa fc2 sc0 ls0 ws0">database stora<span class="_ _1"></span>ge, <span class="fc4">169</span></div><div class="t m0 x5 h12 y1e56 ffb5 fsa fc2 sc0 ls0 ws0">email injection, <span class="fc4">162</span></div><div class="t m0 x5 h12 y1e57 ffb5 fsa fc2 sc0 ls0 ws0">encryption and hashing  </div><div class="t m0 x98 h12 y1e58 ffb5 fsa fc2 sc0 ls0 ws0">algorithms, <span class="fc4">165</span></div><div class="t m0 xab h12 y1e59 ffb5 fsa fc2 sc0 ls0 ws0">error messages<span class="_ _1"></span>, <span class="fc4">168</span></div><div class="t m0 xab h12 y1e5a ffb5 fsa fc2 sc0 ls0 ws0">hash functions, <span class="fc4">166</span></div><div class="t m0 xab h12 y1e5b ffb5 fsa fc2 sc0 ls0 ws0">password checking<span class="_ _1"></span>, <span class="fc4">167</span></div><div class="t m0 xab h12 y1e5c ffb5 fsa fc2 sc0 ls0 ws0">PHP<span class="_ _11"></span>, <span class="fc4">166</span></div><div class="t m0 xab h12 y1e5d ffb5 fsa fc2 sc0 ls0 ws0">salt string, <span class="fc4">167</span></div><div class="t m0 xab h12 y1e5e ffb5 fsa fc2 sc0 ls0 ws0">secure strings and integers<span class="_ _1"></span>, <span class="fc4">166</span></div><div class="t m0 x5 h12 y1e5f ffb5 fsa fc2 sc0 ls0 ws0">escape output</div><div class="t m0 xab h12 y1e60 ffb5 fsa fc2 sc0 ls0 ws0">ltering option, <span class="fc4">163</span></div><div class="t m0 xab h12 y1e61 ffb5 fsa fc2 sc0 ls0 ws0">htmlspecialchars(), <span class="fc4">164</span></div><div class="t m0 xab h12 y1e62 ffb5 fsa fc2 sc0 ls0 ws0">log poisoning, <span class="fc4">164</span></div><div class="t m0 x5 h12 y1e63 ffb5 fsa fc2 sc0 ls0 ws0">le uploads, <span class="fc4">168</span></div><div class="t m0 x5 h12 y1e64 ffb5 fsa fc2 sc0 ls0 ws0">lter input, <span class="fc4">162</span></div><div class="t m0 x5 h12 y1e65 ffb5 fsa fc2 sc0 ls0 ws0">remote code injection</div><div class="t m0 xab h12 y1e66 ffb5 fsa fc2 sc0 ls0 ws0">assert() function, <span class="fc4">161</span></div><div class="t m0 xab h12 y1e67 ffb5 fsa fc2 sc0 ls0 ws0">eval(), exec(), and system() </div><div class="t m0 x98 h12 y1e68 ffb5 fsa fc2 sc0 ls0 ws0">function, <span class="fc4">160</span></div><div class="t m0 xab h12 y1e69 ffb5 fsa fc2 sc0 ls0 ws0">include() and requir<span class="_ _1"></span>e()  </div><div class="t m0 x98 h12 y1e6a ffb5 fsa fc2 sc0 ls0 ws0">function, <span class="fc4">161</span></div><div class="t m0 x5 h12 y1e6b ffb5 fsa fc2 sc0 ls0 ws0">session security, <span class="fc4">154</span></div><div class="t m0 xab h12 y1e6c ffb5 fsa fc2 sc0 ls0 ws0">xation, <span class="fc4">156</span></div><div class="t m0 xab h12 y1e6d ffb5 fsa fc2 sc0 ls0 ws0">hijacking, <span class="fc4">154</span></div><div class="t m0 xab h12 y1e6e ffb5 fsa fc2 sc0 ls0 ws0">mitigation str<span class="_ _1"></span>ategies, <span class="fc4">156</span></div><div class="t m0 x5 h12 y1e6f ffb5 fsa fc2 sc0 ls0 ws0">SQL injection</div><div class="t m0 xab h12 y1e70 ffb5 fsa fc2 sc0 ls0 ws0">escaping, <span class="fc4">160</span></div><div class="t m0 xab h12 y1e71 ffb5 fsa fc2 sc0 ls0 ws0">prepar<span class="_ _1"></span>ed statements, <span class="fc4">158</span></div><div class="t m0 xab h12 y1e72 ffb5 fsa fc2 sc0 ls0 ws0">principles, <span class="fc4">160</span></div><div class="t m0 x5 h12 y1e73 ffb5 fsa fc2 sc0 ls0 ws0">XSS (<span class="ffba">see </span>Cross-<span class="_ _1"></span>Site Scripting (XSS))</div><div class="t m0 x3 h12 y1e74 ffb5 fsa fc2 sc0 ls0 ws0">Shifting bit operator<span class="_ _1"></span>s, <span class="fc4">19</span></div><div class="t m0 x3 h12 y1e75 ffb5 fsa fc2 sc0 ls0 ws0">Simple object access protocol  </div><div class="t m0 xb3 h12 y1e76 ffb5 fsa fc2 sc0 ls0 ws0">(SOAP), <span class="fc4">184</span></div><div class="t m0 x5 h12 y1e77 ffb5 fsa fc2 sc0 ls0 ws0">cache functions, <span class="fc4">184</span></div><div class="t m0 x5 h12 y1e78 ffb5 fsa fc2 sc0 ls0 ws0">meaning, <span class="fc4">184</span></div><div class="t m0 xac h12 y1e8e ffb5 fsa fc2 sc0 ls0 ws0">oers, <span class="fc4">185</span></div><div class="t m0 xac h12 y1e8f ffb5 fsa fc2 sc0 ls0 ws0">use of, <span class="fc4">184</span></div><div class="t m0 xad h12 y1e90 ffb5 fsa fc2 sc0 ls0 ws0">Spaceship opera<span class="_ _1"></span>tor<span class="_ _2"></span>, <span class="fc4">18</span></div><div class="t m0 xad h12 y1e91 ffb5 fsa fc2 sc0 ls0 ws0">Standard PHP Libr<span class="_ _1"></span>ary (SPL)</div><div class="t m0 xac h12 y1e92 ffb5 fsa fc2 sc0 ls0 ws0">ArrayObject, <span class="fc4">138</span></div><div class="t m0 xac h12 y1e93 ffb5 fsa fc2 sc0 ls0 ws0">ArrayObject class, <span class="fc4">104</span></div><div class="t m0 xac h12 y1e94 ffb5 fsa fc2 sc0 ls0 ws0">classes, <span class="fc4">136</span></div><div class="t m0 xac h12 y1e95 ffb5 fsa fc2 sc0 ls0 ws0">data structures<span class="_ _1"></span>, <span class="fc4">136</span></div><div class="t m0 xac h12 y1e96 ffb5 fsa fc2 sc0 ls0 ws0">exceptions, <span class="fc4">137</span></div><div class="t m0 xac h12 y1e97 ffb5 fsa fc2 sc0 ls0 ws0">le handling, <span class="fc4">138</span></div><div class="t m0 xac h12 y1e98 ffb5 fsa fc2 sc0 ls0 ws0">ags, <span class="fc4">105</span></div><div class="t m0 xac h12 y1e99 ffb5 fsa fc2 sc0 ls0 ws0">iterators<span class="_ _1"></span>, <span class="fc4">136</span></div><div class="t m0 xac h12 y1e9a ffb5 fsa fc2 sc0 ls0 ws0">observer pattern, <span class="fc4">138</span></div><div class="t m0 xac h12 y1e9b ffb5 fsa fc2 sc0 ls0 ws0">observers, <span class="fc4">138</span></div><div class="t m0 xac h12 y1e9c ffb5 fsa fc2 sc0 ls0 ws0">setFlags() method, <span class="fc4">105</span></div><div class="t m0 xac h12 y1e9d ffb5 fsa fc2 sc0 ls0 ws0">subject, <span class="fc4">138</span></div><div class="t m0 xad h12 y1e9e ffb5 fsa fc2 sc0 ls0 ws0">Strings</div><div class="t m0 xac h12 y1e9f ffb5 fsa fc2 sc0 ls0 ws0">declaration</div><div class="t m0 x66 h12 y1ea0 ffb5 fsa fc2 sc0 ls0 ws0">control ch<span class="_ _1"></span>aracters, <span class="fc4">59</span></div><div class="t m0 x66 h12 y1ea1 ffb5 fsa fc2 sc0 ls0 ws0">embedding variables, <span class="fc4">57</span></div><div class="t m0 x66 h12 y1ea2 ffb5 fsa fc2 sc0 ls0 ws0">heredoc and nowdoc, <span class="fc4">60</span></div><div class="t m0 xac h12 y1ea3 ffb5 fsa fc2 sc0 ls0 ws0">extract function, <span class="fc4">65</span></div><div class="t m0 xac h12 y1ea4 ffb5 fsa fc2 sc0 ls0 ws0">formatted string, <span class="fc4">69</span></div><div class="t m0 xac h12 y1ea5 ffb5 fsa fc2 sc0 ls0 ws0">number_format() function, <span class="fc4">71</span></div><div class="t m0 xac h12 y1ea6 ffb5 fsa fc2 sc0 ls0 ws0">PHP and multibyte<span class="_ _1"></span>, <span class="fc4">61</span></div><div class="t m0 x66 h12 y1ea7 ffb5 fsa fc2 sc0 ls0 ws0">clients, <span class="fc4">62</span></div><div class="t m0 x66 h12 y1ea8 ffb5 fsa fc2 sc0 ls0 ws0">commands, <span class="fc4">63</span></div><div class="t m0 x66 h12 y1ea9 ffb5 fsa fc2 sc0 ls0 ws0">encoding schemes, <span class="fc4">62</span></div><div class="t m0 x66 h12 y1eaa ffb5 fsa fc2 sc0 ls0 ws0">matching strings<span class="_ _1"></span>, <span class="fc4">64</span></div><div class="t m0 x66 h12 y1eab ffb5 fsa fc2 sc0 ls0 ws0">metaphone() function, <span class="fc4">65</span></div><div class="t m0 x66 h12 y1eac ffb5 fsa fc2 sc0 ls0 ws0">strcasecmp() function, <span class="fc4">65</span></div><div class="t m0 x66 h12 y1ead ffb5 fsa fc2 sc0 ls0 ws0">substr_compare() function, <span class="fc4">65</span></div><div class="t m0 x66 h12 y1eae ffb5 fsa fc2 sc0 ls0 ws0">unicode, <span class="fc4">62</span></div><div class="t m0 xac h12 y1eaf ffb5 fsa fc2 sc0 ls0 ws0">refer<span class="_ _1"></span>encing characters<span class="_ _1"></span>, <span class="fc4">61</span></div><div class="t m0 xac h12 y1eb0 ffb5 fsa fc2 sc0 ls0 ws0">regular expr<span class="_ _1"></span>essions, <span class="fc4">72</span></div><div class="t m0 x66 h12 y1eb1 ffb5 fsa fc2 sc0 ls0 ws0">boundaries, <span class="fc4">74</span></div><div class="t m0 x66 h12 y1eb2 ffb5 fsa fc2 sc0 ls0 ws0">capturing gro<span class="_ _1"></span>ups, <span class="fc4">75</span></div><div class="t m0 x66 h12 y1eb3 ffb5 fsa fc2 sc0 ls0 ws0">character classes<span class="_ _1"></span>, <span class="fc4">74</span></div><div class="t m0 x66 h12 y1eb4 ffb5 fsa fc2 sc0 ls0 ws0">delimiters, <span class="fc4">72</span></div><div class="t m0 x66 h12 y1eb5 ffb5 fsa fc2 sc0 ls0 ws0">generic character types, <span class="fc4">73</span></div><div class="t m0 x66 h12 y1eb6 ffb5 fsa fc2 sc0 ls0 ws0">greed and laziness<span class="_ _1"></span>, <span class="fc4">76</span></div><div class="t m0 x66 h12 y1eb7 ffb5 fsa fc2 sc0 ls0 ws0">matching mor<span class="_ _1"></span>e than once, <span class="fc4">74</span></div><div class="t m0 x66 h12 y1eb8 ffb5 fsa fc2 sc0 ls0 ws0">matching portion, <span class="fc4">76</span></div><div class="t m0 x66 h12 y1eb9 ffb5 fsa fc2 sc0 ls0 ws0">meta-characters<span class="_ _1"></span>, <span class="fc4">72</span></div><div class="t m0 x66 h12 y1eba ffb5 fsa fc2 sc0 ls0 ws0">naming gro<span class="_ _1"></span>ups, <span class="fc4">77</span></div><div class="t m0 x66 h12 y1ebb ffb5 fsa fc2 sc0 ls0 ws0">pattern modiers<span class="_ _1"></span>, <span class="fc4">78</span></div><div class="t m0 xac h12 y1ebc ffb5 fsa fc2 sc0 ls0 ws0">search function, <span class="fc4">66</span></div><div class="t m0 x66 h12 y1ebd ffb5 fsa fc2 sc0 ls0 ws0">overview, <span class="fc4">68</span></div><div class="t m0 x66 h12 y1ebe ffb5 fsa fc2 sc0 ls0 ws0">replace<span class="_ _1"></span>, <span class="fc4">68</span></div><div class="t m0 x66 h12 y1ebf ffb5 fsa fc2 sc0 ls0 ws0">use of, <span class="fc4">67</span></div><a class="l" href="#pfbb" data-dest-detail='[187,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:176.885000px;bottom:560.816000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa7" data-dest-detail='[167,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:128.700000px;bottom:550.565000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:152.225000px;bottom:540.314000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:133.766000px;bottom:530.063000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa8" data-dest-detail='[168,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:168.289000px;bottom:519.812000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa8" data-dest-detail='[168,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:130.329000px;bottom:509.561000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa9" data-dest-detail='[169,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:173.005000px;bottom:499.310000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfaa" data-dest-detail='[170,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:191.780000px;bottom:489.059000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfaa" data-dest-detail='[170,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:171.269000px;bottom:478.808000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfab" data-dest-detail='[171,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:129.960000px;bottom:468.557000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:178.612000px;bottom:458.306000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfbb" data-dest-detail='[187,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.696000px;bottom:448.055000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb4" data-dest-detail='[180,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:134.288000px;bottom:437.804000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb7" data-dest-detail='[183,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.597000px;bottom:417.302000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfba" data-dest-detail='[186,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:149.174000px;bottom:407.051000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb8" data-dest-detail='[184,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:148.202000px;bottom:396.800000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb9" data-dest-detail='[185,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:164.735000px;bottom:386.549000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb8" data-dest-detail='[184,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:107.748000px;bottom:376.298000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb9" data-dest-detail='[185,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:128.852000px;bottom:366.047000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb8" data-dest-detail='[184,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:193.444000px;bottom:355.796000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb5" data-dest-detail='[181,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:149.166000px;bottom:335.294000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb6" data-dest-detail='[182,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:163.934000px;bottom:325.043000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb6" data-dest-detail='[182,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:143.711000px;bottom:314.792000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfba" data-dest-detail='[186,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:121.211000px;bottom:304.541000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb4" data-dest-detail='[180,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.252000px;bottom:294.290000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb3" data-dest-detail='[179,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:155.060000px;bottom:273.788000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.796000px;bottom:253.286000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb3" data-dest-detail='[179,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.796000px;bottom:232.784000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfac" data-dest-detail='[172,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:137.096000px;bottom:222.533000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:120.762000px;bottom:212.282000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfac" data-dest-detail='[172,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:126.846000px;bottom:202.031000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfae" data-dest-detail='[174,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:169.415000px;bottom:191.780000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:125.630000px;bottom:171.278000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb0" data-dest-detail='[176,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:170.423000px;bottom:161.027000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb2" data-dest-detail='[178,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:130.094000px;bottom:150.776000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf29" data-dest-detail='[41,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:142.010000px;bottom:130.274000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:124.983000px;bottom:109.772000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:137.132000px;bottom:99.520600px;width:13.500000px;height:10.044400px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:110.717000px;bottom:89.269600px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfca" data-dest-detail='[202,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:278.127000px;bottom:589.274000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:279.198000px;bottom:579.023000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf28" data-dest-detail='[40,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.999000px;bottom:568.772000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.038000px;bottom:548.270000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:323.270000px;bottom:538.019000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:283.158000px;bottom:527.768000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:313.622000px;bottom:517.517000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9c" data-dest-detail='[156,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:297.863000px;bottom:507.266000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.946000px;bottom:497.015000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:274.203000px;bottom:486.764000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9b" data-dest-detail='[155,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:288.531000px;bottom:476.513000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:320.165000px;bottom:466.262000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:293.804000px;bottom:456.011000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:325.952000px;bottom:445.760000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9d" data-dest-detail='[157,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:284.363000px;bottom:435.509000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf50" data-dest-detail='[80,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:340.874000px;bottom:404.756000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4e" data-dest-detail='[78,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:351.980000px;bottom:394.505000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf51" data-dest-detail='[81,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:352.484000px;bottom:384.254000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:317.115000px;bottom:374.003000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5a" data-dest-detail='[90,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:318.590000px;bottom:363.752000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5c" data-dest-detail='[92,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:358.532000px;bottom:353.501000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:329.264000px;bottom:343.250000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:296.721000px;bottom:332.999000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf54" data-dest-detail='[84,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:314.756000px;bottom:322.748000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.836000px;bottom:312.497000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf55" data-dest-detail='[85,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:335.492000px;bottom:302.246000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:356.885000px;bottom:291.995000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:356.137000px;bottom:281.744000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf56" data-dest-detail='[86,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:374.525000px;bottom:271.493000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf53" data-dest-detail='[83,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.075000px;bottom:261.242000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf52" data-dest-detail='[82,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.044000px;bottom:250.991000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:330.686000px;bottom:240.740000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:315.422000px;bottom:230.489000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf60" data-dest-detail='[96,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:336.932000px;bottom:220.238000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:336.239000px;bottom:209.987000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:310.463000px;bottom:199.736000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5e" data-dest-detail='[94,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:360.304000px;bottom:189.485000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.107000px;bottom:179.234000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5f" data-dest-detail='[95,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:370.268000px;bottom:168.983000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf61" data-dest-detail='[97,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:338.795000px;bottom:158.732000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5d" data-dest-detail='[93,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:334.277000px;bottom:148.481000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf62" data-dest-detail='[98,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:329.399000px;bottom:138.230000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf63" data-dest-detail='[99,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:338.291000px;bottom:127.979000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf57" data-dest-detail='[87,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:316.332000px;bottom:117.728000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:306.279000px;bottom:107.477000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf59" data-dest-detail='[89,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:299.780000px;bottom:97.225500px;width:9.000000px;height:10.044500px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf58" data-dest-detail='[88,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:294.201000px;bottom:86.974500px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf137" class="pf w2 h4" data-page-no="137"><div class="pc pc137 w2 h4"><div class="t m0 x8 hd9 y54 ffbc fs9 fc5 sc0 ls0 ws0">■ <span class="ffbd fc2">INDEX</span></div><div class="t m0 x8 hd y55 ffb5 fs6 fc2 sc0 ls26 ws8f">294</div><div class="t m0 x8 h12 y1b8 ffb5 fsa fc2 sc0 ls0 ws0">str_split() function, <span class="fc4">85</span></div><div class="t m0 x8 h12 y1da8 ffb5 fsa fc2 sc0 ls0 ws0">Structred Query Language (SQL), <span class="fc4">238</span></div><div class="t m0 x4b h12 y1da9 ffb5 fsa fc2 sc0 ls0 ws0">aggrega<span class="_ _1"></span>ting function, <span class="fc4">240</span></div><div class="t m0 x4b h12 y1daa ffb5 fsa fc2 sc0 ls0 ws0">database and table cr<span class="_ _1"></span>eation, <span class="fc4">238</span></div><div class="t m0 x4b h12 y1dab ffb5 fsa fc2 sc0 ls0 ws0">DROP statement<span class="_ _1"></span>, <span class="fc4">239</span></div><div class="t m0 x4b h12 y1dac ffb5 fsa fc2 sc0 ls0 ws0">grouping da<span class="_ _1"></span>ta, <span class="fc4">240</span></div><div class="t m0 x4b h12 y1dad ffb5 fsa fc2 sc0 ls0 ws0">INSERT statemen<span class="_ _1"></span>t, <span class="fc4">239</span></div><div class="t m0 x4b h12 y1dae ffb5 fsa fc2 sc0 ls0 ws0">join</div><div class="t m0 xaf h12 y1daf ffb5 fsa fc2 sc0 ls0 ws0">tables, <span class="fc4">242</span></div><div class="t m0 xaf h12 y1db0 ffb5 fsa fc2 sc0 ls0 ws0">types, <span class="fc4">241</span></div><div class="t m0 x4b h12 y1db1 ffb5 fsa fc2 sc0 ls0 ws0">joins, <span class="fc4">241</span></div><div class="t m0 x4b h12 y1db2 ffb5 fsa fc2 sc0 ls11 wse8">PDO (<span class="ffba ls0 ws0">se<span class="_ _0"></span>e <span class="ffb5">PHP Da<span class="_ _1"></span>ta Object (PD<span class="_ _0"></span>O))</span></span></div><div class="t m0 x4b h12 y1db3 ffb5 fsa fc2 sc0 ls0 ws0">retrieve data (SELECT statement), <span class="fc4">239</span></div><div class="t m0 x4b h12 y1ec0 ffb5 fsa fc2 sc0 ls0 ws0">statements pr<span class="_ _1"></span>eparation, <span class="fc4">242</span></div><div class="t m0 x4b h12 y1ec1 ffb5 fsa fc2 sc0 ls0 ws0">transactions<span class="_ _1"></span>, <span class="fc4">243</span></div><div class="t m0 x4b h12 y1ec2 ffb5 fsa fc2 sc0 ls0 ws0">UPDA<span class="_ _2"></span>TE statement, <span class="fc4">240</span></div><div class="t m0 x8 h12 y1ec3 ffb5 fsa fc2 sc0 ls0 ws0">Superglobals<span class="_ _1"></span>, <span class="fc4">13</span></div><div class="t m0 xf h1c y10e7 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">T</span></span></div><div class="t m0 x8 h12 y1ec4 ffb5 fsa fc2 sc0 ls0 ws0">T<span class="_ _2"></span>ernary op<span class="_ _0"></span>er<span class="_ _1"></span>ator<span class="_ _2"></span>, <span class="fc4">16</span></div><div class="t m0 x8 h12 y1ec5 ffb5 fsa fc2 sc0 ls0 ws0">rowa<span class="_ _1"></span>bles, <span class="fc4">249</span></div><div class="t m0 x4b h12 y1ec6 ffb5 fsa fc2 sc0 ls0 ws0">interface, <span class="fc4">249</span></div><div class="t m0 x8 h12 y1ec7 ffb5 fsa fc2 sc0 ls0 ws0">TypeErr<span class="_ _1"></span>or exception, <span class="fc4">39</span></div><div class="t m0 xf h1c y1ec8 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">U</span></span></div><div class="t m0 x8 h12 y1ec9 ffb5 fsa fc2 sc0 ls0 ws0">Uniform Resource I<span class="_ _1"></span>dentiers (URI), <span class="fc4">186</span></div><div class="t m0 xf h1c y1eca ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">V</span></span></div><div class="t m0 x8 h12 y1ecb ffb5 fsa fc2 sc0 ls0 ws0">V<span class="_ _2"></span>ar<span class="_ _0"></span>iable functions<span class="_ _1"></span>, <span class="fc4">45</span></div><div class="t m0 xf h1c y1851 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">W<span class="_ _11"></span>, X, Y</span></span></div><div class="t m0 x8 h12 y1ecc ffb5 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>eb server</div><div class="t m0 x4b h12 y1ecd ffb5 fsa fc2 sc0 ls0 ws0">authentication r<span class="_ _1"></span>equest, <span class="fc4">230</span></div><div class="t m0 x4b h12 y1ece ffb5 fsa fc2 sc0 ls0 ws0">cookies</div><div class="t m0 xaf h12 y1ecf ffb5 fsa fc2 sc0 ls0 ws0">retrieve, <span class="fc4">228</span></div><div class="t m0 xaf h12 y1ed0 ffb5 fsa fc2 sc0 ls0 ws0">setcookie() function, <span class="fc4">227</span></div><div class="t m0 xb1 h12 y1ed1 ffb5 fsa fc2 sc0 ls0 ws0">data request</div><div class="t m0 x3e h12 y1ed2 ffb5 fsa fc2 sc0 ls0 ws0">method, <span class="fc4">218</span></div><div class="t m0 x3e h12 y1ed3 ffb5 fsa fc2 sc0 ls0 ws0">POST requests, <span class="fc4">219</span></div><div class="t m0 x3e h12 y1ed4 ffb5 fsa fc2 sc0 ls0 ws0">superglobal function, <span class="fc4">218</span></div><div class="t m0 xb1 h12 y1ed5 ffb5 fsa fc2 sc0 ls0 ws0">le uploads</div><div class="t m0 x3e h12 y1ed6 ffb5 fsa fc2 sc0 ls0 ws0">HTTP POST transaction, <span class="fc4">224</span></div><div class="t m0 x3e h12 y1ed7 ffb5 fsa fc2 sc0 ls0 ws0">size of les, <span class="fc4">224</span></div><div class="t m0 x3e h12 y1ed8 ffb5 fsa fc2 sc0 ls0 ws0">temporary les, <span class="fc4">225</span></div><div class="t m0 xb1 h12 y1ed9 ffb5 fsa fc2 sc0 ls0 ws0">forms</div><div class="t m0 x3e h12 y1eda ffb5 fsa fc2 sc0 ls0 ws0">arrays<span class="_ _1"></span>, <span class="fc4">226</span></div><div class="t m0 x3e h12 y1edb ffb5 fsa fc2 sc0 ls0 ws0">elements, <span class="fc4">225</span></div><div class="t m0 x3e h12 y1edc ffb5 fsa fc2 sc0 ls0 ws0">multiple item selection, <span class="fc4">227</span></div><div class="t m0 xb1 h12 y1edd ffb5 fsa fc2 sc0 ls0 ws0">GET requests<span class="_ _1"></span>, <span class="fc4">220</span></div><div class="t m0 x3e h12 y1ede ffb5 fsa fc2 sc0 ls0 ws0">receiving data<span class="_ _1"></span>, <span class="fc4">221</span></div><div class="t m0 x3e h12 y1edf ffb5 fsa fc2 sc0 ls0 ws0">sending data, <span class="fc4">221</span></div><div class="t m0 xb1 h12 y1ee0 ffb5 fsa fc2 sc0 ls0 ws0">HTTP headers, <span class="fc4">228</span></div><div class="t m0 x3e h12 y1ee1 ffb5 fsa fc2 sc0 ls0 ws0">send headers, <span class="fc4">229</span></div><div class="t m0 x3e h12 y1ee2 ffb5 fsa fc2 sc0 ls0 ws0">tracking list<span class="_ _1"></span>, <span class="fc4">230</span></div><div class="t m0 xb1 h12 y1ee3 ffb5 fsa fc2 sc0 ls0 ws0">output contr<span class="_ _1"></span>ol functions, <span class="fc4">232</span></div><div class="t m0 xb1 h12 y1ee4 ffb5 fsa fc2 sc0 ls0 ws0">POST data</div><div class="t m0 x3e h12 y1ee5 ffb5 fsa fc2 sc0 ls0 ws0">receives<span class="_ _1"></span>, <span class="fc4">219</span></div><div class="t m0 x3e h12 y1ee6 ffb5 fsa fc2 sc0 ls0 ws0">sending data, <span class="fc4">220</span></div><div class="t m0 xb1 h12 y1ee7 ffb5 fsa fc2 sc0 ls0 ws0">PUT request</div><div class="t m0 x3e h12 y1ee8 ffb5 fsa fc2 sc0 ls0 ws0">P<span class="_ _2"></span>A<span class="_ _1"></span>TCH, <span class="fc4">222</span></div><div class="t m0 x3e h12 y1ee9 ffb5 fsa fc2 sc0 ls0 ws0">receiving data<span class="_ _1"></span>, <span class="fc4">222</span></div><div class="t m0 x3e h12 y1eea ffb5 fsa fc2 sc0 ls0 ws0">sending data, <span class="fc4">222</span></div><div class="t m0 xb1 h12 y1eeb ffb5 fsa fc2 sc0 ls0 ws0">request types<span class="_ _1"></span>, <span class="fc4">217</span></div><div class="t m0 xb1 h12 y1eec ffb5 fsa fc2 sc0 ls0 ws0">sessions</div><div class="t m0 x3e h12 y1eed ffb5 fsa fc2 sc0 ls0 ws0">end command, <span class="fc4">223</span></div><div class="t m0 x3e h12 y1eee ffb5 fsa fc2 sc0 ls0 ws0">handlers, <span class="fc4">224</span></div><div class="t m0 x3e h12 y1eef ffb5 fsa fc2 sc0 ls0 ws0">identier and variables<span class="_ _1"></span>, <span class="fc4">223</span></div><div class="t m0 x3e h12 y1ef0 ffb5 fsa fc2 sc0 ls0 ws0">server<span class="_ _2"></span>, <span class="fc4">222</span></div><div class="t m0 x3e h12 y1ef1 ffb5 fsa fc2 sc0 ls0 ws0">session_start() function, <span class="fc4">223</span></div><div class="t m0 xb1 h12 y1ef2 ffb5 fsa fc2 sc0 ls0 ws0">status codes, <span class="fc4">231</span></div><div class="t m0 xb4 h12 y1ef3 ffb5 fsa fc2 sc0 ls0 ws0">W<span class="_ _1"></span>eb Service D<span class="_ _0"></span>escription Language </div><div class="t m0 xb2 h12 y1ef4 ffb5 fsa fc2 sc0 ls0 ws0">(WSDL), <span class="fc4">184</span></div><div class="t m0 x91 h1c y1ef5 ffb8 fse fc5 sc0 ls5a ws136"><span class="_ _e7"></span><span class="ls0 ws0"><span class="_ _e8"> </span><span class="ffb9 fc2">Z</span></span></div><div class="t m0 x7a h12 y1ef6 ffb5 fsa fc2 sc0 ls0 ws0">zval Containers<span class="_ _1"></span>, <span class="fc4">31</span></div><a class="l" href="#pf69" data-dest-detail='[105,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:115.253000px;bottom:589.325000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:168.865000px;bottom:579.074000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf101" data-dest-detail='[257,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:137.861000px;bottom:568.823000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfff" data-dest-detail='[255,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:164.420000px;bottom:558.572000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf100" data-dest-detail='[256,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.796000px;bottom:548.321000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf101" data-dest-detail='[257,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:112.247000px;bottom:538.070000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf100" data-dest-detail='[256,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:129.096000px;bottom:527.819000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf103" data-dest-detail='[259,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:96.543000px;bottom:507.317000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf102" data-dest-detail='[258,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:94.004900px;bottom:497.066000px;width:13.500100px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf102" data-dest-detail='[258,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:77.462800px;bottom:486.815000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf100" data-dest-detail='[256,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:186.460000px;bottom:466.313000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf103" data-dest-detail='[259,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:148.058000px;bottom:456.062000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf104" data-dest-detail='[260,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:105.938000px;bottom:445.811000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf101" data-dest-detail='[257,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:132.750000px;bottom:435.560000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf23" data-dest-detail='[35,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:93.608000px;bottom:425.309000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:107.774000px;bottom:384.075000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:87.938100px;bottom:373.824000px;width:13.499900px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10a" data-dest-detail='[266,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:92.663000px;bottom:363.573000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3d" data-dest-detail='[61,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.174000px;bottom:353.322000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfcb" data-dest-detail='[203,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:178.297000px;bottom:312.075000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf43" data-dest-detail='[67,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.579000px;bottom:270.825000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff7" data-dest-detail='[247,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:145.781000px;bottom:219.324000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff5" data-dest-detail='[245,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:103.067000px;bottom:198.822000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff4" data-dest-detail='[244,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:151.028000px;bottom:188.571000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:284.121000px;bottom:579.072000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfec" data-dest-detail='[236,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:309.707000px;bottom:568.821000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfeb" data-dest-detail='[235,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:333.639000px;bottom:558.570000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:345.518000px;bottom:538.068000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:295.172000px;bottom:527.817000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff2" data-dest-detail='[242,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:311.669000px;bottom:517.566000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff3" data-dest-detail='[243,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:277.136000px;bottom:497.064000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff2" data-dest-detail='[242,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:288.882000px;bottom:486.813000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff4" data-dest-detail='[244,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.233000px;bottom:476.562000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfed" data-dest-detail='[237,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:289.871000px;bottom:466.311000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfee" data-dest-detail='[238,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:307.511000px;bottom:456.060000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfee" data-dest-detail='[238,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.038000px;bottom:445.809000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff5" data-dest-detail='[245,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:293.903000px;bottom:435.558000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff6" data-dest-detail='[246,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.703000px;bottom:425.307000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff7" data-dest-detail='[247,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:298.260000px;bottom:415.056000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff9" data-dest-detail='[249,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:332.107000px;bottom:404.805000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfec" data-dest-detail='[236,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:284.795000px;bottom:384.303000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfed" data-dest-detail='[237,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.038000px;bottom:374.052000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:281.493000px;bottom:353.550000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:307.511000px;bottom:343.299000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:303.038000px;bottom:333.048000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfea" data-dest-detail='[234,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:289.565000px;bottom:322.797000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:310.023000px;bottom:302.295000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff1" data-dest-detail='[241,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:287.550000px;bottom:292.044000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.142000px;bottom:281.793000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfef" data-dest-detail='[239,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:276.759000px;bottom:271.542000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff0" data-dest-detail='[240,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:344.239000px;bottom:261.291000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff8" data-dest-detail='[248,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:285.426000px;bottom:251.040000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc9" data-dest-detail='[201,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:289.323000px;bottom:230.538000px;width:13.500000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",0,666,null]'><div class="d m1" style="border-style:none;position:absolute;left:283.152000px;bottom:189.325000px;width:9.000000px;height:10.044000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
</div>
<div class="loading-indicator">

</div>
</body>
</html>
